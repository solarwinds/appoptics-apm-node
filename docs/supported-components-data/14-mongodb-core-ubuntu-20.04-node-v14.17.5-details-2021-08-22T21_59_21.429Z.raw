npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.0
updated 2 packages and audited 939 packages in 5.133s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T21:59:28.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T21:59:28.179Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T21:59:28.180Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T21:59:28.180Z appoptics:debug using context provider: ace-context
2021-08-22T21:59:28.243Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T21:59:28.290Z appoptics:patching patched crypto 
2021-08-22T21:59:28.316Z appoptics:patching patched https 
2021-08-22T21:59:28.317Z appoptics:patching patched http 
2021-08-22T21:59:28.362Z appoptics:patching fs.realpath - adding native method
2021-08-22T21:59:28.363Z appoptics:patching patched fs 
2021-08-22T21:59:28.377Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v14.17.5)
2021-08-22T21:59:28.383Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-08-22T21:59:28.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-d48b63f1c8f13f9e5b7a4b5a9a2094ed05570308-5fcdbf5dc512e41e-01 outer:exit 2b-d48b63f1c8f13f9e5b7a4b5a9a2094ed05570308-1988a1ae4c40af89-01
2021-08-22T21:59:28.534Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T21:59:28.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-6786a1766e364ee199dd4714d9e6f966b3d22de1-ea87d8eb604e92ed-01 outer:exit 2b-6786a1766e364ee199dd4714d9e6f966b3d22de1-0ba1f6de4c5cb88b-01
2021-08-22T21:59:28.601Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T21:59:28.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef7e0f1ad4a6385f003c2bbee2bf0a1cf0aef7b4-4f87dc145432abe6-01 outer:exit 2b-ef7e0f1ad4a6385f003c2bbee2bf0a1cf0aef7b4-13e70ad29834df74-01
2021-08-22T21:59:28.604Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T21:59:28.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd32c370858708caf95c27f146491a32f2a9fff6-bbc0e5e135e5b5cd-01 outer:exit 2b-bd32c370858708caf95c27f146491a32f2a9fff6-8b3d4d9b5f4f8e4c-01
2021-08-22T21:59:28.607Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T21:59:28.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-d348554ea77fafcc1357207587a2d4f7fe4faed9-6ec8c1ee05722b1a-01 outer:exit 2b-d348554ea77fafcc1357207587a2d4f7fe4faed9-e701e521fcde9827-01
2021-08-22T21:59:28.614Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T21:59:28.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-12615764777679894f4f26175c9ffc9388691f2a-cc6a592ebb94b88a-01 outer:exit 2b-12615764777679894f4f26175c9ffc9388691f2a-8fa0c9a74dd60289-01
2021-08-22T21:59:28.618Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T21:59:28.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bf50a10e21e01beee84614cb47ad45a913b2e60-b4f6290a9b263f8b-01 outer:exit 2b-6bf50a10e21e01beee84614cb47ad45a913b2e60-0995c8fb7ceb2f50-01
2021-08-22T21:59:28.620Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T21:59:28.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dc87933d6a272ad7de5b7880e1d09c55c00193d-6e017d07c71a657e-01 outer:exit 2b-2dc87933d6a272ad7de5b7880e1d09c55c00193d-88f022574af3d3a3-01
2021-08-22T21:59:28.627Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T21:59:28.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-8899695b6ea81012697ba368c1adf8b4ce987a3f-069f3a6313c1a885-01 outer:exit 2b-8899695b6ea81012697ba368c1adf8b4ce987a3f-ecf0464abac6982b-01
2021-08-22T21:59:28.630Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T21:59:28.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-33efd25df7bd84633df178fcab318e3e77c174e1-75b12a050752c3aa-01 outer:exit 2b-33efd25df7bd84633df178fcab318e3e77c174e1-7f333657d14da871-01
2021-08-22T21:59:28.633Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T21:59:28.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-6541365aece77e2ee0ed7531d04cd3bac8d1d289-174299c2cff1a0ff-01 outer:exit 2b-6541365aece77e2ee0ed7531d04cd3bac8d1d289-65504099635dfbb1-01
2021-08-22T21:59:28.637Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T21:59:28.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-d70aa170a2e8a5202747242f34f55c6729f48a83-db2a749544509f3f-01 outer:exit 2b-d70aa170a2e8a5202747242f34f55c6729f48a83-d54de5dc06c6dff7-01
2021-08-22T21:59:28.676Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T21:59:28.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-e202331cf378dc97155e61d1a0751b12f8a15af8-a3c340834c8019d3-01 outer:exit 2b-e202331cf378dc97155e61d1a0751b12f8a15af8-701388d4b628c0dd-01
2021-08-22T21:59:28.687Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T21:59:28.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-497d0a3742476dbbc450533baff6cc26f3d58606-cb7932d1a449a483-01 outer:exit 2b-497d0a3742476dbbc450533baff6cc26f3d58606-a5c8960f4c016f76-01
2021-08-22T21:59:28.750Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T21:59:28.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-b98c5f2e7ca4ae09ca9e4557ad7bbfac101056ed-c4a38e8b7f406de7-01 outer:exit 2b-b98c5f2e7ca4ae09ca9e4557ad7bbfac101056ed-c6b6072715db96c8-01
2021-08-22T21:59:28.754Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T21:59:28.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-d59cf678dd7fa2b56b0b29fd2f468f83d46027f1-9b65ac169dd84574-01 outer:exit 2b-d59cf678dd7fa2b56b0b29fd2f468f83d46027f1-d2417176167a1150-01
2021-08-22T21:59:28.756Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T21:59:28.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eade4b34497cc0b75e3b970e811483c3aa65636-06a32ac4aa164db2-01 outer:exit 2b-6eade4b34497cc0b75e3b970e811483c3aa65636-50c9a5ad9ed24cee-01
2021-08-22T21:59:28.759Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T21:59:28.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-b50e656998892fec2eb9c0efd86e78eb3598ef14-f66076eb34bbd597-01 outer:exit 2b-b50e656998892fec2eb9c0efd86e78eb3598ef14-0f0cfebf30d8ddd6-01
2021-08-22T21:59:28.762Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T21:59:28.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-1531e1e5ea68100687ecf62fe2602cef70b26d40-4e65a68e7ebb5cd5-01 outer:exit 2b-1531e1e5ea68100687ecf62fe2602cef70b26d40-7f626b1546821b7c-01
2021-08-22T21:59:28.764Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T21:59:28.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-44fd6b9c0a3a4172bb78ee0748a38bd82b0553f0-ea6d2cdd696d0997-01 outer:exit 2b-44fd6b9c0a3a4172bb78ee0748a38bd82b0553f0-46d5df1594b6d8dd-01
2021-08-22T21:59:28.767Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T21:59:28.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5634676d999ac2f49718e48ea96c293ccb7a5b4-38e57fd6f22b7fd4-01 outer:exit 2b-c5634676d999ac2f49718e48ea96c293ccb7a5b4-e18399e7c6739658-01
2021-08-22T21:59:28.769Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T21:59:28.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2d6c549435f013e5cb9c3d7d415a1150388f658-64925ea245052623-01 outer:exit 2b-c2d6c549435f013e5cb9c3d7d415a1150388f658-22cc5848a1de4766-01
2021-08-22T21:59:28.771Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T21:59:28.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a8b4486caa147079e3bb4fa151848a281b3d13-deabfe575cba72d6-01 outer:exit 2b-44a8b4486caa147079e3bb4fa151848a281b3d13-53a975111ef2c8fd-01
2021-08-22T21:59:28.775Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T21:59:28.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-83d0654a3208c92132b587b35f69c5f708a86fc0-a45464146860e27b-01 outer:exit 2b-83d0654a3208c92132b587b35f69c5f708a86fc0-58639bad771927c6-01
2021-08-22T21:59:28.777Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T21:59:28.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-e26d774b2e277b4cae3ca580eee12de0dbda9ae6-2b45f93332b639e0-01 outer:exit 2b-e26d774b2e277b4cae3ca580eee12de0dbda9ae6-d8f166fbe7f1b10c-01
2021-08-22T21:59:28.779Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T21:59:28.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffdb23141b9b0866bd3edacb20e06e5d20a529e4-cb62abffd539cd6a-01 outer:exit 2b-ffdb23141b9b0866bd3edacb20e06e5d20a529e4-1a4c82db15157db6-01
2021-08-22T21:59:28.782Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T21:59:28.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1217e322dde5d8d71b622f1d690183c839f4450-60803d8cb5ea32d9-01 outer:exit 2b-e1217e322dde5d8d71b622f1d690183c839f4450-79a8a9aa696cbe58-01
2021-08-22T21:59:28.819Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T21:59:28.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-b41a7699007d46b83124ee4fcd8079e034772a41-bbe8f6e54ac65ca2-01 outer:exit 2b-b41a7699007d46b83124ee4fcd8079e034772a41-a75431f76fce2929-01
2021-08-22T21:59:28.836Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T21:59:28.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd61d15ab9ad8ebf6e23a8769e5447b48dac2919-6848d47d9691bf7c-01 outer:exit 2b-dd61d15ab9ad8ebf6e23a8769e5447b48dac2919-8aa4777c944aa41b-01
2021-08-22T21:59:28.846Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T21:59:28.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f930196f5954262fe80220b5cb834704bf45680-f97130ef49c16666-01 outer:exit 2b-5f930196f5954262fe80220b5cb834704bf45680-583e85c88b157081-01
2021-08-22T21:59:28.855Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T21:59:28.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba8c6570ac0795928554da1a855f312dd66965c0-fe362f1802efa5bb-01 outer:exit 2b-ba8c6570ac0795928554da1a855f312dd66965c0-3c83986ffa5a0bda-01
2021-08-22T21:59:28.858Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T21:59:28.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fa9737530f2c7a058ebe08e354c860c97f70563-46186498fa5ef3b3-01 outer:exit 2b-6fa9737530f2c7a058ebe08e354c860c97f70563-a05ec7f721c2cfaa-01
2021-08-22T21:59:28.861Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T21:59:28.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8f1811302397cc544e969e35461c0a0599692cb-96ecaa8a0ae76e15-01 outer:exit 2b-a8f1811302397cc544e969e35461c0a0599692cb-b4913775b920a5bb-01
2021-08-22T21:59:28.868Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T21:59:28.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb6f40d9e54ee77940669e477ae82a4bba5a8b03-994a45712358a7e4-01 outer:exit 2b-bb6f40d9e54ee77940669e477ae82a4bba5a8b03-52a46e326e919e18-01
2021-08-22T21:59:28.872Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T21:59:28.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b20bf1d76012fff3b6956a59d9cf3ab85b6e49-524cf7aa97525fea-01 outer:exit 2b-a2b20bf1d76012fff3b6956a59d9cf3ab85b6e49-5a26329343b15694-01
2021-08-22T21:59:28.879Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T21:59:28.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-8473c2b5e980fbd8da3a2863b08a3d503c724a99-ca4c8c4e5db4104f-01 outer:exit 2b-8473c2b5e980fbd8da3a2863b08a3d503c724a99-f10597a73740a559-01
2021-08-22T21:59:28.883Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T21:59:28.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-733b3e5ebc57f5d6698d6c60ce910411fc7d0f92-2f9fe37ea84e9efc-01 outer:exit 2b-733b3e5ebc57f5d6698d6c60ce910411fc7d0f92-f6572e8de7bf733e-01
2021-08-22T21:59:28.886Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T21:59:28.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fc6375f0b48a30e6eb1a33835891ddc27a70cd5-53e742cbade635fb-01 outer:exit 2b-4fc6375f0b48a30e6eb1a33835891ddc27a70cd5-fe1672094dd795eb-01
2021-08-22T21:59:28.889Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T21:59:28.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-95c8d5416f0c789418d755259b52c5d592e9a2ce-35f3ba1dbd13b94a-01 outer:exit 2b-95c8d5416f0c789418d755259b52c5d592e9a2ce-a572f71491ef4e1b-01
2021-08-22T21:59:28.902Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T21:59:28.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e9932dd023dfbe40b8b6567b192f91100997eb7-89068d5e169953b3-01 outer:exit 2b-0e9932dd023dfbe40b8b6567b192f91100997eb7-6731aa0052f0a449-01
2021-08-22T21:59:28.910Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T21:59:28.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe7363abfbd4545fcfeab863308294815112743b-ee2e2008828e6c59-01 outer:exit 2b-fe7363abfbd4545fcfeab863308294815112743b-b12d59e66cf48464-01
2021-08-22T21:59:28.914Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T21:59:28.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6f5dd45196d2cc6736a5f10f141b66d89b4e46d-fc01d2956d2bd643-01 outer:exit 2b-b6f5dd45196d2cc6736a5f10f141b66d89b4e46d-d5690098aa964411-01
2021-08-22T21:59:28.917Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T21:59:28.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-08638e48b6c818e9a91d0bc94d60b438657f08ba-822d964f1368c728-01 outer:exit 2b-08638e48b6c818e9a91d0bc94d60b438657f08ba-907737f6d220339a-01
2021-08-22T21:59:28.957Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T21:59:28.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b70fba89ce3e6dd3dddc2e92f3237af74066c00-66404b56a5189099-01 outer:exit 2b-4b70fba89ce3e6dd3dddc2e92f3237af74066c00-8daf5f12aa1267d4-01
2021-08-22T21:59:28.997Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (500ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.1
updated 1 package and audited 939 packages in 5.01s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T21:59:34.959Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T21:59:34.960Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T21:59:34.960Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T21:59:34.961Z appoptics:debug using context provider: ace-context
2021-08-22T21:59:35.023Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T21:59:35.075Z appoptics:patching patched crypto 
2021-08-22T21:59:35.099Z appoptics:patching patched https 
2021-08-22T21:59:35.100Z appoptics:patching patched http 
2021-08-22T21:59:35.144Z appoptics:patching fs.realpath - adding native method
2021-08-22T21:59:35.145Z appoptics:patching patched fs 
2021-08-22T21:59:35.159Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v14.17.5)
2021-08-22T21:59:35.166Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-08-22T21:59:35.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3701c3df9e6517b84fa39ffe0ac2276e0cce399-6fe7bd3e0e2b2ae9-01 outer:exit 2b-b3701c3df9e6517b84fa39ffe0ac2276e0cce399-92d41bdf309b8eef-01
2021-08-22T21:59:35.326Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T21:59:35.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba81fb61098891e89b4f466ac9d97402640c9832-ebd7538f61f07b41-01 outer:exit 2b-ba81fb61098891e89b4f466ac9d97402640c9832-2ab361d7e2b662a8-01
2021-08-22T21:59:35.436Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T21:59:35.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0b410b00f13aad8a8f014da84ac95bb1bd07969-eb781045701cd466-01 outer:exit 2b-e0b410b00f13aad8a8f014da84ac95bb1bd07969-e377a5bfb88c7e95-01
2021-08-22T21:59:35.440Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T21:59:35.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-c18388b545b2e13382030023f171cf478f00a1bf-8ec3cba680fca297-01 outer:exit 2b-c18388b545b2e13382030023f171cf478f00a1bf-f0506b92278c453f-01
2021-08-22T21:59:35.443Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T21:59:35.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-16bbc916784a46e3c448ed84b4dfe3ea29758e6f-531ab6be02ba4194-01 outer:exit 2b-16bbc916784a46e3c448ed84b4dfe3ea29758e6f-d59d9225b0c3a056-01
2021-08-22T21:59:35.447Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T21:59:35.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-0087147902c50d978922a405c52db2b3d78c2257-787c56ba65bda888-01 outer:exit 2b-0087147902c50d978922a405c52db2b3d78c2257-a9c1b09cb0cf361d-01
2021-08-22T21:59:35.450Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T21:59:35.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-74612e0833bb2a933480cb30b5a21f3202b530c6-37d6fd62159385ae-01 outer:exit 2b-74612e0833bb2a933480cb30b5a21f3202b530c6-6050df6ba461937a-01
2021-08-22T21:59:35.453Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T21:59:35.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-b12713b78fb1fcd1ada6110cd6b436b2e56ad658-f120eeb2d6847069-01 outer:exit 2b-b12713b78fb1fcd1ada6110cd6b436b2e56ad658-c282fec35962f18b-01
2021-08-22T21:59:35.455Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T21:59:35.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-1545bbc09f1c0f735fdefadd9ffdc8ef85fe2b0e-c67f0ae9430b751b-01 outer:exit 2b-1545bbc09f1c0f735fdefadd9ffdc8ef85fe2b0e-f5ba5a97842d9b83-01
2021-08-22T21:59:35.458Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T21:59:35.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-76d28afe179d81027c769f49cec383bc9a7a83fd-84c757e283b9f245-01 outer:exit 2b-76d28afe179d81027c769f49cec383bc9a7a83fd-1a1653dc7f7ae18e-01
2021-08-22T21:59:35.460Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T21:59:35.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd7b9c9018d550edecc3b1b49f99488c7c5ba258-a607b97a4ce64043-01 outer:exit 2b-dd7b9c9018d550edecc3b1b49f99488c7c5ba258-573d08221c54dd31-01
2021-08-22T21:59:35.464Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T21:59:35.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbec702c36115e86cb415153d5c4c0fa76a3bca6-32360f9e631f6937-01 outer:exit 2b-cbec702c36115e86cb415153d5c4c0fa76a3bca6-4aa1e35ce0681cf9-01
2021-08-22T21:59:35.470Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T21:59:35.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-59ba45d3527b6928f0e82a4910bb906fb396031c-f3c0af71acca0336-01 outer:exit 2b-59ba45d3527b6928f0e82a4910bb906fb396031c-3abf1c00d3e2b0f3-01
2021-08-22T21:59:35.487Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T21:59:35.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9bdd7170abcc8444b30a98887b7a71b00cc13f7-9ab45eba21cfae77-01 outer:exit 2b-d9bdd7170abcc8444b30a98887b7a71b00cc13f7-1a8823499cd07e9f-01
2021-08-22T21:59:35.551Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T21:59:35.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-40680b9c5dca9e710a2f1530c5ac220afb0b8d30-cb36653684c873f9-01 outer:exit 2b-40680b9c5dca9e710a2f1530c5ac220afb0b8d30-7da0452ff98e953e-01
2021-08-22T21:59:35.554Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T21:59:35.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-1527865d9a136f30c0e5577cfbca30344713b60e-c66657f910c08473-01 outer:exit 2b-1527865d9a136f30c0e5577cfbca30344713b60e-0ddae9846beb8c9b-01
2021-08-22T21:59:35.557Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T21:59:35.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-73be1624a6b7f152b27494e80ae8111d08b7a41d-f982fead69eccb52-01 outer:exit 2b-73be1624a6b7f152b27494e80ae8111d08b7a41d-80d7984e4f65bd19-01
2021-08-22T21:59:35.559Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T21:59:35.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa5ecde6f361f5064ede45b5890cfed2787d8dfb-aa61db45f7329cb3-01 outer:exit 2b-aa5ecde6f361f5064ede45b5890cfed2787d8dfb-c1f8a38a3150cb3c-01
2021-08-22T21:59:35.561Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T21:59:35.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f1549c2dd333e498866cf2a5f206e8993555106-84d3a2dd71154528-01 outer:exit 2b-3f1549c2dd333e498866cf2a5f206e8993555106-d04f5fe0652e2b53-01
2021-08-22T21:59:35.567Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T21:59:35.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-19743150579c664e85d8464cded18c7a82714fbb-569205caceeed45c-01 outer:exit 2b-19743150579c664e85d8464cded18c7a82714fbb-c482d140dd1a0442-01
2021-08-22T21:59:35.570Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T21:59:35.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca5fa7763456a8e367193b8335b015464da4a1f3-8a978b83990f60d5-01 outer:exit 2b-ca5fa7763456a8e367193b8335b015464da4a1f3-8387fecaf8f92164-01
2021-08-22T21:59:35.572Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T21:59:35.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ab2a45ccd5979143e81d114e27a9d7ecd82489e-641369e3bf104fbc-01 outer:exit 2b-8ab2a45ccd5979143e81d114e27a9d7ecd82489e-b40db4fca633b1d3-01
2021-08-22T21:59:35.575Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T21:59:35.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-12e89911e50e4ed70b07da951ab514576c6dc62f-a0b3dc239667270e-01 outer:exit 2b-12e89911e50e4ed70b07da951ab514576c6dc62f-a7a775b85856671d-01
2021-08-22T21:59:35.578Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T21:59:35.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-f753a32f71b16daab33391d3109c05ba33c1092e-794af7d8d6f1665d-01 outer:exit 2b-f753a32f71b16daab33391d3109c05ba33c1092e-a5c8a5673ceaa026-01
2021-08-22T21:59:35.581Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T21:59:35.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-3057f677a40f579792a54711663c27e721faee4d-a66fba8181a95e93-01 outer:exit 2b-3057f677a40f579792a54711663c27e721faee4d-8a509c1aef30eb51-01
2021-08-22T21:59:35.585Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T21:59:35.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-b508ffca7014775080a686a470548082a15dd2d5-7da7e390393253f0-01 outer:exit 2b-b508ffca7014775080a686a470548082a15dd2d5-ebf7bf630170ef78-01
2021-08-22T21:59:35.588Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T21:59:35.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c039bd0dc4043823c282791e3b93dc3393237c-7feb1c7f9c11e7bb-01 outer:exit 2b-a7c039bd0dc4043823c282791e3b93dc3393237c-28ead75f60e98330-01
2021-08-22T21:59:35.594Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T21:59:35.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-6930bfc5ad2e8a7555360d9676f46bfdfcd6d380-7f8845cd64e19fb9-01 outer:exit 2b-6930bfc5ad2e8a7555360d9676f46bfdfcd6d380-d114ac75b37353ec-01
2021-08-22T21:59:35.599Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T21:59:35.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-f75ea098c5b9d01f02c011133ab753ce59c67a9b-d124841655cf9d8e-01 outer:exit 2b-f75ea098c5b9d01f02c011133ab753ce59c67a9b-3d376146b48a96e3-01
2021-08-22T21:59:35.609Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T21:59:35.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-49b12fbb74ed1431b4438cc154eea627015b8fc8-b7f21229271bfc69-01 outer:exit 2b-49b12fbb74ed1431b4438cc154eea627015b8fc8-b798fbd67d3274e9-01
2021-08-22T21:59:35.615Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T21:59:35.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-adce92d52c557a4bf036beccd68af3ad6527083d-3df993f5a621b52d-01 outer:exit 2b-adce92d52c557a4bf036beccd68af3ad6527083d-a6cfe8442d0ab716-01
2021-08-22T21:59:35.618Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T21:59:35.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf4a313875b3f3d7c9cf50d40ddaacd3d6aff7ee-41fdab88440c456a-01 outer:exit 2b-bf4a313875b3f3d7c9cf50d40ddaacd3d6aff7ee-70c7d07985ea4120-01
2021-08-22T21:59:35.621Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T21:59:35.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-dafc03fa84c8eb52c49c11217132336458fbddf9-8b1095d6912a4f1c-01 outer:exit 2b-dafc03fa84c8eb52c49c11217132336458fbddf9-7fc9788fa3299560-01
2021-08-22T21:59:35.627Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T21:59:35.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72e53c46919b46ae73027b62e8cb81263e686ab-fe989e3697d02df7-01 outer:exit 2b-a72e53c46919b46ae73027b62e8cb81263e686ab-cdbc8a37134102cc-01
2021-08-22T21:59:35.630Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T21:59:35.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-85b39c4deb274361a43178ee90b5133497bbd60b-bdefc31b4c5ced12-01 outer:exit 2b-85b39c4deb274361a43178ee90b5133497bbd60b-99c96beeffe6803b-01
2021-08-22T21:59:35.632Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T21:59:35.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa147a372c84cb3741416b4302a8f6cf3466241a-e160485607046e09-01 outer:exit 2b-aa147a372c84cb3741416b4302a8f6cf3466241a-9edd04bbf38501b6-01
2021-08-22T21:59:35.638Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T21:59:35.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-21f4d8ebd44c3558465bcfc536b90aeb5e8ef81a-90daa4af6911199d-01 outer:exit 2b-21f4d8ebd44c3558465bcfc536b90aeb5e8ef81a-8f8cc557da4e59cf-01
2021-08-22T21:59:35.642Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T21:59:35.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7a1c4e98ddac9c8ee7a3f77959b98ca059eb432-391578cc1b83d42b-01 outer:exit 2b-e7a1c4e98ddac9c8ee7a3f77959b98ca059eb432-db564b523de8d329-01
2021-08-22T21:59:35.647Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T21:59:35.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-960cd12c80bfa06f7629c81477d4cb4490ede97f-7f3d8767890d97c1-01 outer:exit 2b-960cd12c80bfa06f7629c81477d4cb4490ede97f-43e2e79db2cc39d0-01
2021-08-22T21:59:35.659Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T21:59:35.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e7dca7e7b56c7ca6e7ca3b1647fdfeccd3d7266-4f69ee4012395df5-01 outer:exit 2b-5e7dca7e7b56c7ca6e7ca3b1647fdfeccd3d7266-8ba406e48c092698-01
2021-08-22T21:59:35.669Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T21:59:35.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-898d968325802ceb10be0e475af920f927c8b720-dfe3ba18ab7b20db-01 outer:exit 2b-898d968325802ceb10be0e475af920f927c8b720-79066a747dfbbdd8-01
2021-08-22T21:59:35.672Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T21:59:35.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-03894d1be19ab3b2440708db42206af28cd9e852-359c0b175f7abff7-01 outer:exit 2b-03894d1be19ab3b2440708db42206af28cd9e852-29150ac667a66708-01
2021-08-22T21:59:35.675Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T21:59:35.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf508892e9d2dbd8bc68dd63e18c64d2d80b9e1c-e4af60daa388fac4-01 outer:exit 2b-cf508892e9d2dbd8bc68dd63e18c64d2d80b9e1c-6eafa64e79db1fec-01
2021-08-22T21:59:35.678Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T21:59:35.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe983845fc3866cc19b831f2aa8da6f08aa465a1-ef7daa55b9f6917f-01 outer:exit 2b-fe983845fc3866cc19b831f2aa8da6f08aa465a1-32c8183411962a38-01
2021-08-22T21:59:35.707Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (421ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.2
updated 1 package and audited 939 packages in 4.93s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T21:59:41.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T21:59:41.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T21:59:41.608Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T21:59:41.608Z appoptics:debug using context provider: ace-context
2021-08-22T21:59:41.667Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T21:59:41.709Z appoptics:patching patched crypto 
2021-08-22T21:59:41.731Z appoptics:patching patched https 
2021-08-22T21:59:41.731Z appoptics:patching patched http 
2021-08-22T21:59:41.778Z appoptics:patching fs.realpath - adding native method
2021-08-22T21:59:41.778Z appoptics:patching patched fs 
2021-08-22T21:59:41.794Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v14.17.5)
2021-08-22T21:59:41.802Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-08-22T21:59:41.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0e77ee682af4bba8edc1c40ad818769834bf642-58f5e964717056e7-01 outer:exit 2b-c0e77ee682af4bba8edc1c40ad818769834bf642-d2f3de16aff14123-01
2021-08-22T21:59:41.967Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T21:59:42.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-e86cc9a5a2ab155b23651b58a7bc717947a170a1-5846296d934bb7e4-01 outer:exit 2b-e86cc9a5a2ab155b23651b58a7bc717947a170a1-2fb8fa0abaa9bcfa-01
2021-08-22T21:59:42.059Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T21:59:42.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7a95d6289b10456da4e3544ef90b7cba69b248f-108dcd2baec89eed-01 outer:exit 2b-f7a95d6289b10456da4e3544ef90b7cba69b248f-a09c6d391c344cf6-01
2021-08-22T21:59:42.063Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T21:59:42.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-390eb993d55ac5e8206ea0171ad0b06ef691d163-66835654282080b7-01 outer:exit 2b-390eb993d55ac5e8206ea0171ad0b06ef691d163-00d9eebd6b811329-01
2021-08-22T21:59:42.066Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T21:59:42.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0dd2e5cafed9ccc300e04a610e6047e86805b70-f206f8b8d9a01328-01 outer:exit 2b-d0dd2e5cafed9ccc300e04a610e6047e86805b70-4c41c14261847af1-01
2021-08-22T21:59:42.072Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T21:59:42.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-490369a7217dc007954d7702d9f545f3a674c758-2d9a3ed0d8245830-01 outer:exit 2b-490369a7217dc007954d7702d9f545f3a674c758-66fd1a6edbe1f39e-01
2021-08-22T21:59:42.080Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T21:59:42.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ee429398fec0143a2a94fbed0964213a5e0bf0b-7fd2535badbfadbf-01 outer:exit 2b-6ee429398fec0143a2a94fbed0964213a5e0bf0b-80824e8c20796cb3-01
2021-08-22T21:59:42.083Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T21:59:42.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6c078e79a9cad0ef6a1da979b59454886829cf7-d0dc3f333f6d94bc-01 outer:exit 2b-b6c078e79a9cad0ef6a1da979b59454886829cf7-8d5d4fde8013bf63-01
2021-08-22T21:59:42.085Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T21:59:42.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca29ac667acb6130c806b581375e22e33828ef86-c9703d8d872d4434-01 outer:exit 2b-ca29ac667acb6130c806b581375e22e33828ef86-12942d2e1d371ab3-01
2021-08-22T21:59:42.088Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T21:59:42.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-69ab482a7904d1c092e971f198c1237e088b1abf-09abe436bc714447-01 outer:exit 2b-69ab482a7904d1c092e971f198c1237e088b1abf-7cbbf33afb3f33e8-01
2021-08-22T21:59:42.091Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T21:59:42.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-7de2d4e1cee3d5fa2ea9c371b078ae8d78c64469-2dfa10be57f084a6-01 outer:exit 2b-7de2d4e1cee3d5fa2ea9c371b078ae8d78c64469-3e92b429d60ee283-01
2021-08-22T21:59:42.095Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T21:59:42.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ca5043f920b9bf114d149a949ca6cae6cc4b469-2d79c6bebf5fe648-01 outer:exit 2b-8ca5043f920b9bf114d149a949ca6cae6cc4b469-bc7359b68396088c-01
2021-08-22T21:59:42.102Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T21:59:42.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ef5073c9ca6b5c51f6edb51fe18d596d9ee4d31-ed4b7ae604871fb3-01 outer:exit 2b-6ef5073c9ca6b5c51f6edb51fe18d596d9ee4d31-54336bf715561867-01
2021-08-22T21:59:42.119Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T21:59:42.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-e343dfdc08fd234f83c0db69342aae4c58e3f69c-0cc662532664afda-01 outer:exit 2b-e343dfdc08fd234f83c0db69342aae4c58e3f69c-3d167a821ee5d17f-01
2021-08-22T21:59:42.155Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T21:59:42.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-b26036acbe302702760063636a77847c54cc8e6d-32959f3ebf24cafa-01 outer:exit 2b-b26036acbe302702760063636a77847c54cc8e6d-ba675de072e4668f-01
2021-08-22T21:59:42.158Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T21:59:42.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-18c932c88db5d9400395bbdd2b9a3c8bc4a7171f-34a6391aa880314e-01 outer:exit 2b-18c932c88db5d9400395bbdd2b9a3c8bc4a7171f-a88e3c3dfcd8cb95-01
2021-08-22T21:59:42.160Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T21:59:42.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8307d932648d25066f72aa770b7d4f3cb18bea7-8008a3a5487d3c1c-01 outer:exit 2b-e8307d932648d25066f72aa770b7d4f3cb18bea7-eba91bb80ab5e37c-01
2021-08-22T21:59:42.166Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T21:59:42.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-77e0986f69635aec091e871090bc3f7de59ff67f-7ee6e47b80193fb5-01 outer:exit 2b-77e0986f69635aec091e871090bc3f7de59ff67f-8670b4bfc9344fe7-01
2021-08-22T21:59:42.168Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T21:59:42.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac4d0c0667ffcb911cd938c3b0fa21e223a5bdf-4525f8eca7c47df3-01 outer:exit 2b-3ac4d0c0667ffcb911cd938c3b0fa21e223a5bdf-f4611289647c2784-01
2021-08-22T21:59:42.179Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T21:59:42.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-b87e46a30203cd5b6c7d8db6fe97d3a1106b55d2-05e940bc1362945c-01 outer:exit 2b-b87e46a30203cd5b6c7d8db6fe97d3a1106b55d2-6ed911ec2de8c919-01
2021-08-22T21:59:42.181Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T21:59:42.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-356b406026c900c66cbb8d8c1878c57553110d57-a9fa767e465db4a3-01 outer:exit 2b-356b406026c900c66cbb8d8c1878c57553110d57-f264f2a382c5ea60-01
2021-08-22T21:59:42.186Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T21:59:42.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f573be65ceb61167a57350d36660475dd4562b3-65165102c1404483-01 outer:exit 2b-3f573be65ceb61167a57350d36660475dd4562b3-d4fbf1e428b8b29e-01
2021-08-22T21:59:42.188Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T21:59:42.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-492ec7d04363f2accced248ea821333ca5327ee8-e52bed9fb931008b-01 outer:exit 2b-492ec7d04363f2accced248ea821333ca5327ee8-6fe0e15adf8187d1-01
2021-08-22T21:59:42.192Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T21:59:42.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-48750ef38709abf2a3cb4289397aae8f3cdf2d68-6b1e2a11cafa4449-01 outer:exit 2b-48750ef38709abf2a3cb4289397aae8f3cdf2d68-6aa838ec6778e746-01
2021-08-22T21:59:42.195Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T21:59:42.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-62dd96380ae69d5f01d56f25c9d28e66fc9f1dfc-e41a12c76d3edef5-01 outer:exit 2b-62dd96380ae69d5f01d56f25c9d28e66fc9f1dfc-73035db0fbf408fc-01
2021-08-22T21:59:42.207Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T21:59:42.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-d082f2b551e74287bfb5222010735f6a5d0256ae-de2571846989ab28-01 outer:exit 2b-d082f2b551e74287bfb5222010735f6a5d0256ae-bdc3112df81e323b-01
2021-08-22T21:59:42.211Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T21:59:42.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e550a9af9cc9430f9a3e177f5ca75f7382d618f-3b820b08bafa1165-01 outer:exit 2b-3e550a9af9cc9430f9a3e177f5ca75f7382d618f-8c283c94b9aa47c4-01
2021-08-22T21:59:42.218Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T21:59:42.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-86cf62c4a9e4357c1c8181a98d244b58a13375db-20ca9745127936c6-01 outer:exit 2b-86cf62c4a9e4357c1c8181a98d244b58a13375db-9caa352de7952c6e-01
2021-08-22T21:59:42.223Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T21:59:42.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb4d75069cf480b45be4f2f7afc4907dc7611bea-4ac8f1f9ffc4b5c0-01 outer:exit 2b-fb4d75069cf480b45be4f2f7afc4907dc7611bea-3d90002fe33067fe-01
2021-08-22T21:59:42.244Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T21:59:42.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f6f9405736c58c3ae3d2c790afbe1b1ef326dfd-4f41288b3366f74c-01 outer:exit 2b-7f6f9405736c58c3ae3d2c790afbe1b1ef326dfd-7a6cddd3b414a5e2-01
2021-08-22T21:59:42.257Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T21:59:42.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cc6bbce1268bfc1777b6e3030cb13ba571d2980-16e7d35c3c264a63-01 outer:exit 2b-4cc6bbce1268bfc1777b6e3030cb13ba571d2980-529fe6cee913a5d5-01
2021-08-22T21:59:42.259Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T21:59:42.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-d41d9468238b3d6dffaefe9fce108f6fb549a8fc-8f6e54956efc3f33-01 outer:exit 2b-d41d9468238b3d6dffaefe9fce108f6fb549a8fc-fa33fa988b7c49ec-01
2021-08-22T21:59:42.264Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T21:59:42.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-08ec52b7efe116f38898c81e53cac18d083b80a0-381968b8dc9a3e3f-01 outer:exit 2b-08ec52b7efe116f38898c81e53cac18d083b80a0-e8bc1acc877b6054-01
2021-08-22T21:59:42.275Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T21:59:42.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2c0ae863f3405e26ae133deb0c1f6fe547501d4-14e512b993c9a472-01 outer:exit 2b-b2c0ae863f3405e26ae133deb0c1f6fe547501d4-db34cc49aa0671eb-01
2021-08-22T21:59:42.277Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T21:59:42.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-a51c61c3334a1936bd93e43613ce947ca0f8211b-d0eb93f7513845d8-01 outer:exit 2b-a51c61c3334a1936bd93e43613ce947ca0f8211b-2d7b08e5ab8a87b0-01
2021-08-22T21:59:42.279Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T21:59:42.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffc1bce3dcbc62e8df713473a5db398355898f87-3869f15871ae36e8-01 outer:exit 2b-ffc1bce3dcbc62e8df713473a5db398355898f87-c262996b058a1cd4-01
2021-08-22T21:59:42.335Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T21:59:42.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-a46434aa91c3c8c3f54e579f9abd85b91f56e740-fd9dda6dae0f1eba-01 outer:exit 2b-a46434aa91c3c8c3f54e579f9abd85b91f56e740-c981962fe81d64ee-01
2021-08-22T21:59:42.337Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T21:59:42.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-fba7e8746d761d9316ef1eab9bb881141bd7ff6e-7eddbac876cd97b8-01 outer:exit 2b-fba7e8746d761d9316ef1eab9bb881141bd7ff6e-78047c9b9ddd497b-01
2021-08-22T21:59:42.339Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T21:59:42.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d028d928c5edcdfa5790122c1215d02102fbf5e-796f44a6eb1ff9d4-01 outer:exit 2b-8d028d928c5edcdfa5790122c1215d02102fbf5e-1178cea1bdc43e83-01
2021-08-22T21:59:42.444Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T21:59:42.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9caf0db681b126846b35739e728c4f5c0c2f927-e50b7a13b9674a8d-01 outer:exit 2b-b9caf0db681b126846b35739e728c4f5c0c2f927-9e551664a856031e-01
2021-08-22T21:59:42.504Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T21:59:42.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e34d912b75adfe3a247ab262ab1bf8498a3f47-c3b28a6da8ed922d-01 outer:exit 2b-23e34d912b75adfe3a247ab262ab1bf8498a3f47-9d5cb59c04e2f2a1-01
2021-08-22T21:59:42.510Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T21:59:42.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee68e22d75628b3e6cddafe9276cede5c3f578a3-60a5367f37bd5b3c-01 outer:exit 2b-ee68e22d75628b3e6cddafe9276cede5c3f578a3-80c8713f9d674138-01
2021-08-22T21:59:42.513Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T21:59:42.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-0235d6468a406b6c719932e7905324502c90ad66-43616ff89dcbe332-01 outer:exit 2b-0235d6468a406b6c719932e7905324502c90ad66-d10e22b1defe6aef-01
2021-08-22T21:59:42.517Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T21:59:42.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffb192bbe6aaaa5ceea3d3e54ddf18dd32fc321f-b3b83791a6268f6f-01 outer:exit 2b-ffb192bbe6aaaa5ceea3d3e54ddf18dd32fc321f-ad89675240c84ee1-01
2021-08-22T21:59:42.599Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (674ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.3
updated 1 package and audited 939 packages in 4.622s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T21:59:48.357Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T21:59:48.358Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T21:59:48.358Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T21:59:48.358Z appoptics:debug using context provider: ace-context
2021-08-22T21:59:48.420Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T21:59:48.463Z appoptics:patching patched crypto 
2021-08-22T21:59:48.482Z appoptics:patching patched https 
2021-08-22T21:59:48.483Z appoptics:patching patched http 
2021-08-22T21:59:48.528Z appoptics:patching fs.realpath - adding native method
2021-08-22T21:59:48.529Z appoptics:patching patched fs 
2021-08-22T21:59:48.543Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v14.17.5)
2021-08-22T21:59:48.551Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-08-22T21:59:48.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec84baa9402a31c212123408609922c6473eb65f-6edfc08a1de1ab25-01 outer:exit 2b-ec84baa9402a31c212123408609922c6473eb65f-6ea9797fa9694ef2-01
2021-08-22T21:59:48.706Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T21:59:48.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-20216171956bddace80573867615b0c38e390e91-b402e182e7cd37b7-01 outer:exit 2b-20216171956bddace80573867615b0c38e390e91-f528489b4bf65bbf-01
2021-08-22T21:59:48.757Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T21:59:48.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-69db4684afaa80f2ea5aacb76e151dc7f44fc060-0c670bd24108f8a7-01 outer:exit 2b-69db4684afaa80f2ea5aacb76e151dc7f44fc060-030b3802361be4cf-01
2021-08-22T21:59:48.760Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T21:59:48.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-c28bd8309c8f0c1cdccb1779c7c0819a5ad09b6a-ef9fe35a61b284a6-01 outer:exit 2b-c28bd8309c8f0c1cdccb1779c7c0819a5ad09b6a-5e9c241a9c325134-01
2021-08-22T21:59:48.762Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T21:59:48.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbaa0a0c9dcd0a56c3f3f27634f889b5160a7363-92dcd8520b9e4023-01 outer:exit 2b-bbaa0a0c9dcd0a56c3f3f27634f889b5160a7363-f6cdbb4a35c911b2-01
2021-08-22T21:59:48.767Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T21:59:48.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-41e3b8a71231e81e31acf4eabbfb2eabf9dc52bf-59def1f46892db27-01 outer:exit 2b-41e3b8a71231e81e31acf4eabbfb2eabf9dc52bf-f8ad38c77c523485-01
2021-08-22T21:59:48.771Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T21:59:48.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-e77222d62d8e32d78a5951cd70e77ca08f90436a-cdc28b67389d6a2e-01 outer:exit 2b-e77222d62d8e32d78a5951cd70e77ca08f90436a-3d20f59e645ec3f2-01
2021-08-22T21:59:48.774Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T21:59:48.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-54274de8e7890fd31ac4cc906ca1215159bf7f65-499717cc7580bc73-01 outer:exit 2b-54274de8e7890fd31ac4cc906ca1215159bf7f65-088082b9c5a0599d-01
2021-08-22T21:59:48.777Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T21:59:48.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d9ea5b4a20ba9e01f8d7bb9df903d6a84ddcdd1-48dbbe27197c9baf-01 outer:exit 2b-0d9ea5b4a20ba9e01f8d7bb9df903d6a84ddcdd1-735102e79bd36e61-01
2021-08-22T21:59:48.779Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T21:59:48.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cdbb5a35fa6d523ee09e61ef7d42676c1d7ed5f-88d2dc743cd86cc9-01 outer:exit 2b-2cdbb5a35fa6d523ee09e61ef7d42676c1d7ed5f-62cfe3181ad41d13-01
2021-08-22T21:59:48.781Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T21:59:48.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-2921d48b286a69acccedf6804002b65f6a32561b-6003f0acf06e8e1a-01 outer:exit 2b-2921d48b286a69acccedf6804002b65f6a32561b-32b1225146fddde4-01
2021-08-22T21:59:48.786Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T21:59:48.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9ce3c39c3f00f83ef6405d20efbebdf140731e7-bc01591be0bc2a65-01 outer:exit 2b-f9ce3c39c3f00f83ef6405d20efbebdf140731e7-498441fe4fbe8ba0-01
2021-08-22T21:59:48.791Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T21:59:48.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6785756a26f1c1dc9206d2a70c53de4775d2f1b-289e03b0c0b92cc1-01 outer:exit 2b-c6785756a26f1c1dc9206d2a70c53de4775d2f1b-067e03b9bbd0847b-01
2021-08-22T21:59:48.807Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T21:59:48.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca5de760dee23e2b8c37a00f72b7b896037dd813-d95e88b52159a441-01 outer:exit 2b-ca5de760dee23e2b8c37a00f72b7b896037dd813-77500f08a5697bc4-01
2021-08-22T21:59:48.854Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T21:59:48.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e34b15c419a4bf5c2aa5a071f90a2618f420725-225c93d78412349c-01 outer:exit 2b-5e34b15c419a4bf5c2aa5a071f90a2618f420725-2aaebf4434c139f9-01
2021-08-22T21:59:48.857Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T21:59:48.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-d88ecbd938a353bd854a6cf6f4d294b6ddb41685-49c53f309fb4d0e7-01 outer:exit 2b-d88ecbd938a353bd854a6cf6f4d294b6ddb41685-9f6ae1bbc589a1ec-01
2021-08-22T21:59:48.859Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T21:59:48.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5f93db6a377a1786f5d9665d6a77507fc442c97-2ebf61824cc268ab-01 outer:exit 2b-e5f93db6a377a1786f5d9665d6a77507fc442c97-6c4e1cdd897d888d-01
2021-08-22T21:59:48.862Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T21:59:48.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d3fa5df6b486d9265fd98c69c6622c7482fd4a8-0015151e845e3096-01 outer:exit 2b-3d3fa5df6b486d9265fd98c69c6622c7482fd4a8-4e2d91eb6cfaaf22-01
2021-08-22T21:59:48.864Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T21:59:48.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-59b3992a05fce4d827bceddf069a6a9394e07f3f-80629fb0412312c7-01 outer:exit 2b-59b3992a05fce4d827bceddf069a6a9394e07f3f-af9a87e1e8df9743-01
2021-08-22T21:59:48.866Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T21:59:48.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-af3c762e7702b058da08655bdfd1cf936dbc9f84-23b7df92002f05dc-01 outer:exit 2b-af3c762e7702b058da08655bdfd1cf936dbc9f84-51d41932e892558d-01
2021-08-22T21:59:48.869Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T21:59:48.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b676d0b60362ccddbf465b2786b65bd5c0c71f5-40c3a9a155506f3f-01 outer:exit 2b-8b676d0b60362ccddbf465b2786b65bd5c0c71f5-84941e7969141bd1-01
2021-08-22T21:59:48.871Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T21:59:48.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-70878b56805de4d02bed83d260af1e7f323974ec-82e62c8d374b717e-01 outer:exit 2b-70878b56805de4d02bed83d260af1e7f323974ec-97f07abc07c69c8b-01
2021-08-22T21:59:48.873Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T21:59:48.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-40fa82498f10af2a615308b07b5e0e9281e93619-77167ce048013e3a-01 outer:exit 2b-40fa82498f10af2a615308b07b5e0e9281e93619-620d1a8937040755-01
2021-08-22T21:59:48.876Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T21:59:48.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0ac16115759b238fd964fc2b813ff5d1dd2736d-f85911db51a5f6f5-01 outer:exit 2b-c0ac16115759b238fd964fc2b813ff5d1dd2736d-0f17e49897290df1-01
2021-08-22T21:59:48.880Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T21:59:48.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-a738cd45b2241e449d36a5d033b26b5448bc1b17-aae7656a4e094ddd-01 outer:exit 2b-a738cd45b2241e449d36a5d033b26b5448bc1b17-47dae02ce379f826-01
2021-08-22T21:59:48.882Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T21:59:48.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-cae03c58e430b0aa0ffc75a386090111e881ee7c-f284d6936c303d0d-01 outer:exit 2b-cae03c58e430b0aa0ffc75a386090111e881ee7c-74ddca619407adfd-01
2021-08-22T21:59:48.884Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T21:59:48.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-f153b468fb1cc8373021d33ca0cf2df3138bb024-286aa4efb812c872-01 outer:exit 2b-f153b468fb1cc8373021d33ca0cf2df3138bb024-506ef857fff23afc-01
2021-08-22T21:59:48.890Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T21:59:48.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-07ad503b954246158165f2932f4380de7651f2f1-948cda84969ba1e6-01 outer:exit 2b-07ad503b954246158165f2932f4380de7651f2f1-2cbc03623121f09a-01
2021-08-22T21:59:48.894Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T21:59:48.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-3744500becd7c05fb8ddc609f751b718eea3da6b-bb83327a041c4243-01 outer:exit 2b-3744500becd7c05fb8ddc609f751b718eea3da6b-7de99bf568e85f57-01
2021-08-22T21:59:48.904Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T21:59:48.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9df59f7a0c571fb2e17b5d6f82e6f79a442ba31-3646398a62f4e7e6-01 outer:exit 2b-d9df59f7a0c571fb2e17b5d6f82e6f79a442ba31-4bd36a79e31fa443-01
2021-08-22T21:59:48.912Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T21:59:48.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-b976e189ba57078934695f2d5d573fef7aea0e17-4d9a8ca4d76dc9b0-01 outer:exit 2b-b976e189ba57078934695f2d5d573fef7aea0e17-04f6198bbe7cd185-01
2021-08-22T21:59:48.914Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T21:59:48.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed436382459290245c14a7797362e2a5eec3bd51-fb13524003cb7171-01 outer:exit 2b-ed436382459290245c14a7797362e2a5eec3bd51-d65583b9579c9ff0-01
2021-08-22T21:59:48.918Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T21:59:48.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-4be59fe1cbfca6b0aecf4c7e09ceccc0f9785c39-7a02a52b07d9be32-01 outer:exit 2b-4be59fe1cbfca6b0aecf4c7e09ceccc0f9785c39-c271bc3c19ace1b9-01
2021-08-22T21:59:48.925Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T21:59:48.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb06ae7553c6392c3b29cba077945f9689923d9e-80b33a642bbf4c2d-01 outer:exit 2b-bb06ae7553c6392c3b29cba077945f9689923d9e-f56ee12814bebd91-01
2021-08-22T21:59:48.928Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T21:59:48.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-d77440c551f2a96054fd22a181ed865ac69af7d7-ecbb2c70a231e65d-01 outer:exit 2b-d77440c551f2a96054fd22a181ed865ac69af7d7-c740ce44f4e4b61f-01
2021-08-22T21:59:48.931Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T21:59:48.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c1e89ad90d62c4cc946495f22b6a7322c1a78e2-ee385b3db93946eb-01 outer:exit 2b-9c1e89ad90d62c4cc946495f22b6a7322c1a78e2-cbfec70b35d192b5-01
2021-08-22T21:59:48.933Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T21:59:48.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-237e72fa859f02cd49c78764ad4ffb6986c2df1c-a7656525fc83ba03-01 outer:exit 2b-237e72fa859f02cd49c78764ad4ffb6986c2df1c-3c5b43460fbdea9d-01
2021-08-22T21:59:48.935Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T21:59:48.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b384cb608cd8a515e10d059dc1dea375e3c8174-a73db2140b9ddff1-01 outer:exit 2b-3b384cb608cd8a515e10d059dc1dea375e3c8174-e01be37aeb4abc4d-01
2021-08-22T21:59:48.937Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T21:59:48.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-47093f41b60b1bc2c1722534e551802a14461618-e8e3f3df8be2b201-01 outer:exit 2b-47093f41b60b1bc2c1722534e551802a14461618-bc952e91e96691cc-01
2021-08-22T21:59:48.949Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T21:59:48.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc366a6f8c7eb0077664d4df637773872b952d8c-048c9c4660dbab7d-01 outer:exit 2b-dc366a6f8c7eb0077664d4df637773872b952d8c-bafd5095059e660c-01
2021-08-22T21:59:48.959Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T21:59:48.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ea558c3e35c87372931dddc37514b6fe3572c4-ac4d6e436e59c74f-01 outer:exit 2b-58ea558c3e35c87372931dddc37514b6fe3572c4-03d24b66adaddd48-01
2021-08-22T21:59:48.962Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T21:59:48.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fe3a5413285790a706265fe476a2659a51e045c-c16e8a436bef6bfe-01 outer:exit 2b-5fe3a5413285790a706265fe476a2659a51e045c-2905f6f4394cbd69-01
2021-08-22T21:59:48.983Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T21:59:48.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-3554c043aa325b7efaff2b2586289d92b04b47bb-4b91744973bbc348-01 outer:exit 2b-3554c043aa325b7efaff2b2586289d92b04b47bb-db90966b70d13de5-01
2021-08-22T21:59:48.990Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T21:59:49.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9ff32803a253c214f529ed8faee3b0e2797f5a5-d518d518427b7c4f-01 outer:exit 2b-d9ff32803a253c214f529ed8faee3b0e2797f5a5-0a3095916b159689-01
2021-08-22T21:59:49.019Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (352ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.4
updated 1 package and audited 939 packages in 4.74s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T21:59:54.786Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T21:59:54.786Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T21:59:54.787Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T21:59:54.787Z appoptics:debug using context provider: ace-context
2021-08-22T21:59:54.869Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T21:59:54.936Z appoptics:patching patched crypto 
2021-08-22T21:59:54.971Z appoptics:patching patched https 
2021-08-22T21:59:54.972Z appoptics:patching patched http 
2021-08-22T21:59:55.024Z appoptics:patching fs.realpath - adding native method
2021-08-22T21:59:55.024Z appoptics:patching patched fs 
2021-08-22T21:59:55.039Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v14.17.5)
2021-08-22T21:59:55.047Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-08-22T21:59:55.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ee56b42c1ed8265a14f0d6ec874281438bcdd0-185fead7a92c5ae0-01 outer:exit 2b-d0ee56b42c1ed8265a14f0d6ec874281438bcdd0-3889f0cd21e74dcb-01
2021-08-22T21:59:55.233Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T21:59:55.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ab4a8aea4df386329abb73d6953ed297d967f5-81cbc45c13eee79d-01 outer:exit 2b-40ab4a8aea4df386329abb73d6953ed297d967f5-72a23896e8898549-01
2021-08-22T21:59:55.300Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T21:59:55.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-c66afc932e39c9da482131b094d42f2ab351cb67-cc733b049855d535-01 outer:exit 2b-c66afc932e39c9da482131b094d42f2ab351cb67-4384e12a14bd0cdf-01
2021-08-22T21:59:55.304Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T21:59:55.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee4da06ee3cb474fd222b49657f190a4569be33c-ec8e16e0b2fb54cc-01 outer:exit 2b-ee4da06ee3cb474fd222b49657f190a4569be33c-8097725515c06730-01
2021-08-22T21:59:55.311Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T21:59:55.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2f703dfd1fc757c876175331b358f2265ff0403-809f747456afc56b-01 outer:exit 2b-e2f703dfd1fc757c876175331b358f2265ff0403-84a3d6d5c9fb8d18-01
2021-08-22T21:59:55.319Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T21:59:55.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2a339ec943319c27d8fe95394be1fc925fb4c75-356477f0e474a28e-01 outer:exit 2b-b2a339ec943319c27d8fe95394be1fc925fb4c75-3402a1589f95d920-01
2021-08-22T21:59:55.322Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T21:59:55.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-39e208118ec00f36baa07b7115be4dfc2e4f930a-26ca3b1fd8431c03-01 outer:exit 2b-39e208118ec00f36baa07b7115be4dfc2e4f930a-bd53793f35c55d65-01
2021-08-22T21:59:55.325Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T21:59:55.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ef8cac0a1371e68be82a336ae5ddfa10b14b8c8-222c576530a78465-01 outer:exit 2b-1ef8cac0a1371e68be82a336ae5ddfa10b14b8c8-7c74d9879de20390-01
2021-08-22T21:59:55.327Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T21:59:55.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8a2440c82b21c1ffa8da487f6004939658901ad-f35ca99358d5be57-01 outer:exit 2b-e8a2440c82b21c1ffa8da487f6004939658901ad-f79860ab2a34ccd3-01
2021-08-22T21:59:55.329Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T21:59:55.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f51c3cd5b29b01f70597ec91e41a5b9c9533f6a-a9bd6992fbb362c1-01 outer:exit 2b-3f51c3cd5b29b01f70597ec91e41a5b9c9533f6a-f95073e2fcd7eb95-01
2021-08-22T21:59:55.332Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T21:59:55.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-9503541f6fcf510fc7096e9c5a618a22c4dd3343-b9ba91093509aa28-01 outer:exit 2b-9503541f6fcf510fc7096e9c5a618a22c4dd3343-00e765dfcabf98d3-01
2021-08-22T21:59:55.337Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T21:59:55.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-405e06fc0c80216e6879550f74761bfe4f374cb1-f354518518231b86-01 outer:exit 2b-405e06fc0c80216e6879550f74761bfe4f374cb1-0b4de195ec152087-01
2021-08-22T21:59:55.343Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T21:59:55.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7ccbea54a85cef0f742d0e53fdce7998ed03499-07ce2af70a9961a1-01 outer:exit 2b-a7ccbea54a85cef0f742d0e53fdce7998ed03499-159258ed2c8772db-01
2021-08-22T21:59:55.358Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T21:59:55.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-a87301561b3ca12f98c1a435307859c56a0cb387-29bcc7e1024f2978-01 outer:exit 2b-a87301561b3ca12f98c1a435307859c56a0cb387-fa7c38f841858d58-01
2021-08-22T21:59:55.404Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T21:59:55.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-04bddbcd84a5d7c8f3d9dd929c96355c00df2473-eff16b6850835735-01 outer:exit 2b-04bddbcd84a5d7c8f3d9dd929c96355c00df2473-c97db3cd4c702419-01
2021-08-22T21:59:55.407Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T21:59:55.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f96476dbadf20bbac745fbedd90f757e0cf3374-e8ba2282c70f2bb9-01 outer:exit 2b-4f96476dbadf20bbac745fbedd90f757e0cf3374-6b9bc4be14ce109e-01
2021-08-22T21:59:55.409Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T21:59:55.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-71a1ba6330d3555f5183f49a782ee67f2e74e584-58129c81727fbe0c-01 outer:exit 2b-71a1ba6330d3555f5183f49a782ee67f2e74e584-32ddb2c004d24581-01
2021-08-22T21:59:55.413Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T21:59:55.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-873c6068b94351c646a9485cb3499240f17de9f4-14506ac80dfaffc9-01 outer:exit 2b-873c6068b94351c646a9485cb3499240f17de9f4-631b63b6d538f406-01
2021-08-22T21:59:55.418Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T21:59:55.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-63dc0d2091f0ad407cc82ffd69cecae14c4281bc-12185c35f088bd01-01 outer:exit 2b-63dc0d2091f0ad407cc82ffd69cecae14c4281bc-f3fd13102026c427-01
2021-08-22T21:59:55.422Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T21:59:55.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-10fe6a4388047a90a02bafe8b56e2369d416092b-1035f3b5b08e8799-01 outer:exit 2b-10fe6a4388047a90a02bafe8b56e2369d416092b-3677e6694b86e280-01
2021-08-22T21:59:55.425Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T21:59:55.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-4727bcab795fd50e92888ba9c0c96cc73fb8237a-2b08e749a297f7a9-01 outer:exit 2b-4727bcab795fd50e92888ba9c0c96cc73fb8237a-5a2b2921cde9e3c9-01
2021-08-22T21:59:55.430Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T21:59:55.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d3eecd24743ef3227039a6abccbc920b4904474-d605fec9b4ad4f13-01 outer:exit 2b-4d3eecd24743ef3227039a6abccbc920b4904474-17d89577c16f2fce-01
2021-08-22T21:59:55.432Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T21:59:55.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-6beb147c51edafb66d97b45f261b3f767d18cc67-a8db2b217b723670-01 outer:exit 2b-6beb147c51edafb66d97b45f261b3f767d18cc67-5616a450b955c9d5-01
2021-08-22T21:59:55.438Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T21:59:55.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-165bdde362e760f1750ce8dc5756cc954f227d95-104981f8f70f9927-01 outer:exit 2b-165bdde362e760f1750ce8dc5756cc954f227d95-3569d6c7f0c0893e-01
2021-08-22T21:59:55.442Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T21:59:55.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-abf1c215f4474f0c1242bda42129738c0da259c3-7218a31766d21cf2-01 outer:exit 2b-abf1c215f4474f0c1242bda42129738c0da259c3-062950825ba81e74-01
2021-08-22T21:59:55.444Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T21:59:55.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d9d87be6b482b65f313bce8fcd27b627c91c471-cea769ce4675717d-01 outer:exit 2b-0d9d87be6b482b65f313bce8fcd27b627c91c471-7841e0000bee697d-01
2021-08-22T21:59:55.449Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T21:59:55.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-06c0e74133e20c743943837ffdc4e300f068d1ce-b00d04f7fe557f68-01 outer:exit 2b-06c0e74133e20c743943837ffdc4e300f068d1ce-40180549610c130a-01
2021-08-22T21:59:55.455Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T21:59:55.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-05710ebae3383ae5afc0bb852f5c64007c5ba387-c89ef8d5ba3d013d-01 outer:exit 2b-05710ebae3383ae5afc0bb852f5c64007c5ba387-d06c4d70c6bc840a-01
2021-08-22T21:59:55.460Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T21:59:55.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf0099c162ce9c7490a9328043cc846affde9f7b-faa713a6d25274aa-01 outer:exit 2b-bf0099c162ce9c7490a9328043cc846affde9f7b-859c1b7624ce8ea4-01
2021-08-22T21:59:55.468Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T21:59:55.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-206371d3997e77caaffd1a9e2bf14700df6bd1ef-c80b9c5f67856ec5-01 outer:exit 2b-206371d3997e77caaffd1a9e2bf14700df6bd1ef-15137df66ca16faa-01
2021-08-22T21:59:55.475Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T21:59:55.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea8165a64016a5fb71e7754a6774ff9477e0f466-1462dfd7763380ea-01 outer:exit 2b-ea8165a64016a5fb71e7754a6774ff9477e0f466-5648663978443f59-01
2021-08-22T21:59:55.477Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T21:59:55.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-67aff8fd82b7c195f11fbc67a9fa968de26c96bb-1b90c21df23124dc-01 outer:exit 2b-67aff8fd82b7c195f11fbc67a9fa968de26c96bb-143cd5cae0611970-01
2021-08-22T21:59:55.480Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T21:59:55.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-41380c9871ea7253e85ee50ac0bb0f5f6cc848e5-c4d601a7e8ac1fae-01 outer:exit 2b-41380c9871ea7253e85ee50ac0bb0f5f6cc848e5-6e29fb21664988e8-01
2021-08-22T21:59:55.488Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T21:59:55.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-effc9c1552a6e3457dc8cf5037a4318a9471db08-18d817a4fc7e8dac-01 outer:exit 2b-effc9c1552a6e3457dc8cf5037a4318a9471db08-b8815ef6c65f0876-01
2021-08-22T21:59:55.491Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T21:59:55.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-22b73dd02ce3c0398e2c3cd03df694cbf6fbb91e-c6c742168cf04ad6-01 outer:exit 2b-22b73dd02ce3c0398e2c3cd03df694cbf6fbb91e-80e7a48648fa010f-01
2021-08-22T21:59:55.493Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T21:59:55.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-4771221192f6d18380e63c7e91535810a6a2eb61-6ffbae1bf605f6c0-01 outer:exit 2b-4771221192f6d18380e63c7e91535810a6a2eb61-624845fa5c6ac89a-01
2021-08-22T21:59:55.504Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T21:59:55.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f7bebb7a52a2f6c3ec0d9415bf83d18ab36b104-bcee406e7414f5d2-01 outer:exit 2b-1f7bebb7a52a2f6c3ec0d9415bf83d18ab36b104-b63b897858f279ce-01
2021-08-22T21:59:55.508Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T21:59:55.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc83cfd05f49421b82a2c3b5aa9ce4e5ea7bba76-597fdb9adf99e5eb-01 outer:exit 2b-bc83cfd05f49421b82a2c3b5aa9ce4e5ea7bba76-e702e657ddb412c6-01
2021-08-22T21:59:55.511Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T21:59:55.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ce258063617992c50b4725cca5790887ddde551-785cc86e6d1300d3-01 outer:exit 2b-8ce258063617992c50b4725cca5790887ddde551-fb0117a8f313d195-01
2021-08-22T21:59:55.532Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T21:59:55.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4a178f0abbc2f9ad9f6cf9e67c19394ed11273d-fdac6bbda953ec37-01 outer:exit 2b-e4a178f0abbc2f9ad9f6cf9e67c19394ed11273d-124e8617708f07d6-01
2021-08-22T21:59:55.541Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T21:59:55.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-01d01f14cf062868cebb184cd430bcc8a42a0f7b-5a734627fd07be2c-01 outer:exit 2b-01d01f14cf062868cebb184cd430bcc8a42a0f7b-8130c7829070403c-01
2021-08-22T21:59:55.546Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T21:59:55.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-07ef5163fd863bddd46ecb2a09e4eb80c93bd270-7eeea7016e7e8802-01 outer:exit 2b-07ef5163fd863bddd46ecb2a09e4eb80c93bd270-9df934b04b0ed22e-01
2021-08-22T21:59:55.549Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T21:59:55.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ccf1556479a6429e7b1054d0fd0e2890475a879-0964f08dd5934893-01 outer:exit 2b-9ccf1556479a6429e7b1054d0fd0e2890475a879-25b919ba83a27779-01
2021-08-22T21:59:55.552Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T21:59:55.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-b181c47e19a039a2d8fe257f1dd520d7f613545d-f218c5b89a53347b-01 outer:exit 2b-b181c47e19a039a2d8fe257f1dd520d7f613545d-ec88115de7a5dc8b-01
2021-08-22T21:59:55.581Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (400ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.5
updated 1 package and audited 939 packages in 4.945s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:01.632Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:01.632Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:01.632Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:01.633Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:01.704Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:01.759Z appoptics:patching patched crypto 
2021-08-22T22:00:01.781Z appoptics:patching patched https 
2021-08-22T22:00:01.781Z appoptics:patching patched http 
2021-08-22T22:00:01.830Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:01.830Z appoptics:patching patched fs 
2021-08-22T22:00:01.845Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v14.17.5)
2021-08-22T22:00:01.852Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-08-22T22:00:02.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-75d0fe6d7786585e295b66565a431348fb7f6abb-7ba79e8b64b84e2d-01 outer:exit 2b-75d0fe6d7786585e295b66565a431348fb7f6abb-c0a34638c2192c88-01
2021-08-22T22:00:02.006Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:02.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa62a0eac30e32f0b34ec78ecf32c8d3f597f81b-c9cfb56f5ae46945-01 outer:exit 2b-aa62a0eac30e32f0b34ec78ecf32c8d3f597f81b-a8fabb32ca54a124-01
2021-08-22T22:00:02.049Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:02.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2866c14f53ed5420a1db430a9b1f43a7d6f57e2-e82dd924b2f557aa-01 outer:exit 2b-a2866c14f53ed5420a1db430a9b1f43a7d6f57e2-c88c683a343c2cb8-01
2021-08-22T22:00:02.053Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:02.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-530237bc1d917eceb0404aad25f0de05ce43e77e-12d3aaac96083b73-01 outer:exit 2b-530237bc1d917eceb0404aad25f0de05ce43e77e-2c13e4c93acb8c62-01
2021-08-22T22:00:02.056Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:02.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaf4c2254988d8fc99d458be90166118f09a1ee2-a347e637d69ee723-01 outer:exit 2b-aaf4c2254988d8fc99d458be90166118f09a1ee2-5b8fe433e18a32c0-01
2021-08-22T22:00:02.062Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:02.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-c99bc7028fcfa7a5db2dba6abb0f8429f3b528ec-fb790beae22e9cf2-01 outer:exit 2b-c99bc7028fcfa7a5db2dba6abb0f8429f3b528ec-7c0abf4d7f794bea-01
2021-08-22T22:00:02.067Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:02.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cf430555a85295d5e8bc4c6034c3c6682255787-ce5a949e1487470b-01 outer:exit 2b-1cf430555a85295d5e8bc4c6034c3c6682255787-5d484191099e757f-01
2021-08-22T22:00:02.071Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:02.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-e425fd996934cf4036df067718ed08b7c0e41855-76b01e6aa0421e37-01 outer:exit 2b-e425fd996934cf4036df067718ed08b7c0e41855-9af3631631acc03e-01
2021-08-22T22:00:02.073Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:02.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdc4729da0663fe40e18062be59d39c1f35a28ec-8168c7e213178252-01 outer:exit 2b-fdc4729da0663fe40e18062be59d39c1f35a28ec-354dea7b6358c9ef-01
2021-08-22T22:00:02.076Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:02.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-94707e8f8db35ad6b0b185797c85db01b57ecc6b-f6dc9e0c5165b3bd-01 outer:exit 2b-94707e8f8db35ad6b0b185797c85db01b57ecc6b-1515fafed7f1daf2-01
2021-08-22T22:00:02.079Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:02.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c29399ae3df4f900d837409e4d33938b3a510e1-314011dcdf8f708b-01 outer:exit 2b-4c29399ae3df4f900d837409e4d33938b3a510e1-48a5249ea1124c3f-01
2021-08-22T22:00:02.083Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:02.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf217afd60322dcf43a7a7711d646cc556dd54eb-df28af78b3a4191f-01 outer:exit 2b-bf217afd60322dcf43a7a7711d646cc556dd54eb-68968b24d723b3df-01
2021-08-22T22:00:02.090Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:02.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-d36124a1ea3c7f212d301204b734d7e647a33506-1a1740ed4d15c22f-01 outer:exit 2b-d36124a1ea3c7f212d301204b734d7e647a33506-3c8e14c3db53588c-01
2021-08-22T22:00:02.104Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:02.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb94df88cff1cbe05f9921e1e324c02638f646aa-c93ad9bacdbad929-01 outer:exit 2b-fb94df88cff1cbe05f9921e1e324c02638f646aa-c5913b68d10c952c-01
2021-08-22T22:00:02.151Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:02.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2d3dc07ca5018fee7b4869eb28f1d9f9c3a72a3-fdc69d6c0a4e8518-01 outer:exit 2b-f2d3dc07ca5018fee7b4869eb28f1d9f9c3a72a3-6842083e79dfa4cb-01
2021-08-22T22:00:02.153Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:02.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5d5f306e558685529fc3ba9e62fbac2419516e9-62bdcd8ae3064bdc-01 outer:exit 2b-a5d5f306e558685529fc3ba9e62fbac2419516e9-3cfaaddcd150d30a-01
2021-08-22T22:00:02.155Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:02.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-46eaed95f641f5618bb433369c7d14708a27de2e-5cd44b2033cecfec-01 outer:exit 2b-46eaed95f641f5618bb433369c7d14708a27de2e-dc6fe79b4c24fee8-01
2021-08-22T22:00:02.158Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:02.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5e40a6d86c6a9f07580213ca5e268b97318fa38-1b56c7fdb8f019cd-01 outer:exit 2b-a5e40a6d86c6a9f07580213ca5e268b97318fa38-8b44e8470717ecf6-01
2021-08-22T22:00:02.163Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:02.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bf975ec7a623d240386336052845d21eef13115-c3083c535e2f585d-01 outer:exit 2b-5bf975ec7a623d240386336052845d21eef13115-78f461cbf6fa6b97-01
2021-08-22T22:00:02.166Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:02.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1929adc2efea0521be5b1a6a47d7c0baccd2103-77f2cd0a7c256784-01 outer:exit 2b-c1929adc2efea0521be5b1a6a47d7c0baccd2103-f361dc6c3f133a1c-01
2021-08-22T22:00:02.168Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:02.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5c372a300d347e399db5accce70d57241f738b9-ea1d5d12b1516f4f-01 outer:exit 2b-a5c372a300d347e399db5accce70d57241f738b9-cad52d1562cabb62-01
2021-08-22T22:00:02.171Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:02.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1a7e013c3ae738189d32610812e94746f1d8c8f-b234d969112cfd94-01 outer:exit 2b-c1a7e013c3ae738189d32610812e94746f1d8c8f-67dfb46d9a808c94-01
2021-08-22T22:00:02.173Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:02.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5e20fde77527b5761831657046de20125560807-181597362202c806-01 outer:exit 2b-c5e20fde77527b5761831657046de20125560807-32a973b577b26315-01
2021-08-22T22:00:02.176Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:02.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-026545e17400fbfcac42d8ccba9017de64c29702-6b956feef40d3c22-01 outer:exit 2b-026545e17400fbfcac42d8ccba9017de64c29702-0b14cac34d9afc41-01
2021-08-22T22:00:02.179Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:02.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53f9ceb96d714a0259ffcfa7ce877621fdb3561-de906356aa73d31b-01 outer:exit 2b-c53f9ceb96d714a0259ffcfa7ce877621fdb3561-514b91339e5035db-01
2021-08-22T22:00:02.182Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:02.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-340647e006f9a4c1e00872bf807bad8621113b65-e32c1853718b5e14-01 outer:exit 2b-340647e006f9a4c1e00872bf807bad8621113b65-bc7bf3f973b444fa-01
2021-08-22T22:00:02.185Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:02.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93bec026e706607d59919c510713770deeab4dc-5d62375a85e70b86-01 outer:exit 2b-a93bec026e706607d59919c510713770deeab4dc-8c93ad85076bda3d-01
2021-08-22T22:00:02.191Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:02.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-df7231d65148d44d199fd08a07a8e971b65c153b-5e24f27240e0f82c-01 outer:exit 2b-df7231d65148d44d199fd08a07a8e971b65c153b-98d91ad3308a3d7c-01
2021-08-22T22:00:02.195Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:02.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa691bcab66045b40906068a7346592c61ff428a-ea434968d57b0f58-01 outer:exit 2b-aa691bcab66045b40906068a7346592c61ff428a-562941397e45e625-01
2021-08-22T22:00:02.205Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:02.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-064dcd49fc522ea9a981c2a1312f8fa45646dbb8-36fca79ba697f4b3-01 outer:exit 2b-064dcd49fc522ea9a981c2a1312f8fa45646dbb8-5b1c53a88663b762-01
2021-08-22T22:00:02.212Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:02.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ba8777c8100217483ffc5c743af792a25921a96-ff2ed67f65a9890d-01 outer:exit 2b-7ba8777c8100217483ffc5c743af792a25921a96-ca3d5f133ae438da-01
2021-08-22T22:00:02.214Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:02.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fa9acfb71c3d14d6af1106f94aca03d48a464b4-7d9803a48efd80b9-01 outer:exit 2b-9fa9acfb71c3d14d6af1106f94aca03d48a464b4-102faea91c9c82f4-01
2021-08-22T22:00:02.218Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:02.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-f217f7d1f85303f3792646e4a576f794102c7028-2ec80c41c9adf842-01 outer:exit 2b-f217f7d1f85303f3792646e4a576f794102c7028-44e0d76c8e2fe2a2-01
2021-08-22T22:00:02.225Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:02.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-17aacf07152a72f9374b79bf56709df3dad6493e-d1e87460c86e5476-01 outer:exit 2b-17aacf07152a72f9374b79bf56709df3dad6493e-623b3620b98862b5-01
2021-08-22T22:00:02.227Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:02.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d17e5c48ccca593f461b9f18ab5883cc93f67b5-540194ed9535bd9f-01 outer:exit 2b-6d17e5c48ccca593f461b9f18ab5883cc93f67b5-73fb33a591be53d4-01
2021-08-22T22:00:02.229Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:02.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7db2065ece1f9cba60d5f5adbe056fbceb0fa29-078232768a1be001-01 outer:exit 2b-f7db2065ece1f9cba60d5f5adbe056fbceb0fa29-57500418321afc72-01
2021-08-22T22:00:02.236Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:02.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-978060316ff7fb48cc1756dced6609d82b9a1680-b994e59366cfa866-01 outer:exit 2b-978060316ff7fb48cc1756dced6609d82b9a1680-4c26199513094b5d-01
2021-08-22T22:00:02.240Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:02.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d5368e1e3fd0b98f0a199e8958c9a201f40d38a-27f5ec793dac54f7-01 outer:exit 2b-9d5368e1e3fd0b98f0a199e8958c9a201f40d38a-67ddee0c756f9d26-01
2021-08-22T22:00:02.244Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:02.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-b603285c77f4c074465d5b8964986b92d2d1c7b8-3c1642ce4a20d22d-01 outer:exit 2b-b603285c77f4c074465d5b8964986b92d2d1c7b8-6594f5bc1e94686d-01
2021-08-22T22:00:02.258Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:02.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b84ca3ead1ae381ef3c3665ff4f4fa65ccda14-9e3e65299b1c1341-01 outer:exit 2b-58b84ca3ead1ae381ef3c3665ff4f4fa65ccda14-0a248d7edef9419e-01
2021-08-22T22:00:02.268Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:02.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-5690f96ef08098fc8ff38da08ca6284cd0615b6f-dbff17a55d7c7b7e-01 outer:exit 2b-5690f96ef08098fc8ff38da08ca6284cd0615b6f-e41730d32fe9c532-01
2021-08-22T22:00:02.271Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:02.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa7c30a376f1537962a89a5f194e2c053228fd2c-aa6c269cac6032b4-01 outer:exit 2b-fa7c30a376f1537962a89a5f194e2c053228fd2c-89b74fe8a63d608c-01
2021-08-22T22:00:02.274Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:02.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5657867561ddee99b5b52750417afbbb4c0d311-f82654db0e9dcc6a-01 outer:exit 2b-a5657867561ddee99b5b52750417afbbb4c0d311-39f08a89b1303e01-01
2021-08-22T22:00:02.277Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:02.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-b62a2cf0e184794114c967439a71c2084369d319-d84d4c896b7c8764-01 outer:exit 2b-b62a2cf0e184794114c967439a71c2084369d319-6daedfb5d5915a89-01
2021-08-22T22:00:02.305Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (337ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.6
updated 1 package and audited 939 packages in 4.403s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:07.841Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:07.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:07.842Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:07.851Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:07.919Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:07.969Z appoptics:patching patched crypto 
2021-08-22T22:00:08.001Z appoptics:patching patched https 
2021-08-22T22:00:08.001Z appoptics:patching patched http 
2021-08-22T22:00:08.054Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:08.054Z appoptics:patching patched fs 
2021-08-22T22:00:08.071Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v14.17.5)
2021-08-22T22:00:08.078Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-08-22T22:00:08.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-91d3e7d5ba844c1e4c5fb1b5b7d5bdc7f13f0da3-1333591014ccba4a-01 outer:exit 2b-91d3e7d5ba844c1e4c5fb1b5b7d5bdc7f13f0da3-6840007c4f146cc3-01
2021-08-22T22:00:08.272Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:08.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4c133e74dc6a8a21a6e9379c6a3275cb0d4131c-53800b6c95295158-01 outer:exit 2b-e4c133e74dc6a8a21a6e9379c6a3275cb0d4131c-4a730ae0758ca411-01
2021-08-22T22:00:08.361Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:08.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f71cb9e89d23ae073ccec6aa82567698dc99a94-41adbc1a5d63cdc9-01 outer:exit 2b-8f71cb9e89d23ae073ccec6aa82567698dc99a94-9c50951d4593b5f4-01
2021-08-22T22:00:08.367Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:08.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-06f75a9f9b68ad5072a41f5590bdce628eb61127-16f492317439238e-01 outer:exit 2b-06f75a9f9b68ad5072a41f5590bdce628eb61127-a75c0940f83c4fd9-01
2021-08-22T22:00:08.374Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:08.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ae68e773d140afaaeee53f50f5e5d314c03ff39-d0221002b1ea2fdf-01 outer:exit 2b-9ae68e773d140afaaeee53f50f5e5d314c03ff39-419b989305f47c4f-01
2021-08-22T22:00:08.385Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:08.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-434c14c4b6b93e5c9821676e836aea78b57612b1-fb097360fe7a9cdf-01 outer:exit 2b-434c14c4b6b93e5c9821676e836aea78b57612b1-a9719a0417a450d3-01
2021-08-22T22:00:08.394Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:08.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-32b5aad4fe7a0de35b7e7c4ea759938e18bb8d20-90c23999798ce671-01 outer:exit 2b-32b5aad4fe7a0de35b7e7c4ea759938e18bb8d20-378dc388f01eb64c-01
2021-08-22T22:00:08.401Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:08.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91c62e9778a25739a7418c0cda374e8bec26313-2d30961b9ee2eec8-01 outer:exit 2b-b91c62e9778a25739a7418c0cda374e8bec26313-b185906ad31275fd-01
2021-08-22T22:00:08.408Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:08.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-490642e10bb7b85037d16ccdfa2ccaa093300578-69f2e174c4cbdc16-01 outer:exit 2b-490642e10bb7b85037d16ccdfa2ccaa093300578-0b28f22c99284674-01
2021-08-22T22:00:08.414Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:08.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f1e07ad8bee9c364501bca7ab81c22ba16fdeb6-17599bee95b8943f-01 outer:exit 2b-1f1e07ad8bee9c364501bca7ab81c22ba16fdeb6-86a98fbc6ccd7405-01
2021-08-22T22:00:08.421Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:08.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d8cf92c92851b87c5ec27f07dda6e11a7bc1eab-9019d9019323a972-01 outer:exit 2b-4d8cf92c92851b87c5ec27f07dda6e11a7bc1eab-6db5027c1c4c8e69-01
2021-08-22T22:00:08.427Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:08.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-81de81f0e4ba35d5cb374c8d458afdb044fe052c-2ef4224b3460cefe-01 outer:exit 2b-81de81f0e4ba35d5cb374c8d458afdb044fe052c-592d7126b372fa04-01
2021-08-22T22:00:08.436Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:08.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-16bd04b90311e3be8556fe50426019ebdda7f2e0-6d796337ba2f4757-01 outer:exit 2b-16bd04b90311e3be8556fe50426019ebdda7f2e0-fe6f5df194280a21-01
2021-08-22T22:00:08.455Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:08.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-392c3baec58c6a491e2884dd92ef453783e7ed53-2257406b39ff2ae6-01 outer:exit 2b-392c3baec58c6a491e2884dd92ef453783e7ed53-8d900e6c464403f1-01
2021-08-22T22:00:08.496Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:08.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-dda6c7a1ba86cc7083ce059b4a4f1e6b43c92f2f-4f80e3087f2cc688-01 outer:exit 2b-dda6c7a1ba86cc7083ce059b4a4f1e6b43c92f2f-13d5ac34bb47af47-01
2021-08-22T22:00:08.499Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:08.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e0b94f9f882e8b1a5cb57ee53f847432d91235a-c8a9b0b1f7caf7b3-01 outer:exit 2b-4e0b94f9f882e8b1a5cb57ee53f847432d91235a-3b345dc2888be251-01
2021-08-22T22:00:08.501Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:08.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cbcfc57fb0d80eadd744dfcd1abf44cb2c90f29-b0b939aea71f81d6-01 outer:exit 2b-9cbcfc57fb0d80eadd744dfcd1abf44cb2c90f29-ff7ee80996ca8e74-01
2021-08-22T22:00:08.504Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:08.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a6c6cee11286ce26285f828acccd8e257f74bb6-7676224e649dee85-01 outer:exit 2b-0a6c6cee11286ce26285f828acccd8e257f74bb6-b93392f817006b99-01
2021-08-22T22:00:08.506Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:08.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-1327be89902c64422d7bf979bd926a9f61cd182c-0bf24226e8f7c885-01 outer:exit 2b-1327be89902c64422d7bf979bd926a9f61cd182c-9ab490a6057cb4be-01
2021-08-22T22:00:08.514Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:08.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-02065da4d052f9add941a456b96a9793a82abc05-f063afbac44183e2-01 outer:exit 2b-02065da4d052f9add941a456b96a9793a82abc05-d2e15bb8eb59f2e7-01
2021-08-22T22:00:08.518Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:08.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecfca7ee6601261403b15003839018aab5071c2d-be1d39674e51c085-01 outer:exit 2b-ecfca7ee6601261403b15003839018aab5071c2d-83c902c305bf9eba-01
2021-08-22T22:00:08.521Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:08.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b321cba395ecb13be4c259a38c0db11df4d5469-a6c3e54a9f25f757-01 outer:exit 2b-5b321cba395ecb13be4c259a38c0db11df4d5469-1f458f9d8fa3c143-01
2021-08-22T22:00:08.523Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:08.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-068095cbc3cd48b926edd10e22ddb2a6788dc5be-f49f9f83fd894159-01 outer:exit 2b-068095cbc3cd48b926edd10e22ddb2a6788dc5be-5e779328867650e8-01
2021-08-22T22:00:08.526Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:08.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-082af75529dd3bacc8d1eae09349acfe8aabd093-9d16748697c14c8f-01 outer:exit 2b-082af75529dd3bacc8d1eae09349acfe8aabd093-c841af0878cd6ce1-01
2021-08-22T22:00:08.529Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:08.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab001e49ee129d3701fdf34bf0dd82e0d0a36f0e-ce61f9f785e812d5-01 outer:exit 2b-ab001e49ee129d3701fdf34bf0dd82e0d0a36f0e-d354b1c243ef2aca-01
2021-08-22T22:00:08.532Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:08.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f627876b08846b2292ca6ece1105ecef003b995-e6f74a09d566b6bb-01 outer:exit 2b-0f627876b08846b2292ca6ece1105ecef003b995-950c9e867c2440bc-01
2021-08-22T22:00:08.535Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:08.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-29825286c53dd8c98215030b802f6313eff474b7-79e79a2ff882d04e-01 outer:exit 2b-29825286c53dd8c98215030b802f6313eff474b7-d22a00f935998b83-01
2021-08-22T22:00:08.540Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:08.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9d7ce5a97bbd92209b648a56ce26ff2c6d48371-9ae69b93700cd907-01 outer:exit 2b-f9d7ce5a97bbd92209b648a56ce26ff2c6d48371-801a323fac9eae8a-01
2021-08-22T22:00:08.544Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:08.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4e46d2b922247a015368a5282bd69704d4394c2-31cea6c243a72330-01 outer:exit 2b-f4e46d2b922247a015368a5282bd69704d4394c2-b3b4e27b9c4d7801-01
2021-08-22T22:00:08.554Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:08.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-714f08fd71e19e506e3f89796a3db4420eff805d-45032497cbbd1c2e-01 outer:exit 2b-714f08fd71e19e506e3f89796a3db4420eff805d-675dcc746c980dff-01
2021-08-22T22:00:08.560Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:08.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2a75208abb19b79c69a9ba9e1854cf74d1460d-d4c257696a33c948-01 outer:exit 2b-0c2a75208abb19b79c69a9ba9e1854cf74d1460d-fc33bec8b4df6fe9-01
2021-08-22T22:00:08.562Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:08.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-299adf60dc44bed7c02f5d41adea797e4f13da80-0d315fa5009218bc-01 outer:exit 2b-299adf60dc44bed7c02f5d41adea797e4f13da80-cf63553e859c0386-01
2021-08-22T22:00:08.565Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:08.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-575e7583f9d4f38b76c453237fee7d1b08418e98-c6532134bafd3537-01 outer:exit 2b-575e7583f9d4f38b76c453237fee7d1b08418e98-3218052bc2f28dbd-01
2021-08-22T22:00:08.572Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:08.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2e5c8ed184948aebd40108abfd148d2b6746475-90565e510e5adbb7-01 outer:exit 2b-c2e5c8ed184948aebd40108abfd148d2b6746475-ce89527dad7f1a10-01
2021-08-22T22:00:08.574Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:08.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dab1079155651dc9b685dacf939bc102426b06a-f57ea7bd6aa6e9d5-01 outer:exit 2b-9dab1079155651dc9b685dacf939bc102426b06a-29860e73cf270858-01
2021-08-22T22:00:08.576Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:08.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-349830d2a788909eec6fe82a2130af4e48cd3ad5-77f1e9fe5a6e18a6-01 outer:exit 2b-349830d2a788909eec6fe82a2130af4e48cd3ad5-ca923d0bacd16c8d-01
2021-08-22T22:00:08.583Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:08.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5e9539528f82ebf3f977f459f564e27d659de7e-f053aea6e27d3976-01 outer:exit 2b-f5e9539528f82ebf3f977f459f564e27d659de7e-341d973a78fb3c26-01
2021-08-22T22:00:08.586Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:08.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-02f8ca0b9e5d3a7fcc3b17c89f06e7080bf6f83f-7291dd729f46fbc3-01 outer:exit 2b-02f8ca0b9e5d3a7fcc3b17c89f06e7080bf6f83f-715093d90a2b2144-01
2021-08-22T22:00:08.589Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:08.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-41c377dcd2d1d9ca6ab4420a2ff2615eb579a13f-3000d18820de1b44-01 outer:exit 2b-41c377dcd2d1d9ca6ab4420a2ff2615eb579a13f-9c6dd655d333b8ca-01
2021-08-22T22:00:08.602Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:08.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f57a253cc5c134d88409a1efbe336bc5699046d-d55af67ccfac442f-01 outer:exit 2b-1f57a253cc5c134d88409a1efbe336bc5699046d-14081b2e4c2fb70b-01
2021-08-22T22:00:08.611Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:08.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-70701eed7a266950245dbd96f3bf3ca67cd58740-9138504651e3867f-01 outer:exit 2b-70701eed7a266950245dbd96f3bf3ca67cd58740-6b7d2ac204ab3210-01
2021-08-22T22:00:08.614Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:08.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-4766e8eeae31dde9a24d7b51125f057de0d44ac0-fde000f026233890-01 outer:exit 2b-4766e8eeae31dde9a24d7b51125f057de0d44ac0-0e92f17c8a2135c7-01
2021-08-22T22:00:08.617Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:08.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-19999b0035f7498bfbc7fc1acb7824f0e8454fc7-312739b993dc1a19-01 outer:exit 2b-19999b0035f7498bfbc7fc1acb7824f0e8454fc7-dbc1f1d75962fcd3-01
2021-08-22T22:00:08.619Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:08.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3a2e1b7191948904e561a499f92c9788dc5a085-115f50a55591c10b-01 outer:exit 2b-e3a2e1b7191948904e561a499f92c9788dc5a085-85ad0c66c0398ef4-01
2021-08-22T22:00:08.651Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (424ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.7
updated 1 package and audited 939 packages in 4.238s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:13.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:13.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:13.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:13.991Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:14.076Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:14.124Z appoptics:patching patched crypto 
2021-08-22T22:00:14.146Z appoptics:patching patched https 
2021-08-22T22:00:14.147Z appoptics:patching patched http 
2021-08-22T22:00:14.199Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:14.199Z appoptics:patching patched fs 
2021-08-22T22:00:14.214Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v14.17.5)
2021-08-22T22:00:14.222Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-08-22T22:00:14.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-e63d938e8538d28892fa98aede7dc4a0b2aa42d2-19d24eec19bbbc79-01 outer:exit 2b-e63d938e8538d28892fa98aede7dc4a0b2aa42d2-e8e6aa994940c96c-01
2021-08-22T22:00:14.392Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:14.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-047c0f3b8766263185d689f24643fd2888b8e8fe-4c414b3e2554650a-01 outer:exit 2b-047c0f3b8766263185d689f24643fd2888b8e8fe-9598d53c16438ed9-01
2021-08-22T22:00:14.450Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:14.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ab90cd1fd9f172713b163651ecdccb147ab441e-2600cb9d92d51e3c-01 outer:exit 2b-7ab90cd1fd9f172713b163651ecdccb147ab441e-556472072faae1a5-01
2021-08-22T22:00:14.454Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:14.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-a09c8fa23ef957955516f69f84debe05f8d2bb35-5abca539c5ef255e-01 outer:exit 2b-a09c8fa23ef957955516f69f84debe05f8d2bb35-10a52876d9170993-01
2021-08-22T22:00:14.458Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:14.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f99e2b77dbe75e72587a83c6ecfd14343541f23-3648cae518a61346-01 outer:exit 2b-5f99e2b77dbe75e72587a83c6ecfd14343541f23-6e81edee4a84572b-01
2021-08-22T22:00:14.463Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:14.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d3f7a15ea1e790f4c21ee4bd6e1e1c20227d68f-5951430e7d627dfa-01 outer:exit 2b-6d3f7a15ea1e790f4c21ee4bd6e1e1c20227d68f-27c61dde9f18e7e3-01
2021-08-22T22:00:14.467Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:14.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-572a761f8221d981f9fecda1f217aba25141af74-ade00c4d088ab71d-01 outer:exit 2b-572a761f8221d981f9fecda1f217aba25141af74-fa940830a829605f-01
2021-08-22T22:00:14.470Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:14.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-0da1aa1fe9a672df8128d633fbad64d8dee719e9-7deaab3f5d7f8e09-01 outer:exit 2b-0da1aa1fe9a672df8128d633fbad64d8dee719e9-d0072b67db9f9e0d-01
2021-08-22T22:00:14.473Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:14.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-d386c96b0aede658668b3991a5d7910028ddb92e-321878dfa58024f3-01 outer:exit 2b-d386c96b0aede658668b3991a5d7910028ddb92e-09c8207262f86ebd-01
2021-08-22T22:00:14.476Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:14.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f56c795b2313f015c06f86ddd409a9cb5019c82-e4f9c5b260df9474-01 outer:exit 2b-1f56c795b2313f015c06f86ddd409a9cb5019c82-284a93fcd5c2ec4e-01
2021-08-22T22:00:14.479Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:14.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-93f0a7f01ab6a0a5cfda874f83bde74a3930579a-cc0c82c3504bbe3a-01 outer:exit 2b-93f0a7f01ab6a0a5cfda874f83bde74a3930579a-1ad923ad211efba0-01
2021-08-22T22:00:14.485Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:14.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-6435720f227c3625db4e166778d8b05420391d9f-51523c01280e9816-01 outer:exit 2b-6435720f227c3625db4e166778d8b05420391d9f-ca44dbbe1ebb108c-01
2021-08-22T22:00:14.492Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:14.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6db0c2d9a2c01930ad424df3ef36d48ddfa8f72-dc9457b1cc8a05c6-01 outer:exit 2b-b6db0c2d9a2c01930ad424df3ef36d48ddfa8f72-d51225320b193d3a-01
2021-08-22T22:00:14.509Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:14.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e763f8def545e40363a1c7d2fd2535c6604ca68-7d6a736366c8d379-01 outer:exit 2b-5e763f8def545e40363a1c7d2fd2535c6604ca68-1b4fc9fe07174074-01
2021-08-22T22:00:14.551Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:14.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-72629ed673881b11126e1faa2578379b33ab61af-0a40525a6c39270c-01 outer:exit 2b-72629ed673881b11126e1faa2578379b33ab61af-4b7d415d2237153b-01
2021-08-22T22:00:14.555Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:14.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da39ee6d2a22b0251637d5bfe9933376c3a99af-e85d24268320239b-01 outer:exit 2b-9da39ee6d2a22b0251637d5bfe9933376c3a99af-ed9a76a62289a92b-01
2021-08-22T22:00:14.557Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:14.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-de8e7365d0fd04c156f0f2990fb6bd4b991cb080-f45bab069ca6d653-01 outer:exit 2b-de8e7365d0fd04c156f0f2990fb6bd4b991cb080-02bb4c9a5c24fc40-01
2021-08-22T22:00:14.561Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:14.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-52dccfe14cd3b35eca1b6fb50d9fa15538c7282d-85c09c70da36f54e-01 outer:exit 2b-52dccfe14cd3b35eca1b6fb50d9fa15538c7282d-e8c4b45475d082ac-01
2021-08-22T22:00:14.564Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:14.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d2fbfe9051b1796f5e96e536fbba0fad8a3d029-cd4e45d14ed8f6ce-01 outer:exit 2b-8d2fbfe9051b1796f5e96e536fbba0fad8a3d029-b6e71a2308d5a7d7-01
2021-08-22T22:00:14.566Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:14.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bfefb01e790b0e79b28baf96a5219d144aa182b-bc0a911adc353847-01 outer:exit 2b-3bfefb01e790b0e79b28baf96a5219d144aa182b-edd459e7601c3976-01
2021-08-22T22:00:14.569Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:14.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe03bcc2d84cce46d323a856879365c9da2118f0-5bdc53c0b99b774a-01 outer:exit 2b-fe03bcc2d84cce46d323a856879365c9da2118f0-a3aebe914a4cd60e-01
2021-08-22T22:00:14.571Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:14.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-35fa69a2b7c78c7e187b5731f925d4a430548baa-509d0978ff195dcc-01 outer:exit 2b-35fa69a2b7c78c7e187b5731f925d4a430548baa-7cfd48856a6a129e-01
2021-08-22T22:00:14.574Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:14.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-1434fda490f8776bada41648836f15b070125b72-de0ac86e2bb21a3d-01 outer:exit 2b-1434fda490f8776bada41648836f15b070125b72-adae2d98188a8e1e-01
2021-08-22T22:00:14.577Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:14.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b9874dab42921f335b676e41ceae4a38c48f12b-0c5ad0d539922780-01 outer:exit 2b-0b9874dab42921f335b676e41ceae4a38c48f12b-08f4fbcb974fa831-01
2021-08-22T22:00:14.580Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:14.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f14ee82038146bb0472a0dc00e7e5a1b7770282-329312b8377eccc0-01 outer:exit 2b-3f14ee82038146bb0472a0dc00e7e5a1b7770282-cad1c6a6c3b99dfe-01
2021-08-22T22:00:14.584Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:14.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-df87793fffb991cb85c4ce9ea0486cc85d2c947a-382984cdb872c349-01 outer:exit 2b-df87793fffb991cb85c4ce9ea0486cc85d2c947a-c61629dda31a6552-01
2021-08-22T22:00:14.588Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:14.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f208e49b6bc99a478e34323ae5159b011e1f4d6-2e7955bfe1fe5aaa-01 outer:exit 2b-5f208e49b6bc99a478e34323ae5159b011e1f4d6-c64801cd91006da9-01
2021-08-22T22:00:14.594Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:14.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ea65710fd7abeeae29b92d25c595f8ba20e9ecc-202b1c36d801f823-01 outer:exit 2b-4ea65710fd7abeeae29b92d25c595f8ba20e9ecc-4b18c7dbe3cef1ac-01
2021-08-22T22:00:14.600Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:14.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-efd6a1b1ea24d9ae47c7afd7b6428c4a9a634749-3c5cd0b781cbfdf8-01 outer:exit 2b-efd6a1b1ea24d9ae47c7afd7b6428c4a9a634749-9f5a119dcffde808-01
2021-08-22T22:00:14.610Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:14.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-7561a9d8424bf365a0854037420b7129a20d16d2-2df908ac566aa10d-01 outer:exit 2b-7561a9d8424bf365a0854037420b7129a20d16d2-1ffcf4b255809e4d-01
2021-08-22T22:00:14.618Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:14.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-899a45e01f5d2f68666366cfac65287b3d5cddc4-3ad3c80e1dbaa641-01 outer:exit 2b-899a45e01f5d2f68666366cfac65287b3d5cddc4-d0cb2c14470d388c-01
2021-08-22T22:00:14.620Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:14.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b8505b5dd0488a407629fba213d50883353761c-642b6c736076728d-01 outer:exit 2b-3b8505b5dd0488a407629fba213d50883353761c-c4a2ea9ea2f1337d-01
2021-08-22T22:00:14.625Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:14.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-52c5929a1f2c54a0675b500b82c1fee18c67717e-b9efc6857875a6d1-01 outer:exit 2b-52c5929a1f2c54a0675b500b82c1fee18c67717e-8845566fe6a4f20a-01
2021-08-22T22:00:14.637Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:14.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-21ba2aee7a7c05d9ea73a5e0b984348461f5c551-71fb8ae1a3fd874b-01 outer:exit 2b-21ba2aee7a7c05d9ea73a5e0b984348461f5c551-99d28c66f5818f86-01
2021-08-22T22:00:14.640Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:14.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-d889b0136ea32a5d830a2ed7971eda9f1997213e-84359b051ff8693e-01 outer:exit 2b-d889b0136ea32a5d830a2ed7971eda9f1997213e-11fe0c17ae70c756-01
2021-08-22T22:00:14.647Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:14.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea87c16267910e34bbe5c0ea3861bd0ac17cb70d-fe203cf9b4e90861-01 outer:exit 2b-ea87c16267910e34bbe5c0ea3861bd0ac17cb70d-8c0ee6e0aa5fefb4-01
2021-08-22T22:00:14.651Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:14.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-59c6b0f5fd64a8d47aebcb60d45dae4043b45ab9-5ffff3113fc42aa1-01 outer:exit 2b-59c6b0f5fd64a8d47aebcb60d45dae4043b45ab9-6e435d369c3459ad-01
2021-08-22T22:00:14.656Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:14.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f64a717ba8071a0bb208347917a864b26535fef-0aeb7d5ba3d88816-01 outer:exit 2b-2f64a717ba8071a0bb208347917a864b26535fef-e5505494aed03f8a-01
2021-08-22T22:00:14.661Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:14.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fb521652af61125cff78023082d2aa48c1ee4b9-56ddb7e0100c858b-01 outer:exit 2b-2fb521652af61125cff78023082d2aa48c1ee4b9-3e9211658db3c698-01
2021-08-22T22:00:14.677Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:14.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac24e4dd23c805c3c34074cff95ae49fe0225164-7e7061b7edeb85fc-01 outer:exit 2b-ac24e4dd23c805c3c34074cff95ae49fe0225164-2452667d1e7396f0-01
2021-08-22T22:00:14.691Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:14.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-83e65c6dc9281eb0a316156896b381a97ed143b6-ee5975a92e0b1b30-01 outer:exit 2b-83e65c6dc9281eb0a316156896b381a97ed143b6-142e0662ae1c6dc5-01
2021-08-22T22:00:14.695Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:14.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-eba656940c6ea6d7001fdc43d50d64f843fb5f6c-150b8cea6f00af58-01 outer:exit 2b-eba656940c6ea6d7001fdc43d50d64f843fb5f6c-6891091c85b356c9-01
2021-08-22T22:00:14.699Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:14.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-77faae55be6b05dda4bf0b487d2be0089450471c-04debf30575f78ce-01 outer:exit 2b-77faae55be6b05dda4bf0b487d2be0089450471c-6b66cf095df1ad2c-01
2021-08-22T22:00:14.702Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:14.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1157c91be143435ef70050ac74c2b8d5e692c23-55a0cb8cd3be39f7-01 outer:exit 2b-e1157c91be143435ef70050ac74c2b8d5e692c23-38fa6027b246fe43-01
2021-08-22T22:00:14.734Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (385ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.8
updated 1 package and audited 939 packages in 5.574s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:21.573Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:21.574Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:21.574Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:21.575Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:21.646Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:21.697Z appoptics:patching patched crypto 
2021-08-22T22:00:21.719Z appoptics:patching patched https 
2021-08-22T22:00:21.719Z appoptics:patching patched http 
2021-08-22T22:00:21.769Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:21.770Z appoptics:patching patched fs 
2021-08-22T22:00:21.786Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v14.17.5)
2021-08-22T22:00:21.793Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-08-22T22:00:21.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7fd69e1cfdf059e30c948becd029904055c9522-e7bb5ebbec5183b4-01 outer:exit 2b-e7fd69e1cfdf059e30c948becd029904055c9522-26e9bd84b58c9fae-01
2021-08-22T22:00:21.977Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:22.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c1b802051858725af7a9fbb9d2dfd159a81b1ad-424548559566f38f-01 outer:exit 2b-8c1b802051858725af7a9fbb9d2dfd159a81b1ad-6d0e0e8a5609cc09-01
2021-08-22T22:00:22.019Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:22.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6373ca125fad9af03c7fc22eafb16b29d2f1911-c68acd57df59eb7b-01 outer:exit 2b-c6373ca125fad9af03c7fc22eafb16b29d2f1911-f30588ace4755a48-01
2021-08-22T22:00:22.023Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:22.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-a67a902e6bc2858b28565aefda3d2b86d62a484f-790b7a9f66c866f3-01 outer:exit 2b-a67a902e6bc2858b28565aefda3d2b86d62a484f-165bd7de999fe011-01
2021-08-22T22:00:22.026Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:22.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b2787f78b7730ad18e5c6ca840078fe213cb9df-aba8e9e92d175969-01 outer:exit 2b-6b2787f78b7730ad18e5c6ca840078fe213cb9df-928b4fcfe05ed7db-01
2021-08-22T22:00:22.031Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:22.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-2af29a12056899cae38852656f1959b45fd8f57a-389bd91337cd1135-01 outer:exit 2b-2af29a12056899cae38852656f1959b45fd8f57a-94edd5654fe3ebbf-01
2021-08-22T22:00:22.035Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:22.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-d72fb9a3c1c3a291cfeb419bfc3bf76a46f60a9e-5e6d845b925027a3-01 outer:exit 2b-d72fb9a3c1c3a291cfeb419bfc3bf76a46f60a9e-c6ff813c174129b8-01
2021-08-22T22:00:22.038Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:22.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-e727a82c3d935218a050b06660ab4e7b205197eb-489d048ce401e317-01 outer:exit 2b-e727a82c3d935218a050b06660ab4e7b205197eb-dc75238d6488292c-01
2021-08-22T22:00:22.041Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:22.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fdbda1c1ba1e89ce91477bb6f0744939b949729-6f2842b034936f6d-01 outer:exit 2b-1fdbda1c1ba1e89ce91477bb6f0744939b949729-302bedaaebdfe5d4-01
2021-08-22T22:00:22.044Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:22.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-75fa45ed10b0247bd481daedd50a0d44b146198c-b88ee35d59aed9f3-01 outer:exit 2b-75fa45ed10b0247bd481daedd50a0d44b146198c-950bcc7018ae04ab-01
2021-08-22T22:00:22.047Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:22.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9c2bac9b21bc8cc852ffb8e7613996ebd9b9048-4f5445be5dd426c0-01 outer:exit 2b-a9c2bac9b21bc8cc852ffb8e7613996ebd9b9048-4679ae320f79f6bc-01
2021-08-22T22:00:22.052Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:22.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ee848b8fe2d3e638596dc6cc5156e556f1f7f20-dc0abd1e36407ba4-01 outer:exit 2b-7ee848b8fe2d3e638596dc6cc5156e556f1f7f20-96de815eec2b8ccb-01
2021-08-22T22:00:22.061Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:22.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-516234e4985d1c14f0cc047cc1d6f3f40f5f384a-a7f9c3b106338f4e-01 outer:exit 2b-516234e4985d1c14f0cc047cc1d6f3f40f5f384a-1f649641977cab40-01
2021-08-22T22:00:22.082Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:22.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-596556526b30d8f15e0d6e8e55f1ebeb586c8391-69b8cc0ed9d3ac09-01 outer:exit 2b-596556526b30d8f15e0d6e8e55f1ebeb586c8391-d9dc789ede41b6ed-01
2021-08-22T22:00:22.154Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:22.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-c245ba65dde2d7a8afcd6f6ae7af2cbb80e71dba-868871e26103abdd-01 outer:exit 2b-c245ba65dde2d7a8afcd6f6ae7af2cbb80e71dba-6a6a3325baefa6ec-01
2021-08-22T22:00:22.158Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:22.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7d5fbfadb43a1fcf7f18180e699773302ced7e0-e1a5f6c26e3cb23b-01 outer:exit 2b-d7d5fbfadb43a1fcf7f18180e699773302ced7e0-3418726466250c1e-01
2021-08-22T22:00:22.162Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:22.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba12381d0de3c43df7159527d686e02f5e1bdd0e-409546036f69c0b6-01 outer:exit 2b-ba12381d0de3c43df7159527d686e02f5e1bdd0e-c5be083cec338fe0-01
2021-08-22T22:00:22.165Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:22.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-97485b53bafb19b79771dfcd0108717b66f492fa-1e3b2056f2506df2-01 outer:exit 2b-97485b53bafb19b79771dfcd0108717b66f492fa-285db28b44cfcbb0-01
2021-08-22T22:00:22.168Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:22.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-55ecbb59330b04bcce9971e547ad6108ba9d64ec-eedbd2843511a9f3-01 outer:exit 2b-55ecbb59330b04bcce9971e547ad6108ba9d64ec-21b614485715035d-01
2021-08-22T22:00:22.170Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:22.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcae5dc6bdf48fb5241f3ac2815103ee2fed2efa-40246182c0d42d19-01 outer:exit 2b-dcae5dc6bdf48fb5241f3ac2815103ee2fed2efa-2051f1dd040f3454-01
2021-08-22T22:00:22.173Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:22.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-cff09b59429643b1616300e369c5c13e87ba1dcf-89d89e40a1652549-01 outer:exit 2b-cff09b59429643b1616300e369c5c13e87ba1dcf-d70f9a66d7c790c9-01
2021-08-22T22:00:22.175Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:22.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-2542bfe9cebbc23fd6e8c1be5dc84984b914874c-369bfab8763d7690-01 outer:exit 2b-2542bfe9cebbc23fd6e8c1be5dc84984b914874c-dd88c4c0d409e6d2-01
2021-08-22T22:00:22.178Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:22.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc2f96825619a8fa69e77e0879d7f2771dda23bc-cf049901b2495776-01 outer:exit 2b-cc2f96825619a8fa69e77e0879d7f2771dda23bc-78981f0493b8f9f3-01
2021-08-22T22:00:22.183Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:22.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5e397bf441368aa08bcd49d6de05afa238afdc0-82f42dc5ab4547eb-01 outer:exit 2b-e5e397bf441368aa08bcd49d6de05afa238afdc0-6aba269ae3183e96-01
2021-08-22T22:00:22.186Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:22.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-459fc89556fa13326bf9639efafb82bbe69e1e2a-a9e1d38e87aa9744-01 outer:exit 2b-459fc89556fa13326bf9639efafb82bbe69e1e2a-ecbfee3c6345ec25-01
2021-08-22T22:00:22.188Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:22.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde82a481f17ab276b769099d04683b2b4432607-5c297b3342b4bbdf-01 outer:exit 2b-fde82a481f17ab276b769099d04683b2b4432607-65d3f7556599af3a-01
2021-08-22T22:00:22.192Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:22.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-86937c93a67d332589ca00152fb9315b46e13f63-284435d3afaed73f-01 outer:exit 2b-86937c93a67d332589ca00152fb9315b46e13f63-7c58b6d3189155ab-01
2021-08-22T22:00:22.198Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:22.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-53e65cdaacd24107a18c0b022be3ac0c38a5e575-b849bbc8f587b01b-01 outer:exit 2b-53e65cdaacd24107a18c0b022be3ac0c38a5e575-28077a542a7872e0-01
2021-08-22T22:00:22.204Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:22.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2a79021c4a5ded9ff5b73390663038c4353f12-8642a9e146cf7233-01 outer:exit 2b-0c2a79021c4a5ded9ff5b73390663038c4353f12-cb2764f54d220cf7-01
2021-08-22T22:00:22.213Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:22.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2cc74f80ce449c86836370579aacb34f4a234b7-67c68ff64f344114-01 outer:exit 2b-d2cc74f80ce449c86836370579aacb34f4a234b7-3ca4fe70a7825887-01
2021-08-22T22:00:22.219Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:22.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ea7d4d255b38c8151b3ad914284f9dac3fc9c34-d869f45c8b885bca-01 outer:exit 2b-6ea7d4d255b38c8151b3ad914284f9dac3fc9c34-9649b4f0d97c553a-01
2021-08-22T22:00:22.223Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:22.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a9bf5023f475be258bb22cc695f4364567f2e5d-ab9b8efa1af13f13-01 outer:exit 2b-5a9bf5023f475be258bb22cc695f4364567f2e5d-26b2823c23601385-01
2021-08-22T22:00:22.227Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:22.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2961377dcb2ff1ef91fee7698d338a4034b3aad-059eba1fa854eb66-01 outer:exit 2b-b2961377dcb2ff1ef91fee7698d338a4034b3aad-db58cf8f417fe7a1-01
2021-08-22T22:00:22.234Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:22.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-36d8c75cab3e0e07c59ea0fa76ff4b2d5b2606e1-aaf18490510eea62-01 outer:exit 2b-36d8c75cab3e0e07c59ea0fa76ff4b2d5b2606e1-ddb968c964401b7a-01
2021-08-22T22:00:22.237Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:22.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-31fc197efa4b5aa7e16fd611e29d74707c9563ca-b80c8eefe6e4fc50-01 outer:exit 2b-31fc197efa4b5aa7e16fd611e29d74707c9563ca-ce2ed7415f813cca-01
2021-08-22T22:00:22.239Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:22.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6e50ea903234d97ba106e91a7674f5ded0dbc86-5f789a3da2a90cb0-01 outer:exit 2b-a6e50ea903234d97ba106e91a7674f5ded0dbc86-13f10eda0fb7aec4-01
2021-08-22T22:00:22.250Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:22.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-697c0a4bb865f42be9a90230bbec8659778fc624-6e58c077d9822e2c-01 outer:exit 2b-697c0a4bb865f42be9a90230bbec8659778fc624-da61c26708c3cfde-01
2021-08-22T22:00:22.254Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:22.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3fbf87a1e36b9c6ba18de1aed52e0a914351541-bdc8d3208dbd3473-01 outer:exit 2b-f3fbf87a1e36b9c6ba18de1aed52e0a914351541-7c75596fd47b67e3-01
2021-08-22T22:00:22.258Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:22.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-541b412d6727cac2937b006eca50e0231eb64601-d7142ae4078c4584-01 outer:exit 2b-541b412d6727cac2937b006eca50e0231eb64601-f7fc377dcbb8b061-01
2021-08-22T22:00:22.275Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:22.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f2e6650f8322376ba691029d3ac67efff41a0a-ff330019dd13117f-01 outer:exit 2b-49f2e6650f8322376ba691029d3ac67efff41a0a-da4dca860631771d-01
2021-08-22T22:00:22.286Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:22.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b68ab26a87e73e09844feae25bf69932431b708-8003d9e65ca14f7d-01 outer:exit 2b-6b68ab26a87e73e09844feae25bf69932431b708-19d197e75d30d05a-01
2021-08-22T22:00:22.289Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:22.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d30a8989a08baf6b52d877809ffa73e11287516-4885508eaa11e27e-01 outer:exit 2b-4d30a8989a08baf6b52d877809ffa73e11287516-25cd7b07a1910532-01
2021-08-22T22:00:22.292Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:22.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-781a9ae5dfac09ab6c15a7667184feb84bd88f28-57700f7b3c6a2955-01 outer:exit 2b-781a9ae5dfac09ab6c15a7667184feb84bd88f28-3428078814404a18-01
2021-08-22T22:00:22.295Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:22.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-5230a45d3d7543d8f3e524ee2daf015d9efb3bbe-fb13b1e8e204f1f3-01 outer:exit 2b-5230a45d3d7543d8f3e524ee2daf015d9efb3bbe-b04e55d1b5422713-01
2021-08-22T22:00:22.326Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (395ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.9
updated 1 package and audited 939 packages in 4.59s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:27.968Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:27.969Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:27.969Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:27.970Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:28.037Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:28.092Z appoptics:patching patched crypto 
2021-08-22T22:00:28.116Z appoptics:patching patched https 
2021-08-22T22:00:28.116Z appoptics:patching patched http 
2021-08-22T22:00:28.163Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:28.164Z appoptics:patching patched fs 
2021-08-22T22:00:28.178Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v14.17.5)
2021-08-22T22:00:28.186Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-08-22T22:00:28.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-38fd54f1f8f1994015729f29a8190c6e915c2229-78dd134e28b2ddc9-01 outer:exit 2b-38fd54f1f8f1994015729f29a8190c6e915c2229-27abd8eaa074412d-01
2021-08-22T22:00:28.340Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:28.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dc8fea03ef07a02158df72b2dad731b182be969-e5788a36a9cf8c9e-01 outer:exit 2b-7dc8fea03ef07a02158df72b2dad731b182be969-37fc4f1609f19c2b-01
2021-08-22T22:00:28.395Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:28.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd5d99731b42af2b8ce1376d1bc85858029479a-4d59d11495d4ce2e-01 outer:exit 2b-bfd5d99731b42af2b8ce1376d1bc85858029479a-d89bcaba593dbf3d-01
2021-08-22T22:00:28.398Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:28.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-173c2a82c1d0184cb1f84f96e6e4d30d565dcf91-4d091dffa04fb7df-01 outer:exit 2b-173c2a82c1d0184cb1f84f96e6e4d30d565dcf91-79be218fecd4f35d-01
2021-08-22T22:00:28.401Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:28.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-47727483fc0d89ed1098a2aa1515efb8d2e3aee6-ae0c631e9320d618-01 outer:exit 2b-47727483fc0d89ed1098a2aa1515efb8d2e3aee6-cf2128b019faee70-01
2021-08-22T22:00:28.407Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:28.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-89a0bb685fbeda8ebfe77eb9484cb2c244899907-07ff3fcb2a42b23b-01 outer:exit 2b-89a0bb685fbeda8ebfe77eb9484cb2c244899907-0de63e28e66c9374-01
2021-08-22T22:00:28.410Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:28.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-606a95860d23df15ad603ab43444d315bcc0d705-c41dd41fe817176d-01 outer:exit 2b-606a95860d23df15ad603ab43444d315bcc0d705-df8e43bc00f02300-01
2021-08-22T22:00:28.413Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:28.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-36880e34d17cde3810d3f351cbb1a651e76dd5ba-a6c7d60d5a9ab404-01 outer:exit 2b-36880e34d17cde3810d3f351cbb1a651e76dd5ba-de16f1902e62e8ab-01
2021-08-22T22:00:28.416Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:28.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-607a7efe927d27dfefca0b9568f8625cfb6687c2-162252ad60b62d92-01 outer:exit 2b-607a7efe927d27dfefca0b9568f8625cfb6687c2-c07959841c71326f-01
2021-08-22T22:00:28.419Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:28.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b5325cc3541ce5f6825b2e1fafa05e91203a82e-a5548bd6524be8f1-01 outer:exit 2b-5b5325cc3541ce5f6825b2e1fafa05e91203a82e-26241dbe64ad269c-01
2021-08-22T22:00:28.421Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:28.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-f39de121642217a7217220de153dd14582a5560d-b3739a8f1893eba7-01 outer:exit 2b-f39de121642217a7217220de153dd14582a5560d-c9374f25a309eb68-01
2021-08-22T22:00:28.425Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:28.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-e008466592e34f4541fc19a0554a1537607d760d-949092587b3593fa-01 outer:exit 2b-e008466592e34f4541fc19a0554a1537607d760d-24ea508a417affb7-01
2021-08-22T22:00:28.432Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:28.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2101b84f044c94abc69910b85f2eafba717f58f-876775992dcb39c3-01 outer:exit 2b-c2101b84f044c94abc69910b85f2eafba717f58f-dd55b62d7bfe70c0-01
2021-08-22T22:00:28.449Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:28.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-82e547d9005cf31776e03093c8e05033544cb048-dc4f001714f93059-01 outer:exit 2b-82e547d9005cf31776e03093c8e05033544cb048-da1d1e365a52219a-01
2021-08-22T22:00:28.499Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:28.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-58448a29b6c17a27f7b186374ed1252b293393b4-4580764929861f02-01 outer:exit 2b-58448a29b6c17a27f7b186374ed1252b293393b4-5f384e2ed172c2b9-01
2021-08-22T22:00:28.502Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:28.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-7870dd02842db192352886802add3c5e8b63f53f-50df2a17bd9ad045-01 outer:exit 2b-7870dd02842db192352886802add3c5e8b63f53f-b380cc83a2a57c25-01
2021-08-22T22:00:28.504Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:28.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-658d88c51342210d2e2ab993030453aea3c2b1dc-3b1829a6b3329acb-01 outer:exit 2b-658d88c51342210d2e2ab993030453aea3c2b1dc-fda36dba6187f590-01
2021-08-22T22:00:28.507Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:28.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-910cb8fdd3c89aba0c63a1f52bd37523e7bd1cfc-9a86483f32f91cad-01 outer:exit 2b-910cb8fdd3c89aba0c63a1f52bd37523e7bd1cfc-1e7485c4f90acc46-01
2021-08-22T22:00:28.510Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:28.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-aede47c41efbaa5a97dc74fd805636e85f0cd2eb-90f3e96e44fb956e-01 outer:exit 2b-aede47c41efbaa5a97dc74fd805636e85f0cd2eb-c8fb3dc87b9de6a6-01
2021-08-22T22:00:28.512Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:28.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff13f12db48cf41417927fe7fab49b6dd32dfac-148b1fb88fd82661-01 outer:exit 2b-4ff13f12db48cf41417927fe7fab49b6dd32dfac-b141bc0cbde92fe7-01
2021-08-22T22:00:28.514Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:28.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-01fe543f65f4176c6b8d5e297e7bb7f23f2f7d33-fed56a515c172967-01 outer:exit 2b-01fe543f65f4176c6b8d5e297e7bb7f23f2f7d33-cca9cad460afc0fb-01
2021-08-22T22:00:28.516Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:28.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-7778cc2a3056fefa0aed7d76e6430aca296c5330-747cd86f78795aac-01 outer:exit 2b-7778cc2a3056fefa0aed7d76e6430aca296c5330-6bd0c382736d0ebe-01
2021-08-22T22:00:28.518Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:28.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c01d897bf508a79d88ec83d2f9f68ca8b6cd257-6778ef9bdc31735e-01 outer:exit 2b-2c01d897bf508a79d88ec83d2f9f68ca8b6cd257-48174e7cbd92c76e-01
2021-08-22T22:00:28.521Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:28.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-96b2ca6c24c1004d03e49f1913e4d716643d2d94-bd609895a407c7a5-01 outer:exit 2b-96b2ca6c24c1004d03e49f1913e4d716643d2d94-f055a4505031601a-01
2021-08-22T22:00:28.524Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:28.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eb724afa691a43fac8a2cfa73b79c9e40e99448-a1e8233f99d214ee-01 outer:exit 2b-3eb724afa691a43fac8a2cfa73b79c9e40e99448-2038174fb044eff5-01
2021-08-22T22:00:28.526Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:28.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a106d13d2eacdc665913a3172d1d21d155173d9-b9e7d2fced23f500-01 outer:exit 2b-9a106d13d2eacdc665913a3172d1d21d155173d9-1eab611c5e579b1b-01
2021-08-22T22:00:28.529Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:28.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c3c09e773fda29fd7fc9ef91eefbd622955069-de12ff2b10c685b7-01 outer:exit 2b-65c3c09e773fda29fd7fc9ef91eefbd622955069-d8f3c694b4917b25-01
2021-08-22T22:00:28.535Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:28.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a43d36d9adfae9a1b2b2bbbc7bb7b152469a598-4737fa35ac926b9f-01 outer:exit 2b-7a43d36d9adfae9a1b2b2bbbc7bb7b152469a598-65fe451b31a48f39-01
2021-08-22T22:00:28.540Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:28.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-9550c6a6e45b4cf602d49f1dad5352fb127a4eb3-70aef756c85092ca-01 outer:exit 2b-9550c6a6e45b4cf602d49f1dad5352fb127a4eb3-4de47a7a6bfc8089-01
2021-08-22T22:00:28.550Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:28.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-535612c65b02777f2cdb17e02219aa34f41c2917-6f8f90936955906a-01 outer:exit 2b-535612c65b02777f2cdb17e02219aa34f41c2917-5a201379ff98f127-01
2021-08-22T22:00:28.557Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:28.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-c77c70c890507b1187b66685892e6ac3262b59d2-c25c94ffc425fb0b-01 outer:exit 2b-c77c70c890507b1187b66685892e6ac3262b59d2-8800fa3fc05d22ff-01
2021-08-22T22:00:28.559Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:28.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-845a37150885abf9f5bdd025cee0c709eb046c81-b8e9389deba3041b-01 outer:exit 2b-845a37150885abf9f5bdd025cee0c709eb046c81-08a39ab4c94fb993-01
2021-08-22T22:00:28.563Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:28.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d58cf498ac24c0b32ba36731538d911ed5d4f67-96e42b4f0cbc299d-01 outer:exit 2b-9d58cf498ac24c0b32ba36731538d911ed5d4f67-04764ecba91942e1-01
2021-08-22T22:00:28.570Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:28.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ab4bd2d82b1c6b105f100f2d9bca48726b39cf-d0a4569fe2b1b0b8-01 outer:exit 2b-b0ab4bd2d82b1c6b105f100f2d9bca48726b39cf-3fa4c184f9639957-01
2021-08-22T22:00:28.572Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:28.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-c62310d63e6305b010b88b41c0facc30f531450b-373da080c7e86960-01 outer:exit 2b-c62310d63e6305b010b88b41c0facc30f531450b-e432f328e7b44528-01
2021-08-22T22:00:28.578Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:28.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-40e250cc7858331bd8d17db651badef2d0053b8a-40719dde8cd2c984-01 outer:exit 2b-40e250cc7858331bd8d17db651badef2d0053b8a-f6eac2d7daae970b-01
2021-08-22T22:00:28.582Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:28.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-799106dd587969de1e943190351dd63e0b24d11b-c8b2a9a7e75a739f-01 outer:exit 2b-799106dd587969de1e943190351dd63e0b24d11b-4646ca636e761043-01
2021-08-22T22:00:28.585Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:28.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-286720b90142ea4a8d42b19dcda3357fce0970b6-9075dedb4152d405-01 outer:exit 2b-286720b90142ea4a8d42b19dcda3357fce0970b6-d51483cb231ef0a2-01
2021-08-22T22:00:28.589Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:28.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf178d2904cabdcaa0b32655e97a9abfb1f79857-8ae4429ec6621d34-01 outer:exit 2b-cf178d2904cabdcaa0b32655e97a9abfb1f79857-c4a966f12ffbce26-01
2021-08-22T22:00:28.602Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:28.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4f562cb337f74cf39cd5aa371ae66b30727f541-d3c520fd16a0d0b7-01 outer:exit 2b-e4f562cb337f74cf39cd5aa371ae66b30727f541-74159e24e0886824-01
2021-08-22T22:00:28.611Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:28.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ea2bf49c2c85ce8afa503eb25eb226e7f48d04-c701ddbb0855e6b7-01 outer:exit 2b-e5ea2bf49c2c85ce8afa503eb25eb226e7f48d04-3bb8b5e41ce22797-01
2021-08-22T22:00:28.614Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:28.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ffaf9f6286f571fdf8d1dc051d4284789d1cb5-6b1d6c741b631b0d-01 outer:exit 2b-c8ffaf9f6286f571fdf8d1dc051d4284789d1cb5-706ee96fe8ec6b46-01
2021-08-22T22:00:28.617Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:28.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-20bc45b0f58f5ab9175fea39c4525e4f29de3541-e7136e5c531490bc-01 outer:exit 2b-20bc45b0f58f5ab9175fea39c4525e4f29de3541-3a8daef5426da4aa-01
2021-08-22T22:00:28.620Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:28.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e432ae045d342cf8a1d3092fe9b34c183d14c3d-20b3d56715cbb311-01 outer:exit 2b-1e432ae045d342cf8a1d3092fe9b34c183d14c3d-9124ce4a8e6ef724-01
2021-08-22T22:00:28.647Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (345ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.10
updated 1 package and audited 939 packages in 5.528s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:35.152Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:35.152Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:35.152Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:35.153Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:35.214Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:35.258Z appoptics:patching patched crypto 
2021-08-22T22:00:35.278Z appoptics:patching patched https 
2021-08-22T22:00:35.278Z appoptics:patching patched http 
2021-08-22T22:00:35.324Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:35.324Z appoptics:patching patched fs 
2021-08-22T22:00:35.339Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v14.17.5)
2021-08-22T22:00:35.345Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-08-22T22:00:35.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-72fe7b2688f4471a4dd57142bdd80543d3a64adf-cc9829180dd7d7c8-01 outer:exit 2b-72fe7b2688f4471a4dd57142bdd80543d3a64adf-c3e28dad0ddad0af-01
2021-08-22T22:00:35.500Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:35.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed2c7c2d0853f95e6ee874a05b798695956a367-5c3950a84745b184-01 outer:exit 2b-bed2c7c2d0853f95e6ee874a05b798695956a367-a6f4762d0383e42e-01
2021-08-22T22:00:35.545Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:35.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0e722977aec7b9c755b3e912297fbb71026847b-3be4331b1d2c9e33-01 outer:exit 2b-b0e722977aec7b9c755b3e912297fbb71026847b-1462ea602485ebf7-01
2021-08-22T22:00:35.549Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:35.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-163968616941a7cf890a6ac5814ce73137c8847c-026f57664cd70f1c-01 outer:exit 2b-163968616941a7cf890a6ac5814ce73137c8847c-c32bfc2787e0605d-01
2021-08-22T22:00:35.552Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:35.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-c58ecfa4879bc29d4d6a7739270ef4fff1b0e441-4ee97b3b74486399-01 outer:exit 2b-c58ecfa4879bc29d4d6a7739270ef4fff1b0e441-072e35f77caedde6-01
2021-08-22T22:00:35.557Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:35.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-27df9647df50d0a3acadf9c8a46bf9f3149435af-2ef5b175a8ccd89b-01 outer:exit 2b-27df9647df50d0a3acadf9c8a46bf9f3149435af-5089a3b2ec7ecc14-01
2021-08-22T22:00:35.560Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:35.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-598bce1160e014820d0c3e3a22cad36d4f3aace8-f336467061462ef8-01 outer:exit 2b-598bce1160e014820d0c3e3a22cad36d4f3aace8-e6c28eff2d767bc4-01
2021-08-22T22:00:35.563Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:35.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-424dd4f030c771a4904162757a8016e2b5da391b-c4028b54af561a18-01 outer:exit 2b-424dd4f030c771a4904162757a8016e2b5da391b-8e3454e9f8386dea-01
2021-08-22T22:00:35.566Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:35.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0cd4f12198783530448b4143ba1c86422ccd56a-ba1cdf07a7956f47-01 outer:exit 2b-f0cd4f12198783530448b4143ba1c86422ccd56a-d5935c946b838d60-01
2021-08-22T22:00:35.568Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:35.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-388118f6ecda7e9da16a3015bc0e4fca4150e968-92e1a0bdd9d57c18-01 outer:exit 2b-388118f6ecda7e9da16a3015bc0e4fca4150e968-10706d9184f3b8bf-01
2021-08-22T22:00:35.572Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:35.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-59a6c60c496071c730461231c1440d13012b06f3-7c24fb742e9f5988-01 outer:exit 2b-59a6c60c496071c730461231c1440d13012b06f3-f16bfa21aacddd3c-01
2021-08-22T22:00:35.575Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:35.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-02462ba6c538a6e0a5ff116fd1eaa32ea619aba9-9ce2b66fcb2b1524-01 outer:exit 2b-02462ba6c538a6e0a5ff116fd1eaa32ea619aba9-cfddef0f16a4a7bb-01
2021-08-22T22:00:35.582Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:35.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e7f33c4f58073198fa596530d5414750e71d6ce-2685b18df6c4afe0-01 outer:exit 2b-1e7f33c4f58073198fa596530d5414750e71d6ce-51774fef4587d67a-01
2021-08-22T22:00:35.597Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:35.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0afcb4a1777cd0ed8a9dd43cbdb61760478595b-87286ccd1d2aa554-01 outer:exit 2b-b0afcb4a1777cd0ed8a9dd43cbdb61760478595b-7f31e3fac093b58c-01
2021-08-22T22:00:35.645Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:35.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb3dd6efeda26b63ede6baeb0f24b0205d0e0b2e-003ec06113fedbbb-01 outer:exit 2b-fb3dd6efeda26b63ede6baeb0f24b0205d0e0b2e-e61234fc25d09097-01
2021-08-22T22:00:35.648Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:35.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-d42b0fa0efe5565ade566db868ebfc1951ec7b51-81e5cd4cd0602361-01 outer:exit 2b-d42b0fa0efe5565ade566db868ebfc1951ec7b51-dab96f7d49b7f965-01
2021-08-22T22:00:35.650Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:35.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-f923ed43bd4ec69129e7df3dff2e8bb36fc86149-cf6763fcdf172e00-01 outer:exit 2b-f923ed43bd4ec69129e7df3dff2e8bb36fc86149-234552cd00a63515-01
2021-08-22T22:00:35.653Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:35.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c2eff72d89efbafb7fb702a126f9c3209dd5ed0-126aeea4c3230411-01 outer:exit 2b-1c2eff72d89efbafb7fb702a126f9c3209dd5ed0-083dc5efd9a87782-01
2021-08-22T22:00:35.655Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:35.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcba6290c5cd59e8003b9d9950621942d47c4558-87f0911703795f12-01 outer:exit 2b-fcba6290c5cd59e8003b9d9950621942d47c4558-ce34279b60c9b3ff-01
2021-08-22T22:00:35.658Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:35.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6c070cb0e9d4230f470f9bbb0f1ed68cf78b83d-c1b0754404ba091c-01 outer:exit 2b-e6c070cb0e9d4230f470f9bbb0f1ed68cf78b83d-c7e5ec91c61cabd6-01
2021-08-22T22:00:35.660Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:35.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a8bf9b8b9dc2adcc3ec3fc5c57e5bc56bf33b11-b3d03bb298a0ac05-01 outer:exit 2b-9a8bf9b8b9dc2adcc3ec3fc5c57e5bc56bf33b11-eaa74735a617d79c-01
2021-08-22T22:00:35.662Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:35.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-734bba76dedec308b8f98d40a0286bfbc0c0af9a-0b28a5a49a9713ce-01 outer:exit 2b-734bba76dedec308b8f98d40a0286bfbc0c0af9a-0acef01897e48779-01
2021-08-22T22:00:35.664Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:35.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-26caef41ebb4bea0ca303cc5f5b0e2f61bf4c78b-1b884c5732f2a466-01 outer:exit 2b-26caef41ebb4bea0ca303cc5f5b0e2f61bf4c78b-514b08f3a1a5ecbc-01
2021-08-22T22:00:35.667Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:35.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee578c135cc82d2d6cf7a48142356cd59c233e8d-73d58367e1bb839c-01 outer:exit 2b-ee578c135cc82d2d6cf7a48142356cd59c233e8d-eb8448ff45f484d8-01
2021-08-22T22:00:35.670Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:35.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e883010755ca2c08cdbdd5321122c853890b11b-e54c7f77edb64943-01 outer:exit 2b-3e883010755ca2c08cdbdd5321122c853890b11b-0a525f2c717c18c7-01
2021-08-22T22:00:35.672Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:35.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bc4ca7da24616478dfac8121e1a4d8d57a01be6-a05c55dc2edc7503-01 outer:exit 2b-8bc4ca7da24616478dfac8121e1a4d8d57a01be6-5d74a8f0a2f64395-01
2021-08-22T22:00:35.675Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:35.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-1edfa60ba443cea7f370d7645f36589d4f607e9e-5d8340be75ea3b73-01 outer:exit 2b-1edfa60ba443cea7f370d7645f36589d4f607e9e-bdf251ae6fc907b1-01
2021-08-22T22:00:35.681Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:35.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-129140d7bd78dc798deffa0009483af4ec375446-11ee97d5580e7260-01 outer:exit 2b-129140d7bd78dc798deffa0009483af4ec375446-e2fd6d81f4422c49-01
2021-08-22T22:00:35.687Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:35.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a607941ed6a665bfe9f6ab1e65153479a188de2-1c8c6cde8ce3f1f7-01 outer:exit 2b-7a607941ed6a665bfe9f6ab1e65153479a188de2-216e5f38f5f065aa-01
2021-08-22T22:00:35.695Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:35.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-b44966917d37072f7522d546db2e51aee8f71bc4-81f10821e1b2371d-01 outer:exit 2b-b44966917d37072f7522d546db2e51aee8f71bc4-b7b06a8e42bf489b-01
2021-08-22T22:00:35.702Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:35.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b8cd8e58d192086ecc586c8ae3f8dd1b0b53a02-555d24799445d2c4-01 outer:exit 2b-3b8cd8e58d192086ecc586c8ae3f8dd1b0b53a02-bff451be3218e8b6-01
2021-08-22T22:00:35.704Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:35.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae7df053f4f8f6f5323c3784664c618a045dfadc-bb864e0eb4b701e7-01 outer:exit 2b-ae7df053f4f8f6f5323c3784664c618a045dfadc-205ef5446954d5f8-01
2021-08-22T22:00:35.708Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:35.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ada217d9b1d9c8500d38095bd06d3982b55743d-cbe4f5d29cd6cb26-01 outer:exit 2b-4ada217d9b1d9c8500d38095bd06d3982b55743d-448173bed326ed75-01
2021-08-22T22:00:35.714Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:35.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-5301fc98bd57e2824912dddfc4e2fa6a848fca18-fe07055915def2c4-01 outer:exit 2b-5301fc98bd57e2824912dddfc4e2fa6a848fca18-42117cdfd3e82384-01
2021-08-22T22:00:35.717Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:35.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-b45c589b4f5e9a7c2951abf6cd0704d88511c4c3-a402ec59e6e30c2b-01 outer:exit 2b-b45c589b4f5e9a7c2951abf6cd0704d88511c4c3-6f96ebcbac352d1c-01
2021-08-22T22:00:35.719Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:35.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d7767c4f95504986d3e430027813e49b10a5d6a-b0bebd93546afd4a-01 outer:exit 2b-6d7767c4f95504986d3e430027813e49b10a5d6a-479dc6fc16cd45ca-01
2021-08-22T22:00:35.736Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:35.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-e96a9409b1c4eeed4967773690d82622c9077d45-cfb576798397aa21-01 outer:exit 2b-e96a9409b1c4eeed4967773690d82622c9077d45-eb693958c7b4b691-01
2021-08-22T22:00:35.741Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:35.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee1a467e5fd5a3c87d4d37fd78b62418d957f11e-4034d4cc85f9ca83-01 outer:exit 2b-ee1a467e5fd5a3c87d4d37fd78b62418d957f11e-fb74ab820e0e1277-01
2021-08-22T22:00:35.743Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:35.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-57cdddecc779510ac3ce9b08dc79dbcf4672b003-015f3c958258fa28-01 outer:exit 2b-57cdddecc779510ac3ce9b08dc79dbcf4672b003-8920189ec75bd1c5-01
2021-08-22T22:00:35.753Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:35.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-f402969dd5b0f37db49f71abb5b35cb5ccf7afd4-18ece12967386236-01 outer:exit 2b-f402969dd5b0f37db49f71abb5b35cb5ccf7afd4-92d4dd9223f8973b-01
2021-08-22T22:00:35.761Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:35.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-5079c5f9018d40f0d0c86f298aae8da468b40cae-a973b917761c50fe-01 outer:exit 2b-5079c5f9018d40f0d0c86f298aae8da468b40cae-66a231092837970a-01
2021-08-22T22:00:35.765Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:35.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-e82e1a0c3f8031bb226eff2278999695cd0ebc99-74777f1029dc9d22-01 outer:exit 2b-e82e1a0c3f8031bb226eff2278999695cd0ebc99-83911bce06ebd2cc-01
2021-08-22T22:00:35.767Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:35.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4ff2d340f96aba8b70068075d2c23f75b7e5a25-e22fbddecac48787-01 outer:exit 2b-a4ff2d340f96aba8b70068075d2c23f75b7e5a25-921aeb063148a172-01
2021-08-22T22:00:35.770Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:35.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-eabb9b5e8774ab39db99392cdb3e027778d5d00c-8297bd9b8f5ca390-01 outer:exit 2b-eabb9b5e8774ab39db99392cdb3e027778d5d00c-064f93d7e7ff10d7-01
2021-08-22T22:00:35.796Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (334ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.11
updated 1 package and audited 939 packages in 4.105s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:40.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:40.866Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:40.866Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:40.867Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:40.928Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:40.973Z appoptics:patching patched crypto 
2021-08-22T22:00:40.994Z appoptics:patching patched https 
2021-08-22T22:00:40.994Z appoptics:patching patched http 
2021-08-22T22:00:41.041Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:41.042Z appoptics:patching patched fs 
2021-08-22T22:00:41.056Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v14.17.5)
2021-08-22T22:00:41.064Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-08-22T22:00:41.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-110ecc2169c13623b9e4593291bfcf46930800bc-ce0fe4061a1bb9b1-01 outer:exit 2b-110ecc2169c13623b9e4593291bfcf46930800bc-05a6d2612c7c2b2f-01
2021-08-22T22:00:41.224Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:41.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-b24ee75473d5d182d6384a1365d92c5c289e7b91-8cb63a8822a2bbdf-01 outer:exit 2b-b24ee75473d5d182d6384a1365d92c5c289e7b91-b7bdce199c0e7cb0-01
2021-08-22T22:00:41.300Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:41.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a1cd0085dccf5e7ebcc2a87b482c2e140848b91-1877a998df679bb2-01 outer:exit 2b-5a1cd0085dccf5e7ebcc2a87b482c2e140848b91-68bdba3b0db95ce4-01
2021-08-22T22:00:41.304Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:41.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-666a2f83353c6370a4a681b5426f6ad044bf3054-1975c2d99dfeab6e-01 outer:exit 2b-666a2f83353c6370a4a681b5426f6ad044bf3054-cd5c31e5ef49bfbf-01
2021-08-22T22:00:41.307Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:41.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-a31653faacca7974e648f00830d2f82426daa3a1-f9ea23c0d0249731-01 outer:exit 2b-a31653faacca7974e648f00830d2f82426daa3a1-f4a41d870b2ca535-01
2021-08-22T22:00:41.314Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:41.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b81be1be08829d2dc56df2463ef1f5ca80baff-bb69f2979186bf54-01 outer:exit 2b-45b81be1be08829d2dc56df2463ef1f5ca80baff-936534c531fc074e-01
2021-08-22T22:00:41.318Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:41.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bee0a4dba58fd0d200c7fc43085fabd343c56e5-a08065416f669bf7-01 outer:exit 2b-2bee0a4dba58fd0d200c7fc43085fabd343c56e5-fae8a3cf2621b06e-01
2021-08-22T22:00:41.320Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:41.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-044aa59b7db6847a5e64342efbc92bcce239cbb1-e0ffaa90a1258a29-01 outer:exit 2b-044aa59b7db6847a5e64342efbc92bcce239cbb1-526a96eaa8d98a8e-01
2021-08-22T22:00:41.324Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:41.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-b291793fe5465f64c4c6742bd7087e8197b90ed3-e6c77f693ccdf299-01 outer:exit 2b-b291793fe5465f64c4c6742bd7087e8197b90ed3-e13a38dab2190d24-01
2021-08-22T22:00:41.327Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:41.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc541c8a23b9f2a17d0c5f6c78a98c33376cdf69-d0ddda21c65a30c7-01 outer:exit 2b-cc541c8a23b9f2a17d0c5f6c78a98c33376cdf69-602d31ea22371d77-01
2021-08-22T22:00:41.329Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:41.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-3997956650716b3306eb64c197c5d71a4a09d311-914129d6efd4eba0-01 outer:exit 2b-3997956650716b3306eb64c197c5d71a4a09d311-5c48d5dcc4cb10bf-01
2021-08-22T22:00:41.334Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:41.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b9bd31895faa7461ee08132c8ba99acf9d975c7-c0725ffc2d5450f4-01 outer:exit 2b-4b9bd31895faa7461ee08132c8ba99acf9d975c7-8b281193d3cf9b86-01
2021-08-22T22:00:41.340Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:41.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced48a165f4f078154be005aa9b0319896cfecf7-d9b873f72490c752-01 outer:exit 2b-ced48a165f4f078154be005aa9b0319896cfecf7-fb4d6c37e3494a61-01
2021-08-22T22:00:41.354Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:41.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-41dfbade266fc639814cfcb55c04cdf9ceba6b8d-f63c86701cb5d2fe-01 outer:exit 2b-41dfbade266fc639814cfcb55c04cdf9ceba6b8d-e46b4a679dc58bc0-01
2021-08-22T22:00:41.396Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:41.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-2acdf7eef5765cebc74dafb464e9ff61fa52ad2f-91bb0ec2574e17d1-01 outer:exit 2b-2acdf7eef5765cebc74dafb464e9ff61fa52ad2f-7edf058a20d84f5f-01
2021-08-22T22:00:41.399Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:41.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd0b75222c0d005e8db54d036ee823fc32279f16-bdd0996571f9cb64-01 outer:exit 2b-bd0b75222c0d005e8db54d036ee823fc32279f16-f151f51258b85219-01
2021-08-22T22:00:41.402Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:41.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-26ccd8a130b892322c80c1042651a432799aaf7c-c8cde1523fd18337-01 outer:exit 2b-26ccd8a130b892322c80c1042651a432799aaf7c-9bbf07f5065173c8-01
2021-08-22T22:00:41.405Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:41.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e3d1f91619dbe47bcdeb6e822e2a4bd8d701b1f-d13c4ffff59067fd-01 outer:exit 2b-8e3d1f91619dbe47bcdeb6e822e2a4bd8d701b1f-614acc0cb4023adf-01
2021-08-22T22:00:41.407Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:41.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-589300283a947811af68ab9849e1e67e42273299-d8aed9ebc2c42fa3-01 outer:exit 2b-589300283a947811af68ab9849e1e67e42273299-eb56c105bb544ded-01
2021-08-22T22:00:41.410Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:41.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-1273afed745bdb01cfd97804c07ae2e0110ed1d6-a9bebb68e82beae5-01 outer:exit 2b-1273afed745bdb01cfd97804c07ae2e0110ed1d6-b57331ea09451d9f-01
2021-08-22T22:00:41.412Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:41.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc64993849670d034835b27615cb9a8be0df6cf3-927da459d9479053-01 outer:exit 2b-dc64993849670d034835b27615cb9a8be0df6cf3-0cf98f0d483367a4-01
2021-08-22T22:00:41.414Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:41.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7a6fa39093af579ccaf56cbb77ee0aaf73498d5-dc1b695417d826aa-01 outer:exit 2b-f7a6fa39093af579ccaf56cbb77ee0aaf73498d5-aecf30f30aefc28a-01
2021-08-22T22:00:41.416Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:41.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-11d165b86484ef9a49b781dc9d78b3aa3e6412e9-495e5e706c4eed26-01 outer:exit 2b-11d165b86484ef9a49b781dc9d78b3aa3e6412e9-219b1b5f3f29ec08-01
2021-08-22T22:00:41.420Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:41.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ad969da981e8921c578d07746cf33245b03608b-113107b512c8b05c-01 outer:exit 2b-4ad969da981e8921c578d07746cf33245b03608b-4e021fb8681b8ee7-01
2021-08-22T22:00:41.422Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:41.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-e441c84a6fbe89a6db83795908e511b655a8591c-7ffeceaaefb9d49c-01 outer:exit 2b-e441c84a6fbe89a6db83795908e511b655a8591c-15d46eb905d0eee5-01
2021-08-22T22:00:41.425Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:41.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-4060eee2ec5d4cec88a52785fa815f4c1d2c3288-f3ca110ecc9f906a-01 outer:exit 2b-4060eee2ec5d4cec88a52785fa815f4c1d2c3288-474e6f10fe71ecdb-01
2021-08-22T22:00:41.428Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:41.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-45dd456427289678705cd83cc5033abbca2ea3ec-b681482c0a6a5452-01 outer:exit 2b-45dd456427289678705cd83cc5033abbca2ea3ec-e9e2f065bdbe439a-01
2021-08-22T22:00:41.434Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:41.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-34cf454ce4bc272d27bea3d9115a6dbb7a1f3c27-41b69163dd0c15fa-01 outer:exit 2b-34cf454ce4bc272d27bea3d9115a6dbb7a1f3c27-fa01a11e1eb42403-01
2021-08-22T22:00:41.441Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:41.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-d449374146f6aa4523e7bab2ef3c7cdcd84e573f-2666c8df92d4f9eb-01 outer:exit 2b-d449374146f6aa4523e7bab2ef3c7cdcd84e573f-af98d76c1fb7f418-01
2021-08-22T22:00:41.449Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:41.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bd035ddb660dfe13dbd95a63b3bd54e76134dc7-025b3204daed254e-01 outer:exit 2b-2bd035ddb660dfe13dbd95a63b3bd54e76134dc7-0dd670dfdb049231-01
2021-08-22T22:00:41.456Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:41.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed6615bf058ff96da37064d8a675e9e36a5d1020-b27a4919f3519898-01 outer:exit 2b-ed6615bf058ff96da37064d8a675e9e36a5d1020-9ab5230eeed92438-01
2021-08-22T22:00:41.459Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:41.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-e919bca45feaf30c868d6d4b6efe9548321f3164-3b83a9f6ab6994c1-01 outer:exit 2b-e919bca45feaf30c868d6d4b6efe9548321f3164-07ad85956a1d38b7-01
2021-08-22T22:00:41.462Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:41.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-093aba702951c3b16ad543468571a0b268d535e2-04888cb316caae9f-01 outer:exit 2b-093aba702951c3b16ad543468571a0b268d535e2-f4e9efbca8aee063-01
2021-08-22T22:00:41.469Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:41.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-efc5b4b3e95d0cfb629e5f035037057fbfc7b083-bf2e4f3799bfa98a-01 outer:exit 2b-efc5b4b3e95d0cfb629e5f035037057fbfc7b083-966a486859ba7420-01
2021-08-22T22:00:41.472Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:41.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4847ca9745be9b1b42db2238154a1d510e463c9-cfae6f61706433f8-01 outer:exit 2b-f4847ca9745be9b1b42db2238154a1d510e463c9-0ec4967bfcfa1214-01
2021-08-22T22:00:41.478Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:41.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-da126d1cd9950d41dd6b1aa27c53c22b5a2a25af-cc935ef78dc80a39-01 outer:exit 2b-da126d1cd9950d41dd6b1aa27c53c22b5a2a25af-7e15e4d979859562-01
2021-08-22T22:00:41.481Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:41.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-0693bcd55aaf6a6b8d2e35708e01d65fad102c1d-b27d77472bd85caf-01 outer:exit 2b-0693bcd55aaf6a6b8d2e35708e01d65fad102c1d-1d77bba4d3accf4d-01
2021-08-22T22:00:41.485Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:41.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa7b41cbee08d528f3a74652d584a9cf125e8cd2-b7815d79fdf26f13-01 outer:exit 2b-fa7b41cbee08d528f3a74652d584a9cf125e8cd2-c115236235c3ec89-01
2021-08-22T22:00:41.489Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:41.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-59267acf0ea9066db571966518bde780c8bb33af-78f3852bddb342dd-01 outer:exit 2b-59267acf0ea9066db571966518bde780c8bb33af-d528e6076fdfb3ae-01
2021-08-22T22:00:41.504Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:41.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-448a06dddc475e607f141b40eb6f87a473d77938-5f5478a70240b471-01 outer:exit 2b-448a06dddc475e607f141b40eb6f87a473d77938-c4ba001495d0cef6-01
2021-08-22T22:00:41.513Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:41.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-412849ad534878075908bd5417719e0786cd7013-95a6e8458af94872-01 outer:exit 2b-412849ad534878075908bd5417719e0786cd7013-cce111335ef1477d-01
2021-08-22T22:00:41.516Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:41.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3ee462677f0dd810089cbcac725f167b011b5a7-c34d4fb29f9c67e2-01 outer:exit 2b-a3ee462677f0dd810089cbcac725f167b011b5a7-fb3dc3f6ae15e43a-01
2021-08-22T22:00:41.519Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:41.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6a872a8db8d4155405c363065b25f90b4800ad5-708c05ce718b60f0-01 outer:exit 2b-e6a872a8db8d4155405c363065b25f90b4800ad5-e42b5680a00c3323-01
2021-08-22T22:00:41.523Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:41.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-8de71e7f59597f8ed50a767237e223b60a353d67-dc1a1873210b32dc-01 outer:exit 2b-8de71e7f59597f8ed50a767237e223b60a353d67-bb770ca72fb9e381-01
2021-08-22T22:00:41.552Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (366ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.12
updated 1 package and audited 939 packages in 4.823s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:47.362Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:47.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:47.362Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:47.363Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:47.424Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:47.468Z appoptics:patching patched crypto 
2021-08-22T22:00:47.490Z appoptics:patching patched https 
2021-08-22T22:00:47.491Z appoptics:patching patched http 
2021-08-22T22:00:47.537Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:47.538Z appoptics:patching patched fs 
2021-08-22T22:00:47.553Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v14.17.5)
2021-08-22T22:00:47.561Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-08-22T22:00:47.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-53ad02e2201ba2b0492c59dd66b0d0032643a231-3a143405c389a722-01 outer:exit 2b-53ad02e2201ba2b0492c59dd66b0d0032643a231-49e5be714b6f458c-01
2021-08-22T22:00:47.735Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:47.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-32ac1bd252667dd0e6b426ce4d92717d6d649e7d-bf1d8ec1780430b4-01 outer:exit 2b-32ac1bd252667dd0e6b426ce4d92717d6d649e7d-55af277ef158bdfa-01
2021-08-22T22:00:47.798Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:47.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c55418d4ddebea17a7fc72bdd87e7e0c3928242-148447a8d4a8ae66-01 outer:exit 2b-3c55418d4ddebea17a7fc72bdd87e7e0c3928242-975271d2d470bd83-01
2021-08-22T22:00:47.802Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:47.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb8039023574dd46e44e249c38788102060f4782-edd5adcccdf19704-01 outer:exit 2b-cb8039023574dd46e44e249c38788102060f4782-4744b1de49fa707f-01
2021-08-22T22:00:47.804Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:47.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-886543c256f56368733a55c15227c3bfe763e020-e41458f7a79754f8-01 outer:exit 2b-886543c256f56368733a55c15227c3bfe763e020-1f41553f50cbac22-01
2021-08-22T22:00:47.809Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:47.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d330c79aefcb4de99cb60b6093a1e77404a49c3-8e15d35457f76eac-01 outer:exit 2b-1d330c79aefcb4de99cb60b6093a1e77404a49c3-4f758b83111d0cd3-01
2021-08-22T22:00:47.812Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:47.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe87cffc708918774a74c434a5f5bf44a3958e33-7843c66394c4eafe-01 outer:exit 2b-fe87cffc708918774a74c434a5f5bf44a3958e33-a8858bb8bcdf2c91-01
2021-08-22T22:00:47.815Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:47.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d1c1caf23443d04b2d5e21762dcdbeac035088-5485f6beaec39240-01 outer:exit 2b-f3d1c1caf23443d04b2d5e21762dcdbeac035088-2a349956b7c85830-01
2021-08-22T22:00:47.818Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:47.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-69f4e2b24c26b02ee5f4577392d1ced5a443f241-e1657a0977a73a19-01 outer:exit 2b-69f4e2b24c26b02ee5f4577392d1ced5a443f241-67027eacad46fd65-01
2021-08-22T22:00:47.820Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:47.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e0dd92180205f22eb35792ade3cdcb79c81b42e-68f6e347570caa3a-01 outer:exit 2b-2e0dd92180205f22eb35792ade3cdcb79c81b42e-d05d784e8d8d2eca-01
2021-08-22T22:00:47.824Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:47.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-95124b0c757e7cfbd2fb64815dc80739edf01d68-0363e0a4393d4989-01 outer:exit 2b-95124b0c757e7cfbd2fb64815dc80739edf01d68-2e17450bfa3d9dd3-01
2021-08-22T22:00:47.828Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:47.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cf511f71d944277e5a9eff57dea7318fbd0f926-7e8d7965e75ff7f9-01 outer:exit 2b-2cf511f71d944277e5a9eff57dea7318fbd0f926-54f4649c6615dd96-01
2021-08-22T22:00:47.846Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:47.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac5f3253ed054146c021a787880a4dd564faebcc-884e0a7eeeea9e5a-01 outer:exit 2b-ac5f3253ed054146c021a787880a4dd564faebcc-8f2808a02129f13a-01
2021-08-22T22:00:47.862Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:47.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-c09912b7e38ab4b14707e9dfdf0cd7235ee6560b-da79b03bc3e813f8-01 outer:exit 2b-c09912b7e38ab4b14707e9dfdf0cd7235ee6560b-42457a70242373e2-01
2021-08-22T22:00:47.892Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:47.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-41e998ae2c15df0d96d1c2f92078d7b5776f3132-9c2076b2ad48c123-01 outer:exit 2b-41e998ae2c15df0d96d1c2f92078d7b5776f3132-3733db0bb35b758c-01
2021-08-22T22:00:47.896Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:47.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e8bc9159af71dbe3f47e337a61555644f9e1947-29e4b43e0e65ccc9-01 outer:exit 2b-2e8bc9159af71dbe3f47e337a61555644f9e1947-3b9471d312dbbae0-01
2021-08-22T22:00:47.898Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:47.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b58c989de37261bde47c38f7db6b7343a1462b1-04ae4c83c06c1888-01 outer:exit 2b-8b58c989de37261bde47c38f7db6b7343a1462b1-3acf41fc31e76718-01
2021-08-22T22:00:47.901Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:47.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a586a5145b22582a6adb3e5bde192584d560dd9-660b75761afda0d7-01 outer:exit 2b-7a586a5145b22582a6adb3e5bde192584d560dd9-305b956b98102d05-01
2021-08-22T22:00:47.904Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:47.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-b062527fafc1d59e0162c18badbdbcdb0fde377e-f0971af4af345750-01 outer:exit 2b-b062527fafc1d59e0162c18badbdbcdb0fde377e-2405600e2bb38663-01
2021-08-22T22:00:47.906Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:47.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-c778a4cb2f75e345fd898da0fbb64c34b44bc515-64808d069157c930-01 outer:exit 2b-c778a4cb2f75e345fd898da0fbb64c34b44bc515-1f27989ebc6cccb6-01
2021-08-22T22:00:47.908Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:47.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac564e892d5cba0131966188bfd5e14deb9358f3-98616ac4f5d7807b-01 outer:exit 2b-ac564e892d5cba0131966188bfd5e14deb9358f3-7ec1a6cb88c11b08-01
2021-08-22T22:00:47.911Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:47.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ae8a1a6e75089d7aa0a5973c1fb989b9a78d622-d5448df1e2c7ef53-01 outer:exit 2b-9ae8a1a6e75089d7aa0a5973c1fb989b9a78d622-fdbee2e124ae6212-01
2021-08-22T22:00:47.914Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:47.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcaf115c65480ee801fb776450996b4df1cad4dd-4d9fca14e235bdfd-01 outer:exit 2b-bcaf115c65480ee801fb776450996b4df1cad4dd-65e23214e227d998-01
2021-08-22T22:00:47.917Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:47.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a1391beee160f28894faa9c4862a0b13db06297-436dc63d4ef07901-01 outer:exit 2b-4a1391beee160f28894faa9c4862a0b13db06297-ea8a6c2a117b5b02-01
2021-08-22T22:00:47.920Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:47.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-008cb243ec293d94c7bfac389e19e808f7b1fcde-6c8d348017bbab73-01 outer:exit 2b-008cb243ec293d94c7bfac389e19e808f7b1fcde-e8dece53e94cc4fe-01
2021-08-22T22:00:47.922Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:47.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-c279e3d9c8357dfacbbb4c9f86eb86d96f649c4b-0216a8099e3a471c-01 outer:exit 2b-c279e3d9c8357dfacbbb4c9f86eb86d96f649c4b-17e34fa21dd5bc3d-01
2021-08-22T22:00:47.925Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:47.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2bd06876aca0cad6b2b0723a1cc3d4ad15df5a4-e0841c49dac5f636-01 outer:exit 2b-e2bd06876aca0cad6b2b0723a1cc3d4ad15df5a4-e1b42ba32ca1bbd3-01
2021-08-22T22:00:47.947Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:47.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c33a44d35a4d927976b6957206c547d81760b8-356450743880ff27-01 outer:exit 2b-71c33a44d35a4d927976b6957206c547d81760b8-71b7bfaa14913aed-01
2021-08-22T22:00:47.967Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:47.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-a151155193b377a74cd324d8757aee2f25b30ca7-32308827b1237c37-01 outer:exit 2b-a151155193b377a74cd324d8757aee2f25b30ca7-084139a4f5d43cd2-01
2021-08-22T22:00:47.979Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:47.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-47369a40eeb45b6cc7b8a063d3c602fc1ce219e6-5159eb9575d4a0c3-01 outer:exit 2b-47369a40eeb45b6cc7b8a063d3c602fc1ce219e6-2fe335314c08ac0a-01
2021-08-22T22:00:47.986Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:47.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a38c4a8502cebd68b2a5dabfd1b4b238de75a33-c73d6544d95115c6-01 outer:exit 2b-3a38c4a8502cebd68b2a5dabfd1b4b238de75a33-f732e896c6d6f5c2-01
2021-08-22T22:00:47.989Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:47.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-d579411bd99b43abbbb8f14fa7e437052b83eb1d-6e5becc6ebfce0c9-01 outer:exit 2b-d579411bd99b43abbbb8f14fa7e437052b83eb1d-5895c19f5a2807e7-01
2021-08-22T22:00:47.993Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:48.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6da990640215aadec8388189930ee81240ffac6-8330bc1c60669c36-01 outer:exit 2b-a6da990640215aadec8388189930ee81240ffac6-6db89bfe9dd80ff1-01
2021-08-22T22:00:48.006Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:48.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-98644599c5aaebec537de19c834a3b666315c888-b598774481e34bdc-01 outer:exit 2b-98644599c5aaebec537de19c834a3b666315c888-44070fcab9b19f05-01
2021-08-22T22:00:48.008Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:48.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df47eb69753b425a4a595f9e965aaed3696d637-723665503fdd8296-01 outer:exit 2b-7df47eb69753b425a4a595f9e965aaed3696d637-db2a3f2f10ee7497-01
2021-08-22T22:00:48.017Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:48.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ab4b8166ec5c7b50b47269b2d09716453ccb8e9-275eb74bb54408d8-01 outer:exit 2b-2ab4b8166ec5c7b50b47269b2d09716453ccb8e9-1bad1dd3e4cb41f0-01
2021-08-22T22:00:48.022Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:48.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-074cda0f0f1e37f90a7479621e02886dfdfafd93-aafcd6c025cc5641-01 outer:exit 2b-074cda0f0f1e37f90a7479621e02886dfdfafd93-5c1afc759ad02a55-01
2021-08-22T22:00:48.028Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:48.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-f780a93850520c35ed91bb67db96ae2f961dfef6-ce8e0532bbc3a45d-01 outer:exit 2b-f780a93850520c35ed91bb67db96ae2f961dfef6-daa813747464e3c0-01
2021-08-22T22:00:48.034Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:48.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-d167f1dcccfff61bdb622eef123ae7341af66f10-31b006bb380b619a-01 outer:exit 2b-d167f1dcccfff61bdb622eef123ae7341af66f10-0ee3aef681d553a6-01
2021-08-22T22:00:48.050Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:48.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-72dce209b9422f7c6ce1c983815bdd13c25b2972-557ae79c82b05f2b-01 outer:exit 2b-72dce209b9422f7c6ce1c983815bdd13c25b2972-ede2de0aad9e8c7f-01
2021-08-22T22:00:48.060Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:48.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-457a72751aa7bc0c8d7e7452ef684f61c640207a-4b68f603acc3a4ab-01 outer:exit 2b-457a72751aa7bc0c8d7e7452ef684f61c640207a-c7a893fd0e47103b-01
2021-08-22T22:00:48.063Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:48.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-7354647ea5a8949bf2d76c8aa78fc8a3c6f5af07-b5a3a9e6f65b8cfc-01 outer:exit 2b-7354647ea5a8949bf2d76c8aa78fc8a3c6f5af07-dfdd07569724a349-01
2021-08-22T22:00:48.067Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:48.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-f20f50726e3a66a31913b8dc1b423f623ed0213f-a26b1ba297de4dd6-01 outer:exit 2b-f20f50726e3a66a31913b8dc1b423f623ed0213f-0fdf257506ddef40-01
2021-08-22T22:00:48.100Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:48.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-b30db9eade60f85c69e5b17f58a75b8c0defb454-b526d4815dc266f8-01 outer:exit 2b-b30db9eade60f85c69e5b17f58a75b8c0defb454-8582632cefcfbbcc-01
2021-08-22T22:00:48.133Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (439ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.13
updated 1 package and audited 939 packages in 4.213s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:00:53.437Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:00:53.439Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:00:53.439Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:00:53.440Z appoptics:debug using context provider: ace-context
2021-08-22T22:00:53.518Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:00:53.573Z appoptics:patching patched crypto 
2021-08-22T22:00:53.607Z appoptics:patching patched https 
2021-08-22T22:00:53.607Z appoptics:patching patched http 
2021-08-22T22:00:53.657Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:00:53.657Z appoptics:patching patched fs 
2021-08-22T22:00:53.674Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v14.17.5)
2021-08-22T22:00:53.682Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-08-22T22:00:53.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-59854bf4de21e75c1783bfa0e15f43a701827048-947775351e285cf6-01 outer:exit 2b-59854bf4de21e75c1783bfa0e15f43a701827048-22c48f1feeef4280-01
2021-08-22T22:00:53.880Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:00:53.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4cd952e85cf72a2f19d668a83e2ad5921de2b4f-e83098fd7c12333a-01 outer:exit 2b-b4cd952e85cf72a2f19d668a83e2ad5921de2b4f-c5d144e1919b5d83-01
2021-08-22T22:00:53.943Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:00:53.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-03e07cfc4b661e7904992817e6ec40fa1f874b30-5b8e9ba0e41a9378-01 outer:exit 2b-03e07cfc4b661e7904992817e6ec40fa1f874b30-1bb5225684457f79-01
2021-08-22T22:00:53.947Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:00:53.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-e64209d1782d13569ca87c9169fb22168e822027-58e156757fd1fdf9-01 outer:exit 2b-e64209d1782d13569ca87c9169fb22168e822027-ff16fa4f8bc98c95-01
2021-08-22T22:00:53.950Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:00:53.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-02035c6a50144c2a5c67f6eb161b3e13694894f5-39470348d59db64a-01 outer:exit 2b-02035c6a50144c2a5c67f6eb161b3e13694894f5-dc083d27aacec547-01
2021-08-22T22:00:53.957Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:00:53.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-15aa0e044bedf3b8a3cfceba82103910e82af324-27037666dfad21ed-01 outer:exit 2b-15aa0e044bedf3b8a3cfceba82103910e82af324-579b277186ab23ea-01
2021-08-22T22:00:53.963Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:00:53.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-32f83dbe929e8163effc8125737b6cde3bae3794-59d713a9ea46d3e8-01 outer:exit 2b-32f83dbe929e8163effc8125737b6cde3bae3794-26a9a41bcaac2452-01
2021-08-22T22:00:53.968Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:00:53.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-609a16d7f4b4d3d54e490ef2b3549862eaa01c3e-f19b4cb961df6dfa-01 outer:exit 2b-609a16d7f4b4d3d54e490ef2b3549862eaa01c3e-c0007ca8e736f6e5-01
2021-08-22T22:00:53.971Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:00:53.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef4824ed1ead615b89b61f77bc7d2c4ce5f5d6a3-8b8e14d6165d9de6-01 outer:exit 2b-ef4824ed1ead615b89b61f77bc7d2c4ce5f5d6a3-a551bb57c6ca7c45-01
2021-08-22T22:00:53.976Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:00:53.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce33b403e6db6e65f7463666d3703e20d18a863f-9e5fbd28ff0fe7e2-01 outer:exit 2b-ce33b403e6db6e65f7463666d3703e20d18a863f-b0a009d3ced0b098-01
2021-08-22T22:00:53.981Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:00:53.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-be5b25c5aaecc4ff193fd0297329258de6b8f586-2042c127ac967b6a-01 outer:exit 2b-be5b25c5aaecc4ff193fd0297329258de6b8f586-7a309f5cafd12a93-01
2021-08-22T22:00:53.987Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:00:53.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-e59a32e86d1ca25eebde7d16f19ce6e6ff41865b-09b0a14699fe06c8-01 outer:exit 2b-e59a32e86d1ca25eebde7d16f19ce6e6ff41865b-8c2821603c510a73-01
2021-08-22T22:00:53.994Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:00:54.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb5baca37e36d0d718ce091a108a7b5f4ed0ab3b-0819edcea8bd2157-01 outer:exit 2b-cb5baca37e36d0d718ce091a108a7b5f4ed0ab3b-e82757bf61509326-01
2021-08-22T22:00:54.016Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:00:54.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-f298b3f21f5bc8e5f315b588003d38e8a265102b-97e0119ba242f612-01 outer:exit 2b-f298b3f21f5bc8e5f315b588003d38e8a265102b-4c1ff42fa7495a55-01
2021-08-22T22:00:54.040Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:00:54.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-27fa818609ea77543d789d311497164126736052-19ca9628f6568d28-01 outer:exit 2b-27fa818609ea77543d789d311497164126736052-26e0e60c76fdeffa-01
2021-08-22T22:00:54.044Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:00:54.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcff4f9c0a64a8a8241e4aa87a44ddf373ecbf90-c077c2d731179ccd-01 outer:exit 2b-bcff4f9c0a64a8a8241e4aa87a44ddf373ecbf90-d67e3ee2b612a925-01
2021-08-22T22:00:54.046Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:00:54.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-6224950ed8e8378713130f5de421f4b2efb4f964-c8df98383756be4a-01 outer:exit 2b-6224950ed8e8378713130f5de421f4b2efb4f964-653caa79c680f84a-01
2021-08-22T22:00:54.050Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:00:54.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-422858de43dce32903aef46e921926c5b9b74b7d-b81c45479e816316-01 outer:exit 2b-422858de43dce32903aef46e921926c5b9b74b7d-de5d1626f057d660-01
2021-08-22T22:00:54.052Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:00:54.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-7521cf0935ffdc6899b96a5764680c6f9c19dc6f-181ff9a00f1eb517-01 outer:exit 2b-7521cf0935ffdc6899b96a5764680c6f9c19dc6f-cea1db8251c0893c-01
2021-08-22T22:00:54.055Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:00:54.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bd0d40375854389f8d9b449a669fcc9b2e5c0ee-07a24507072a69af-01 outer:exit 2b-9bd0d40375854389f8d9b449a669fcc9b2e5c0ee-0ebfe1a33878455e-01
2021-08-22T22:00:54.059Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:00:54.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fb97c83617592e91196d912390453a91393f393-183d71ee2a18cea5-01 outer:exit 2b-7fb97c83617592e91196d912390453a91393f393-eee2fc5d0c199877-01
2021-08-22T22:00:54.062Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:00:54.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-e857f6b3e094127d9805413daa05bb5e569b046b-ddbbf96e25ce996d-01 outer:exit 2b-e857f6b3e094127d9805413daa05bb5e569b046b-79c40123b256d6cf-01
2021-08-22T22:00:54.065Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:00:54.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-3407baf44aad668335028f9f2888381e9d6b337b-06ec8a4659bb9006-01 outer:exit 2b-3407baf44aad668335028f9f2888381e9d6b337b-4f278e4cd331cf6d-01
2021-08-22T22:00:54.069Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:00:54.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-0425c206d7ee9ddbba9620e9b5eb3d2e67f84414-d579aaab6d96d4ce-01 outer:exit 2b-0425c206d7ee9ddbba9620e9b5eb3d2e67f84414-f1d1db4920db506b-01
2021-08-22T22:00:54.072Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:00:54.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fdee6e5dc4c184f216526a13246e2ac4cc08a2c-827161bf7de281de-01 outer:exit 2b-7fdee6e5dc4c184f216526a13246e2ac4cc08a2c-b39c3ec6a3b20e46-01
2021-08-22T22:00:54.076Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:00:54.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3497fd3c78fa772808f289e194c689eaa9abd27-d5a82ef50675f35b-01 outer:exit 2b-e3497fd3c78fa772808f289e194c689eaa9abd27-9862811b8f15f69c-01
2021-08-22T22:00:54.080Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:00:54.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-78e7fb729616721e945a31359446dafc75967d3e-b53a76afddcb1016-01 outer:exit 2b-78e7fb729616721e945a31359446dafc75967d3e-f468711413fdb904-01
2021-08-22T22:00:54.088Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:00:54.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a5482293bac36b61f640adc4d8b6305baef2fef-6c93ff5bb5b5bc53-01 outer:exit 2b-1a5482293bac36b61f640adc4d8b6305baef2fef-c9183cf2168c26ca-01
2021-08-22T22:00:54.093Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:00:54.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccff3f8108d2caa592d744d9f7ff18517765e8b4-65ad844f74bd7555-01 outer:exit 2b-ccff3f8108d2caa592d744d9f7ff18517765e8b4-47a6935b16933291-01
2021-08-22T22:00:54.105Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:00:54.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ada7eabe17da9e2341ec7a1c74fdc400bf62e05-dce19d380ffc845d-01 outer:exit 2b-8ada7eabe17da9e2341ec7a1c74fdc400bf62e05-1c11fe8a34bc385f-01
2021-08-22T22:00:54.113Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:00:54.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-bef72a1c50d44dc04e7c8986498b7300cc2b11a4-0e222f3df678dd14-01 outer:exit 2b-bef72a1c50d44dc04e7c8986498b7300cc2b11a4-8e876fd683497d67-01
2021-08-22T22:00:54.116Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:00:54.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dba7c8d73ea627278924397d8004337d8443371-702527f6993d35d7-01 outer:exit 2b-6dba7c8d73ea627278924397d8004337d8443371-60432dcb181c808a-01
2021-08-22T22:00:54.120Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:00:54.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e786b0876f8d4f582395a2d0d77aad6dd98f9fc-520a2608f04b3d49-01 outer:exit 2b-5e786b0876f8d4f582395a2d0d77aad6dd98f9fc-08d1b9485302efc6-01
2021-08-22T22:00:54.128Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:00:54.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7849b52c9d47809e87eedd2c35bff2d478bb549-e0767e7404815e76-01 outer:exit 2b-a7849b52c9d47809e87eedd2c35bff2d478bb549-4c3c787ebbadcaa6-01
2021-08-22T22:00:54.130Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:00:54.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca524a866a0855f269afa1d281b67781c353455c-d8e7ec8ba5a52b09-01 outer:exit 2b-ca524a866a0855f269afa1d281b67781c353455c-2d335cd868d66baa-01
2021-08-22T22:00:54.166Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:00:54.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b474265f8f7c79c465f05f07a7943cb19286777-2a4da177c9b9757b-01 outer:exit 2b-5b474265f8f7c79c465f05f07a7943cb19286777-541094452f9c3d2b-01
2021-08-22T22:00:54.169Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:00:54.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-2005b3a467e912c860000cbee963ddcd97b1ad76-40dba969c1ff364c-01 outer:exit 2b-2005b3a467e912c860000cbee963ddcd97b1ad76-dc63f81c0d8e1de5-01
2021-08-22T22:00:54.177Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:00:54.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-987f0dedf40765517dca7a052acc21fdecec809e-657b2543fe015281-01 outer:exit 2b-987f0dedf40765517dca7a052acc21fdecec809e-8a6726302c169393-01
2021-08-22T22:00:54.179Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:00:54.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f62002d480b2113e39864cb6536980a18515ff9-48120036f17f98ff-01 outer:exit 2b-0f62002d480b2113e39864cb6536980a18515ff9-ae183dfe2741eb28-01
2021-08-22T22:00:54.189Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:00:54.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-80b7f7d3efa79d119fd184bac7a9c2a13b0c6b51-edcbfa19a2c5778c-01 outer:exit 2b-80b7f7d3efa79d119fd184bac7a9c2a13b0c6b51-c39893fc246729c2-01
2021-08-22T22:00:54.198Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:00:54.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e15772a0b025f967e47664718ecfd78ef6904cd-46b01600ba6ddb06-01 outer:exit 2b-6e15772a0b025f967e47664718ecfd78ef6904cd-420f07a6ce75a02b-01
2021-08-22T22:00:54.202Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:00:54.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-30d764adffe26a0298d7ff2b4464d5d31dfaa141-2211f4542f568769-01 outer:exit 2b-30d764adffe26a0298d7ff2b4464d5d31dfaa141-37da80eeed17ac9d-01
2021-08-22T22:00:54.205Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:00:54.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-62f27e37ae411b795cd2a80313689a2af811c769-1fcefd07c11be39d-01 outer:exit 2b-62f27e37ae411b795cd2a80313689a2af811c769-eca1806a9cf926d0-01
2021-08-22T22:00:54.208Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:00:54.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed74fe8755ce851837d273109925ea41860f2245-e4415ca817c0949e-01 outer:exit 2b-ed74fe8755ce851837d273109925ea41860f2245-721a5cdc1ba75eee-01
2021-08-22T22:00:54.236Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (404ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.14
updated 1 package and audited 939 packages in 4.747s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:00.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:00.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:00.041Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:00.042Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:00.113Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:00.164Z appoptics:patching patched crypto 
2021-08-22T22:01:00.187Z appoptics:patching patched https 
2021-08-22T22:01:00.187Z appoptics:patching patched http 
2021-08-22T22:01:00.235Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:00.235Z appoptics:patching patched fs 
2021-08-22T22:01:00.250Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v14.17.5)
2021-08-22T22:01:00.256Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-08-22T22:01:00.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3fd27dd0322ec1d1b84cb467ca093e44bb129c1-0d5ce66ea1d0d0bc-01 outer:exit 2b-a3fd27dd0322ec1d1b84cb467ca093e44bb129c1-567b4b23a8c5b6f1-01
2021-08-22T22:01:00.425Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:00.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ff8af20387007c66d51f507ebeeb82f26463fd4-730fa865dd9d886e-01 outer:exit 2b-8ff8af20387007c66d51f507ebeeb82f26463fd4-29f5d135b6930144-01
2021-08-22T22:01:00.514Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:00.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-a08b32095f580a736993f20b56ee654769fa3461-6395f64b81682fb2-01 outer:exit 2b-a08b32095f580a736993f20b56ee654769fa3461-16735cfd4bf4501b-01
2021-08-22T22:01:00.518Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:00.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-b33a9a35e82dcd1010a6d0d648a3457809d043b6-e1d3e1b2ecba521b-01 outer:exit 2b-b33a9a35e82dcd1010a6d0d648a3457809d043b6-2f8a8884a3850c8c-01
2021-08-22T22:01:00.521Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:00.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-42d14d9038ac0f3ce21078c27f1eaac8da91ecb3-c4be3f2a767cd111-01 outer:exit 2b-42d14d9038ac0f3ce21078c27f1eaac8da91ecb3-d8226ec8bb8a6ee6-01
2021-08-22T22:01:00.529Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:00.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc118ea4d25715bd04903551320c1a11bf9c6894-43a4433fd165a578-01 outer:exit 2b-bc118ea4d25715bd04903551320c1a11bf9c6894-f43c73dd6748a71f-01
2021-08-22T22:01:00.533Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:00.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5691a8a276951ac2cbf39b8cec06f87de94f49e-1256867842e00377-01 outer:exit 2b-a5691a8a276951ac2cbf39b8cec06f87de94f49e-87160394d4861f85-01
2021-08-22T22:01:00.536Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:00.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bad9b5b6163a957b834fdc82ba099e996a04be0-10a4caaf4cd2dde9-01 outer:exit 2b-0bad9b5b6163a957b834fdc82ba099e996a04be0-0eae4d6c000ed18d-01
2021-08-22T22:01:00.539Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:00.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bb30571cf9253353a9d9b100016da966d6cd5e8-e0223ca1b456f5e0-01 outer:exit 2b-7bb30571cf9253353a9d9b100016da966d6cd5e8-b6aebc6513a5d233-01
2021-08-22T22:01:00.541Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:00.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd054643f890e3bd47cdd9561add46934ab4958d-319704fc273c2dbd-01 outer:exit 2b-dd054643f890e3bd47cdd9561add46934ab4958d-330a186fdf1053ee-01
2021-08-22T22:01:00.544Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:00.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7b1dd369ad5d35c7d0ed69795df497bc9c7517d-adb435b8db126c2b-01 outer:exit 2b-a7b1dd369ad5d35c7d0ed69795df497bc9c7517d-5b9c9c6cc8a2a020-01
2021-08-22T22:01:00.549Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:00.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-652e215a67a8c79a90beffb89ecfb3d1f7ed7d63-36377a6f87cbae84-01 outer:exit 2b-652e215a67a8c79a90beffb89ecfb3d1f7ed7d63-417dbfed25c57fd6-01
2021-08-22T22:01:00.556Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:00.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e7ec8e4dc82df270a70f379e98a795d0ffe5ee0-b8b3da0803974600-01 outer:exit 2b-3e7ec8e4dc82df270a70f379e98a795d0ffe5ee0-749e5cf841796a95-01
2021-08-22T22:01:00.570Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:00.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-566b79d20bb44b7ec0381f8b57d59617f64b9a97-d4d938ddabd71b63-01 outer:exit 2b-566b79d20bb44b7ec0381f8b57d59617f64b9a97-f8f41df63239d6f0-01
2021-08-22T22:01:00.644Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:00.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-995c068ce05390099d05269ea4996c90b98a4533-81bba5240850655e-01 outer:exit 2b-995c068ce05390099d05269ea4996c90b98a4533-a16e49cc74ed8d9d-01
2021-08-22T22:01:00.647Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:00.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-010a5ad3544d659bde7ae82dee73563a8b971215-67e1503a68b5ca77-01 outer:exit 2b-010a5ad3544d659bde7ae82dee73563a8b971215-c2c1399a05c412b1-01
2021-08-22T22:01:00.649Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:00.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-4614ba06578fa24e010d665d9bd1d86dfeecf440-32d5f530a5f91812-01 outer:exit 2b-4614ba06578fa24e010d665d9bd1d86dfeecf440-2d966822aff9f77b-01
2021-08-22T22:01:00.652Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:00.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-a37ed5ac3adc4ff2b7d2a7de52ee10727a116b86-e08ff6c65bf3a1d2-01 outer:exit 2b-a37ed5ac3adc4ff2b7d2a7de52ee10727a116b86-2d4da79addd8ce68-01
2021-08-22T22:01:00.654Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:00.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-da7a331e18e0e82a5643cc2eac552f66d5cdd6ce-80c18924baf707fd-01 outer:exit 2b-da7a331e18e0e82a5643cc2eac552f66d5cdd6ce-51281cb7d4a10af8-01
2021-08-22T22:01:00.656Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:00.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-344d3b916f205e976c5ab4dad61f07dedda3d047-56889d7cc2abf973-01 outer:exit 2b-344d3b916f205e976c5ab4dad61f07dedda3d047-866e512293173092-01
2021-08-22T22:01:00.659Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:00.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-34dca911bf46296a405cd0f3969559216e75fc27-6da505d33ef0b308-01 outer:exit 2b-34dca911bf46296a405cd0f3969559216e75fc27-84b274b770af108b-01
2021-08-22T22:01:00.661Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:00.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa9c570be92c35bfafdba86a182dce3b46e28a4b-a26a37ba309922f9-01 outer:exit 2b-fa9c570be92c35bfafdba86a182dce3b46e28a4b-c188f2dc58e9d8c4-01
2021-08-22T22:01:00.663Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:00.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-9955413c01e8b989124f40645bd5b3e8b8d425c8-8153351eb8e75d83-01 outer:exit 2b-9955413c01e8b989124f40645bd5b3e8b8d425c8-68cea3f580b0a187-01
2021-08-22T22:01:00.666Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:00.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-44553f5ea13e6a8c769832ce176bd0d128257691-0eda5298b83fea85-01 outer:exit 2b-44553f5ea13e6a8c769832ce176bd0d128257691-23f56f04d65f6539-01
2021-08-22T22:01:00.669Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:00.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-e908e64b29f337fa6369d443dd5aaf151a8b3d60-11516d9ef64f3593-01 outer:exit 2b-e908e64b29f337fa6369d443dd5aaf151a8b3d60-ed00347ca3a9d91e-01
2021-08-22T22:01:00.672Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:00.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf57878fdd93b624f3e60bc4f171240a6018ec8e-734653a9ae8404ff-01 outer:exit 2b-bf57878fdd93b624f3e60bc4f171240a6018ec8e-ce678f00f8d58da3-01
2021-08-22T22:01:00.675Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:00.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-71ba4095dad608b540b025541cab57d043574e29-958597efc616efb8-01 outer:exit 2b-71ba4095dad608b540b025541cab57d043574e29-fd3aac81458cd7fb-01
2021-08-22T22:01:00.682Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:00.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e540edf05547414df5304b2e14a5db7477661c6-c8ac0f2f69e08831-01 outer:exit 2b-1e540edf05547414df5304b2e14a5db7477661c6-f5eebd473ee9de17-01
2021-08-22T22:01:00.686Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:00.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c1d7527fdd490529aca274556766ed41db774c5-51f0dd3b42a6873c-01 outer:exit 2b-6c1d7527fdd490529aca274556766ed41db774c5-e8d7f6338c61b495-01
2021-08-22T22:01:00.695Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:00.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-71d334f0373845a72dfff7ac427b4263c1f02aa9-b138b6410f726f64-01 outer:exit 2b-71d334f0373845a72dfff7ac427b4263c1f02aa9-7b88be2e9c39ac17-01
2021-08-22T22:01:00.702Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:00.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-db6000a555a629962374b5040289ab7bb95d9adb-7f0762bae42d0c56-01 outer:exit 2b-db6000a555a629962374b5040289ab7bb95d9adb-062fce1a21df99df-01
2021-08-22T22:01:00.704Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:00.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-2eb97cb05e63dd05b49826d14cb41850d881b6c6-9f15f3afb9f0d95a-01 outer:exit 2b-2eb97cb05e63dd05b49826d14cb41850d881b6c6-ade1622fdbf00979-01
2021-08-22T22:01:00.708Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:00.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-26a6974b9fd38d7d8d899fbfbf8eed8036465011-ae6c56153510ce32-01 outer:exit 2b-26a6974b9fd38d7d8d899fbfbf8eed8036465011-9f2465234a02a0a1-01
2021-08-22T22:01:00.714Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:00.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-01473aca5f54854d1dbd4f7671c8d096beb86503-6329b4bf30a110db-01 outer:exit 2b-01473aca5f54854d1dbd4f7671c8d096beb86503-6f85d28498ca9f87-01
2021-08-22T22:01:00.716Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:00.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d84c28b0c735fc883531d11f9b09f4e561e9959-dd7d5855e5587858-01 outer:exit 2b-5d84c28b0c735fc883531d11f9b09f4e561e9959-832a1263789c6c4a-01
2021-08-22T22:01:00.718Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:00.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-773eef93b7d5f1622f8c16364ec219704ae15b9c-df871d870b6ef8c5-01 outer:exit 2b-773eef93b7d5f1622f8c16364ec219704ae15b9c-836d2b73e12517ef-01
2021-08-22T22:01:00.727Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:00.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb245e9e13e21f7c42db6dbd8f15d3edb58d813f-bfc51ab00ef4eb9f-01 outer:exit 2b-eb245e9e13e21f7c42db6dbd8f15d3edb58d813f-6c2555894a716ade-01
2021-08-22T22:01:00.730Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:00.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-888ef872c8a1d44e46e0a39457a4089604005e50-c2203511d84cb74c-01 outer:exit 2b-888ef872c8a1d44e46e0a39457a4089604005e50-f34a2cda094a598b-01
2021-08-22T22:01:00.734Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:00.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-4781e2ebcdcf3118949a4f20d894ed8498a2ef50-4b713739b964245c-01 outer:exit 2b-4781e2ebcdcf3118949a4f20d894ed8498a2ef50-d489375b2e0e939b-01
2021-08-22T22:01:00.749Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:00.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2217626091bcc5eeda2eb966a0702a1dd78433c-d809197b79f8ad1a-01 outer:exit 2b-a2217626091bcc5eeda2eb966a0702a1dd78433c-9cfb9403646cd669-01
2021-08-22T22:01:00.758Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:00.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cf6081b0f9a5ecd3ca6a5cdee5e57a7f2d60dcc-cfc08ca35db8704e-01 outer:exit 2b-7cf6081b0f9a5ecd3ca6a5cdee5e57a7f2d60dcc-e6e0819b00c72401-01
2021-08-22T22:01:00.761Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:00.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b7e458608032621d9d2e421a5d549333591a31-2cc2eb4ad1e4e365-01 outer:exit 2b-a0b7e458608032621d9d2e421a5d549333591a31-f041b02965cc55db-01
2021-08-22T22:01:00.764Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:00.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4a05d691d9fa91be82398463e3c90ee6d03f1bb-e6fd8bfa7046e802-01 outer:exit 2b-f4a05d691d9fa91be82398463e3c90ee6d03f1bb-058c95ac967f4a76-01
2021-08-22T22:01:00.767Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:00.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e143518d892b8d00ce8dc6a85d01b0e44657fa0-101873c71208a973-01 outer:exit 2b-3e143518d892b8d00ce8dc6a85d01b0e44657fa0-0d480b217a718640-01
2021-08-22T22:01:00.794Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (412ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.0
updated 2 packages and audited 939 packages in 5.066s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:06.857Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:06.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:06.857Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:06.858Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:06.921Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:06.966Z appoptics:patching patched crypto 
2021-08-22T22:01:06.988Z appoptics:patching patched https 
2021-08-22T22:01:06.988Z appoptics:patching patched http 
2021-08-22T22:01:07.030Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:07.030Z appoptics:patching patched fs 
2021-08-22T22:01:07.067Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v14.17.5)
2021-08-22T22:01:07.078Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-08-22T22:01:07.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-c499479e4ac395bb515ae808724032589e135a52-0cb4d3636687e51b-01 outer:exit 2b-c499479e4ac395bb515ae808724032589e135a52-51f1d1d873a06727-01
2021-08-22T22:01:07.238Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:07.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccf60ae100819424f042208ed6ce45c06db6326d-cdb2bcf4a14a0ed0-01 outer:exit 2b-ccf60ae100819424f042208ed6ce45c06db6326d-7af07b29d13c4366-01
2021-08-22T22:01:07.305Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:07.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a749b3a45a6dcb054ada05c245778c173036f91-18552ace1ae764f6-01 outer:exit 2b-8a749b3a45a6dcb054ada05c245778c173036f91-39408675c510fd65-01
2021-08-22T22:01:07.309Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:07.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-63eb4a2b1c3cad1a8bf87e8398b6c25b312af192-b6a3acf4d080d451-01 outer:exit 2b-63eb4a2b1c3cad1a8bf87e8398b6c25b312af192-baeaab75f6766a02-01
2021-08-22T22:01:07.312Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:07.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb561ea3ce0bbc90785e4c898b85fba08ab30aa9-e4bee1625d4c9fc8-01 outer:exit 2b-cb561ea3ce0bbc90785e4c898b85fba08ab30aa9-c45f89395069a5a2-01
2021-08-22T22:01:07.317Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:07.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-b747c658135955169632c38337f783547d3f1d04-a4b29fee0dc705bd-01 outer:exit 2b-b747c658135955169632c38337f783547d3f1d04-c01059dedd96292c-01
2021-08-22T22:01:07.321Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:07.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-631b92cd64b92c6fbf1edb0d8b03e5475febf9a1-a7eebf78fca081ce-01 outer:exit 2b-631b92cd64b92c6fbf1edb0d8b03e5475febf9a1-265d859a34da279d-01
2021-08-22T22:01:07.324Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:07.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-20e65090a175638c13a9ca19ee5ddf91c10cdb84-4c1da8f459c49692-01 outer:exit 2b-20e65090a175638c13a9ca19ee5ddf91c10cdb84-991b852d7af885be-01
2021-08-22T22:01:07.327Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:07.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc5e86823af264d315ba717a83e42a6ea8834583-f0a5fdabf653028c-01 outer:exit 2b-dc5e86823af264d315ba717a83e42a6ea8834583-f84d98813678530e-01
2021-08-22T22:01:07.329Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:07.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-1789cae5da5d42cb17256d8e107042ce70b100c2-cec9eccfc656d4dc-01 outer:exit 2b-1789cae5da5d42cb17256d8e107042ce70b100c2-fe43dc6749d27934-01
2021-08-22T22:01:07.332Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:07.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eb46b6474f060a6cd3cae45331d3fdcde076f9d-176d813511825f28-01 outer:exit 2b-8eb46b6474f060a6cd3cae45331d3fdcde076f9d-a33fc80dbe461837-01
2021-08-22T22:01:07.338Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:07.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef710293ea5852e4fdf2bcff534b6ea040bf7043-e1b5907fe08cab63-01 outer:exit 2b-ef710293ea5852e4fdf2bcff534b6ea040bf7043-fd2e81b061836872-01
2021-08-22T22:01:07.344Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:07.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ad4ff1f74c87ca6c879bfae9cad8ebb84a44e8-c9179e22167bfbbf-01 outer:exit 2b-49ad4ff1f74c87ca6c879bfae9cad8ebb84a44e8-199a2fec415f78d5-01
2021-08-22T22:01:07.360Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:07.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-93804eaaf222af374da0a2e416e3f8d4c965bd9a-eb360471050e6780-01 outer:exit 2b-93804eaaf222af374da0a2e416e3f8d4c965bd9a-de51dbce5751aa00-01
2021-08-22T22:01:07.405Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:07.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bd7b0d293eb1e3c2e61734c8f4250799db8f324-6a911c48f4f1307e-01 outer:exit 2b-1bd7b0d293eb1e3c2e61734c8f4250799db8f324-e5decf00ebb27dcf-01
2021-08-22T22:01:07.411Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:07.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e4af5b9b5247fcef700306d09ff6f6f187e3f7f-3fdb7a6cdb81bcd9-01 outer:exit 2b-9e4af5b9b5247fcef700306d09ff6f6f187e3f7f-999f17c6fe98a6d0-01
2021-08-22T22:01:07.413Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:07.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-bda7350d66d26ffd800720e3b3d806f61228512b-c33db030790f682b-01 outer:exit 2b-bda7350d66d26ffd800720e3b3d806f61228512b-2cb1d9892cd0dac9-01
2021-08-22T22:01:07.417Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:07.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-88427e483bd502f245d0b54410bde98f92adfcdc-af463fd1a66ef8e6-01 outer:exit 2b-88427e483bd502f245d0b54410bde98f92adfcdc-d97cad98ad7870ef-01
2021-08-22T22:01:07.419Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:07.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28854a63cf31818eebb423945d0f403b5e9ef9c-b4b99e9e2e8f26ad-01 outer:exit 2b-d28854a63cf31818eebb423945d0f403b5e9ef9c-b53115dd1f62f6bf-01
2021-08-22T22:01:07.421Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:07.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-dca99cbbbd2bd166c4a85b1a8c9337377c204081-374156577dda8d49-01 outer:exit 2b-dca99cbbbd2bd166c4a85b1a8c9337377c204081-fc3c54a006755fc3-01
2021-08-22T22:01:07.423Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:07.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-f784e4930f739a0a409e05e77f1cc6daea3f90c1-a3c98a7f3f51004d-01 outer:exit 2b-f784e4930f739a0a409e05e77f1cc6daea3f90c1-da447ece05c2d42e-01
2021-08-22T22:01:07.426Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:07.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2c967bfa97b2e54145d19dd02926b780fc2a738-3c85730abd11de77-01 outer:exit 2b-a2c967bfa97b2e54145d19dd02926b780fc2a738-885f3e78fd7ea9d3-01
2021-08-22T22:01:07.428Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:07.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d8e80efeccf55c63d8310dd6230322c1029a3a2-99237098f9250bec-01 outer:exit 2b-4d8e80efeccf55c63d8310dd6230322c1029a3a2-8d2315fed4cd4b86-01
2021-08-22T22:01:07.431Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:07.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0ad7d8cfdbe4b7467185d3f81012ffce0050b8-d57664cb056dadcc-01 outer:exit 2b-0e0ad7d8cfdbe4b7467185d3f81012ffce0050b8-7bba749632c791c3-01
2021-08-22T22:01:07.434Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:07.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-805350456c3352ae74d2427c07781fdaf7a9c6b6-22719d36920ca6c5-01 outer:exit 2b-805350456c3352ae74d2427c07781fdaf7a9c6b6-9cd3db3ccf7c01ca-01
2021-08-22T22:01:07.437Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:07.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-a36794f516dcdb9f7bb428e5231e0ac902cfb3a9-ccde6bb62615a20d-01 outer:exit 2b-a36794f516dcdb9f7bb428e5231e0ac902cfb3a9-1721cb45a441f017-01
2021-08-22T22:01:07.440Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:07.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb7136f4dc21081187822ddd57e3dd955c932cb-6d1fd57f6392eabd-01 outer:exit 2b-5bb7136f4dc21081187822ddd57e3dd955c932cb-604151389d88ac89-01
2021-08-22T22:01:07.446Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:07.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-be143a9d6cb885ce3f4f2662dedc9593514507b8-67789cc8b28a526b-01 outer:exit 2b-be143a9d6cb885ce3f4f2662dedc9593514507b8-a627073869fd0f11-01
2021-08-22T22:01:07.450Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:07.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-3886d0028d38b3a95bda94fbc9cec16d43cbbb27-db91ca6fb3a52c56-01 outer:exit 2b-3886d0028d38b3a95bda94fbc9cec16d43cbbb27-48295f03d081e02d-01
2021-08-22T22:01:07.458Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:07.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3e6ea8c261a955ee3a815d61bdd278025f30850-121c01cde6d7bcc2-01 outer:exit 2b-a3e6ea8c261a955ee3a815d61bdd278025f30850-a19c818fa4e0c0fe-01
2021-08-22T22:01:07.465Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:07.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ef96629227dca8c57b9dcb4231f4f0f863e009f-520c439dc6e1caa5-01 outer:exit 2b-0ef96629227dca8c57b9dcb4231f4f0f863e009f-d38219d34efe9945-01
2021-08-22T22:01:07.467Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:07.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-24b607e98fdd86f149cb67d8368389d92a48e06d-7b918882350df739-01 outer:exit 2b-24b607e98fdd86f149cb67d8368389d92a48e06d-68d92da6375fd7c1-01
2021-08-22T22:01:07.472Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:07.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-37ebcd1f9f8796cfedd98fc5afa1b0449648ca94-55cf542c8d29692f-01 outer:exit 2b-37ebcd1f9f8796cfedd98fc5afa1b0449648ca94-da48eadbe0abac31-01
2021-08-22T22:01:07.478Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:07.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-f54d29b016212227c1cd26878a15fdee0f94a77a-5d771e346cfda1b0-01 outer:exit 2b-f54d29b016212227c1cd26878a15fdee0f94a77a-b2bb99957e41ce73-01
2021-08-22T22:01:07.481Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:07.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa0648fcc7525bd0790b2cca48bcfdee11db59cb-a06a3aa9679ce643-01 outer:exit 2b-aa0648fcc7525bd0790b2cca48bcfdee11db59cb-11d649c4e5d3e265-01
2021-08-22T22:01:07.483Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:07.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-b693e694df14878fd4a432ab57e6b4e1933ec9ff-89b0af0cced3122a-01 outer:exit 2b-b693e694df14878fd4a432ab57e6b4e1933ec9ff-d29f941b53412b33-01
2021-08-22T22:01:07.485Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:07.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6d8a0387db4c26e4073d3b172a828fa06e27b6d-f0ff530be8e3326b-01 outer:exit 2b-b6d8a0387db4c26e4073d3b172a828fa06e27b6d-b487a048ea5a690c-01
2021-08-22T22:01:07.492Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:07.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-582f1f6fc92ace6ad5a119ec6b5e8fd8db1fa6b0-b418a41c80252e6e-01 outer:exit 2b-582f1f6fc92ace6ad5a119ec6b5e8fd8db1fa6b0-7ca7fa6c6011ba67-01
2021-08-22T22:01:07.495Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:07.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-9778b6b20a2e2430cad2f7b80baaeb14b414b4fe-42b59caf29b59720-01 outer:exit 2b-9778b6b20a2e2430cad2f7b80baaeb14b414b4fe-005308c3bf127592-01
2021-08-22T22:01:07.513Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:07.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-54dfb1afddc4454097013c5bf2698fc31ddece05-31870777dc0aa514-01 outer:exit 2b-54dfb1afddc4454097013c5bf2698fc31ddece05-de640468b27c520c-01
2021-08-22T22:01:07.522Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:07.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-02f80007ac2db3aa1255ebed2c6cc63bd4d00dce-1b25c739279e1caa-01 outer:exit 2b-02f80007ac2db3aa1255ebed2c6cc63bd4d00dce-760cf0b20c59eb1a-01
2021-08-22T22:01:07.525Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:07.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee7cc0d9fb11d01b46f0d18eb61e50b3203b5341-2400200955f36945-01 outer:exit 2b-ee7cc0d9fb11d01b46f0d18eb61e50b3203b5341-2788a478cf7d213d-01
2021-08-22T22:01:07.528Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:07.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-7951f58e4abcd5d98c9e3d24c412861029a29e0b-a8fc1acb40f87a80-01 outer:exit 2b-7951f58e4abcd5d98c9e3d24c412861029a29e0b-bd6e7ace5ba0cb6f-01
2021-08-22T22:01:07.531Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:07.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e5ac7d5e72244e06e92fc8ec64f561510431ba9-c2a4f9fe55ffb554-01 outer:exit 2b-7e5ac7d5e72244e06e92fc8ec64f561510431ba9-a34f647e603a5a21-01
2021-08-22T22:01:07.559Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (359ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.1
updated 1 package and audited 939 packages in 4.755s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:13.290Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:13.291Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:13.291Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:13.291Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:13.354Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:13.398Z appoptics:patching patched crypto 
2021-08-22T22:01:13.419Z appoptics:patching patched https 
2021-08-22T22:01:13.419Z appoptics:patching patched http 
2021-08-22T22:01:13.471Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:13.471Z appoptics:patching patched fs 
2021-08-22T22:01:13.499Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v14.17.5)
2021-08-22T22:01:13.506Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-08-22T22:01:13.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-db3540442ddca1bb3ff57656cb404474fed67792-17978b3f82fea22b-01 outer:exit 2b-db3540442ddca1bb3ff57656cb404474fed67792-31ff87b35d2db9c0-01
2021-08-22T22:01:13.665Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:13.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5baa1ac53a704cb764b473af376ed1e11fc7dd0-41fbd1a637e1b9d7-01 outer:exit 2b-e5baa1ac53a704cb764b473af376ed1e11fc7dd0-8739bffce9466bad-01
2021-08-22T22:01:13.692Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:13.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-730c492bb2a51f8739509d1aa99c1f511fb4ce37-015d36fffaedca4a-01 outer:exit 2b-730c492bb2a51f8739509d1aa99c1f511fb4ce37-cebf82b5f6156dcb-01
2021-08-22T22:01:13.695Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:13.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe3053763ae858fd08b569e09155e6f56a19ea0c-0f70087cda664919-01 outer:exit 2b-fe3053763ae858fd08b569e09155e6f56a19ea0c-77b65eeba2a45334-01
2021-08-22T22:01:13.698Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:13.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f94e87d5cdaa56e1c765b769ed64408f1db0035-c4566a2c93c6eda6-01 outer:exit 2b-6f94e87d5cdaa56e1c765b769ed64408f1db0035-a73ed9c9c9809123-01
2021-08-22T22:01:13.702Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:13.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7958bdc3e158d87ae6bd55645221abea43f09a8-b73e06badbc3938d-01 outer:exit 2b-b7958bdc3e158d87ae6bd55645221abea43f09a8-55d6897c0ea738ae-01
2021-08-22T22:01:13.706Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:13.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-b209de6561a5a30d100dea62efc9480235bab476-abf720e08fd13e7c-01 outer:exit 2b-b209de6561a5a30d100dea62efc9480235bab476-66a3e654d7ac44c1-01
2021-08-22T22:01:13.709Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:13.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6d05833d61e96f8706b3077b4bcffa7daf9f62a-d3a808dd07ff633b-01 outer:exit 2b-f6d05833d61e96f8706b3077b4bcffa7daf9f62a-0ddd93e337b7a05e-01
2021-08-22T22:01:13.711Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:13.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9af3955b01fb04b6ee606dec59e8d9d8f7c8ed7-d3888341d470df82-01 outer:exit 2b-b9af3955b01fb04b6ee606dec59e8d9d8f7c8ed7-7f76c32e883292f3-01
2021-08-22T22:01:13.713Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:13.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-25568f30dcc753cb891b8df2e736a8b07f63461a-a8fe8ffd3422b046-01 outer:exit 2b-25568f30dcc753cb891b8df2e736a8b07f63461a-689c070b8b4a0068-01
2021-08-22T22:01:13.716Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:13.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd225ba8c4603388da1265f0645b805dbfc09997-72e6cc76554f5a29-01 outer:exit 2b-cd225ba8c4603388da1265f0645b805dbfc09997-58e987ce4a68acb6-01
2021-08-22T22:01:13.720Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:13.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf615168c8b20a326aae16fa2b52743a91df7ad1-71496068445baab7-01 outer:exit 2b-cf615168c8b20a326aae16fa2b52743a91df7ad1-ac9c34122cf52184-01
2021-08-22T22:01:13.727Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:13.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-6247b985dc5167d74ebc018359199f2aaf2e6528-48d23ede3d08cc3f-01 outer:exit 2b-6247b985dc5167d74ebc018359199f2aaf2e6528-b40f7153c07934a3-01
2021-08-22T22:01:13.742Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:13.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e75b6a53c269492bc3efc29d44e93462a04e3f2-9e283abc190635be-01 outer:exit 2b-3e75b6a53c269492bc3efc29d44e93462a04e3f2-c0d061bf0c6924e4-01
2021-08-22T22:01:13.789Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:13.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-afcfd086ae2934604083b7f45cbf66a120097be5-8f97a2ef953ffcc4-01 outer:exit 2b-afcfd086ae2934604083b7f45cbf66a120097be5-7801d31254891d5e-01
2021-08-22T22:01:13.794Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:13.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a7c53c7ca7a02ae0cec2146a6c492bb9d7a35cd-b7e7f90523da6e24-01 outer:exit 2b-0a7c53c7ca7a02ae0cec2146a6c492bb9d7a35cd-fd941ed700905c61-01
2021-08-22T22:01:13.797Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:13.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eb6e4e16c6054e1a36a266a8d1da99fd2170591-a7a6ece711535037-01 outer:exit 2b-5eb6e4e16c6054e1a36a266a8d1da99fd2170591-a149b023eab8a4e6-01
2021-08-22T22:01:13.800Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:13.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8f4b23b85081d4d53f8a42db9c96a3f14b64423-ffd92d57206b2efe-01 outer:exit 2b-e8f4b23b85081d4d53f8a42db9c96a3f14b64423-4eb839f4cf221c28-01
2021-08-22T22:01:13.802Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:13.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2e54f7d7203f574e66507fa8db26770a17c9fe7-1d1c3bd76f572743-01 outer:exit 2b-b2e54f7d7203f574e66507fa8db26770a17c9fe7-ad80a192b422b0e8-01
2021-08-22T22:01:13.805Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:13.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-e31cadeda2061a8d89c2048ee3d98910565271ab-24f4705eae8da9e1-01 outer:exit 2b-e31cadeda2061a8d89c2048ee3d98910565271ab-3d69fc6a1d340f2f-01
2021-08-22T22:01:13.807Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:13.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0b7027184c7393b3e7c7562db6a2cb25e6fb937-74b0bc5a1657ca4b-01 outer:exit 2b-f0b7027184c7393b3e7c7562db6a2cb25e6fb937-acfa3575aa206a98-01
2021-08-22T22:01:13.809Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:13.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-daee4ed2ef16e615912809137979c3229c3cc6a8-094adc53c2fbb064-01 outer:exit 2b-daee4ed2ef16e615912809137979c3229c3cc6a8-cd514f1fabbfc545-01
2021-08-22T22:01:13.811Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:13.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-8595573633a7af0e82aca57638bc8534c9aec723-016b422e21d9a8f3-01 outer:exit 2b-8595573633a7af0e82aca57638bc8534c9aec723-74236f39024d85c0-01
2021-08-22T22:01:13.815Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:13.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-372fa04fe3d4882c8e1a5ae3d760fd42e981f62a-6ad02ef5d3acc826-01 outer:exit 2b-372fa04fe3d4882c8e1a5ae3d760fd42e981f62a-3a33c9e54c5c3167-01
2021-08-22T22:01:13.818Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:13.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e056c0a08ab79356991630f8a7acd131410447e-0fea4796100bf17a-01 outer:exit 2b-7e056c0a08ab79356991630f8a7acd131410447e-346deff6ad229e8a-01
2021-08-22T22:01:13.821Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:13.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-702ba30b17597c7d7243cecbad61b1b4b4c42550-6756a857cdbeb045-01 outer:exit 2b-702ba30b17597c7d7243cecbad61b1b4b4c42550-5462463c9652e13d-01
2021-08-22T22:01:13.824Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:13.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c1fa0203600c04af59548f99a2385e0f77b9869-b3c72a0304dae294-01 outer:exit 2b-0c1fa0203600c04af59548f99a2385e0f77b9869-c3c15dffe50b4aae-01
2021-08-22T22:01:13.833Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:13.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-05e1c0a8af6a1fef0d29c73c1fbd6948c0572533-2467ab54e19d5baa-01 outer:exit 2b-05e1c0a8af6a1fef0d29c73c1fbd6948c0572533-70877d65464cb21f-01
2021-08-22T22:01:13.837Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:13.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-4794f6b66e391896960b0acc7feeb4c3daebbf56-76d00e04b81e3c5a-01 outer:exit 2b-4794f6b66e391896960b0acc7feeb4c3daebbf56-c400de8ab24a7243-01
2021-08-22T22:01:13.846Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:13.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdb5b041a019274792300e356d7eab45c51e5027-8b10497c160a2a1f-01 outer:exit 2b-cdb5b041a019274792300e356d7eab45c51e5027-b2d3d7227465a867-01
2021-08-22T22:01:13.852Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:13.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-62e6290bacead0f93739543790f62e0a65b381c9-1ce32d122c976dc3-01 outer:exit 2b-62e6290bacead0f93739543790f62e0a65b381c9-ed0785a6de8ef9e5-01
2021-08-22T22:01:13.854Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:13.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-27b66c431b0944a783b179ed0b74c9994d77da21-9ccc2e39ac6b6299-01 outer:exit 2b-27b66c431b0944a783b179ed0b74c9994d77da21-9491bff830a60dd1-01
2021-08-22T22:01:13.857Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:13.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bf8c89bd386608cd1a63c1d04a396d5227020ec-06c8953de66a9063-01 outer:exit 2b-7bf8c89bd386608cd1a63c1d04a396d5227020ec-0fb8748d88f3d9e3-01
2021-08-22T22:01:13.864Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:13.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-871ceb133de5cbe1af30036f14e200123ab4e348-418eb23cf88bc561-01 outer:exit 2b-871ceb133de5cbe1af30036f14e200123ab4e348-8d0fdfa90cf8fe15-01
2021-08-22T22:01:13.868Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:13.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-57d02b24d71a3d124f3f6d8a8f618b5725ff54dd-99a6ca2bcd49fabe-01 outer:exit 2b-57d02b24d71a3d124f3f6d8a8f618b5725ff54dd-06fec90824c6aa9e-01
2021-08-22T22:01:13.870Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:13.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-094e1d9f9fb09ac6560c61c163eaa9a1e9d8280d-6c25892a5804f301-01 outer:exit 2b-094e1d9f9fb09ac6560c61c163eaa9a1e9d8280d-dbe5856cbbfea8d2-01
2021-08-22T22:01:13.872Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:13.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8798192870cf99ad5d238644b3c6026d5ea1f0a-25991d351bf6a2e8-01 outer:exit 2b-f8798192870cf99ad5d238644b3c6026d5ea1f0a-10d9fb6af4fa50bd-01
2021-08-22T22:01:13.878Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:13.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-146615cbe0d86cebd3dc772cae81c21839eda551-7b352335f5c1d28a-01 outer:exit 2b-146615cbe0d86cebd3dc772cae81c21839eda551-ee99520910c635e7-01
2021-08-22T22:01:13.882Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:13.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-460ef785e5d7d62b5a0227f7f8d651b42284986e-658070c09766ed1c-01 outer:exit 2b-460ef785e5d7d62b5a0227f7f8d651b42284986e-f362ee276255d15e-01
2021-08-22T22:01:13.898Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:13.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-249463280fbf98b28c05caedfcb4058bace2787f-f202fbc896221cc1-01 outer:exit 2b-249463280fbf98b28c05caedfcb4058bace2787f-413177117efe88de-01
2021-08-22T22:01:13.908Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:13.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ed24e40db525664d901b704ed070a4ac874cea8-dcd72a910e24791b-01 outer:exit 2b-2ed24e40db525664d901b704ed070a4ac874cea8-8a0ec2855916ee25-01
2021-08-22T22:01:13.911Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:13.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-7765e9e4c31c121779bb9e5c8c38f8813bdb9338-d23b35febf72ee3e-01 outer:exit 2b-7765e9e4c31c121779bb9e5c8c38f8813bdb9338-01a3257c48a3e7e7-01
2021-08-22T22:01:13.914Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:13.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-3737aa407d780c559b56ba861a89f94946b3b47a-f578e181ca22cc9d-01 outer:exit 2b-3737aa407d780c559b56ba861a89f94946b3b47a-db469799a677f313-01
2021-08-22T22:01:13.917Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:13.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac360a2fed36e38db0880c4f6fe9d072824b6d08-fd75dcd1d5d25c9f-01 outer:exit 2b-ac360a2fed36e38db0880c4f6fe9d072824b6d08-4180cf0aba78c4fc-01
2021-08-22T22:01:13.945Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (318ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.2
updated 1 package and audited 939 packages in 4.451s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:19.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:19.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:19.410Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:19.411Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:19.470Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:19.518Z appoptics:patching patched crypto 
2021-08-22T22:01:19.544Z appoptics:patching patched https 
2021-08-22T22:01:19.544Z appoptics:patching patched http 
2021-08-22T22:01:19.584Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:19.585Z appoptics:patching patched fs 
2021-08-22T22:01:19.613Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v14.17.5)
2021-08-22T22:01:19.620Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-08-22T22:01:19.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-8caa6a00f68065ba5b73cff1dd930dacace48388-a1c1d509949619d7-01 outer:exit 2b-8caa6a00f68065ba5b73cff1dd930dacace48388-d0cfa543057b27f3-01
2021-08-22T22:01:19.775Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:19.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb68dae84f15d6508dfab744284e24acdd7e21b0-e9c519ae1ff20072-01 outer:exit 2b-fb68dae84f15d6508dfab744284e24acdd7e21b0-a6e1d194b94cc426-01
2021-08-22T22:01:19.857Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:19.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-855c107c8f3ff6523e170b024638d2a6353fcaef-517bb476467a100b-01 outer:exit 2b-855c107c8f3ff6523e170b024638d2a6353fcaef-b1aee00c1799e074-01
2021-08-22T22:01:19.862Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:19.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aeccb4067f60e75cd474352884abc8ce179a45a-e3aa8d2f5b4dec2e-01 outer:exit 2b-2aeccb4067f60e75cd474352884abc8ce179a45a-a8d85b1cd0157e16-01
2021-08-22T22:01:19.865Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:19.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c64a77d787990fbb94b1505f698c1c4e886009e-c770c8a43311d703-01 outer:exit 2b-9c64a77d787990fbb94b1505f698c1c4e886009e-53b6f98abb2d3921-01
2021-08-22T22:01:19.870Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:19.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-0db936f6f7c5ba95f8d8467d7179b19c932c9249-f8d0c73ab0d3f398-01 outer:exit 2b-0db936f6f7c5ba95f8d8467d7179b19c932c9249-02352cf96c706f81-01
2021-08-22T22:01:19.874Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:19.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-d50ac921c2a2649a9667e47375e50661a7a850b5-ba5b5caaf019bf19-01 outer:exit 2b-d50ac921c2a2649a9667e47375e50661a7a850b5-e4c1db1641382ba6-01
2021-08-22T22:01:19.877Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:19.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-02af99a88a5e45a3cba8e8081f92f1f855a079d9-7b7aad5dc541af77-01 outer:exit 2b-02af99a88a5e45a3cba8e8081f92f1f855a079d9-8dcda5fd208d49bb-01
2021-08-22T22:01:19.880Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:19.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-e00c40c9a28fb62bff43b3365a72a6f8a4cb7cb5-f820536a1a202c57-01 outer:exit 2b-e00c40c9a28fb62bff43b3365a72a6f8a4cb7cb5-6bdbba3d03a370a8-01
2021-08-22T22:01:19.882Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:19.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-035c3c78cd5e90e90cf957067142c9ec0f3d8dc3-ef9e551a9e018e1a-01 outer:exit 2b-035c3c78cd5e90e90cf957067142c9ec0f3d8dc3-01136af1b43d46d0-01
2021-08-22T22:01:19.885Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:19.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-af8b472efe465833a841b66b8d5f7f4c3019fb1a-22e10343dd7e3ffc-01 outer:exit 2b-af8b472efe465833a841b66b8d5f7f4c3019fb1a-2796b0fb58db65d7-01
2021-08-22T22:01:19.890Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:19.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc7a7a6a6707e658d35705b45179d8f3e244b57c-cd08f2e235e02aaf-01 outer:exit 2b-cc7a7a6a6707e658d35705b45179d8f3e244b57c-8861cafd673d7498-01
2021-08-22T22:01:19.897Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:19.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3896316c4305f6914e004125c7a6addc7ee8f9b-554639288926b357-01 outer:exit 2b-e3896316c4305f6914e004125c7a6addc7ee8f9b-cbd7fa2ff87e9bf4-01
2021-08-22T22:01:19.913Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:19.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cc5289acab6d9ed459b8a7e508d60374d0ad511-881cb87ef536b625-01 outer:exit 2b-2cc5289acab6d9ed459b8a7e508d60374d0ad511-78264b3c8cd20391-01
2021-08-22T22:01:19.946Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:19.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-e93a13a34e7bd67e2222f71d4ac5f85c165f596d-d40e998d547eb5dc-01 outer:exit 2b-e93a13a34e7bd67e2222f71d4ac5f85c165f596d-cb8b4f8fb47faf3a-01
2021-08-22T22:01:19.949Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:19.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-830c6bd1049de7f594dc53ddb96edfbfa0a34624-bc370f8f30496dc3-01 outer:exit 2b-830c6bd1049de7f594dc53ddb96edfbfa0a34624-3ea2d8f050227067-01
2021-08-22T22:01:19.952Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:19.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-02d348a326c086aa025103685f00b47cca86e958-53ceb09cd8e59443-01 outer:exit 2b-02d348a326c086aa025103685f00b47cca86e958-15440ed8f0561ebc-01
2021-08-22T22:01:19.955Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:19.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e592e72cc57c31c2ed27b1c41dfb20678a630d4-eecf92d44b68a4f1-01 outer:exit 2b-9e592e72cc57c31c2ed27b1c41dfb20678a630d4-33d20b7429dae6af-01
2021-08-22T22:01:19.957Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:19.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-501220ca442e59889572c30bb9ad3b26cd681ea4-fd9a9b0ef3bb38aa-01 outer:exit 2b-501220ca442e59889572c30bb9ad3b26cd681ea4-39fc32df08cb159f-01
2021-08-22T22:01:19.959Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:19.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaec87f87fbf5690adbbc726b16d38c24e93ed48-231cc8ce75e58c4a-01 outer:exit 2b-aaec87f87fbf5690adbbc726b16d38c24e93ed48-c9110afcf7c423c8-01
2021-08-22T22:01:19.962Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:19.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-bee84cd78368fd90ee2d8bf2d15f863b3c1603af-aebb0907f3fbcc42-01 outer:exit 2b-bee84cd78368fd90ee2d8bf2d15f863b3c1603af-5bd9af829e2ae8ee-01
2021-08-22T22:01:19.964Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:19.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-68f31f2d64d611f4e8b2bdd9f8ac06f6188cd08a-3cf63b66496d7296-01 outer:exit 2b-68f31f2d64d611f4e8b2bdd9f8ac06f6188cd08a-c965b415c553c030-01
2021-08-22T22:01:19.966Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:19.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e6d242a756e1a8bed108641585f02a84260f4b3-5a0cd944fe922ed9-01 outer:exit 2b-6e6d242a756e1a8bed108641585f02a84260f4b3-45ed27f36c6a6ac1-01
2021-08-22T22:01:19.969Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:19.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-96807a82ca2892b11039cb55fe7b440431151bbf-2703205376062af5-01 outer:exit 2b-96807a82ca2892b11039cb55fe7b440431151bbf-18bbef69f698c20e-01
2021-08-22T22:01:19.972Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:19.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f2523b3d018fc4db7e91c349104a9fb2f87bf32-1693d3ed03e199df-01 outer:exit 2b-5f2523b3d018fc4db7e91c349104a9fb2f87bf32-bf4cd27c697c6716-01
2021-08-22T22:01:19.975Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:19.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-95f5b5bd4ad4fec2fc52c47223da03ba30988a18-3ed4006fc121dd26-01 outer:exit 2b-95f5b5bd4ad4fec2fc52c47223da03ba30988a18-52564f57d0921ee4-01
2021-08-22T22:01:19.978Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:19.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3d9633e722a0ddd8b56a0173efb54dab582e1da-32422045296df4bd-01 outer:exit 2b-c3d9633e722a0ddd8b56a0173efb54dab582e1da-b07d0b2f1096236a-01
2021-08-22T22:01:19.985Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:19.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-79b002c6d3c12541749ba5978f78c3d7872adce5-f0417f6542cb3b49-01 outer:exit 2b-79b002c6d3c12541749ba5978f78c3d7872adce5-44ab502bf3c9ef62-01
2021-08-22T22:01:19.990Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:19.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dedfefca263ff07419f004e8e37b4116ec9c7bb-6db0ceefd082c4c5-01 outer:exit 2b-3dedfefca263ff07419f004e8e37b4116ec9c7bb-9e666b5578bcd4c5-01
2021-08-22T22:01:19.998Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:20.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-4011d0ac748b0b72d542996e014b43e4482fbd7c-68015d185dab1a2f-01 outer:exit 2b-4011d0ac748b0b72d542996e014b43e4482fbd7c-6ecabd0c8cf76b15-01
2021-08-22T22:01:20.006Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:20.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-0873fff9c3583c3644815c57b10a8cf479db0bf6-a481bd70d4d63931-01 outer:exit 2b-0873fff9c3583c3644815c57b10a8cf479db0bf6-4e9b0fef9a1174db-01
2021-08-22T22:01:20.008Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:20.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dffce165589696815cb9c2f915d6e14f5190a2b-a67a637f5867db75-01 outer:exit 2b-8dffce165589696815cb9c2f915d6e14f5190a2b-29938bd736f30ff4-01
2021-08-22T22:01:20.012Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:20.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-eea18e55d021b44d3b922ef388a87e4cf450dd84-c01f32d9c03797bf-01 outer:exit 2b-eea18e55d021b44d3b922ef388a87e4cf450dd84-f5058aaa5f2d9d06-01
2021-08-22T22:01:20.020Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:20.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae48c96164d1d487d61e493c63afe97b9958114f-6af266faa3098dd0-01 outer:exit 2b-ae48c96164d1d487d61e493c63afe97b9958114f-c01276d6eb4933ae-01
2021-08-22T22:01:20.022Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:20.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aaf8c29d249fcc64c7e9abd9aa128a960789092-b637faf73b9402e8-01 outer:exit 2b-4aaf8c29d249fcc64c7e9abd9aa128a960789092-c2f19121492cbba6-01
2021-08-22T22:01:20.025Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:20.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5abf8691777f975be9d4c437833372e51bccb3e-87db79447846ef12-01 outer:exit 2b-a5abf8691777f975be9d4c437833372e51bccb3e-2c19b9588389623e-01
2021-08-22T22:01:20.027Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:20.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff47436b080c14c9725e650f493d7d0982668d2f-7dcf27febcecd08c-01 outer:exit 2b-ff47436b080c14c9725e650f493d7d0982668d2f-7537107d6a16de46-01
2021-08-22T22:01:20.033Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:20.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fb405c8a177c1a7d69ea8727f16d6e8a564b43f-7f9fe450d76ba151-01 outer:exit 2b-1fb405c8a177c1a7d69ea8727f16d6e8a564b43f-1a1d39a155e94191-01
2021-08-22T22:01:20.037Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:20.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-242b59435bbb55aeab0f32897f69b480059e6255-c8f1a43c88cf7938-01 outer:exit 2b-242b59435bbb55aeab0f32897f69b480059e6255-c1272eff32b58e0c-01
2021-08-22T22:01:20.054Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:20.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bf0f65c185e6260d912a83b0c66870b20f18881-55e01abe1ab4ab1c-01 outer:exit 2b-6bf0f65c185e6260d912a83b0c66870b20f18881-bfbd42238b759f76-01
2021-08-22T22:01:20.067Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:20.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1d55c79e2232b017b4fcfa0cfd890a5e5eaf643-317ed3fcd9d7a83c-01 outer:exit 2b-f1d55c79e2232b017b4fcfa0cfd890a5e5eaf643-29f61d7fcd72f938-01
2021-08-22T22:01:20.070Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:20.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-38f2b65c2fa7fb4c0d026eff2e766f835cd0b630-582c0133fc4ef934-01 outer:exit 2b-38f2b65c2fa7fb4c0d026eff2e766f835cd0b630-70817d40224a4cef-01
2021-08-22T22:01:20.073Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:20.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-743188148bcf63a919acd4b74ac902f72f91f2a1-b755adfddbf8a1be-01 outer:exit 2b-743188148bcf63a919acd4b74ac902f72f91f2a1-97b8c36ffa493a88-01
2021-08-22T22:01:20.076Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:20.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf64a2f1a34bb0b626954a6bf69a02e1ded5034a-26329171de773886-01 outer:exit 2b-bf64a2f1a34bb0b626954a6bf69a02e1ded5034a-0788c8de7cd782c8-01
2021-08-22T22:01:20.105Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (367ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.3
updated 1 package and audited 939 packages in 4.932s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:26.066Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:26.067Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:26.067Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:26.068Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:26.153Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:26.220Z appoptics:patching patched crypto 
2021-08-22T22:01:26.261Z appoptics:patching patched https 
2021-08-22T22:01:26.261Z appoptics:patching patched http 
2021-08-22T22:01:26.302Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:26.302Z appoptics:patching patched fs 
2021-08-22T22:01:26.335Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v14.17.5)
2021-08-22T22:01:26.342Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-08-22T22:01:26.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-5900260f8e366242307b8ac88de1f5ab537a45f7-849004c1334987d6-01 outer:exit 2b-5900260f8e366242307b8ac88de1f5ab537a45f7-2fa73a11de140ee3-01
2021-08-22T22:01:26.538Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:26.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-79833f0bfe8bd1965ccf87c3450695250b21964d-5511ee453ed3372a-01 outer:exit 2b-79833f0bfe8bd1965ccf87c3450695250b21964d-8cb0b8905a51f921-01
2021-08-22T22:01:26.608Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:26.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-eadfd75b12d33dd5601d517f825722b0114335bd-6600c39a50000b71-01 outer:exit 2b-eadfd75b12d33dd5601d517f825722b0114335bd-2edf56b837e10be5-01
2021-08-22T22:01:26.611Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:26.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-022183e1d7bc4aa47b0fe1f41c1ec6cc728bd39d-aca0cdb356c2aa79-01 outer:exit 2b-022183e1d7bc4aa47b0fe1f41c1ec6cc728bd39d-7912fed555ede6ed-01
2021-08-22T22:01:26.615Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:26.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-97ba326944cf50b0c5c7a3e936dea8567deacb64-692510327b87bb78-01 outer:exit 2b-97ba326944cf50b0c5c7a3e936dea8567deacb64-9c4dc787a3f4ce71-01
2021-08-22T22:01:26.620Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:26.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2ab35142d24e4a53e24040cbe0b2eec832724df-533edac010461783-01 outer:exit 2b-f2ab35142d24e4a53e24040cbe0b2eec832724df-49097efc7b9b7478-01
2021-08-22T22:01:26.624Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:26.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-172cc2924cfe361ba7e21184132d55bd199578f8-c3101acdbd117c33-01 outer:exit 2b-172cc2924cfe361ba7e21184132d55bd199578f8-c157325f25eb369c-01
2021-08-22T22:01:26.628Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:26.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-18af9b07a7e946dace5e10b4f21d17ac61d85d30-24eb682cb5b61a8b-01 outer:exit 2b-18af9b07a7e946dace5e10b4f21d17ac61d85d30-9b99286ff384e7c4-01
2021-08-22T22:01:26.630Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:26.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-f51d845a4658575cd90c5e4a9e77080624bd7a4d-dd599e8f5d1d09fb-01 outer:exit 2b-f51d845a4658575cd90c5e4a9e77080624bd7a4d-c3691b2f312ab11c-01
2021-08-22T22:01:26.633Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:26.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-7faba3386d80a775b36660ca3f41a88234685fb1-27e3c0bac66ba0df-01 outer:exit 2b-7faba3386d80a775b36660ca3f41a88234685fb1-6896c8ff94cd4a4f-01
2021-08-22T22:01:26.636Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:26.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec1cea5f280f3dbf292783f40326ab9c6d29cf61-94652836e3c1e2bd-01 outer:exit 2b-ec1cea5f280f3dbf292783f40326ab9c6d29cf61-28827cbc3d1c67d7-01
2021-08-22T22:01:26.639Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:26.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a8c974a9c4ea471de65cd4372203b32e5e56a2e-8129325603534459-01 outer:exit 2b-5a8c974a9c4ea471de65cd4372203b32e5e56a2e-e47c57cf8f670f46-01
2021-08-22T22:01:26.646Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:26.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-2177e4ff856ee270897c7b313b4ace119f5d797a-5dc50c8b62bb548b-01 outer:exit 2b-2177e4ff856ee270897c7b313b4ace119f5d797a-71f1bb5ef9a86fff-01
2021-08-22T22:01:26.661Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:26.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8f3817a44e8d57f1e0889ed41f921ec9ba30c14-20b60dd12a3b94ad-01 outer:exit 2b-a8f3817a44e8d57f1e0889ed41f921ec9ba30c14-ddd9bb708b9e4976-01
2021-08-22T22:01:26.708Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:26.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef6f038203aff0ea3a7c1a4ac57b5d2de292523b-4fc145e6f4624b7d-01 outer:exit 2b-ef6f038203aff0ea3a7c1a4ac57b5d2de292523b-09850d8b31f9d1e5-01
2021-08-22T22:01:26.710Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:26.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b9b2967c08f7e0af104e11629a6f713169eb1a5-ceafb5d73aed3832-01 outer:exit 2b-9b9b2967c08f7e0af104e11629a6f713169eb1a5-ef79949443dc536c-01
2021-08-22T22:01:26.713Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:26.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb61fdd1a8e59591d4b3596390bea05d5d7ea84b-7c515d1467b4adc1-01 outer:exit 2b-bb61fdd1a8e59591d4b3596390bea05d5d7ea84b-adfbaf4fe9d78fe8-01
2021-08-22T22:01:26.716Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:26.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-95f360e6c704097ad49829edeb4deeb70e00d111-1977eb40e74706a2-01 outer:exit 2b-95f360e6c704097ad49829edeb4deeb70e00d111-d8a6c13397e3a362-01
2021-08-22T22:01:26.719Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:26.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-6212678adddcea6f9e960eb5fefbe25394185cf1-195c33dd5aa9e0a9-01 outer:exit 2b-6212678adddcea6f9e960eb5fefbe25394185cf1-a8d2eddfc2cfb3bd-01
2021-08-22T22:01:26.721Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:26.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-c996679f9b0b34ccfa6da77ce89f4fa29f94d150-be178081d791c740-01 outer:exit 2b-c996679f9b0b34ccfa6da77ce89f4fa29f94d150-210a2744aa2e669b-01
2021-08-22T22:01:26.725Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:26.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-570e41eb090f8dbe906d54cbec7e3dfd85ad9278-f34d8a4e25717c8e-01 outer:exit 2b-570e41eb090f8dbe906d54cbec7e3dfd85ad9278-d8cfe955dfb55189-01
2021-08-22T22:01:26.728Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:26.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-08b48788083816753973fc17cc982fb8a5ef8039-ad707039a5c61e46-01 outer:exit 2b-08b48788083816753973fc17cc982fb8a5ef8039-4657553c0c1cff0e-01
2021-08-22T22:01:26.730Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:26.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa3e08139a81a56d4e0383833b3eb1e8d322f29f-40ea5f7f3041632a-01 outer:exit 2b-fa3e08139a81a56d4e0383833b3eb1e8d322f29f-092fff1ceb430601-01
2021-08-22T22:01:26.734Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:26.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b695e0eabee4021991b80915920877ac523a30e-72f6368096d90bec-01 outer:exit 2b-3b695e0eabee4021991b80915920877ac523a30e-10b1e532d4ef99ba-01
2021-08-22T22:01:26.737Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:26.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-83126799190d5c5697848aa19cfdb0625f3c65a9-461f611a97ece8af-01 outer:exit 2b-83126799190d5c5697848aa19cfdb0625f3c65a9-6771051ce0be0bd4-01
2021-08-22T22:01:26.740Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:26.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-c807bbbf5fc6e54e9246ad26fb2621b482996f59-237daccb041b38fd-01 outer:exit 2b-c807bbbf5fc6e54e9246ad26fb2621b482996f59-7ea8992cc3f35ab3-01
2021-08-22T22:01:26.743Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:26.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b311b377f883c345843332ce8bcff2f3644a07b-af38f3d0d9e308aa-01 outer:exit 2b-3b311b377f883c345843332ce8bcff2f3644a07b-f79d67762f4095f0-01
2021-08-22T22:01:26.751Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:26.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ca91a5ceccb36a17c687529fc279e57223055b-5044f2cc438f8049-01 outer:exit 2b-33ca91a5ceccb36a17c687529fc279e57223055b-6b91fd6f1b829cba-01
2021-08-22T22:01:26.756Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:26.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f1baa9265eb4d4f62e359c71107b8183c1ab11-7d0d30393c0fd54b-01 outer:exit 2b-29f1baa9265eb4d4f62e359c71107b8183c1ab11-c32a3a0026c4479b-01
2021-08-22T22:01:26.763Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:26.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-b83629573bc4cb09d7f488b58eb311f15389796a-f5d455ec4984b799-01 outer:exit 2b-b83629573bc4cb09d7f488b58eb311f15389796a-6240ec74f7de1d06-01
2021-08-22T22:01:26.770Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:26.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-9050756750e99bfeb8eb3013b1829053ce811a51-0f21bf9f6e50d58d-01 outer:exit 2b-9050756750e99bfeb8eb3013b1829053ce811a51-e73c8397cc61f755-01
2021-08-22T22:01:26.773Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:26.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-78d4f51d0c8f67aaa69c355d2c1e23ea4c7978fe-77789aa31e1dd77f-01 outer:exit 2b-78d4f51d0c8f67aaa69c355d2c1e23ea4c7978fe-bfcf304729562564-01
2021-08-22T22:01:26.776Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:26.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccdf072105d9e1bec28f74ab2f80e2771dd24b4b-2e36343269e43be1-01 outer:exit 2b-ccdf072105d9e1bec28f74ab2f80e2771dd24b4b-4d4d68e2ee47fa9e-01
2021-08-22T22:01:26.782Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:26.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-56f6b56074d68313324d66930d3061fa69db20c9-997a4f9632a4f1df-01 outer:exit 2b-56f6b56074d68313324d66930d3061fa69db20c9-54b9e9952da29d49-01
2021-08-22T22:01:26.785Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:26.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7f375d97fdc12b05a54c96efe8ceceddebaf764-1b25c1185a665106-01 outer:exit 2b-c7f375d97fdc12b05a54c96efe8ceceddebaf764-41910e5427979aa0-01
2021-08-22T22:01:26.787Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:26.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ec8d3a78838eb8900f478f98eec4239b827b948-5537069038adfd8b-01 outer:exit 2b-4ec8d3a78838eb8900f478f98eec4239b827b948-8531eacdbedff3e6-01
2021-08-22T22:01:26.790Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:26.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da86da86e23a6736ca1b28585c83774f50fffe9-8c78c0c499a17f44-01 outer:exit 2b-7da86da86e23a6736ca1b28585c83774f50fffe9-91fdcfe609491454-01
2021-08-22T22:01:26.797Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:26.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb9b0553e51f767144471c2aec7e96824dbde82d-e1be92bda06db29d-01 outer:exit 2b-eb9b0553e51f767144471c2aec7e96824dbde82d-3a57586592b8f362-01
2021-08-22T22:01:26.801Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:26.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-309d6e206214a9d8dbf117ac351e793ddd7f1e2e-6b24c93eeb2e1915-01 outer:exit 2b-309d6e206214a9d8dbf117ac351e793ddd7f1e2e-7dfcebd2740a32b9-01
2021-08-22T22:01:26.816Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:26.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc2c09a0217fbbba1b88b6c108ba004a9fe4beba-9861157b2f90cde8-01 outer:exit 2b-dc2c09a0217fbbba1b88b6c108ba004a9fe4beba-9e6d568d33fccd81-01
2021-08-22T22:01:26.827Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:26.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a12f0296d78afcebeb3a207bf880017653556e4-7bff2fb439cc2931-01 outer:exit 2b-7a12f0296d78afcebeb3a207bf880017653556e4-03f564ae3f5ce7aa-01
2021-08-22T22:01:26.830Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:26.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-37f6c9193d3a32deea0d8ac726e8a2f9a1af5cfb-594b1a572f1536ab-01 outer:exit 2b-37f6c9193d3a32deea0d8ac726e8a2f9a1af5cfb-d4a0e63542a3f3e4-01
2021-08-22T22:01:26.834Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:26.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-347ca114e9b00ade6dc62d760602a50ee10e1e33-d5a9c40c777a8409-01 outer:exit 2b-347ca114e9b00ade6dc62d760602a50ee10e1e33-8197a31757cdf626-01
2021-08-22T22:01:26.836Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:26.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f406dc9e2aba0e0efda4b48fb50412ec108ad1e-8ec92b0fd975f235-01 outer:exit 2b-7f406dc9e2aba0e0efda4b48fb50412ec108ad1e-da6fd08df2b0613b-01
2021-08-22T22:01:26.866Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (373ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.4
updated 1 package and audited 939 packages in 4.019s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:31.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:31.914Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:31.914Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:31.914Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:31.980Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:32.045Z appoptics:patching patched crypto 
2021-08-22T22:01:32.076Z appoptics:patching patched https 
2021-08-22T22:01:32.077Z appoptics:patching patched http 
2021-08-22T22:01:32.117Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:32.118Z appoptics:patching patched fs 
2021-08-22T22:01:32.144Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v14.17.5)
2021-08-22T22:01:32.152Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-08-22T22:01:32.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8fbea9dd4dfbed49a0bd83aab3ffc1b41eae3f8-7b4f50cca7648fe2-01 outer:exit 2b-e8fbea9dd4dfbed49a0bd83aab3ffc1b41eae3f8-82f88193031ec2c3-01
2021-08-22T22:01:32.309Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:32.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-33e1fb3b2ecc828a3d87ed5533b6fc3ef06e8435-c98d00c243de9f31-01 outer:exit 2b-33e1fb3b2ecc828a3d87ed5533b6fc3ef06e8435-b4c92202a6af5e09-01
2021-08-22T22:01:32.344Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:32.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b98639f0d4a42659be0ef71cb95f46f79596a48-c713cb6b0678eef0-01 outer:exit 2b-0b98639f0d4a42659be0ef71cb95f46f79596a48-9751b7c583e2582b-01
2021-08-22T22:01:32.348Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:32.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-203bd897a75ef0b852f500c5bd24afee32bcd7dd-95e7cd198b119c76-01 outer:exit 2b-203bd897a75ef0b852f500c5bd24afee32bcd7dd-7ac64c1151e08e04-01
2021-08-22T22:01:32.352Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:32.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-685173779974521c92ff163b62268af89bac9ca8-ecb3527e030f4051-01 outer:exit 2b-685173779974521c92ff163b62268af89bac9ca8-85e1331da91c245b-01
2021-08-22T22:01:32.357Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:32.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-90f33fc3e3eab603c6f50b0019ef1efc949702c6-440fc35c947751ed-01 outer:exit 2b-90f33fc3e3eab603c6f50b0019ef1efc949702c6-61608e08d45d8d72-01
2021-08-22T22:01:32.361Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:32.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e069ec286a9dae4ab067a9dc739108f06c40d02-a4cb9bf30e04af0a-01 outer:exit 2b-7e069ec286a9dae4ab067a9dc739108f06c40d02-990336e3333c9fcf-01
2021-08-22T22:01:32.364Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:32.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcb7e375e6dd2568b53c8e753d73a55cfa8bec26-dfca399da430f131-01 outer:exit 2b-dcb7e375e6dd2568b53c8e753d73a55cfa8bec26-09c4088caaa61b81-01
2021-08-22T22:01:32.367Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:32.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-c08d1b836c2e9fdba517f9bb1567f85094074791-980e273ac9445e94-01 outer:exit 2b-c08d1b836c2e9fdba517f9bb1567f85094074791-c4a163be5ec19de9-01
2021-08-22T22:01:32.369Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:32.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-29103e028cc58d12c25f9333063d35e799512cf5-06ec866ed34e5faf-01 outer:exit 2b-29103e028cc58d12c25f9333063d35e799512cf5-ef86379185d24f7d-01
2021-08-22T22:01:32.372Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:32.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-3badd3ae000530c54265eb101dbcb56ce00b3dc2-f9720883beb54c07-01 outer:exit 2b-3badd3ae000530c54265eb101dbcb56ce00b3dc2-008b21ec966e86ad-01
2021-08-22T22:01:32.377Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:32.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b99fb37f24823bb9ca93646329f18539c94d512-e38c3f69ebc8b820-01 outer:exit 2b-3b99fb37f24823bb9ca93646329f18539c94d512-dedaa5375c7013bc-01
2021-08-22T22:01:32.384Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:32.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-27834715ff28154928401576ad48358f44cae3e6-22199a40e3008aeb-01 outer:exit 2b-27834715ff28154928401576ad48358f44cae3e6-5401920b7bd61926-01
2021-08-22T22:01:32.399Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:32.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-44b3c4d299d30933b1af9a169f773c898add42f7-b6ee0eb95b63c8a3-01 outer:exit 2b-44b3c4d299d30933b1af9a169f773c898add42f7-14585ce9abd8ee36-01
2021-08-22T22:01:32.444Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:32.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd717bd472891033da9cd124156e6994e13a3df9-01561bb6e20e50c7-01 outer:exit 2b-cd717bd472891033da9cd124156e6994e13a3df9-c2d9e91ce503896a-01
2021-08-22T22:01:32.447Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:32.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6337edfda6c13847e87617b027ba15b4add28b6-36521ebc115155e8-01 outer:exit 2b-c6337edfda6c13847e87617b027ba15b4add28b6-9f88f93a4a84b510-01
2021-08-22T22:01:32.450Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:32.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b3b9a3fc03456610cc7f94cbbd3896259ce071f-5c6dd82d745c970c-01 outer:exit 2b-0b3b9a3fc03456610cc7f94cbbd3896259ce071f-218ba9a30cb575fc-01
2021-08-22T22:01:32.453Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:32.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-3287bab11f6854fd73049a5d62ee8e52043c13d1-3cdf002670f5ddc6-01 outer:exit 2b-3287bab11f6854fd73049a5d62ee8e52043c13d1-5e3505d3c343bdd0-01
2021-08-22T22:01:32.455Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:32.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-deaa4bf270f1d5e3e2dffd89de73778383b25aa1-dbe0b887b13aa0c4-01 outer:exit 2b-deaa4bf270f1d5e3e2dffd89de73778383b25aa1-fef6b85899bf20f3-01
2021-08-22T22:01:32.458Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:32.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0c155abe292692dd9ed3d273fec042aaea81c91-a22aa7a5a080032e-01 outer:exit 2b-d0c155abe292692dd9ed3d273fec042aaea81c91-f5be7ef2e96fff5c-01
2021-08-22T22:01:32.460Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:32.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-c01ca50faeae513348f2e24bf441b4a3d7877ca4-e731cad7d0b4fe25-01 outer:exit 2b-c01ca50faeae513348f2e24bf441b4a3d7877ca4-994d601e08919aab-01
2021-08-22T22:01:32.463Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:32.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-54e5f28b9e2652c89ed7a1da110666f4101e19f7-fcd7b53b4d7cbf53-01 outer:exit 2b-54e5f28b9e2652c89ed7a1da110666f4101e19f7-26ba3554a49344dd-01
2021-08-22T22:01:32.466Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:32.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5191515123aa2803674f956e07d00fb937e7f26-d6188ac67590f67b-01 outer:exit 2b-b5191515123aa2803674f956e07d00fb937e7f26-9a0a498cff89fb03-01
2021-08-22T22:01:32.469Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:32.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-08ac526cbe9c60cdd410eb9df2aecd6285fd4b6f-288f8bcbfe271831-01 outer:exit 2b-08ac526cbe9c60cdd410eb9df2aecd6285fd4b6f-c9084cd0ec7f55c6-01
2021-08-22T22:01:32.471Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:32.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb2c5b2cb4e752ea9d15a9700482e882c863892d-30fa8a47e276c44a-01 outer:exit 2b-bb2c5b2cb4e752ea9d15a9700482e882c863892d-29f00af37ccaab63-01
2021-08-22T22:01:32.474Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:32.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2dd855d80918364ca13330b17588e47e123ee8a-bd01653425c8308e-01 outer:exit 2b-b2dd855d80918364ca13330b17588e47e123ee8a-33b34061f0776a32-01
2021-08-22T22:01:32.477Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:32.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-f49467d2c246e612436cbaea5ee7950786db0074-8d9eea0849391cae-01 outer:exit 2b-f49467d2c246e612436cbaea5ee7950786db0074-7b09896636436c70-01
2021-08-22T22:01:32.485Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:32.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-a59f007b4baeea4bfca43daf3b8e9798bce15dcb-90b86129fef83089-01 outer:exit 2b-a59f007b4baeea4bfca43daf3b8e9798bce15dcb-22d9584bf6e0ca5e-01
2021-08-22T22:01:32.489Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:32.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-52b472b9ffd9a9508687b470428e89a0496e9364-59aa165851d38c41-01 outer:exit 2b-52b472b9ffd9a9508687b470428e89a0496e9364-51cd40e695a8f49f-01
2021-08-22T22:01:32.497Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:32.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-d27ce56de9b1ce58f7d3169695e75631bfa0d01b-b796541d2fe1ca07-01 outer:exit 2b-d27ce56de9b1ce58f7d3169695e75631bfa0d01b-739499a807a8510f-01
2021-08-22T22:01:32.505Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:32.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-42d3986baf13f9109bd111b6ea1a8596f4bcbe17-5fc8a3fe59e65ef0-01 outer:exit 2b-42d3986baf13f9109bd111b6ea1a8596f4bcbe17-574415b3763d4fc6-01
2021-08-22T22:01:32.507Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:32.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc3269b3501cbcea8e7ae78547dc48221d4fa790-1bf5f1cc868ddf10-01 outer:exit 2b-fc3269b3501cbcea8e7ae78547dc48221d4fa790-d2bead821f664327-01
2021-08-22T22:01:32.511Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:32.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebc4ef16aee827757133468565b046f573bc6e89-a83f79edc5f7723c-01 outer:exit 2b-ebc4ef16aee827757133468565b046f573bc6e89-a10355b68cd21df8-01
2021-08-22T22:01:32.518Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:32.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-b661d3dc14a6f628ad35113259748e1dfd9c6a47-363db6435ac53a78-01 outer:exit 2b-b661d3dc14a6f628ad35113259748e1dfd9c6a47-7da85d2c9fd6145f-01
2021-08-22T22:01:32.520Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:32.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-4171b5102634a6c71ffb22721890edcafffbd41d-d024d81fb7a080b9-01 outer:exit 2b-4171b5102634a6c71ffb22721890edcafffbd41d-bc3cddb2b5fce293-01
2021-08-22T22:01:32.523Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:32.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-826c39dacae63f0fedc090c617dac1cb24b526a8-1d0b62d4b788596e-01 outer:exit 2b-826c39dacae63f0fedc090c617dac1cb24b526a8-5bc82e9a520af330-01
2021-08-22T22:01:32.525Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:32.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-b49be0d47fab6ebd94ac1d99becafec8baa5a8f0-d3930df52b28d198-01 outer:exit 2b-b49be0d47fab6ebd94ac1d99becafec8baa5a8f0-86622bb5846a0dee-01
2021-08-22T22:01:32.537Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:32.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-91fd3b29e3b5ac6118b34e643b185e756465ae00-de53077768dfa4bf-01 outer:exit 2b-91fd3b29e3b5ac6118b34e643b185e756465ae00-15bacf5a2eed8d70-01
2021-08-22T22:01:32.541Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:32.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-0422f37606deec1f15ffbc7a50ffe915021c5e91-cc75edd5f129a388-01 outer:exit 2b-0422f37606deec1f15ffbc7a50ffe915021c5e91-cbcae11a3e46964a-01
2021-08-22T22:01:32.555Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:32.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-33b240be9efc7267775bfd46d9b7a1a5207dd1e4-c08961941acc1412-01 outer:exit 2b-33b240be9efc7267775bfd46d9b7a1a5207dd1e4-f9f5f0fa7f5d6421-01
2021-08-22T22:01:32.563Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:32.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5237733c35c0d015e0cf4a45cb29e98af4356c5-a79f2f108c1df15b-01 outer:exit 2b-f5237733c35c0d015e0cf4a45cb29e98af4356c5-57ed39fd5403ee5c-01
2021-08-22T22:01:32.566Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:32.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-647c7f6591640947bb078fb43006490fd5786863-f5c8223d22adee8a-01 outer:exit 2b-647c7f6591640947bb078fb43006490fd5786863-53c5749086e629b1-01
2021-08-22T22:01:32.569Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:32.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-d37d7de408683c986032135d450ec361e200943f-500492c4de6217eb-01 outer:exit 2b-d37d7de408683c986032135d450ec361e200943f-543c137902aa19f9-01
2021-08-22T22:01:32.572Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:32.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-4162d057f33779a5626a562a9656c0864572d7e6-60dd1cb5c6175cec-01 outer:exit 2b-4162d057f33779a5626a562a9656c0864572d7e6-499674865bb7496e-01
2021-08-22T22:01:32.601Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (329ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.5
updated 1 package and audited 939 packages in 5.926s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:39.578Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:39.579Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:39.579Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:39.580Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:39.647Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:39.699Z appoptics:patching patched crypto 
2021-08-22T22:01:39.720Z appoptics:patching patched https 
2021-08-22T22:01:39.720Z appoptics:patching patched http 
2021-08-22T22:01:39.758Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:39.758Z appoptics:patching patched fs 
2021-08-22T22:01:39.782Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v14.17.5)
2021-08-22T22:01:39.789Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-08-22T22:01:39.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c3a69873f5a47d13a3cda2c91b44a8b4879e7d-704f45f480720bec-01 outer:exit 2b-65c3a69873f5a47d13a3cda2c91b44a8b4879e7d-b6424c6102f71ce1-01
2021-08-22T22:01:39.938Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:39.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-45ef1855986ede3b9eb7c66114bfee3f8197088c-7d83c87d9e67f483-01 outer:exit 2b-45ef1855986ede3b9eb7c66114bfee3f8197088c-2c86749f56a75751-01
2021-08-22T22:01:39.999Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:40.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-1470b0f26b562fa7968d9c6fea374373c722c6c1-b26850efe3e8df8f-01 outer:exit 2b-1470b0f26b562fa7968d9c6fea374373c722c6c1-5082003451b334ab-01
2021-08-22T22:01:40.002Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:40.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a30a74ab7df186078dba6c5d5f5f9ac5ab79fdb-5f09e6e40bed8085-01 outer:exit 2b-1a30a74ab7df186078dba6c5d5f5f9ac5ab79fdb-fff78f555eb56597-01
2021-08-22T22:01:40.006Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:40.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-16319fb76d29b52bd7b30d9750cf523c332c082e-3456af10820c2908-01 outer:exit 2b-16319fb76d29b52bd7b30d9750cf523c332c082e-c0c323501c75c9bf-01
2021-08-22T22:01:40.011Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:40.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c5a5436a3a03d3a3f7bdfdf5258b687124e6e58-2d22aae92ea7c0cd-01 outer:exit 2b-2c5a5436a3a03d3a3f7bdfdf5258b687124e6e58-27fca110621cb8fb-01
2021-08-22T22:01:40.015Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:40.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-63a8e8e69d719122ed4238e23ac3da06e1e67392-b8a9244a8ac4fa78-01 outer:exit 2b-63a8e8e69d719122ed4238e23ac3da06e1e67392-6206d73628670ca0-01
2021-08-22T22:01:40.018Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:40.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-3623f207d1087eb34123786304cf77aa355e0465-5ed0adba1a17ffc0-01 outer:exit 2b-3623f207d1087eb34123786304cf77aa355e0465-ee5e460b672313a2-01
2021-08-22T22:01:40.021Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:40.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-2507eba552d7be9ffce3af1d87cc5cdff8b15036-c6da04772ae7e8e9-01 outer:exit 2b-2507eba552d7be9ffce3af1d87cc5cdff8b15036-0c3105735ef9d507-01
2021-08-22T22:01:40.024Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:40.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-d643d544c245fd396624268a75dfe560f32668cd-f58aedafc4179431-01 outer:exit 2b-d643d544c245fd396624268a75dfe560f32668cd-43af01f547d72a70-01
2021-08-22T22:01:40.030Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:40.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e0b6b4b9632b97623fb94abec0080184975f2ce-5f91ee8a95190aab-01 outer:exit 2b-8e0b6b4b9632b97623fb94abec0080184975f2ce-ad643810496f90f7-01
2021-08-22T22:01:40.035Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:40.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-656f858370c3ccfe641abca41b460880b40cb530-1bea7110710a4b93-01 outer:exit 2b-656f858370c3ccfe641abca41b460880b40cb530-33181fe25a7f517e-01
2021-08-22T22:01:40.041Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:40.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ca2816244a3af99e08265180006896a20854f35-6706ad2e94b6c273-01 outer:exit 2b-1ca2816244a3af99e08265180006896a20854f35-3aba26489bb5f888-01
2021-08-22T22:01:40.058Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:40.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b445b67a132defc384b4ca9c35eca7f1c1da321-4283b43d49ae197f-01 outer:exit 2b-9b445b67a132defc384b4ca9c35eca7f1c1da321-99227c74535d27f4-01
2021-08-22T22:01:40.087Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:40.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-965b59d99c0569fdb583aee358818c8a47692346-75a982763a34448a-01 outer:exit 2b-965b59d99c0569fdb583aee358818c8a47692346-b06e3115972471e1-01
2021-08-22T22:01:40.090Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:40.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcf4ceec4c1b9d924a367a21dbfc31aa196490eb-334028dc9fa7d1cf-01 outer:exit 2b-dcf4ceec4c1b9d924a367a21dbfc31aa196490eb-25075a3ad4c8aff9-01
2021-08-22T22:01:40.092Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:40.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba25f6429534bf4fe33acbbde4964eb9c896678f-89c706e103eafecb-01 outer:exit 2b-ba25f6429534bf4fe33acbbde4964eb9c896678f-1a6758ed4a54d843-01
2021-08-22T22:01:40.095Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:40.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbfb2c8eed80514865402e5791736fc467ebac35-bb6831298ebdeabf-01 outer:exit 2b-dbfb2c8eed80514865402e5791736fc467ebac35-8f851721864f4351-01
2021-08-22T22:01:40.098Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:40.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4202c8b83cd5c067dcf882f915dcc5462b212ba-b448c0cc882d57cc-01 outer:exit 2b-e4202c8b83cd5c067dcf882f915dcc5462b212ba-5476eb5aa35f83fe-01
2021-08-22T22:01:40.101Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:40.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb54db5d267023b54d5dfce54aad83436fc814cf-7de7c3c628e476b4-01 outer:exit 2b-cb54db5d267023b54d5dfce54aad83436fc814cf-e75d9603d2b5c55a-01
2021-08-22T22:01:40.103Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:40.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3220c9f8db08532670d937da59a017674c863cd-567d144c459b407c-01 outer:exit 2b-c3220c9f8db08532670d937da59a017674c863cd-b2aeead7807a92a8-01
2021-08-22T22:01:40.106Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:40.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee5f0d407689c2230d7769361d80b576af362135-1caeb60035299c3b-01 outer:exit 2b-ee5f0d407689c2230d7769361d80b576af362135-af40688419db4a41-01
2021-08-22T22:01:40.108Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:40.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-e00a16e40e1296622f472f79bb87d9182df4762d-d36451a94f8a096b-01 outer:exit 2b-e00a16e40e1296622f472f79bb87d9182df4762d-5cef57316c89053c-01
2021-08-22T22:01:40.112Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:40.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ac914a2ab5592a2652f90a08b876ec6773c4dbd-21d182d455789ae2-01 outer:exit 2b-8ac914a2ab5592a2652f90a08b876ec6773c4dbd-637df8dc2c58dfb9-01
2021-08-22T22:01:40.116Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:40.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4373294501dfe883417d6224cf17e359a0be63e-8281add7c01ff840-01 outer:exit 2b-a4373294501dfe883417d6224cf17e359a0be63e-1c55e3473d93778b-01
2021-08-22T22:01:40.118Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:40.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f2ab02da9b969193749d4c075d091410f90c25d-c56a362fdf75021d-01 outer:exit 2b-9f2ab02da9b969193749d4c075d091410f90c25d-794006089fd6a2df-01
2021-08-22T22:01:40.120Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:40.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-03499936734c5f9e955beb74ca83f3627b061d78-9719c686842d64af-01 outer:exit 2b-03499936734c5f9e955beb74ca83f3627b061d78-9beb5420d0d2640f-01
2021-08-22T22:01:40.128Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:40.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bcf41cd17780c3c7525cd2cb6c44f0e95c95443-149cc583d8fd422c-01 outer:exit 2b-0bcf41cd17780c3c7525cd2cb6c44f0e95c95443-3cc200e950f35acf-01
2021-08-22T22:01:40.134Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:40.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe0703276b839b5760ffd8899bd0f38e759d91ce-d67b7fa081a8bef0-01 outer:exit 2b-fe0703276b839b5760ffd8899bd0f38e759d91ce-6cf017166e2cd02a-01
2021-08-22T22:01:40.143Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:40.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f85c80396415f6735616cc005c8dc3bfd2fb45e-c3ccd67f473079b2-01 outer:exit 2b-9f85c80396415f6735616cc005c8dc3bfd2fb45e-db993591f3dee76e-01
2021-08-22T22:01:40.150Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:40.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-48ce4a3385a3e2b28e25beb41576ae32e7c1a255-5f7c8cd4002ce6a5-01 outer:exit 2b-48ce4a3385a3e2b28e25beb41576ae32e7c1a255-6eb9cdd610fa94e4-01
2021-08-22T22:01:40.153Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:40.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-352ad9b03e294cc48fc4beba8552fec08a3a1524-7b4580c9b5066272-01 outer:exit 2b-352ad9b03e294cc48fc4beba8552fec08a3a1524-16af4565db7c2e88-01
2021-08-22T22:01:40.157Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:40.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-63125ad3713311762b113da469f5803e04ca0f8a-30883ecc03b03b1e-01 outer:exit 2b-63125ad3713311762b113da469f5803e04ca0f8a-7f3851084f1bf1df-01
2021-08-22T22:01:40.165Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:40.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb4b14350c9b7de6acb250e0f4a7e4e8a0b90a31-d4328f12ee8bfdb7-01 outer:exit 2b-fb4b14350c9b7de6acb250e0f4a7e4e8a0b90a31-530930809b38d1f1-01
2021-08-22T22:01:40.168Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:40.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-b759e425b511e034205853e63fa9e02548991ee9-5d111f86662537fe-01 outer:exit 2b-b759e425b511e034205853e63fa9e02548991ee9-ef10ed767e5a46f5-01
2021-08-22T22:01:40.170Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:40.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b23fd00319109050e0781bf273f24176ae23bae-8f85224af2d1a403-01 outer:exit 2b-4b23fd00319109050e0781bf273f24176ae23bae-7a8bd67c7b9b3a72-01
2021-08-22T22:01:40.172Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:40.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-4177063a01dfc862f3eadb4eb52e6e3bc8d096b0-f56d313534e09a0a-01 outer:exit 2b-4177063a01dfc862f3eadb4eb52e6e3bc8d096b0-6e42a0806e6c83c3-01
2021-08-22T22:01:40.182Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:40.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-9caff10d7ea7c015189cd02377bd4718a0031a58-03afc149df52df76-01 outer:exit 2b-9caff10d7ea7c015189cd02377bd4718a0031a58-6c355c8dc677881d-01
2021-08-22T22:01:40.185Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:40.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-f67fb5b70203c34e8efc3d326e8debc9c48d1846-97c9ac99b72b6d15-01 outer:exit 2b-f67fb5b70203c34e8efc3d326e8debc9c48d1846-1c5e1d9ad1dbad51-01
2021-08-22T22:01:40.204Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:40.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0f5140ba4b792fbf78ca897466432a7ed7e7b1e-5b4a17adc1a623ab-01 outer:exit 2b-a0f5140ba4b792fbf78ca897466432a7ed7e7b1e-95cfd0ab71169d88-01
2021-08-22T22:01:40.214Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:40.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc005061855d5dbff84116ce35239bfc38905f0c-b6e0782eca7d90c0-01 outer:exit 2b-bc005061855d5dbff84116ce35239bfc38905f0c-1991f4d504ed5555-01
2021-08-22T22:01:40.217Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:40.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcff43f29f05fa1e68eb8b235ccea80c80b8b0b2-2d2cfc8a6674c77e-01 outer:exit 2b-dcff43f29f05fa1e68eb8b235ccea80c80b8b0b2-216e6b0ac09d935f-01
2021-08-22T22:01:40.220Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:40.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5afe33ed30ce8c83b25f729b08f699b204fb37b-d75342498dcd511e-01 outer:exit 2b-e5afe33ed30ce8c83b25f729b08f699b204fb37b-1b4151738ac57d9e-01
2021-08-22T22:01:40.223Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:40.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-6465cbcf81e0ece8ccf4c9092a1666e3742d4ea6-9b63ef698d518709-01 outer:exit 2b-6465cbcf81e0ece8ccf4c9092a1666e3742d4ea6-644da8f02ad231ee-01
2021-08-22T22:01:40.249Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (349ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.6
updated 1 package and audited 939 packages in 4.813s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:46.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:46.201Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:46.201Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:46.201Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:46.279Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:46.337Z appoptics:patching patched crypto 
2021-08-22T22:01:46.368Z appoptics:patching patched https 
2021-08-22T22:01:46.368Z appoptics:patching patched http 
2021-08-22T22:01:46.413Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:46.413Z appoptics:patching patched fs 
2021-08-22T22:01:46.459Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v14.17.5)
2021-08-22T22:01:46.465Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-08-22T22:01:46.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-dca29b0b0bd18cdad405e0f14976f388af4564f3-451d017e13320203-01 outer:exit 2b-dca29b0b0bd18cdad405e0f14976f388af4564f3-6e8a3d137556d917-01
2021-08-22T22:01:46.668Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:46.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4c405b69869083b16366b36bfc038f547373d0d-b848efbe725b0c26-01 outer:exit 2b-a4c405b69869083b16366b36bfc038f547373d0d-7171244206c0bb46-01
2021-08-22T22:01:46.704Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:46.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-154921a49a756bc1f0499df62275902bcfd6cbaa-13dc71ed330f7945-01 outer:exit 2b-154921a49a756bc1f0499df62275902bcfd6cbaa-13f7ba168ccc4248-01
2021-08-22T22:01:46.708Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:46.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-341d8ed8e8a8b3ccaa3d30a329c3be4f1f7e0bc8-bb7168233bf40dc0-01 outer:exit 2b-341d8ed8e8a8b3ccaa3d30a329c3be4f1f7e0bc8-491a64faffd09c96-01
2021-08-22T22:01:46.713Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:46.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-690d78db4de737d605f143fd28f1e2fd9409777a-f78ce33454be1672-01 outer:exit 2b-690d78db4de737d605f143fd28f1e2fd9409777a-50fb5b5b9a1f44ff-01
2021-08-22T22:01:46.721Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:46.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-dac28c9546b30d71150c55a29c7d1f3b12458381-28d997b5a5204b19-01 outer:exit 2b-dac28c9546b30d71150c55a29c7d1f3b12458381-18a00b56f1dad80e-01
2021-08-22T22:01:46.728Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:46.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cf4129a0d0fb61e3cf1c053fb06d7a07f7e1426-0261238fa6e62231-01 outer:exit 2b-3cf4129a0d0fb61e3cf1c053fb06d7a07f7e1426-67c45949cc7384e5-01
2021-08-22T22:01:46.731Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:46.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba0c97e4ea09931029748a0fb49f605e976418f5-ebc0508fbbb0fe33-01 outer:exit 2b-ba0c97e4ea09931029748a0fb49f605e976418f5-e781a9d6722423cc-01
2021-08-22T22:01:46.739Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:46.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-00b22bfa6ca2276611242390fa20989b30854c60-ee6b28f17409800c-01 outer:exit 2b-00b22bfa6ca2276611242390fa20989b30854c60-33f205ae18551505-01
2021-08-22T22:01:46.747Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:46.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c56d8064012c49f5c4d8f0ba3751e101c447717-25846e4b68ab167e-01 outer:exit 2b-0c56d8064012c49f5c4d8f0ba3751e101c447717-aa4aacd3ac5ec30c-01
2021-08-22T22:01:46.754Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:46.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-8151c3af102b908982b385c793cef24c17fd6892-239e2a2e767e1781-01 outer:exit 2b-8151c3af102b908982b385c793cef24c17fd6892-fa29253e79be9432-01
2021-08-22T22:01:46.766Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:46.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a751b092c43b5be9734205674db1f035debbd8-90491aa452005342-01 outer:exit 2b-42a751b092c43b5be9734205674db1f035debbd8-30dd675023c37350-01
2021-08-22T22:01:46.776Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:46.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-d37521ce442cf88842149e811110af6618c458c0-a87b274dc0a98bf9-01 outer:exit 2b-d37521ce442cf88842149e811110af6618c458c0-a53f59448f2ddb1e-01
2021-08-22T22:01:46.796Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:46.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f58cdd34f4a480147a827d3df4d8dcc27b99e66-64357016bfa20e16-01 outer:exit 2b-1f58cdd34f4a480147a827d3df4d8dcc27b99e66-4ddcd56f40b5ea4e-01
2021-08-22T22:01:46.845Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:46.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-c02c69f1fe5eae1516c407cdc7aa81986e828dea-86a217c7095c5637-01 outer:exit 2b-c02c69f1fe5eae1516c407cdc7aa81986e828dea-4a39cebb3c1640d8-01
2021-08-22T22:01:46.849Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:46.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a97b81fc7c1ae80f612b497e186d8f5773da5dc-ccfe4f0b080d2cd1-01 outer:exit 2b-2a97b81fc7c1ae80f612b497e186d8f5773da5dc-1b66f9878501a79a-01
2021-08-22T22:01:46.854Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:46.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-0186d3986ea3520f0adfe2b13ed098ba6ce72344-e0518aeaf6d35e2e-01 outer:exit 2b-0186d3986ea3520f0adfe2b13ed098ba6ce72344-61a5116c65cd36d8-01
2021-08-22T22:01:46.859Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:46.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c671fa04942857125b12005d6a914009f3605ee-b0bc74c145b0e5ad-01 outer:exit 2b-8c671fa04942857125b12005d6a914009f3605ee-6e4d9decf2133751-01
2021-08-22T22:01:46.862Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:46.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-dde422c18c87b476055c4d58e8d828b7f970b8f7-e69aa5c072578a0d-01 outer:exit 2b-dde422c18c87b476055c4d58e8d828b7f970b8f7-1f00e67e4a5559d4-01
2021-08-22T22:01:46.864Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:46.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-d68e35f58d60d911b7be52216803fe389c170c57-dcdde6dcdbc1856c-01 outer:exit 2b-d68e35f58d60d911b7be52216803fe389c170c57-dc396e79e34c0972-01
2021-08-22T22:01:46.871Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:46.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec220fbff01bfa195f1109c0b631d47a2e92fce4-a4430a7844869d4d-01 outer:exit 2b-ec220fbff01bfa195f1109c0b631d47a2e92fce4-48cfb5cda33837df-01
2021-08-22T22:01:46.876Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:46.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-aec98a534d46277b1d3382af27e78992c9a64d60-db491a52ba12fb2c-01 outer:exit 2b-aec98a534d46277b1d3382af27e78992c9a64d60-e6dc82d1f84ef223-01
2021-08-22T22:01:46.879Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:46.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bd530294758029db9c5074d8aeb3662aa1ddf5c-04863fe46c0d5e94-01 outer:exit 2b-3bd530294758029db9c5074d8aeb3662aa1ddf5c-8050c76fe72058b8-01
2021-08-22T22:01:46.886Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:46.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce4fc50ba6eceed470c0ec7c0197e3d71cee893e-38b82274277b6872-01 outer:exit 2b-ce4fc50ba6eceed470c0ec7c0197e3d71cee893e-ad81036e3f5f8dec-01
2021-08-22T22:01:46.894Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:46.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-81aeb2fb0b3fda37d232faa52046a7f00ccff99e-596573d5a83cf94e-01 outer:exit 2b-81aeb2fb0b3fda37d232faa52046a7f00ccff99e-0ff50591abba8e39-01
2021-08-22T22:01:46.898Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:46.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0c2ffde2fb7c58f589e08019b2c6f705e05066e-c59ef438f0a1a938-01 outer:exit 2b-b0c2ffde2fb7c58f589e08019b2c6f705e05066e-cae23231e06a7172-01
2021-08-22T22:01:46.900Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:46.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0c4ac7881220c1fbab821f450d47534f62e7279-b9b398feabbe1df4-01 outer:exit 2b-b0c4ac7881220c1fbab821f450d47534f62e7279-012e9479ff3872bd-01
2021-08-22T22:01:46.908Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:46.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b1666306b527e91f283ab45828ad7b80de0215-216ae691154495db-01 outer:exit 2b-45b1666306b527e91f283ab45828ad7b80de0215-a58a33a02f486efa-01
2021-08-22T22:01:46.916Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:46.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cb4c0eedbd149d294a9c85220eff064c6664db7-66354b8003b1f230-01 outer:exit 2b-7cb4c0eedbd149d294a9c85220eff064c6664db7-8eac386eae3fc412-01
2021-08-22T22:01:46.928Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:46.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb09fb9ba6dfd56d1daee5db5b0accbc52f8219a-928a70f9875fb6ac-01 outer:exit 2b-bb09fb9ba6dfd56d1daee5db5b0accbc52f8219a-d22e84947ba5aea1-01
2021-08-22T22:01:46.936Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:46.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-6818406bf84ce9e6bc61fd7ebc0f6ac615248fa0-b0534ec68233a4a8-01 outer:exit 2b-6818406bf84ce9e6bc61fd7ebc0f6ac615248fa0-79ab49fe70746ec7-01
2021-08-22T22:01:46.939Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:46.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-0924060c38e3402371d5a71afbaaa71e20fd7313-a2c20cd5d7b4e8e2-01 outer:exit 2b-0924060c38e3402371d5a71afbaaa71e20fd7313-4c3452857d3235b6-01
2021-08-22T22:01:46.942Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:46.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff99f7e690af84e01cc1aa3a6cb70417a4a8bba-d005fc9e8a7cf70b-01 outer:exit 2b-4ff99f7e690af84e01cc1aa3a6cb70417a4a8bba-fed87ba481653faf-01
2021-08-22T22:01:46.951Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:46.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba76d936a0d4ff78887ef119b13c376e57f04ec4-7c85c3f783e795f6-01 outer:exit 2b-ba76d936a0d4ff78887ef119b13c376e57f04ec4-4bed9006d90c4d37-01
2021-08-22T22:01:46.954Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:46.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fbcb1b3ff8bd4eebd6b6191ead9ff5d08c72f98-e271466627eacf9b-01 outer:exit 2b-4fbcb1b3ff8bd4eebd6b6191ead9ff5d08c72f98-4d5590542dd2df42-01
2021-08-22T22:01:46.956Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:46.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-5918bd21df015a2ef2f44987e797c9048ca37d1f-01d0b84a73c0034c-01 outer:exit 2b-5918bd21df015a2ef2f44987e797c9048ca37d1f-d8e944a3a09b8ee5-01
2021-08-22T22:01:46.958Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:47.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-feb0594b2af20a35eefa0ee815b9d115dd3ccca2-eecdec777fad6c31-01 outer:exit 2b-feb0594b2af20a35eefa0ee815b9d115dd3ccca2-3e2a32e3b18f1e8d-01
2021-08-22T22:01:47.001Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:47.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-90ff52ad448eefe60918a5dbadaba51efefc37f0-23bbec8f9929181d-01 outer:exit 2b-90ff52ad448eefe60918a5dbadaba51efefc37f0-fa51c055b1054975-01
2021-08-22T22:01:47.004Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:47.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0e58abf9bf9c158dad6427c87a9d46b5f125b8-9703ae91312d665e-01 outer:exit 2b-8d0e58abf9bf9c158dad6427c87a9d46b5f125b8-9ff6ef99d811839c-01
2021-08-22T22:01:47.020Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:47.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3d62dcb4507a8045717613e30b1c620a51c8635-1becda2d9fd742e4-01 outer:exit 2b-c3d62dcb4507a8045717613e30b1c620a51c8635-42513b49be01b3f5-01
2021-08-22T22:01:47.035Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:47.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aac3d941c275b761d364f0260acb83673fc1b16-460a330b9850f029-01 outer:exit 2b-7aac3d941c275b761d364f0260acb83673fc1b16-76f5a97e51244a23-01
2021-08-22T22:01:47.039Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:47.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-00af4bfbcf2fa65194a4a22d6f1ed5c4d41914b9-60965c44ccd7bf99-01 outer:exit 2b-00af4bfbcf2fa65194a4a22d6f1ed5c4d41914b9-480a38eb0f6264bb-01
2021-08-22T22:01:47.042Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:47.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e257e1727edf5a356b06c19761888b9e5939d78-269d27688423d107-01 outer:exit 2b-0e257e1727edf5a356b06c19761888b9e5939d78-30e65ccb14886252-01
2021-08-22T22:01:47.050Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:47.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-5af8e5100f47f1e4c003736b5ac679d4baf983ae-43905138f1b19399-01 outer:exit 2b-5af8e5100f47f1e4c003736b5ac679d4baf983ae-9f8019a145763b63-01
2021-08-22T22:01:47.089Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (466ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.7
updated 1 package and audited 939 packages in 4.123s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:52.321Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:52.322Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:52.322Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:52.323Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:52.390Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:52.433Z appoptics:patching patched crypto 
2021-08-22T22:01:52.453Z appoptics:patching patched https 
2021-08-22T22:01:52.453Z appoptics:patching patched http 
2021-08-22T22:01:52.489Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:52.490Z appoptics:patching patched fs 
2021-08-22T22:01:52.514Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v14.17.5)
2021-08-22T22:01:52.521Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-08-22T22:01:52.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc45387898c78f3ee3dba48fbb3d11ee723534a5-9ec6d4bf1dd5a3ef-01 outer:exit 2b-bc45387898c78f3ee3dba48fbb3d11ee723534a5-5a11531110885647-01
2021-08-22T22:01:52.668Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:52.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-b187a4703950bf739f8073a14f5bf28a1988ede9-6e1bb0c6c0155213-01 outer:exit 2b-b187a4703950bf739f8073a14f5bf28a1988ede9-0857840edfbea860-01
2021-08-22T22:01:52.695Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:52.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-f86a6b620ee96dbb135aa6634c411a75a1525ac5-d97e3d1672405f69-01 outer:exit 2b-f86a6b620ee96dbb135aa6634c411a75a1525ac5-b35e92301b9ef49b-01
2021-08-22T22:01:52.698Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:52.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-7572644d964869b8c2e639bf86a12d7902531508-d1ffdf266ee744f8-01 outer:exit 2b-7572644d964869b8c2e639bf86a12d7902531508-e110f5e18e15d499-01
2021-08-22T22:01:52.701Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:52.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-81709ef8c69a03af4fe5a2c761666e44be8a8b99-bf027a072febae07-01 outer:exit 2b-81709ef8c69a03af4fe5a2c761666e44be8a8b99-47f9de02f6e41844-01
2021-08-22T22:01:52.706Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:52.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-17698ad390fe2786330f47ab99725013a6c121b6-2fc8197bbb5ab030-01 outer:exit 2b-17698ad390fe2786330f47ab99725013a6c121b6-0d9c86442b9f722a-01
2021-08-22T22:01:52.709Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:52.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c7ddda73cd36e3df2cf5a15c9b95c312755d2ec-b08ab5acecf18811-01 outer:exit 2b-5c7ddda73cd36e3df2cf5a15c9b95c312755d2ec-ea5e5036dd35bd92-01
2021-08-22T22:01:52.712Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:52.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-742e76d7041a84514c57c7635dc2fe7ad18c2f7f-828568cd7ffd51b8-01 outer:exit 2b-742e76d7041a84514c57c7635dc2fe7ad18c2f7f-b7f292763fcbc699-01
2021-08-22T22:01:52.714Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:52.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-e407da9bf60ec9c28b39490a1b11ba031e66945c-d59d782d10c02640-01 outer:exit 2b-e407da9bf60ec9c28b39490a1b11ba031e66945c-289ae8167805f521-01
2021-08-22T22:01:52.717Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:52.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1d9be63a9ed408aaf9ae051112dbee9d12913de-ce8ddc77763733df-01 outer:exit 2b-e1d9be63a9ed408aaf9ae051112dbee9d12913de-f46e1110f31dfa0a-01
2021-08-22T22:01:52.720Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:52.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2af0356d0f8122871c4f04e9bcf068f5e9d213a-3d450c32825655c2-01 outer:exit 2b-c2af0356d0f8122871c4f04e9bcf068f5e9d213a-eb5704788f3c543b-01
2021-08-22T22:01:52.724Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:52.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9ac474f62f86b6f769c4060d639af1b0cb9f6c7-ee2ae5e6e5583416-01 outer:exit 2b-c9ac474f62f86b6f769c4060d639af1b0cb9f6c7-51a67d5bb5f2c984-01
2021-08-22T22:01:52.730Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:52.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-638e4ac64604fcefd71f78155183df5d9fe637d1-5072eb6e4fb1347c-01 outer:exit 2b-638e4ac64604fcefd71f78155183df5d9fe637d1-e50812319aae87bf-01
2021-08-22T22:01:52.746Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:52.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-923b0b9f496b5ec78c12531fe1bef52ec2a574d9-75373a1bd04d9c3d-01 outer:exit 2b-923b0b9f496b5ec78c12531fe1bef52ec2a574d9-4e4c76808b0201e8-01
2021-08-22T22:01:52.813Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:52.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-045305978f0c81d2fc78b1b658c73ea7b6a7cdb5-9af9813f6be6dffb-01 outer:exit 2b-045305978f0c81d2fc78b1b658c73ea7b6a7cdb5-5cea1e8656bf3c7c-01
2021-08-22T22:01:52.816Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:52.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-4111469656638d185df09c76534b889efdcf403e-27deb338ea0dd066-01 outer:exit 2b-4111469656638d185df09c76534b889efdcf403e-4d4fea9e4b5e032c-01
2021-08-22T22:01:52.819Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:52.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-1941bfc5898e446103f7e6d39b86a7edef08901f-0f66b7555d73404f-01 outer:exit 2b-1941bfc5898e446103f7e6d39b86a7edef08901f-6d1ed6d6a5695751-01
2021-08-22T22:01:52.823Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:52.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-1379bbcfd4ca862a4917c10b6a36d6b4f1067118-41fafee12353af7d-01 outer:exit 2b-1379bbcfd4ca862a4917c10b6a36d6b4f1067118-7847b4a40aa3224b-01
2021-08-22T22:01:52.825Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:52.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fa6adbacd50b5da1001d18aad99cdea4fe03f91-483f25ef9c97c12c-01 outer:exit 2b-9fa6adbacd50b5da1001d18aad99cdea4fe03f91-6eed489c460ecb95-01
2021-08-22T22:01:52.828Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:52.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b636dc6f3444f372742036d3158a5b8e3b8d29-ace131e4941c5167-01 outer:exit 2b-c6b636dc6f3444f372742036d3158a5b8e3b8d29-6c2486bd22d51a4a-01
2021-08-22T22:01:52.830Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:52.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eafb03fc9fb169b04b175312e9eef652944c692-f062489275dd3f2a-01 outer:exit 2b-0eafb03fc9fb169b04b175312e9eef652944c692-86ae9a0e2db5e66d-01
2021-08-22T22:01:52.833Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:52.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ca96dc30e89dbd94f5f772196e3ad4a0bea8a78-7d29f2ad9cb2814c-01 outer:exit 2b-7ca96dc30e89dbd94f5f772196e3ad4a0bea8a78-7d22afba54a62b12-01
2021-08-22T22:01:52.835Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:52.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea4518ff8e94979258ea1920b6249bf8a8d1fe8d-4c9170b2bb1bdde1-01 outer:exit 2b-ea4518ff8e94979258ea1920b6249bf8a8d1fe8d-2380c39bd9f9edc9-01
2021-08-22T22:01:52.839Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:52.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-671ff55c424841b648c6a59eb59d5562c9e1fc10-efaf115651a62e59-01 outer:exit 2b-671ff55c424841b648c6a59eb59d5562c9e1fc10-920ffad8f323c5c2-01
2021-08-22T22:01:52.842Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:52.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4b216dd0d6237092b54e61d77b403278e1d43ae-e4389ebe7f0a55cc-01 outer:exit 2b-f4b216dd0d6237092b54e61d77b403278e1d43ae-dcc36c205903baa2-01
2021-08-22T22:01:52.845Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:52.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd4a88cbfdc4d7e5377e6b89e362ca521b982805-62a181ea0307264c-01 outer:exit 2b-fd4a88cbfdc4d7e5377e6b89e362ca521b982805-a126934bd16ab3db-01
2021-08-22T22:01:52.849Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:52.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-e88c1cbfabe225e4528fd646f9a915aecd7ea20e-b6bf0ddef1a0ee2d-01 outer:exit 2b-e88c1cbfabe225e4528fd646f9a915aecd7ea20e-fce6ce181009e1ca-01
2021-08-22T22:01:52.856Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:52.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3810a77b145566431fd500bdd423c23909dd4ce-d069249685eba5a9-01 outer:exit 2b-d3810a77b145566431fd500bdd423c23909dd4ce-807771a874affe12-01
2021-08-22T22:01:52.861Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:52.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-4761c314f45f4769c885d785cb88eece587cbbcd-83e37e921e9f8b81-01 outer:exit 2b-4761c314f45f4769c885d785cb88eece587cbbcd-da5aa6a28b687be1-01
2021-08-22T22:01:52.871Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:52.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e7f7fcf541eb58fb3fb2c8cc46c83a2550dcb95-0ba69c4da5e9cc46-01 outer:exit 2b-6e7f7fcf541eb58fb3fb2c8cc46c83a2550dcb95-2de77822b9645f6d-01
2021-08-22T22:01:52.879Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:52.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-56bef512a9130b9d2ea663d8008a2b2165cdbe42-657090433541fea2-01 outer:exit 2b-56bef512a9130b9d2ea663d8008a2b2165cdbe42-ddca19921ef31855-01
2021-08-22T22:01:52.882Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:52.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-569c532a746de8d7524a0354168fff7ee17b985e-fe8b596d7a3cb153-01 outer:exit 2b-569c532a746de8d7524a0354168fff7ee17b985e-cb03464c079ddbd5-01
2021-08-22T22:01:52.885Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:52.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee007a6da81f9601eccc2ad1d9d775d5803cf069-dff90056f8bc90b0-01 outer:exit 2b-ee007a6da81f9601eccc2ad1d9d775d5803cf069-da69ffe2bca5baae-01
2021-08-22T22:01:52.893Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:52.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e2f1618284321cf87e7e8a4629f78883001311f-1ba3c1c7bab27d13-01 outer:exit 2b-9e2f1618284321cf87e7e8a4629f78883001311f-13c89c9bd0b0d2f6-01
2021-08-22T22:01:52.895Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:52.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd70c9d35deaad3e7bc2284d15179a80f6a5b3a0-08c6275b55544dd1-01 outer:exit 2b-dd70c9d35deaad3e7bc2284d15179a80f6a5b3a0-03c32b42ce94a619-01
2021-08-22T22:01:52.898Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:52.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c0321652f2f7557a80453affe608e2909bc1c04-a592562266c5ac19-01 outer:exit 2b-0c0321652f2f7557a80453affe608e2909bc1c04-fe1aafb93fa05bcd-01
2021-08-22T22:01:52.901Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:52.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad56cb0ce5fd95db1538c43ccc673e943ffea756-ba671e8bc6cecbf4-01 outer:exit 2b-ad56cb0ce5fd95db1538c43ccc673e943ffea756-0202eb3cd706968e-01
2021-08-22T22:01:52.903Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:52.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-e56ad24f1fe1ca63c696dca9722bed67ccf18396-e311704cacb9e8ba-01 outer:exit 2b-e56ad24f1fe1ca63c696dca9722bed67ccf18396-38a7943ed08c659a-01
2021-08-22T22:01:52.905Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:52.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-79b2ae83dbbc336e9c56a33baa335c72458bafa5-51345926be7beeee-01 outer:exit 2b-79b2ae83dbbc336e9c56a33baa335c72458bafa5-9590188d73e70784-01
2021-08-22T22:01:52.924Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:52.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-d40d3f6cdbbdd52751d5261ad4fd63b80e0918ee-543131ceadd4e9b7-01 outer:exit 2b-d40d3f6cdbbdd52751d5261ad4fd63b80e0918ee-6751b43756b44f72-01
2021-08-22T22:01:52.936Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:52.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9f945ed1cc3306584e8f53f732536e6898a65ee-667abeda061e48ef-01 outer:exit 2b-d9f945ed1cc3306584e8f53f732536e6898a65ee-a0d7a33f62a8752b-01
2021-08-22T22:01:52.939Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:52.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-0121910baaa00b984c44f4bf2bd2eddb978a6d03-641d2de8348d6afb-01 outer:exit 2b-0121910baaa00b984c44f4bf2bd2eddb978a6d03-8824420de47bdaca-01
2021-08-22T22:01:52.942Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:52.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5574e8b13f27eac5402174a0977a17e3003de5f-10eeb065f6db894d-01 outer:exit 2b-a5574e8b13f27eac5402174a0977a17e3003de5f-475f37d0e1fc7ef0-01
2021-08-22T22:01:52.945Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:52.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2957df36516c7e908909a7f98d625207bf524ce-b86438204667cf9d-01 outer:exit 2b-f2957df36516c7e908909a7f98d625207bf524ce-66f8b14559e56dda-01
2021-08-22T22:01:52.972Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (339ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.8
updated 1 package and audited 939 packages in 4.098s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:01:58.420Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:01:58.421Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:01:58.421Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:01:58.422Z appoptics:debug using context provider: ace-context
2021-08-22T22:01:58.584Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:01:58.670Z appoptics:patching patched crypto 
2021-08-22T22:01:58.734Z appoptics:patching patched https 
2021-08-22T22:01:58.735Z appoptics:patching patched http 
2021-08-22T22:01:58.813Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:01:58.813Z appoptics:patching patched fs 
2021-08-22T22:01:58.854Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v14.17.5)
2021-08-22T22:01:58.871Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-08-22T22:01:59.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c048d00b76c5344bd6d615bebb58bceca0f68a2-a215a179c2cc3083-01 outer:exit 2b-8c048d00b76c5344bd6d615bebb58bceca0f68a2-1a43d7c37c89c774-01
2021-08-22T22:01:59.166Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:01:59.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b51325b3b19d69ac191576ea2cc1fe33a3c5cee-280774053e9a67d1-01 outer:exit 2b-1b51325b3b19d69ac191576ea2cc1fe33a3c5cee-731b9c947a37b7a8-01
2021-08-22T22:01:59.206Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:01:59.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1679051f3721754563a50ed004c37d4ea1bbcec-204659b77acc21d8-01 outer:exit 2b-c1679051f3721754563a50ed004c37d4ea1bbcec-9fbc98961af9baab-01
2021-08-22T22:01:59.213Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:01:59.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-04f4f0364740145f46a9191aa84881589f0836a2-6b3421d2827fb95f-01 outer:exit 2b-04f4f0364740145f46a9191aa84881589f0836a2-b25cbbe718a5823c-01
2021-08-22T22:01:59.219Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:01:59.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-454a3f308df62a5888f9035a32606a63ee869b38-daa80a4cb2f207f8-01 outer:exit 2b-454a3f308df62a5888f9035a32606a63ee869b38-ddbb68056a7599eb-01
2021-08-22T22:01:59.229Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:01:59.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a532ac62e557ca6662fd552ba6bd45257dbbc05-ec5dc484cd93f0aa-01 outer:exit 2b-6a532ac62e557ca6662fd552ba6bd45257dbbc05-939b12baf3bdac9c-01
2021-08-22T22:01:59.232Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:01:59.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-87e0d312fec4e9ff991863978919a12b3754bff3-6d944e5ed03c7a81-01 outer:exit 2b-87e0d312fec4e9ff991863978919a12b3754bff3-730ad1c8923a0067-01
2021-08-22T22:01:59.245Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:01:59.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ddf76c1f9d4f0063594393753b9068703a0c1b1-e74f2ae53d55baf6-01 outer:exit 2b-8ddf76c1f9d4f0063594393753b9068703a0c1b1-8c8575d3c861cb51-01
2021-08-22T22:01:59.247Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:01:59.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-40066fda5c73166d1f5f233026d69a6f4b1afd1e-edacb5f5b287abdb-01 outer:exit 2b-40066fda5c73166d1f5f233026d69a6f4b1afd1e-c7be3cdc7169b161-01
2021-08-22T22:01:59.250Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:01:59.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-e26a0b8db476236c14de6449b48211b6464ef5ad-d9cd7d7afd17cdb7-01 outer:exit 2b-e26a0b8db476236c14de6449b48211b6464ef5ad-eba344982747b6f1-01
2021-08-22T22:01:59.253Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:01:59.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-130d8e85e1af291ba7302e4223823becd442411d-658e80e622bf51f6-01 outer:exit 2b-130d8e85e1af291ba7302e4223823becd442411d-ee1a877d7c8d3014-01
2021-08-22T22:01:59.258Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:01:59.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd00521bbc0f083c5e9c55e3e1d1680e41587727-83a9bfc2c345da73-01 outer:exit 2b-fd00521bbc0f083c5e9c55e3e1d1680e41587727-5efd6c3662697e1f-01
2021-08-22T22:01:59.269Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:01:59.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-610ad687c9573e62aabe966197313333613eba15-9ef9d12ad620309f-01 outer:exit 2b-610ad687c9573e62aabe966197313333613eba15-9b32581f5acf1d2c-01
2021-08-22T22:01:59.296Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:01:59.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-72a3e09f3b9880b0d2f19e9e2a707de7401ef9e2-324d2ab55acaf4d0-01 outer:exit 2b-72a3e09f3b9880b0d2f19e9e2a707de7401ef9e2-060b7d7c329a086d-01
2021-08-22T22:01:59.349Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:01:59.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-39b76fd586e9d66fe5048d69066dad1331094b86-f03b188a79e388de-01 outer:exit 2b-39b76fd586e9d66fe5048d69066dad1331094b86-8ab7518583e6aea4-01
2021-08-22T22:01:59.356Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:01:59.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ece37c6b3b5b41fd1da14a1eb344e6a301dfab6-f928f73976959499-01 outer:exit 2b-0ece37c6b3b5b41fd1da14a1eb344e6a301dfab6-79a149821da3fca9-01
2021-08-22T22:01:59.359Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:01:59.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-7198ef8a52e81c577ec8378fe8f6568ff4191a58-2f7770d077ab488b-01 outer:exit 2b-7198ef8a52e81c577ec8378fe8f6568ff4191a58-b4f870402e7f5c09-01
2021-08-22T22:01:59.362Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:01:59.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-c144c123a1b8a6b80395f38692f05a9dc932b922-c9aeb4377b5e3b85-01 outer:exit 2b-c144c123a1b8a6b80395f38692f05a9dc932b922-5aa4023d7db9cbcc-01
2021-08-22T22:01:59.370Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:01:59.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-02113d72e1f3e99dbba4fe4d328ce0bccc1dea07-442ffe77046081f9-01 outer:exit 2b-02113d72e1f3e99dbba4fe4d328ce0bccc1dea07-06b78d17fe2cbbc6-01
2021-08-22T22:01:59.372Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:01:59.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-690c34b5a8174ff3e3041bfe3114c7a6aa2c9486-8f7ba6b334e1b9a3-01 outer:exit 2b-690c34b5a8174ff3e3041bfe3114c7a6aa2c9486-6d97336616bdb309-01
2021-08-22T22:01:59.375Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:01:59.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fecc1a74ce79a18d68f1ab27077bbb5b9e01cc2-1b4d4dfd5f51e5fb-01 outer:exit 2b-4fecc1a74ce79a18d68f1ab27077bbb5b9e01cc2-7cd5031c78161b69-01
2021-08-22T22:01:59.380Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:01:59.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f854fdf9865dd5b3c487ebea32be6f33b00e35b-4821002b40dbaa6d-01 outer:exit 2b-6f854fdf9865dd5b3c487ebea32be6f33b00e35b-f334b41dd2d32c2a-01
2021-08-22T22:01:59.387Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:01:59.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-73fe0457372c6062a8ba90806f5bd4a4182e7107-65e2ad0ec5acb761-01 outer:exit 2b-73fe0457372c6062a8ba90806f5bd4a4182e7107-8bc671de8be3db48-01
2021-08-22T22:01:59.393Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:01:59.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ec1a162fb0ab50fd985b7eac26b6e24c579c5ad-7768bb90a2ff3146-01 outer:exit 2b-9ec1a162fb0ab50fd985b7eac26b6e24c579c5ad-c559335f46bb4cd0-01
2021-08-22T22:01:59.399Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:01:59.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-58319599cff3aa85bd723dac7d7afd183276ba5d-5d2ce544a82cb9d3-01 outer:exit 2b-58319599cff3aa85bd723dac7d7afd183276ba5d-dedd6646045deb93-01
2021-08-22T22:01:59.403Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:01:59.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-f12c1ddeaa3aec1b53ccdf1947b38c0d828aae1d-860dfae54fbc8662-01 outer:exit 2b-f12c1ddeaa3aec1b53ccdf1947b38c0d828aae1d-d426dc6f9e889a49-01
2021-08-22T22:01:59.408Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:01:59.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fd469c7469f91e53a6545602e90bc69702445f0-d6997b7ec8ac281a-01 outer:exit 2b-9fd469c7469f91e53a6545602e90bc69702445f0-3da9e3c0e01d1df7-01
2021-08-22T22:01:59.415Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:01:59.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b8c07393b11302b66c384ee276796509d31d19a-8079dde369ac48e1-01 outer:exit 2b-9b8c07393b11302b66c384ee276796509d31d19a-00f89b8acb05f720-01
2021-08-22T22:01:59.420Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:01:59.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-993e3afc68ffe464ef96964c0259f2b1abfa54c2-5e06bc53a35d8826-01 outer:exit 2b-993e3afc68ffe464ef96964c0259f2b1abfa54c2-e699d867c8bbd056-01
2021-08-22T22:01:59.434Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:01:59.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ea49ce729fdbafc4bbef80e68bb4907a90028fe-1fede6028a09b703-01 outer:exit 2b-7ea49ce729fdbafc4bbef80e68bb4907a90028fe-e0e565128c958788-01
2021-08-22T22:01:59.445Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:01:59.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0503e46b04587a652a621c1598c6b2fd77603b7-249ba43ff68c8cc1-01 outer:exit 2b-c0503e46b04587a652a621c1598c6b2fd77603b7-a95f061b12038633-01
2021-08-22T22:01:59.449Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:01:59.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-381758ce61e70861705b031fb22c43f04f9b77a6-7dc7237597a64ba0-01 outer:exit 2b-381758ce61e70861705b031fb22c43f04f9b77a6-63449d774b7ec4bc-01
2021-08-22T22:01:59.454Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:01:59.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae2153e800485d7588624b2e670d55bb2935aef8-f5fd399ff5bb1c96-01 outer:exit 2b-ae2153e800485d7588624b2e670d55bb2935aef8-ca2b6ca8475f6f94-01
2021-08-22T22:01:59.464Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:01:59.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-aecdf930c067137287d9d967bac6c12aa1974de4-30ef4c05d6a8ca1b-01 outer:exit 2b-aecdf930c067137287d9d967bac6c12aa1974de4-a41ebabccc75b28c-01
2021-08-22T22:01:59.467Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:01:59.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-318c372db10b485a539dd8329d9a5c0dc9284312-89b0374d1f32e0b6-01 outer:exit 2b-318c372db10b485a539dd8329d9a5c0dc9284312-2bb3c378e0d6b374-01
2021-08-22T22:01:59.470Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:01:59.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1e19f722d2a57ef216d2c0249cb5144b400f79d-b63baaf21194e990-01 outer:exit 2b-e1e19f722d2a57ef216d2c0249cb5144b400f79d-7f59f69efd3e82fa-01
2021-08-22T22:01:59.475Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:01:59.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-792827a6c88fdee7389c45a59dccfca6212f8616-17060a6b218aa108-01 outer:exit 2b-792827a6c88fdee7389c45a59dccfca6212f8616-796d5d25a74ae83e-01
2021-08-22T22:01:59.481Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:01:59.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-19976c2ba48f833a26a068ae7a5e146a80dd1572-ccadb7a842516ea7-01 outer:exit 2b-19976c2ba48f833a26a068ae7a5e146a80dd1572-3f2ae050b195217d-01
2021-08-22T22:01:59.491Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:01:59.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3ea068ee84787c5a44d45b7a31b758a8b128b13-2ae21738da7ffabb-01 outer:exit 2b-d3ea068ee84787c5a44d45b7a31b758a8b128b13-fe47b16786a422f4-01
2021-08-22T22:01:59.510Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:01:59.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c81c0ad14bc261241c17e01ccd88e25f583976e-d32790941aa02e63-01 outer:exit 2b-0c81c0ad14bc261241c17e01ccd88e25f583976e-4dd56c88f80fe879-01
2021-08-22T22:01:59.536Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:01:59.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-308a48766f93886da0f8e534182dc1184cf687bb-1e35d99088c21954-01 outer:exit 2b-308a48766f93886da0f8e534182dc1184cf687bb-ddd846a8dfa23331-01
2021-08-22T22:01:59.541Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:01:59.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cf3833dfc8a0e40ea464084da01f69f7b31ed94-c8ff467eebcbe09b-01 outer:exit 2b-6cf3833dfc8a0e40ea464084da01f69f7b31ed94-63ec282a27080f35-01
2021-08-22T22:01:59.547Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:01:59.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-7017ae71b6cc34aa3b1af042de33be9f1cf5303b-c6e0771569fb8c0a-01 outer:exit 2b-7017ae71b6cc34aa3b1af042de33be9f1cf5303b-7f5d730039d453d2-01
2021-08-22T22:01:59.561Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:01:59.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-dec8b02ca75f81a20010277579aa980187a0895a-06bbe6f7407c8726-01 outer:exit 2b-dec8b02ca75f81a20010277579aa980187a0895a-6d837c066fb2a8d5-01
2021-08-22T22:01:59.607Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (509ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.9
updated 1 package and audited 939 packages in 4.055s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:04.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:04.720Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:04.720Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:04.721Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:04.785Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:04.831Z appoptics:patching patched crypto 
2021-08-22T22:02:04.853Z appoptics:patching patched https 
2021-08-22T22:02:04.854Z appoptics:patching patched http 
2021-08-22T22:02:04.893Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:04.893Z appoptics:patching patched fs 
2021-08-22T22:02:04.919Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v14.17.5)
2021-08-22T22:02:04.926Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-08-22T22:02:05.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f39575a2f5ab9f1fdfac9da3eb1d2e894717e5b-5f4f0894a80adf46-01 outer:exit 2b-3f39575a2f5ab9f1fdfac9da3eb1d2e894717e5b-7870f32d82c81669-01
2021-08-22T22:02:05.111Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:05.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5e05b38b5ef6d3ab42b82248793d7b407a2b322-accb5be16950661f-01 outer:exit 2b-b5e05b38b5ef6d3ab42b82248793d7b407a2b322-e80c85c5fd9f53ed-01
2021-08-22T22:02:05.156Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:05.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed95e604a8aa5b2d4132da4b0c0900d4ee557d09-316a88de03823884-01 outer:exit 2b-ed95e604a8aa5b2d4132da4b0c0900d4ee557d09-b727401f40830d7e-01
2021-08-22T22:02:05.160Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:05.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-afba49ffd130cd342435dca1f64ff8233da8a8e3-f8a84a3af80e46bc-01 outer:exit 2b-afba49ffd130cd342435dca1f64ff8233da8a8e3-288b1166053ae390-01
2021-08-22T22:02:05.163Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:05.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-37c0c3b0d50c434f99b3776e62d41e6160d97bd2-3dc309893141342b-01 outer:exit 2b-37c0c3b0d50c434f99b3776e62d41e6160d97bd2-5615735a9b0445a2-01
2021-08-22T22:02:05.167Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:05.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa88850b3cf4036177c33ab4a28a6af3b31b0e5a-8ec683a9dedf2922-01 outer:exit 2b-fa88850b3cf4036177c33ab4a28a6af3b31b0e5a-ac5a8bfccadf90e4-01
2021-08-22T22:02:05.170Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:05.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-a42567f05050daf507edb9c218d695179d81af77-7c676f69351d8340-01 outer:exit 2b-a42567f05050daf507edb9c218d695179d81af77-f394b572e14b939a-01
2021-08-22T22:02:05.173Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:05.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-8574d312010f06fa02b442b4660ee58422ec947d-ff8c83c376bae0d0-01 outer:exit 2b-8574d312010f06fa02b442b4660ee58422ec947d-2487eb43ee43098d-01
2021-08-22T22:02:05.176Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:05.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d21bd423d78ef7bfdcaa49a49457be82753993-dd418c9e8d23b30b-01 outer:exit 2b-e8d21bd423d78ef7bfdcaa49a49457be82753993-6ad047f6c59167cf-01
2021-08-22T22:02:05.178Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:05.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-e39becf2efe4f2571e4284f453aedcbae7d425d2-31752edd5b21bea7-01 outer:exit 2b-e39becf2efe4f2571e4284f453aedcbae7d425d2-c5bf0d7af7c8d954-01
2021-08-22T22:02:05.181Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:05.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aadad99ae636fcf4d94b5ab6ba4e21c39687850-273384128e3ee8c3-01 outer:exit 2b-7aadad99ae636fcf4d94b5ab6ba4e21c39687850-351f034355e36c01-01
2021-08-22T22:02:05.185Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:05.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dc7f9aa0ab29080e2a5355521693e9a86c6320b-27c32ebf543d4a42-01 outer:exit 2b-5dc7f9aa0ab29080e2a5355521693e9a86c6320b-2f12fcaac53b3cec-01
2021-08-22T22:02:05.205Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:05.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-a58f4166260c3f06745bfa412dfa614c06295e77-8416caa1efc660b2-01 outer:exit 2b-a58f4166260c3f06745bfa412dfa614c06295e77-636da2972d280103-01
2021-08-22T22:02:05.221Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:05.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-b39bea9f36624476036777e691818a82f1b3d572-a0f145e14f9ec982-01 outer:exit 2b-b39bea9f36624476036777e691818a82f1b3d572-634db5c74b024ead-01
2021-08-22T22:02:05.247Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:05.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f2ea824a8428037b7190e361741614c07f117a8-669bf490c25c0b26-01 outer:exit 2b-1f2ea824a8428037b7190e361741614c07f117a8-373c93f8b9cec7d6-01
2021-08-22T22:02:05.249Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:05.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf2ec201a7cde049009ad9c0d258923f5602b0e9-662fa265f6365964-01 outer:exit 2b-cf2ec201a7cde049009ad9c0d258923f5602b0e9-fe8128842193e124-01
2021-08-22T22:02:05.252Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:05.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-58c7138328264f9bfd88a94b542df4e7d15eb75b-c31d735876c03174-01 outer:exit 2b-58c7138328264f9bfd88a94b542df4e7d15eb75b-15394f001bebe0f8-01
2021-08-22T22:02:05.256Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:05.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da5be170893c11ff3518afeaf909000570c75e4-a682079a3bdffb8c-01 outer:exit 2b-7da5be170893c11ff3518afeaf909000570c75e4-5586b3500e802149-01
2021-08-22T22:02:05.258Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:05.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f2de371485661180bce4666cbe0a890c9d7a54c-4aef624e99dba3ec-01 outer:exit 2b-0f2de371485661180bce4666cbe0a890c9d7a54c-41e0fa33d656c814-01
2021-08-22T22:02:05.260Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:05.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4701d2c5f0c755d1fb216c8a3a0eecb145f55a0-f585b356c60cf494-01 outer:exit 2b-d4701d2c5f0c755d1fb216c8a3a0eecb145f55a0-dbc1522e23b7c376-01
2021-08-22T22:02:05.263Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:05.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-3445e64171047e7af6d9e269ecaa93409660bf44-31a5c183cd09517e-01 outer:exit 2b-3445e64171047e7af6d9e269ecaa93409660bf44-dd93643476ec695b-01
2021-08-22T22:02:05.266Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:05.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-13c58b6d258bbd854f0995144c1749f79272ae4f-b7bba0d870202226-01 outer:exit 2b-13c58b6d258bbd854f0995144c1749f79272ae4f-d45e20704fe1b7d2-01
2021-08-22T22:02:05.268Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:05.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-e449dfc42a56e2074c6c37391cf9568ee3be2adb-43bcbe3a733a0b8d-01 outer:exit 2b-e449dfc42a56e2074c6c37391cf9568ee3be2adb-1069881dd51b3446-01
2021-08-22T22:02:05.271Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:05.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-289d96aa84cb3638ff5a4b997a057e9ee68e6e0c-27f4e3b987534ee1-01 outer:exit 2b-289d96aa84cb3638ff5a4b997a057e9ee68e6e0c-86b8a78431828c2b-01
2021-08-22T22:02:05.276Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:05.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-11edb2db13527f43ff4b8d52042fa34c8b8ccddc-d558091dd337adf9-01 outer:exit 2b-11edb2db13527f43ff4b8d52042fa34c8b8ccddc-e67f25c4c5530161-01
2021-08-22T22:02:05.278Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:05.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ee9cebeae002b400cd7d8e81e0ed2dbac334e5c-f33be2d2bfaa813f-01 outer:exit 2b-1ee9cebeae002b400cd7d8e81e0ed2dbac334e5c-89efdaca8b48fdec-01
2021-08-22T22:02:05.281Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:05.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-3281f4c18b48098e3c67cfb1544aba47e6f399af-0cdd12e465f628ac-01 outer:exit 2b-3281f4c18b48098e3c67cfb1544aba47e6f399af-74adabedf95a0995-01
2021-08-22T22:02:05.303Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:05.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-994a0a9784203233b149ce47e5813acef03b2ad1-1f441fc7ad6607a4-01 outer:exit 2b-994a0a9784203233b149ce47e5813acef03b2ad1-ad1ee78d97ba9bd5-01
2021-08-22T22:02:05.321Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:05.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-9208abfe5fdb4e305d33b785fdfccab6e3f6b2df-dde68dee989250ac-01 outer:exit 2b-9208abfe5fdb4e305d33b785fdfccab6e3f6b2df-7ffa005edda75e64-01
2021-08-22T22:02:05.331Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:05.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-4015dacb112d1d2d2c5db67e17f5d0f69df2deb3-33d5635c09c4049b-01 outer:exit 2b-4015dacb112d1d2d2c5db67e17f5d0f69df2deb3-9eda3183f3d5eb0f-01
2021-08-22T22:02:05.339Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:05.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-80b703502497b12513f616190c4e2a82d278930a-7044c0e678c75974-01 outer:exit 2b-80b703502497b12513f616190c4e2a82d278930a-f696119dee519a78-01
2021-08-22T22:02:05.341Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:05.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee09556abb34d500b721e37cf30c6767f7cf8016-b73c37dfa3d7dc02-01 outer:exit 2b-ee09556abb34d500b721e37cf30c6767f7cf8016-190234601b14a194-01
2021-08-22T22:02:05.345Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:05.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-30574e14265ee9cebd4b4b83ee4f821c6b936b11-d55461027f659ce7-01 outer:exit 2b-30574e14265ee9cebd4b4b83ee4f821c6b936b11-88fe52f3949a88bc-01
2021-08-22T22:02:05.353Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:05.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5989f19db273ad6802d8b93430781b1d95d06fe-3940ff535829e563-01 outer:exit 2b-d5989f19db273ad6802d8b93430781b1d95d06fe-126d1ace28e1b85c-01
2021-08-22T22:02:05.356Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:05.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-8417d0457a69088261b7c844a5fd4ffdb003250f-df39b2b86352bea3-01 outer:exit 2b-8417d0457a69088261b7c844a5fd4ffdb003250f-8f1388e5a109bf6e-01
2021-08-22T22:02:05.358Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:05.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-d821e1cf31044978438ea7b702711c1a4d6e4476-aac2b3590f362ff2-01 outer:exit 2b-d821e1cf31044978438ea7b702711c1a4d6e4476-18a543d4156dbff3-01
2021-08-22T22:02:05.360Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:05.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-16ce9463d7e8cfbfaea4b55e875bb4eafd9183a3-42cfea5a3ddbee57-01 outer:exit 2b-16ce9463d7e8cfbfaea4b55e875bb4eafd9183a3-f7a7cb8cdb1d50cb-01
2021-08-22T22:02:05.363Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:05.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-09f9133b750cde6e6f6fe56959592a087c3cde15-31a484d83589f49a-01 outer:exit 2b-09f9133b750cde6e6f6fe56959592a087c3cde15-6513578fa1a45109-01
2021-08-22T22:02:05.370Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:05.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ec3e4302d31058a984e739e286cd04864ed7838-6a1290e147532bea-01 outer:exit 2b-5ec3e4302d31058a984e739e286cd04864ed7838-44df9b71f3fe4075-01
2021-08-22T22:02:05.389Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:05.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-e60a9034a6bf6028a97fc58e7077d8eacdfc5a5c-83df3040e74be26e-01 outer:exit 2b-e60a9034a6bf6028a97fc58e7077d8eacdfc5a5c-19947f0afad40fc4-01
2021-08-22T22:02:05.398Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:05.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d1eef168659319f3f41cc4dc6bc9f63ff9809fc-aef84f6a52108ca4-01 outer:exit 2b-9d1eef168659319f3f41cc4dc6bc9f63ff9809fc-8a4313f56a40ae70-01
2021-08-22T22:02:05.401Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:05.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b6c9761b227dbeb2d1dda178f970706e6fc8608-fc509677318b1b89-01 outer:exit 2b-3b6c9761b227dbeb2d1dda178f970706e6fc8608-d9524a923b4b60e0-01
2021-08-22T22:02:05.404Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:05.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-a532e6094fcc79eca8c85b0c63c3a9c0f6da2e60-9b5db589f78caa16-01 outer:exit 2b-a532e6094fcc79eca8c85b0c63c3a9c0f6da2e60-e9026485434189ee-01
2021-08-22T22:02:05.420Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:05.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-377ad8fe545b2570fecdaf6e2edf5f3e8e1df8ba-e97881c4307a3d56-01 outer:exit 2b-377ad8fe545b2570fecdaf6e2edf5f3e8e1df8ba-744b18e9427f8bf5-01
2021-08-22T22:02:05.451Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (394ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.10
updated 1 package and audited 939 packages in 5.217s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:11.791Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:11.792Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:11.792Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:11.793Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:11.877Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:11.955Z appoptics:patching patched crypto 
2021-08-22T22:02:11.998Z appoptics:patching patched https 
2021-08-22T22:02:11.998Z appoptics:patching patched http 
2021-08-22T22:02:12.041Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:12.042Z appoptics:patching patched fs 
2021-08-22T22:02:12.072Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v14.17.5)
2021-08-22T22:02:12.080Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-08-22T22:02:12.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ff5fe4c5305c175c5520a4ac79491e99588f98-20607389d8729322-01 outer:exit 2b-77ff5fe4c5305c175c5520a4ac79491e99588f98-1fafa7c5acc7f99f-01
2021-08-22T22:02:12.270Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:12.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b4c0573a1009d59244db8de4d748890249bf243-de4ecfb88ef2bbb0-01 outer:exit 2b-4b4c0573a1009d59244db8de4d748890249bf243-08f710837db61136-01
2021-08-22T22:02:12.294Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:12.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c4710e000e7dba373967fe77d6e1043f837693a-c3f600740ddf48cc-01 outer:exit 2b-3c4710e000e7dba373967fe77d6e1043f837693a-e1d277771c84ab1c-01
2021-08-22T22:02:12.297Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:12.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed2858867f2da2f4674cf9aa5e5e07a4beb72a01-dab37b0bc12a1a92-01 outer:exit 2b-ed2858867f2da2f4674cf9aa5e5e07a4beb72a01-742355a6f2796bf1-01
2021-08-22T22:02:12.300Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:12.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-499d2acd7db43b24ab44b042aef8645745fa49fa-27b298f9a45616cf-01 outer:exit 2b-499d2acd7db43b24ab44b042aef8645745fa49fa-608d4807d7c3b050-01
2021-08-22T22:02:12.305Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:12.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-150db1004e90db0aba4e3a7088dc5b2707f9e528-5742ebc5a915ede0-01 outer:exit 2b-150db1004e90db0aba4e3a7088dc5b2707f9e528-4c6c4204114914ac-01
2021-08-22T22:02:12.310Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:12.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4ef1ac08520009d3471a5767589e7f1fe5f2624-2dd0f3e1de68609b-01 outer:exit 2b-c4ef1ac08520009d3471a5767589e7f1fe5f2624-7f9fd68d73293b5f-01
2021-08-22T22:02:12.312Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:12.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fc521da5c5aa8188343c1a6b4373f1b8c576c08-de5cf0288dfa1a99-01 outer:exit 2b-8fc521da5c5aa8188343c1a6b4373f1b8c576c08-9f73ac853cd1b46a-01
2021-08-22T22:02:12.315Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:12.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a20646429fc637132ea6306f9211ac9445f854-abf187442fd30f12-01 outer:exit 2b-77a20646429fc637132ea6306f9211ac9445f854-9c914714a35f5d95-01
2021-08-22T22:02:12.317Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:12.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a89a3937a8bbdac79b90be42e394cead6525af0-a7795d24ad4211df-01 outer:exit 2b-8a89a3937a8bbdac79b90be42e394cead6525af0-8a501a4643c6cfde-01
2021-08-22T22:02:12.321Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:12.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-374b554160d94da7332a11d535a652c9523d8ac6-38b6e8cbacbd3cf8-01 outer:exit 2b-374b554160d94da7332a11d535a652c9523d8ac6-b90d1c1ddc9e0c32-01
2021-08-22T22:02:12.325Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:12.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f84a7e7f5bf4f543a636e6eb6098d2b700145ed-c1bdfd8032df91fa-01 outer:exit 2b-2f84a7e7f5bf4f543a636e6eb6098d2b700145ed-dc42612b099eabad-01
2021-08-22T22:02:12.332Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:12.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ba44de60defe32ca97552428a776617e5c69803-8e141cd411821f7e-01 outer:exit 2b-0ba44de60defe32ca97552428a776617e5c69803-e4250af7c1ec08bd-01
2021-08-22T22:02:12.346Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:12.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-9517bbb93c101bab83e1334971b175c506c0daea-0c92829a3da4c283-01 outer:exit 2b-9517bbb93c101bab83e1334971b175c506c0daea-25225a12ce6b88bc-01
2021-08-22T22:02:12.393Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:12.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c059107cb989bb566da7ee5c736dca2a4730e54-eb1afdb3755ce372-01 outer:exit 2b-0c059107cb989bb566da7ee5c736dca2a4730e54-cf4c9bf94ba7cc2d-01
2021-08-22T22:02:12.397Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:12.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-47224fa6a53e98d98745419fb0589b45111bf723-bb0a5ec039081273-01 outer:exit 2b-47224fa6a53e98d98745419fb0589b45111bf723-bde487cd7ac85835-01
2021-08-22T22:02:12.399Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:12.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-e50bb6154ffa5cba11b3066355c1ad67e30ef114-c531c32cde3d3648-01 outer:exit 2b-e50bb6154ffa5cba11b3066355c1ad67e30ef114-beff5fd48d63ac9f-01
2021-08-22T22:02:12.402Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:12.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-a95cadaeb5eef9d0a6b4b98eb112d13ba04127c5-8a81b83d59e0ab6f-01 outer:exit 2b-a95cadaeb5eef9d0a6b4b98eb112d13ba04127c5-daca2dbe61f22401-01
2021-08-22T22:02:12.404Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:12.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-d74ea2d1831db3f165a49cd69de505b6ea881021-ec47731eb524c657-01 outer:exit 2b-d74ea2d1831db3f165a49cd69de505b6ea881021-27ee43b7736b630b-01
2021-08-22T22:02:12.406Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:12.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8d78479802b85d4dbe9ca1a404fe03b24100329-0453e050f4a10d35-01 outer:exit 2b-c8d78479802b85d4dbe9ca1a404fe03b24100329-757b77be818bdec3-01
2021-08-22T22:02:12.408Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:12.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-eee06fb2164d74950153d869dee7448f0af09217-ff45a69eda4f19b2-01 outer:exit 2b-eee06fb2164d74950153d869dee7448f0af09217-d858e2e99034de32-01
2021-08-22T22:02:12.412Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:12.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-f230c94add380bdfda6477c15b7cebdf14dacaab-788dac34cb012e0b-01 outer:exit 2b-f230c94add380bdfda6477c15b7cebdf14dacaab-1b0854462ff31640-01
2021-08-22T22:02:12.414Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:12.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-d68dee6e2b4b03ed6b1003fee0ab779d6e3d81c3-8966725993eef965-01 outer:exit 2b-d68dee6e2b4b03ed6b1003fee0ab779d6e3d81c3-d063ae3f37dbae8f-01
2021-08-22T22:02:12.417Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:12.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-58713d1d2b5c966ba24fce2d469580e8930cebfa-e17e00031e44dd0d-01 outer:exit 2b-58713d1d2b5c966ba24fce2d469580e8930cebfa-4e6156e27b6f92fe-01
2021-08-22T22:02:12.420Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:12.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdb5aeb1770b09a174dc88800705038509825457-989372b18b94e707-01 outer:exit 2b-bdb5aeb1770b09a174dc88800705038509825457-55d461708609083e-01
2021-08-22T22:02:12.422Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:12.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-5060864e8658d3e7a946e328d77234a31d3bc3ee-b5d2ecbb41366bb9-01 outer:exit 2b-5060864e8658d3e7a946e328d77234a31d3bc3ee-a67c81cee6796db1-01
2021-08-22T22:02:12.425Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:12.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-997e42d5afc36dc00f5c415a1a63f8cb0d3dad8b-d91a7466a6304c10-01 outer:exit 2b-997e42d5afc36dc00f5c415a1a63f8cb0d3dad8b-5ff092d1c9502bfa-01
2021-08-22T22:02:12.433Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:12.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5407912ce587e70b908a2e171e13f462844d40c-38c5bfc1ffeba1a5-01 outer:exit 2b-d5407912ce587e70b908a2e171e13f462844d40c-f95ec35fead85ec3-01
2021-08-22T22:02:12.437Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:12.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ac4be9aa25743d5bd394aa436ab82963534a6f-3b415f981cf6c161-01 outer:exit 2b-83ac4be9aa25743d5bd394aa436ab82963534a6f-d5ed6dd4f5527e76-01
2021-08-22T22:02:12.447Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:12.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-fabf5b0a389fd63f8ab1c19309fb6ca38d308f8e-4a0ef337d92cfe6e-01 outer:exit 2b-fabf5b0a389fd63f8ab1c19309fb6ca38d308f8e-975a07ff49705cb1-01
2021-08-22T22:02:12.455Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:12.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-c06d7cbcef5bde4beed41a77bbd9bd6486eda602-de804138b00e0e5f-01 outer:exit 2b-c06d7cbcef5bde4beed41a77bbd9bd6486eda602-d7eee4ac68181198-01
2021-08-22T22:02:12.457Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:12.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e8f674f4678154b146f3618d12983af44fea96a-3725e872b25f3487-01 outer:exit 2b-0e8f674f4678154b146f3618d12983af44fea96a-e1fd9c0b650d2036-01
2021-08-22T22:02:12.460Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:12.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d55240f1760de6c65d6eaeb928c1e8908cb2413-b00b1e36a6e56f63-01 outer:exit 2b-2d55240f1760de6c65d6eaeb928c1e8908cb2413-163fb8a8aac571ce-01
2021-08-22T22:02:12.467Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:12.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-f83677d8727e288dbe81a6aeea6697d0472f6fbe-60b0522714db5387-01 outer:exit 2b-f83677d8727e288dbe81a6aeea6697d0472f6fbe-6222efe983c8e498-01
2021-08-22T22:02:12.470Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:12.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6e7b360a738161b66afa64382cd58112be37971-6c9da21e9d28f99f-01 outer:exit 2b-d6e7b360a738161b66afa64382cd58112be37971-9aa395477261a7da-01
2021-08-22T22:02:12.472Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:12.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1cf7356782ff8f78f4974eeedac274bba95d243-e5b0b794cf1745c5-01 outer:exit 2b-c1cf7356782ff8f78f4974eeedac274bba95d243-0b6b58c1d2596712-01
2021-08-22T22:02:12.474Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:12.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-db44fb3fe3eb804cfa7d17291e17aca0e93a23ed-45df0d905bb3af22-01 outer:exit 2b-db44fb3fe3eb804cfa7d17291e17aca0e93a23ed-73f6ea4b1ed7bd88-01
2021-08-22T22:02:12.476Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:12.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-72d2a5ef44fcb59be8b4de96d61edeb6619ffd03-a4d2a98fb7369469-01 outer:exit 2b-72d2a5ef44fcb59be8b4de96d61edeb6619ffd03-7d8378bab60420be-01
2021-08-22T22:02:12.482Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:12.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-5762e62680bcba367bb36a591bccc97e0e281813-4eb522205283c79b-01 outer:exit 2b-5762e62680bcba367bb36a591bccc97e0e281813-4dd254ccf1860ad9-01
2021-08-22T22:02:12.502Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:12.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1d27d889253e56bf8bdaaaf4cece4a9dc7d115e-15ddf4143f31cd59-01 outer:exit 2b-a1d27d889253e56bf8bdaaaf4cece4a9dc7d115e-6d421615ddca5903-01
2021-08-22T22:02:12.511Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:12.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-95cc5b31b1f224e9cdb1ae0704cb1a9794162bc7-36d80fb039257dc4-01 outer:exit 2b-95cc5b31b1f224e9cdb1ae0704cb1a9794162bc7-e314f1f37e027b8d-01
2021-08-22T22:02:12.515Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:12.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-49e16c19eb932398003730a4ad6849c7e19f48a4-e1a1cb2a4cdfd1e9-01 outer:exit 2b-49e16c19eb932398003730a4ad6849c7e19f48a4-52ae04213cd55d3b-01
2021-08-22T22:02:12.518Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:12.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-a52e3bf55e7640a6bd180cafe0fe97cff65615b1-1224a03d26c48851-01 outer:exit 2b-a52e3bf55e7640a6bd180cafe0fe97cff65615b1-7aa4bd09bf495b0e-01
2021-08-22T22:02:12.521Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:12.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2a4e27994d780ba4b56b350e431aac383316aeb-0e4799ec9e585894-01 outer:exit 2b-e2a4e27994d780ba4b56b350e431aac383316aeb-38ebb811e9834cf2-01
2021-08-22T22:02:12.549Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (318ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.11
updated 1 package and audited 939 packages in 4.203s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:17.739Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:17.740Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:17.740Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:17.740Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:17.813Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:17.866Z appoptics:patching patched crypto 
2021-08-22T22:02:17.886Z appoptics:patching patched https 
2021-08-22T22:02:17.887Z appoptics:patching patched http 
2021-08-22T22:02:17.923Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:17.923Z appoptics:patching patched fs 
2021-08-22T22:02:17.949Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v14.17.5)
2021-08-22T22:02:17.955Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-08-22T22:02:18.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-7461158b2ace32f59660fe3f0ff1c4d30f70df25-320ef8c238da5d36-01 outer:exit 2b-7461158b2ace32f59660fe3f0ff1c4d30f70df25-337560f3e63c10b6-01
2021-08-22T22:02:18.121Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:18.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-aebaa1741f60a8d75e466904f3de8c782279dee3-7f4f52ff8ee40bc2-01 outer:exit 2b-aebaa1741f60a8d75e466904f3de8c782279dee3-b8b7052683e50a4c-01
2021-08-22T22:02:18.145Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:18.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc379fc355416828c4a4beee564bfd1726dbe954-329fb28a0e57c8dc-01 outer:exit 2b-bc379fc355416828c4a4beee564bfd1726dbe954-adbe3a1a9365b44b-01
2021-08-22T22:02:18.148Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:18.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-938731744528a4e4df59e5fd311a72f9434d0943-5e3099623b33d813-01 outer:exit 2b-938731744528a4e4df59e5fd311a72f9434d0943-4c67294f6d11c086-01
2021-08-22T22:02:18.152Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:18.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-3277ebb39b63e99de6cd4e8879e1f2a53d819d72-ee877fb6fe9a3075-01 outer:exit 2b-3277ebb39b63e99de6cd4e8879e1f2a53d819d72-b4483a40b65f541d-01
2021-08-22T22:02:18.157Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:18.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-e735169c4bb0c365814d623587773ab5c048e8d3-96b9285ca368111a-01 outer:exit 2b-e735169c4bb0c365814d623587773ab5c048e8d3-3e3de9b62bcfae2a-01
2021-08-22T22:02:18.160Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:18.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd617275fa41fd79f04e66a46686517540c72ebb-ffe874f0e369dc61-01 outer:exit 2b-cd617275fa41fd79f04e66a46686517540c72ebb-bbb4aa863765393c-01
2021-08-22T22:02:18.162Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:18.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-d735c1a1deef9bf26c506201a1c8b88eb52cffa6-3306e73291925b93-01 outer:exit 2b-d735c1a1deef9bf26c506201a1c8b88eb52cffa6-ab85d7effc5d1a2c-01
2021-08-22T22:02:18.166Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:18.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6c07a1bb3694ca45631d715aceb56db45d9982f-8aea2217065499ba-01 outer:exit 2b-c6c07a1bb3694ca45631d715aceb56db45d9982f-d36f5e50050becac-01
2021-08-22T22:02:18.168Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:18.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-77edacf111107e0044bfb329c7e25086abc32564-e064dea841fd808e-01 outer:exit 2b-77edacf111107e0044bfb329c7e25086abc32564-6a75db81ce60bbd7-01
2021-08-22T22:02:18.171Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:18.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-0140d54f6c39e4ce54b64f97bb1e4c3e09e4c148-caca29169b3bf73f-01 outer:exit 2b-0140d54f6c39e4ce54b64f97bb1e4c3e09e4c148-bfc420aa1f1f877b-01
2021-08-22T22:02:18.175Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:18.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5a9d5a1f24f1d4e3d13d4cef00aec2133e81ff-e9308c3619a08f4f-01 outer:exit 2b-0b5a9d5a1f24f1d4e3d13d4cef00aec2133e81ff-0d966fabfdbda3ab-01
2021-08-22T22:02:18.181Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:18.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0cd4a681b3837ba9dad503b80910edbd31f96a3-d2211dbaca7e4323-01 outer:exit 2b-a0cd4a681b3837ba9dad503b80910edbd31f96a3-53e31967bfaa7785-01
2021-08-22T22:02:18.196Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:18.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4080898ca9d3b0c7c70eb77b3873120573d7472-7a64c8437227d7c4-01 outer:exit 2b-b4080898ca9d3b0c7c70eb77b3873120573d7472-d428e24861cf939b-01
2021-08-22T22:02:18.257Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:18.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fb19199ab8811a137908c24a86065d7f9a6e949-163908eccf1e3f59-01 outer:exit 2b-6fb19199ab8811a137908c24a86065d7f9a6e949-39a4926350decf9e-01
2021-08-22T22:02:18.262Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:18.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-88e125a8663973fef2674ccb167e6bc63c288773-a27cffef43ec395e-01 outer:exit 2b-88e125a8663973fef2674ccb167e6bc63c288773-b018597ed37dc293-01
2021-08-22T22:02:18.264Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:18.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-8348c90d9b5d02525d24833fc08b2a715613e367-9207fc6819f73aa3-01 outer:exit 2b-8348c90d9b5d02525d24833fc08b2a715613e367-c44e1ad9e36b2e91-01
2021-08-22T22:02:18.267Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:18.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb028ded58fc217b3eedfe60adf18e4aa3aed49-7730b3499c7f0f9f-01 outer:exit 2b-5bb028ded58fc217b3eedfe60adf18e4aa3aed49-5069abed2579c30e-01
2021-08-22T22:02:18.270Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:18.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bf7178903c06de295ee002404b0a69b9fee5adc-81b414f50edf0c97-01 outer:exit 2b-3bf7178903c06de295ee002404b0a69b9fee5adc-6d34d21e62801cc1-01
2021-08-22T22:02:18.272Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:18.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-33b20860833f926a948a238c82915a262892c219-c6f6b0652ee20604-01 outer:exit 2b-33b20860833f926a948a238c82915a262892c219-b46d9ec1655848c7-01
2021-08-22T22:02:18.275Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:18.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e17a16844b9f54b0c2e994de2391b0c7783b6b2-e68ba18cdbe7c5cb-01 outer:exit 2b-7e17a16844b9f54b0c2e994de2391b0c7783b6b2-b614f24d9b122f39-01
2021-08-22T22:02:18.277Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:18.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-838865f0779fd250e00f748855de3d9cf2a9096f-2c0dca9fd1f6602e-01 outer:exit 2b-838865f0779fd250e00f748855de3d9cf2a9096f-883e27212100d80f-01
2021-08-22T22:02:18.280Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:18.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d29eb056320b39ce1ed42753824f5194b28eed-842756e10ff934f6-01 outer:exit 2b-17d29eb056320b39ce1ed42753824f5194b28eed-7f7437831e5a012a-01
2021-08-22T22:02:18.284Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:18.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba335780852b64d45856ab61e0de4a4416a992dd-d1f7bb3752b54051-01 outer:exit 2b-ba335780852b64d45856ab61e0de4a4416a992dd-d1476a72feba2ff2-01
2021-08-22T22:02:18.289Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:18.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-0965b0eaf019bdec799a3c031badffed85783409-fba7b0d1db4d8fa5-01 outer:exit 2b-0965b0eaf019bdec799a3c031badffed85783409-68eb852f2e850e88-01
2021-08-22T22:02:18.294Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:18.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-19584edfa6ba4cf4268d69a614deed0aa96f7b7f-17d53994e0974131-01 outer:exit 2b-19584edfa6ba4cf4268d69a614deed0aa96f7b7f-4ff900e362b194ed-01
2021-08-22T22:02:18.297Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:18.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cf1a8549dd02babc6b3e091aee0ef6e01c4ab1b-f0391b88ed1c1880-01 outer:exit 2b-7cf1a8549dd02babc6b3e091aee0ef6e01c4ab1b-1a55e9aca9401ac8-01
2021-08-22T22:02:18.305Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:18.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1a640364d2a17fb16c32f16066ab7af9f3046f5-d68064576fa59b80-01 outer:exit 2b-b1a640364d2a17fb16c32f16066ab7af9f3046f5-5704e93596b4c21b-01
2021-08-22T22:02:18.310Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:18.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-3089563f12213842d6d5c7f9a0a5857f966d106d-df120dbfb1088e7d-01 outer:exit 2b-3089563f12213842d6d5c7f9a0a5857f966d106d-6d6a5497e4c964cb-01
2021-08-22T22:02:18.319Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:18.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ec990415baa2f3d87fa8c2a3f275afd78711d55-902e3aad6f1009b7-01 outer:exit 2b-6ec990415baa2f3d87fa8c2a3f275afd78711d55-ee1d781c5e37cb75-01
2021-08-22T22:02:18.328Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:18.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-e611c6e8f41420cb4bf82bab902ddf6b39bc39e1-46f84148c0fd293d-01 outer:exit 2b-e611c6e8f41420cb4bf82bab902ddf6b39bc39e1-b7dd7fecd6bf0230-01
2021-08-22T22:02:18.330Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:18.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-767752e8514dee7531dbe63f16af62e34d7a86d0-90dbef3c58fc98d5-01 outer:exit 2b-767752e8514dee7531dbe63f16af62e34d7a86d0-e12dc33e5516b763-01
2021-08-22T22:02:18.334Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:18.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-fea58e9aa8bf7d7a08d7f5af67a7981f55600d5f-f4ca41cfdba0befa-01 outer:exit 2b-fea58e9aa8bf7d7a08d7f5af67a7981f55600d5f-5658271417737d0d-01
2021-08-22T22:02:18.341Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:18.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-a137d6938d581b212c22380046caed0c5a4f98ba-2200920cc0e45614-01 outer:exit 2b-a137d6938d581b212c22380046caed0c5a4f98ba-e6964374febf18b2-01
2021-08-22T22:02:18.343Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:18.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-61c3d8b7fc297af7544f0f53f873c9538ff15bf9-cd881198913d746c-01 outer:exit 2b-61c3d8b7fc297af7544f0f53f873c9538ff15bf9-8881f26b8db52eef-01
2021-08-22T22:02:18.345Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:18.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-91788d378ea2dd0632962ca2f7494fdb8113fd74-ba4def77e12b2eff-01 outer:exit 2b-91788d378ea2dd0632962ca2f7494fdb8113fd74-3abb63a03a7ac92b-01
2021-08-22T22:02:18.348Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:18.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7e2452a400f785c163fdec1355316ad3f66b24b-a72ef16d23b99a15-01 outer:exit 2b-c7e2452a400f785c163fdec1355316ad3f66b24b-a9045596cdcf7a40-01
2021-08-22T22:02:18.350Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:18.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd559c3fc1281ca80f83ec781c211c9540035eea-e1c3bd81cb3de627-01 outer:exit 2b-cd559c3fc1281ca80f83ec781c211c9540035eea-ed07a5a680fa6f3e-01
2021-08-22T22:02:18.356Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:18.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-e32980a1d53bfc5f20b6f99c499aa60df69e82c1-18202f7778902356-01 outer:exit 2b-e32980a1d53bfc5f20b6f99c499aa60df69e82c1-5c92eeac0e807a31-01
2021-08-22T22:02:18.376Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:18.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-28fbdea172056fd21dbbfd320e60901ed3f35fdd-4e699cc666781ad9-01 outer:exit 2b-28fbdea172056fd21dbbfd320e60901ed3f35fdd-09e1464ce2fe7354-01
2021-08-22T22:02:18.386Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:18.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-b67294966ab3efb0ae2396253962ce641a488d06-befd8af7858121d1-01 outer:exit 2b-b67294966ab3efb0ae2396253962ce641a488d06-edd52bfe3ecda48a-01
2021-08-22T22:02:18.389Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:18.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-830799f1ed30224d279b5e9922176101f0a4b88e-c44ec79e279f9b69-01 outer:exit 2b-830799f1ed30224d279b5e9922176101f0a4b88e-579cf6acba031c42-01
2021-08-22T22:02:18.392Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:18.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-093863d201e8b9e23331e7da3054da2d16566f48-5c0b59c448b4e3a8-01 outer:exit 2b-093863d201e8b9e23331e7da3054da2d16566f48-46c82af5a6228490-01
2021-08-22T22:02:18.395Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:18.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-e51ba383f8f54034a1469cb54c3aee6ef2c1fe8c-a92ea024013677f6-01 outer:exit 2b-e51ba383f8f54034a1469cb54c3aee6ef2c1fe8c-1c16899db187217c-01
2021-08-22T22:02:18.423Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (343ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.12
updated 1 package and audited 939 packages in 4.436s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:24.006Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:24.007Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:24.007Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:24.008Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:24.130Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:24.192Z appoptics:patching patched crypto 
2021-08-22T22:02:24.249Z appoptics:patching patched https 
2021-08-22T22:02:24.250Z appoptics:patching patched http 
2021-08-22T22:02:24.294Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:24.294Z appoptics:patching patched fs 
2021-08-22T22:02:24.334Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v14.17.5)
2021-08-22T22:02:24.341Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-08-22T22:02:24.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-4778104966a44c7671b272d1e2e24669003486fc-63bb594be4060250-01 outer:exit 2b-4778104966a44c7671b272d1e2e24669003486fc-180989d3a986ddf2-01
2021-08-22T22:02:24.523Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:24.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5414d42707b8a381d72bd842ec8dfe8cc65c9ea-50638a4cae435df8-01 outer:exit 2b-f5414d42707b8a381d72bd842ec8dfe8cc65c9ea-cc1dff27ff6b55df-01
2021-08-22T22:02:24.598Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:24.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-10ccea986848ad73987c6e76186d3aa9d8b40abd-1780fab8a3d255ae-01 outer:exit 2b-10ccea986848ad73987c6e76186d3aa9d8b40abd-6f77f5b87f283e75-01
2021-08-22T22:02:24.601Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:24.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-d058add19f50fc0c62267decac66d8f7351a1689-4ea61d18200f7f2c-01 outer:exit 2b-d058add19f50fc0c62267decac66d8f7351a1689-8913f0c95564880c-01
2021-08-22T22:02:24.604Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:24.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-7664fd68f975c078509f27339b6bd53eca8bfeb5-2fb7dc554dd68485-01 outer:exit 2b-7664fd68f975c078509f27339b6bd53eca8bfeb5-633e5a1f6b7f31d2-01
2021-08-22T22:02:24.609Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:24.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-47636a0cd29d324f6690c98b8f21806ec35a0346-82c6ef165898e987-01 outer:exit 2b-47636a0cd29d324f6690c98b8f21806ec35a0346-938e27515bda46c6-01
2021-08-22T22:02:24.614Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:24.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a45f1018865615fe2d31a565cbb0ae58b8c1db7-18335bc7b2ee8813-01 outer:exit 2b-6a45f1018865615fe2d31a565cbb0ae58b8c1db7-1c28af2dd9c8279f-01
2021-08-22T22:02:24.617Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:24.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-180c1e7784789b285dc0cf7c495d87a3a119c0f5-44cd8543195233d1-01 outer:exit 2b-180c1e7784789b285dc0cf7c495d87a3a119c0f5-0db37deff795643f-01
2021-08-22T22:02:24.620Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:24.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-26c27ae4b64a27cbb9f6016e403fc9bcf2f8e77c-e5106d2b5a5770bf-01 outer:exit 2b-26c27ae4b64a27cbb9f6016e403fc9bcf2f8e77c-f5a9acfa8a959793-01
2021-08-22T22:02:24.623Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:24.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-eed5b35d827c7f67166a6f75ae2c7a798948a533-6030c8bdf3fee5d7-01 outer:exit 2b-eed5b35d827c7f67166a6f75ae2c7a798948a533-991a85ba2372059a-01
2021-08-22T22:02:24.626Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:24.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-67d5c4ab0c550b2a367536030e53fe9af6601f56-05c651ad9fdf995a-01 outer:exit 2b-67d5c4ab0c550b2a367536030e53fe9af6601f56-d74f6e63ff7b895a-01
2021-08-22T22:02:24.630Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:24.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-585e48310988684c18ce946b5e048a7a9dd20032-e3b123b4b9ac10d9-01 outer:exit 2b-585e48310988684c18ce946b5e048a7a9dd20032-b70108eb30636062-01
2021-08-22T22:02:24.636Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:24.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a62a5e8fdd1de60f32271c61fabc9ee01713dc2-0c18c4a63725a9e8-01 outer:exit 2b-4a62a5e8fdd1de60f32271c61fabc9ee01713dc2-f5df042c541547c9-01
2021-08-22T22:02:24.653Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:24.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-0123ae46fe3189022df0dfa34c3b46012cdb05f5-89064536d8e7eb38-01 outer:exit 2b-0123ae46fe3189022df0dfa34c3b46012cdb05f5-5edc19c9d2172e89-01
2021-08-22T22:02:24.692Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:24.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac7a832a1338d6c08fe99e6e66581f8b0c693bdc-519fd6aa9c3fa12c-01 outer:exit 2b-ac7a832a1338d6c08fe99e6e66581f8b0c693bdc-78d5600a81451578-01
2021-08-22T22:02:24.695Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:24.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fb229a946e74fd9f503c84cd251083849e530cd-776da74fd086a0fd-01 outer:exit 2b-9fb229a946e74fd9f503c84cd251083849e530cd-4c23689641630015-01
2021-08-22T22:02:24.697Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:24.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-5229fa7b82f375eb3a705af026b4c038128e8d7e-f1b684a70a018a0e-01 outer:exit 2b-5229fa7b82f375eb3a705af026b4c038128e8d7e-94ce02ff74277ed7-01
2021-08-22T22:02:24.700Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:24.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a674019d4587fa0d1c0e4f326dd3bae913a0d0b-a68da7f05d007b16-01 outer:exit 2b-0a674019d4587fa0d1c0e4f326dd3bae913a0d0b-ae69d9048f561e83-01
2021-08-22T22:02:24.703Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:24.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f37cb6da30b0309c3a53694742af15075121e04-49062e89cb2ec78a-01 outer:exit 2b-1f37cb6da30b0309c3a53694742af15075121e04-c132f1659ef302a6-01
2021-08-22T22:02:24.705Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:24.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-75a7977b3b0c4cbd404c2402be8381fdb283b782-110f69f577084e03-01 outer:exit 2b-75a7977b3b0c4cbd404c2402be8381fdb283b782-fc2d01b55443658f-01
2021-08-22T22:02:24.707Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:24.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e1f95947933ef6c62c45dd3c2beaea5efe82ae7-0576d421ae353239-01 outer:exit 2b-1e1f95947933ef6c62c45dd3c2beaea5efe82ae7-1a9a457d9ee73e32-01
2021-08-22T22:02:24.709Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:24.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-b871ae914342d3f59885c8dd14c8abdc6b010930-351c60df62ae9054-01 outer:exit 2b-b871ae914342d3f59885c8dd14c8abdc6b010930-0ba1ac7a2139c8f9-01
2021-08-22T22:02:24.712Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:24.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-263a3064c5d76a494bf2cdbc4b585d151a1d06ac-b92c15ad467c203f-01 outer:exit 2b-263a3064c5d76a494bf2cdbc4b585d151a1d06ac-71be77766ef6bdf2-01
2021-08-22T22:02:24.715Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:24.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a82d84e428b749690f4b25da42123acea43a34f-71633aece0ba745b-01 outer:exit 2b-0a82d84e428b749690f4b25da42123acea43a34f-d2f3abf420f7b0dc-01
2021-08-22T22:02:24.718Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:24.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-496dfd8ad57c4e838dc55734e3b0af469f8ab8a3-1675677e33ef9f20-01 outer:exit 2b-496dfd8ad57c4e838dc55734e3b0af469f8ab8a3-8aad96ccc09b2230-01
2021-08-22T22:02:24.721Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:24.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa19dd96df98133c2137604b7d48fe1fa3e93fd2-f61a330db833e613-01 outer:exit 2b-aa19dd96df98133c2137604b7d48fe1fa3e93fd2-524d149afffc837f-01
2021-08-22T22:02:24.723Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:24.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3a9054b00bc4853c1f0f97a841ebff9d7159ddc-ac7ba2fbdfaa63a8-01 outer:exit 2b-b3a9054b00bc4853c1f0f97a841ebff9d7159ddc-5a2a13ef861e0361-01
2021-08-22T22:02:24.730Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:24.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-61b0ee502d271bc62fa261a2d4cda57653648e7e-dbb924ff8b763857-01 outer:exit 2b-61b0ee502d271bc62fa261a2d4cda57653648e7e-46d17bb73d68b880-01
2021-08-22T22:02:24.739Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:24.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7baccdc44568ed2b1a90c62ff9ce67b9e29d7c2-c40bdcc85c414a1e-01 outer:exit 2b-e7baccdc44568ed2b1a90c62ff9ce67b9e29d7c2-f46fc445a1a27ccc-01
2021-08-22T22:02:24.747Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:24.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6a7776f43a330cdb2dddda9153f7f4a601aaecf-69d9c6d83bcd6c27-01 outer:exit 2b-a6a7776f43a330cdb2dddda9153f7f4a601aaecf-6c90042755d9bcc7-01
2021-08-22T22:02:24.754Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:24.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc4021e2c35e4dfa244c2aba4d2e0f98481b43ef-b914079958efed04-01 outer:exit 2b-bc4021e2c35e4dfa244c2aba4d2e0f98481b43ef-42ccd872603d96b2-01
2021-08-22T22:02:24.757Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:24.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-483c7f68f7e8a43130fd9fbf2c0815e6532d5fe5-63e3ef6fc7cc78f6-01 outer:exit 2b-483c7f68f7e8a43130fd9fbf2c0815e6532d5fe5-09d40ee8e1fbde27-01
2021-08-22T22:02:24.762Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:24.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31a6dd400325320603786fadf045c2395e93446-8e628762df9be315-01 outer:exit 2b-b31a6dd400325320603786fadf045c2395e93446-de18ba4a7e8d154e-01
2021-08-22T22:02:24.770Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:24.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-f19bc9ab8083af9fca9b275b8f6a64671d6e8240-fa7b50000b97c4a9-01 outer:exit 2b-f19bc9ab8083af9fca9b275b8f6a64671d6e8240-af5897c029c7e612-01
2021-08-22T22:02:24.772Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:24.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f56fce69b3a995a74c3c724c7480d08919e40d6-c692c4a95fc1dbcb-01 outer:exit 2b-4f56fce69b3a995a74c3c724c7480d08919e40d6-3ac74d3c021ba836-01
2021-08-22T22:02:24.774Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:24.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-8feb2092e4e4ecd44a00dd5eb2e25db971d5881a-2a1cacd0bf065a4b-01 outer:exit 2b-8feb2092e4e4ecd44a00dd5eb2e25db971d5881a-b16b193e7fc0ce69-01
2021-08-22T22:02:24.776Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:24.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cce04d330d49396f84a7424186e08e192b23cd7-aa4c8fd69acae280-01 outer:exit 2b-3cce04d330d49396f84a7424186e08e192b23cd7-4e4598952a9d1f93-01
2021-08-22T22:02:24.783Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:24.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cbf818ce9bb6337865ae645b623769ccdd490bb-56b9e764578e09ee-01 outer:exit 2b-6cbf818ce9bb6337865ae645b623769ccdd490bb-598c68a904cc8d4f-01
2021-08-22T22:02:24.787Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:24.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-2688213d58261d6a5f0b5fa93b24026da410a28f-99fefc90b28b5413-01 outer:exit 2b-2688213d58261d6a5f0b5fa93b24026da410a28f-ef80fc594fecf061-01
2021-08-22T22:02:24.806Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:24.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-956734e42cfe231f51b55087567fd7e9678e529f-6039ecfc4b36ce08-01 outer:exit 2b-956734e42cfe231f51b55087567fd7e9678e529f-c2ef010a7187075b-01
2021-08-22T22:02:24.815Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:24.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-6554c846595c456c176e56be48cd224de7c76e66-627b2dc838c8afa6-01 outer:exit 2b-6554c846595c456c176e56be48cd224de7c76e66-438970650881ae5f-01
2021-08-22T22:02:24.819Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:24.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd27f171727d021c14d6d063cd87376568f3c4b-3d5a10ba72b382c2-01 outer:exit 2b-bfd27f171727d021c14d6d063cd87376568f3c4b-f16d2bb3867337e2-01
2021-08-22T22:02:24.822Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:24.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e01094e6cea3305e7792bcc7ca4a7a034504baa-0d9fd99c251f0617-01 outer:exit 2b-7e01094e6cea3305e7792bcc7ca4a7a034504baa-bf1200eb0a069e1c-01
2021-08-22T22:02:24.825Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:24.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-55ea651559f4800d634d76b6a5f944ec05703326-d378e4d59bceeafd-01 outer:exit 2b-55ea651559f4800d634d76b6a5f944ec05703326-0f04504396656ca9-01
2021-08-22T22:02:24.852Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (369ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.13
updated 1 package and audited 939 packages in 4.227s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:30.085Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:30.086Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:30.086Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:30.087Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:30.153Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:30.196Z appoptics:patching patched crypto 
2021-08-22T22:02:30.218Z appoptics:patching patched https 
2021-08-22T22:02:30.218Z appoptics:patching patched http 
2021-08-22T22:02:30.255Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:30.255Z appoptics:patching patched fs 
2021-08-22T22:02:30.284Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v14.17.5)
2021-08-22T22:02:30.291Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-08-22T22:02:30.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-1333822bb1db880f5a564954a9b4f31fff0e3499-d0c23372ef91b3cd-01 outer:exit 2b-1333822bb1db880f5a564954a9b4f31fff0e3499-1da87b3feb311ce3-01
2021-08-22T22:02:30.453Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:30.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-e20737e33686179b63f7f5ce8cdc1546894fa2e4-8dadb727f8c2c2fb-01 outer:exit 2b-e20737e33686179b63f7f5ce8cdc1546894fa2e4-4fe301dae01c2030-01
2021-08-22T22:02:30.503Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:30.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e227b353a6e42b6945be16271906ced3423a8ca-c28515ab62f0386b-01 outer:exit 2b-0e227b353a6e42b6945be16271906ced3423a8ca-590923904fda1a3e-01
2021-08-22T22:02:30.507Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:30.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-22d4a7017c2c9dbe0dc08bb5379667da5207b1bc-23f24c8e1fdc9b41-01 outer:exit 2b-22d4a7017c2c9dbe0dc08bb5379667da5207b1bc-2cfce4ca7e36d786-01
2021-08-22T22:02:30.510Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:30.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ef5565b458abd90428bc8750477edf7be9142e-f71df9f5b7bfbdca-01 outer:exit 2b-c8ef5565b458abd90428bc8750477edf7be9142e-58f66367b46331ae-01
2021-08-22T22:02:30.515Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:30.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-d33b942cfc8ed0a67904e9b2461fe6f6fa357538-d4b5ee0ff33691d7-01 outer:exit 2b-d33b942cfc8ed0a67904e9b2461fe6f6fa357538-2666126bf1221956-01
2021-08-22T22:02:30.518Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:30.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee35209e523f82fde4d64bfb9c45be66ca6e92a1-54045d0962c57a14-01 outer:exit 2b-ee35209e523f82fde4d64bfb9c45be66ca6e92a1-f6e477dda583a107-01
2021-08-22T22:02:30.520Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:30.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5cbc61b82848dca67b9e39957f9cc097777e165-276171613b8f7647-01 outer:exit 2b-c5cbc61b82848dca67b9e39957f9cc097777e165-a1f012a9d36cb03e-01
2021-08-22T22:02:30.523Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:30.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-a30f8d59cba88875914f8f4f17b34bb9145703a2-438d5663bf127a4f-01 outer:exit 2b-a30f8d59cba88875914f8f4f17b34bb9145703a2-e3402d08f2712110-01
2021-08-22T22:02:30.532Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:30.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d814bb23793567d631c9d11714093eec308acb4-dc02391624686af3-01 outer:exit 2b-0d814bb23793567d631c9d11714093eec308acb4-589646a66737da43-01
2021-08-22T22:02:30.541Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:30.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf4723acdc9d69961ab04aa633d0969b28692dd0-00c90bc6dfb90f63-01 outer:exit 2b-bf4723acdc9d69961ab04aa633d0969b28692dd0-ae3a9e0dee105bdc-01
2021-08-22T22:02:30.545Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:30.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-342610929dbfde4f7b8b29b60b508177de967f79-18864d915fecaa02-01 outer:exit 2b-342610929dbfde4f7b8b29b60b508177de967f79-2321ffa42de5879e-01
2021-08-22T22:02:30.557Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:30.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-748a6b1385305d7d6f4ecd2788b3390e56c2ff2d-298beed0902ca253-01 outer:exit 2b-748a6b1385305d7d6f4ecd2788b3390e56c2ff2d-8bf269bfe1cf8f4f-01
2021-08-22T22:02:30.575Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:30.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-22b681908ee884e685085a256f8ae8e7cffd6552-1f84dcd8e3a7e82f-01 outer:exit 2b-22b681908ee884e685085a256f8ae8e7cffd6552-623ff0c3c6c74b4b-01
2021-08-22T22:02:30.640Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:30.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aa9400f847e68437d5999300bc56db5b7b38141-ff12047d349857ce-01 outer:exit 2b-4aa9400f847e68437d5999300bc56db5b7b38141-9516c27c4128710f-01
2021-08-22T22:02:30.643Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:30.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c0453af4839b31257f6f6633c7cbdaad8fe2e9b-2f77f60f69bbb87c-01 outer:exit 2b-9c0453af4839b31257f6f6633c7cbdaad8fe2e9b-0d543c7fa5475738-01
2021-08-22T22:02:30.646Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:30.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-be90c6216b140ad4f5b3369fece9363f4cadd013-5fb0dcadf385bf2c-01 outer:exit 2b-be90c6216b140ad4f5b3369fece9363f4cadd013-ed3c93376dfe8c73-01
2021-08-22T22:02:30.649Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:30.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-f45e5b44e0cd50f8a01dd14b2b48f690212d1376-24d097f6e7be4aa8-01 outer:exit 2b-f45e5b44e0cd50f8a01dd14b2b48f690212d1376-f45984b759b21619-01
2021-08-22T22:02:30.652Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:30.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcda1343eeb203cf6a12aa2bc467fb0168be32fe-2225355469348ee4-01 outer:exit 2b-fcda1343eeb203cf6a12aa2bc467fb0168be32fe-3d8508ba6eba6697-01
2021-08-22T22:02:30.654Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:30.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-c574d3b4bd9e70c30fe9825649833f2a6c075348-5b22a0b2367cc402-01 outer:exit 2b-c574d3b4bd9e70c30fe9825649833f2a6c075348-b5b68af1f06ca87e-01
2021-08-22T22:02:30.657Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:30.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-86bd0d787c45602b5c93bff9081cffa42834f2ae-c1907d37c2f3cfbd-01 outer:exit 2b-86bd0d787c45602b5c93bff9081cffa42834f2ae-71c581f9e96980df-01
2021-08-22T22:02:30.659Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:30.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-d067c6f6a63f34bae7b84195cc48b3f3d4ca0440-aafa6318d299f497-01 outer:exit 2b-d067c6f6a63f34bae7b84195cc48b3f3d4ca0440-6d1bf6e415878791-01
2021-08-22T22:02:30.662Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:30.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-921a5151db8f3a0de1483eab06d552da05a45557-5bec0fb49213326b-01 outer:exit 2b-921a5151db8f3a0de1483eab06d552da05a45557-f37f191b5103133e-01
2021-08-22T22:02:30.665Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:30.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-1845e4c3580912accdc76e323a00f75daf2157dd-44bb67fa5b10cc01-01 outer:exit 2b-1845e4c3580912accdc76e323a00f75daf2157dd-99c5a1bfa650f63f-01
2021-08-22T22:02:30.669Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:30.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c20ac333b0cc1690848f76c26d0e18be4f3cf3-75ba354772e20417-01 outer:exit 2b-a7c20ac333b0cc1690848f76c26d0e18be4f3cf3-1dda9cdbfb5e3fe9-01
2021-08-22T22:02:30.671Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:30.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb3507b50036abd721144f7ce5318c213ddb00c0-00abb820bc09fe73-01 outer:exit 2b-cb3507b50036abd721144f7ce5318c213ddb00c0-dfa7e65856c341b4-01
2021-08-22T22:02:30.674Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:30.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-2397a24783128a4db480238198652af1946c30c3-462cf008786cc972-01 outer:exit 2b-2397a24783128a4db480238198652af1946c30c3-f9540697f5f707cb-01
2021-08-22T22:02:30.682Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:30.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b84c45906807d2776610e6981219e455448b21c-785e169ea9167bcb-01 outer:exit 2b-1b84c45906807d2776610e6981219e455448b21c-56bafb39cb3d3574-01
2021-08-22T22:02:30.687Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:30.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-b72043bfaa3220d3749d9e6c3bce5df4b45a8a3d-9697a0efd8aa5366-01 outer:exit 2b-b72043bfaa3220d3749d9e6c3bce5df4b45a8a3d-df4e699de576c4dd-01
2021-08-22T22:02:30.696Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:30.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c46211d0969deb8a3f940546b3df9de5712c03e-4219a8548b5bf03d-01 outer:exit 2b-1c46211d0969deb8a3f940546b3df9de5712c03e-d8ee2167cb3270ee-01
2021-08-22T22:02:30.704Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:30.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2f1980ac4ef5d53d1bfb1e301911c7b4d9aa7af-8bd1615a3dbbfa90-01 outer:exit 2b-f2f1980ac4ef5d53d1bfb1e301911c7b4d9aa7af-2930e82d83e2687c-01
2021-08-22T22:02:30.707Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:30.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-640c1823d8666c6f5f9423d5ccc96061ee7a63ed-9705e746bcaad77f-01 outer:exit 2b-640c1823d8666c6f5f9423d5ccc96061ee7a63ed-5efed9bcf760a6d7-01
2021-08-22T22:02:30.711Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:30.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e5084ec1474bfe2d8489fff3eefdfd9d7b12dbe-c0627289c20679dc-01 outer:exit 2b-8e5084ec1474bfe2d8489fff3eefdfd9d7b12dbe-96f0ebcffb2f7b01-01
2021-08-22T22:02:30.719Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:30.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-fac23c6199f8e339c979c679d8f683146286796f-b4dc4b6dba48a102-01 outer:exit 2b-fac23c6199f8e339c979c679d8f683146286796f-96abbd90b61755b1-01
2021-08-22T22:02:30.721Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:30.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-f69053d8af5f2cc1ed4a6c09d55c2be91e491bf7-003569ea03e6fc80-01 outer:exit 2b-f69053d8af5f2cc1ed4a6c09d55c2be91e491bf7-2b9f8c379659f670-01
2021-08-22T22:02:30.724Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:30.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a1e670d872f88dd1070602757fa116aa1ada198-f393722dcec86146-01 outer:exit 2b-1a1e670d872f88dd1070602757fa116aa1ada198-f6c4759f936612e2-01
2021-08-22T22:02:30.726Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:30.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9983831c0f4f5c5083e27491bf33506809bba10-bafcafe9a7dc6ce2-01 outer:exit 2b-b9983831c0f4f5c5083e27491bf33506809bba10-88d3f1d14b3a6afe-01
2021-08-22T22:02:30.729Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:30.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-b07af6b0f7a62ca65ecf76e4ded4f2d67b0be68d-d7897342d5b4d3f0-01 outer:exit 2b-b07af6b0f7a62ca65ecf76e4ded4f2d67b0be68d-d5200a6d84ef6837-01
2021-08-22T22:02:30.736Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:30.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6d86bf66af5dbf98bb0d7b80a57cb4ea10cd09b-34d713a4b409b04f-01 outer:exit 2b-a6d86bf66af5dbf98bb0d7b80a57cb4ea10cd09b-d8af19f1c053bd55-01
2021-08-22T22:02:30.755Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:30.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bb8568c5994f2f2016eeddaedf1d55c1880de6f-b8d422fbb3b184ba-01 outer:exit 2b-3bb8568c5994f2f2016eeddaedf1d55c1880de6f-4906b2ec11e1b1fd-01
2021-08-22T22:02:30.765Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:30.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e75bb27153738486b843c6a49b30c55456421ee-78dd085e219ac44e-01 outer:exit 2b-8e75bb27153738486b843c6a49b30c55456421ee-4ee7cc1e48a77dec-01
2021-08-22T22:02:30.768Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:30.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-38cbcf9301db9eac92ce26b6d27f7860a9a07a9d-7c1c12c7aafb3eb9-01 outer:exit 2b-38cbcf9301db9eac92ce26b6d27f7860a9a07a9d-d0d7a94d496326e9-01
2021-08-22T22:02:30.771Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:30.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-c42c23b2156a657335eb4c85eeabea2b0b8808a0-5c0240e26825928f-01 outer:exit 2b-c42c23b2156a657335eb4c85eeabea2b0b8808a0-6c18f57435a0bdf7-01
2021-08-22T22:02:30.774Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:30.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab390f9325563be3ad8e5cc43e486d1ec4e91333-6158a75aa0979f9b-01 outer:exit 2b-ab390f9325563be3ad8e5cc43e486d1ec4e91333-55074f588887be81-01
2021-08-22T22:02:30.802Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (390ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.14
updated 1 package and audited 939 packages in 4.591s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:36.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:36.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:36.524Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:36.525Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:36.593Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:36.641Z appoptics:patching patched crypto 
2021-08-22T22:02:36.662Z appoptics:patching patched https 
2021-08-22T22:02:36.662Z appoptics:patching patched http 
2021-08-22T22:02:36.704Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:36.704Z appoptics:patching patched fs 
2021-08-22T22:02:36.734Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v14.17.5)
2021-08-22T22:02:36.740Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-08-22T22:02:36.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-c527a22d3e00a918a502d2d93e480173b0028846-e301f6b88e2705c7-01 outer:exit 2b-c527a22d3e00a918a502d2d93e480173b0028846-dbab37d7ccf703fe-01
2021-08-22T22:02:36.896Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:36.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-c35c1146cd188e3f130dd6ef79e7dcf64129ba74-411ea6d486ff3b97-01 outer:exit 2b-c35c1146cd188e3f130dd6ef79e7dcf64129ba74-7d2a4913c3db778f-01
2021-08-22T22:02:36.959Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:36.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-2102d95fa77cafbcfff9cb1274c9b82fc8c901b8-d31d95b7285e272c-01 outer:exit 2b-2102d95fa77cafbcfff9cb1274c9b82fc8c901b8-2063fd2d1dfb2aa5-01
2021-08-22T22:02:36.963Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:36.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f95212fee2d14920166a1fbde880d33292ba3f4-5cc2b994a5ea8dbf-01 outer:exit 2b-5f95212fee2d14920166a1fbde880d33292ba3f4-aea5f988e02a3a31-01
2021-08-22T22:02:36.966Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:36.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-181702ebfca04b86a0d8a19284911463e50d4451-918e5f9e33ae8e08-01 outer:exit 2b-181702ebfca04b86a0d8a19284911463e50d4451-3a105d21c3f2e497-01
2021-08-22T22:02:36.971Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:36.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-76e871a8ee25168fd86e5f984c9e77fad4e3a6f3-45d6e8d4d3244be3-01 outer:exit 2b-76e871a8ee25168fd86e5f984c9e77fad4e3a6f3-0c97c80526623663-01
2021-08-22T22:02:36.975Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:36.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b5fd0e37b3362ddc8e07a72fb0928efc4abd3b9-5b2d475f7f58fdec-01 outer:exit 2b-4b5fd0e37b3362ddc8e07a72fb0928efc4abd3b9-f893955439ce65a1-01
2021-08-22T22:02:36.977Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:36.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d4f62d0687a28ab7d7a92122401cfa4bf0b37dd-d30c332ef8e9bc5c-01 outer:exit 2b-8d4f62d0687a28ab7d7a92122401cfa4bf0b37dd-8bb104ecf27a37bb-01
2021-08-22T22:02:36.980Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:36.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-a00383af6e5de64151d41620326c686625a8a0e1-e64e557350254372-01 outer:exit 2b-a00383af6e5de64151d41620326c686625a8a0e1-8e26e1fa98233991-01
2021-08-22T22:02:36.983Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:36.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-eba5c94060735651835c0e85ec6034cd0ff14310-89c51afe5cc47f09-01 outer:exit 2b-eba5c94060735651835c0e85ec6034cd0ff14310-c51cdac1fa0a0a40-01
2021-08-22T22:02:36.986Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:36.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-712725a08c728ce6aa868b45444454c45a24c3a4-37450a82d5826c6b-01 outer:exit 2b-712725a08c728ce6aa868b45444454c45a24c3a4-56841792a63476fe-01
2021-08-22T22:02:36.990Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:36.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f18067f04994a3a75e0337b6e854b6d1514c8a4-b44495cb73ae52fe-01 outer:exit 2b-1f18067f04994a3a75e0337b6e854b6d1514c8a4-1bb0de408122cac9-01
2021-08-22T22:02:36.997Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:37.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-cda7fa6a9b3474401a94405d44a95757b63e695b-e3332722f93d3c5d-01 outer:exit 2b-cda7fa6a9b3474401a94405d44a95757b63e695b-5a1146eb2bffb2a6-01
2021-08-22T22:02:37.012Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:37.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbf0754cc000df5e684ff2d8de7ff7fc56b9d2f7-83044f3b96b7ec3d-01 outer:exit 2b-cbf0754cc000df5e684ff2d8de7ff7fc56b9d2f7-3235eae41d31695e-01
2021-08-22T22:02:37.066Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:37.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-55cf2e4ee574b31b17ac28f93cb8d767974cccaa-01c88a843210e138-01 outer:exit 2b-55cf2e4ee574b31b17ac28f93cb8d767974cccaa-39b9eea8e8a2cafc-01
2021-08-22T22:02:37.068Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:37.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-099fd1c84d00bac37543dc8904b8ad5724c09b58-b7244dd5694adeb1-01 outer:exit 2b-099fd1c84d00bac37543dc8904b8ad5724c09b58-4fe3bbc3fd0a0da0-01
2021-08-22T22:02:37.071Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:37.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2718e102d438b8875b3897f083796adb2ed77d8-54ab6d5b029f5d82-01 outer:exit 2b-a2718e102d438b8875b3897f083796adb2ed77d8-345512433751bcba-01
2021-08-22T22:02:37.073Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:37.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cf47aa7209198487d868fb71f3be131eb4eba6e-ac30945f82d91e79-01 outer:exit 2b-7cf47aa7209198487d868fb71f3be131eb4eba6e-22bf868ab1ce3969-01
2021-08-22T22:02:37.076Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:37.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-440e60d382e9fa90f867ad274221a9e80c90eb75-1cba2fa3102b88b0-01 outer:exit 2b-440e60d382e9fa90f867ad274221a9e80c90eb75-2a27c2224f33acd5-01
2021-08-22T22:02:37.078Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:37.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b7286b7b8b75b2882c1ac5a83ad52113794a5d9-2960993dacc2d74d-01 outer:exit 2b-5b7286b7b8b75b2882c1ac5a83ad52113794a5d9-5a172257a4c30e33-01
2021-08-22T22:02:37.080Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:37.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-32edd0b45c7c17aec4b389896be4e19232e27e3e-183e4bcb0eac09d1-01 outer:exit 2b-32edd0b45c7c17aec4b389896be4e19232e27e3e-502e3e713ab876ce-01
2021-08-22T22:02:37.082Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:37.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f82cd79f794e354a0f551dfaee7bf3ea0675d5c-0b8f2a5ab38fde7a-01 outer:exit 2b-5f82cd79f794e354a0f551dfaee7bf3ea0675d5c-5c61920db10dbd5e-01
2021-08-22T22:02:37.085Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:37.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-97dd1fe0a9ac327f5ee408e746b05e82b898aaa4-8311d9042c01da91-01 outer:exit 2b-97dd1fe0a9ac327f5ee408e746b05e82b898aaa4-afb2c37c963a5b3e-01
2021-08-22T22:02:37.087Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:37.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-42190dc7a22202b0a5fc6ca681903cb9ce023089-a4cedb05e3a0e20b-01 outer:exit 2b-42190dc7a22202b0a5fc6ca681903cb9ce023089-564eeb33be764e9d-01
2021-08-22T22:02:37.090Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:37.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-7897fb815630c58a4a456f008eb8d425a7e3df24-617ae95b2ea69363-01 outer:exit 2b-7897fb815630c58a4a456f008eb8d425a7e3df24-6ad0b416c4a3edef-01
2021-08-22T22:02:37.093Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:37.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b37c5343d89ebca3fcc06969fefab099af0659-56bdb178ce79a423-01 outer:exit 2b-a1b37c5343d89ebca3fcc06969fefab099af0659-3431aa85ef987d6c-01
2021-08-22T22:02:37.096Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:37.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d035658864985469f8700be56e94db7c9a463d1-b1fc36f91f35e3cf-01 outer:exit 2b-9d035658864985469f8700be56e94db7c9a463d1-ed19c37e9831b61e-01
2021-08-22T22:02:37.104Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:37.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-500f6113f96badbbea4ba8a7868d77db2a2855dc-165b2cedb951987e-01 outer:exit 2b-500f6113f96badbbea4ba8a7868d77db2a2855dc-13bc7823c7d1e078-01
2021-08-22T22:02:37.109Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:37.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ddc3075a12ded86a9bf3b9996e48a8e298e3f8b-02aa904404fd2e43-01 outer:exit 2b-5ddc3075a12ded86a9bf3b9996e48a8e298e3f8b-c0a60fe092e42b3f-01
2021-08-22T22:02:37.118Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:37.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-53b1cd0113d343ae68c530513b30743a22e21872-35d100568780058c-01 outer:exit 2b-53b1cd0113d343ae68c530513b30743a22e21872-461cd3251dc338c2-01
2021-08-22T22:02:37.125Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:37.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-efb542b0af221800a1c41c43df304bfeef229e21-db5e248ca5129b10-01 outer:exit 2b-efb542b0af221800a1c41c43df304bfeef229e21-8d87ae45c968946b-01
2021-08-22T22:02:37.128Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:37.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-94a3dd01735afdc6b3f3b96d5cc54e3ced725f62-f363857c743b00c5-01 outer:exit 2b-94a3dd01735afdc6b3f3b96d5cc54e3ced725f62-514f8eed05713694-01
2021-08-22T22:02:37.131Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:37.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-49fe8d0f6da6bd04a477a8472dc63864d5a7b8e9-efeace6c6298a4a1-01 outer:exit 2b-49fe8d0f6da6bd04a477a8472dc63864d5a7b8e9-9aec3eaf1714aad5-01
2021-08-22T22:02:37.137Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:37.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c3818a155f3b46ccf683f2dbd821eac95a2be1d-775301e32158dba2-01 outer:exit 2b-0c3818a155f3b46ccf683f2dbd821eac95a2be1d-40ec473a19f7191e-01
2021-08-22T22:02:37.140Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:37.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4eb97a705a1f27574b420759bcb23ff9b78efce-fa23af6ed2270e8d-01 outer:exit 2b-a4eb97a705a1f27574b420759bcb23ff9b78efce-3293e4dd17881e2e-01
2021-08-22T22:02:37.142Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:37.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-27bcccc4103a813c9e9f40b58c77f2ba85e368ae-3857919d78ef1093-01 outer:exit 2b-27bcccc4103a813c9e9f40b58c77f2ba85e368ae-37e29354b0777e95-01
2021-08-22T22:02:37.144Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:37.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-070a618acc41d2f752f83fd5dd95f6101139d80a-9d637bca684e68ad-01 outer:exit 2b-070a618acc41d2f752f83fd5dd95f6101139d80a-3149906c22f5fe8c-01
2021-08-22T22:02:37.146Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:37.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-59b0f9d22f0b2c20ad491572df3c7ed50397c3e0-f8c47484883d7af7-01 outer:exit 2b-59b0f9d22f0b2c20ad491572df3c7ed50397c3e0-deef2befd3039c14-01
2021-08-22T22:02:37.162Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:37.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6eb716dae3d668ec05027986d3b2ebd4fc9736a-1af2228790c44ffb-01 outer:exit 2b-e6eb716dae3d668ec05027986d3b2ebd4fc9736a-bb51e0cf624153c2-01
2021-08-22T22:02:37.175Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:37.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-223092605ef483b31cede09fc58b18c46d44b4a9-7e715655d4ff986d-01 outer:exit 2b-223092605ef483b31cede09fc58b18c46d44b4a9-7054b9c31c31b370-01
2021-08-22T22:02:37.184Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:37.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e51603f0db55bd5893dbcdaa1b24da624aecf11-c2e90c56836bc58a-01 outer:exit 2b-7e51603f0db55bd5893dbcdaa1b24da624aecf11-9f1cc7697a953f47-01
2021-08-22T22:02:37.187Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:37.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e124cfe74e4a48ca2eab4a8bc77ea6fe00819b2-ad888d940a64ab1e-01 outer:exit 2b-5e124cfe74e4a48ca2eab4a8bc77ea6fe00819b2-9206d8cf88eb5416-01
2021-08-22T22:02:37.189Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:37.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-3da199410863a5c43fc55746431cd5bc353dd88c-e1e1afcd45c7da14-01 outer:exit 2b-3da199410863a5c43fc55746431cd5bc353dd88c-52c3e3703ce9f1e8-01
2021-08-22T22:02:37.192Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:37.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-984283d0c3a754ef4c26069ac4a5b0bd0eb478b3-74235eb5e23f1cbe-01 outer:exit 2b-984283d0c3a754ef4c26069ac4a5b0bd0eb478b3-bb93e2cbc191954d-01
2021-08-22T22:02:37.220Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (366ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.15
updated 1 package and audited 939 packages in 4.127s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:42.375Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:42.376Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:42.376Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:42.377Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:42.448Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:42.504Z appoptics:patching patched crypto 
2021-08-22T22:02:42.543Z appoptics:patching patched https 
2021-08-22T22:02:42.543Z appoptics:patching patched http 
2021-08-22T22:02:42.577Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:42.577Z appoptics:patching patched fs 
2021-08-22T22:02:42.605Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v14.17.5)
2021-08-22T22:02:42.613Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-08-22T22:02:42.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-d121aa4bfa841c13bfea88cbdca972aebab3d134-d28de06724167619-01 outer:exit 2b-d121aa4bfa841c13bfea88cbdca972aebab3d134-8252332d3fcd185a-01
2021-08-22T22:02:42.793Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:42.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-66bc2d99c4390476af2d652fbd3180b3191d9745-002f01cf7020d6da-01 outer:exit 2b-66bc2d99c4390476af2d652fbd3180b3191d9745-942ef3808da04f0f-01
2021-08-22T22:02:42.843Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:42.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c003e22528d2e7764464b7b9943c8fcc39a539d-e1ed87bf80079542-01 outer:exit 2b-7c003e22528d2e7764464b7b9943c8fcc39a539d-2bbb918b55b27d81-01
2021-08-22T22:02:42.848Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:42.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce54cc926834807a8bc27bc4f58933fa6dd61c55-662af7b15e4e1840-01 outer:exit 2b-ce54cc926834807a8bc27bc4f58933fa6dd61c55-f0e7fd30ac6ee83a-01
2021-08-22T22:02:42.851Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:42.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bfa146a16df488c0a08e8be8c00821fe63ff499-5ea120d8d0de6df1-01 outer:exit 2b-8bfa146a16df488c0a08e8be8c00821fe63ff499-f48ee90b134224ba-01
2021-08-22T22:02:42.856Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:42.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfa376355deb9a8ab607d148ee3cc33141de86ec-d91c49690cceb00c-01 outer:exit 2b-cfa376355deb9a8ab607d148ee3cc33141de86ec-7b56c471ba70f02d-01
2021-08-22T22:02:42.861Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:42.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-057d31cc028eccf041f92d2d2a3fc1b264049094-d1d63339aa91098b-01 outer:exit 2b-057d31cc028eccf041f92d2d2a3fc1b264049094-08eeb65c1f944a79-01
2021-08-22T22:02:42.864Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:42.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f964c751b7c6ee8613343cc4108b7123cf1bc44-4e12d39ad83abd8c-01 outer:exit 2b-6f964c751b7c6ee8613343cc4108b7123cf1bc44-b38510652ca12b58-01
2021-08-22T22:02:42.866Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:42.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-60e5ba0b9cd71350b02138a6b59b44ed24fb7589-2187043a3a208429-01 outer:exit 2b-60e5ba0b9cd71350b02138a6b59b44ed24fb7589-70e66476f3203766-01
2021-08-22T22:02:42.869Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:42.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e18f2ed9e1024fccc40612314df01f42a87578a-664c50fd0ccb148a-01 outer:exit 2b-5e18f2ed9e1024fccc40612314df01f42a87578a-58d5e012b3f8d988-01
2021-08-22T22:02:42.872Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:42.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-e893eb3e67627a7ff798171dcfdcb987cc6c8132-25f59e494b41982b-01 outer:exit 2b-e893eb3e67627a7ff798171dcfdcb987cc6c8132-e7da3f3cf59155ce-01
2021-08-22T22:02:42.875Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:42.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-af606b5fc4f557827db1178f3b9a1ed20dafeba4-893375a201f5be5c-01 outer:exit 2b-af606b5fc4f557827db1178f3b9a1ed20dafeba4-b3c0ed161be6c06a-01
2021-08-22T22:02:42.881Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:42.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-0de27d567e8102a32d3bbc21363d2e73802e8fcf-46aa1e93b67fbaaa-01 outer:exit 2b-0de27d567e8102a32d3bbc21363d2e73802e8fcf-54617cb9abc4cbf7-01
2021-08-22T22:02:42.896Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:42.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-b387b83df36f5247e5c7ea1c00c6116fcfda6a6d-4498706588a7fc31-01 outer:exit 2b-b387b83df36f5247e5c7ea1c00c6116fcfda6a6d-47b82a1764eb387a-01
2021-08-22T22:02:42.942Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:42.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf986c6d94388d10ac6fe34f251fa62324c63e76-52167119a4e15317-01 outer:exit 2b-bf986c6d94388d10ac6fe34f251fa62324c63e76-e29e3e6d46228168-01
2021-08-22T22:02:42.945Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:42.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-d52087dc2b6f04b5ed64f906235fda3337ebbf64-bac2e3d07203bec0-01 outer:exit 2b-d52087dc2b6f04b5ed64f906235fda3337ebbf64-b6a5d179a39ab3fa-01
2021-08-22T22:02:42.948Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:42.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-5441215f24a0e3147ae2609d5c73b16d32e927c5-552d22facd16dc98-01 outer:exit 2b-5441215f24a0e3147ae2609d5c73b16d32e927c5-bff06fc72a45dcb2-01
2021-08-22T22:02:42.951Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:42.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9faac6e809a1c2eb8de9a0b447e7fc9fb6ddbe5-e61ae8665647f456-01 outer:exit 2b-a9faac6e809a1c2eb8de9a0b447e7fc9fb6ddbe5-39a1b60d123de107-01
2021-08-22T22:02:42.953Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:42.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b63e7a00a1ce2a0a109ee34faca215bdd7743ec-7c244afe3b6524b2-01 outer:exit 2b-7b63e7a00a1ce2a0a109ee34faca215bdd7743ec-b748e27619693fc0-01
2021-08-22T22:02:42.956Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:42.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-64b7c76014357df5a5081e419d91ff15cf5fe404-cb66a8672b12da60-01 outer:exit 2b-64b7c76014357df5a5081e419d91ff15cf5fe404-e25f2d1bd0ba3be1-01
2021-08-22T22:02:42.958Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:42.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e96f7337e2a9734977132c81ded24211ff6623e-bd3c565e250adb0e-01 outer:exit 2b-6e96f7337e2a9734977132c81ded24211ff6623e-f5b940bfef112ca7-01
2021-08-22T22:02:42.961Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:42.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b9527a7343863c8de0e4e93b418909070127229-21acb75bc6ccb67c-01 outer:exit 2b-7b9527a7343863c8de0e4e93b418909070127229-7dc2da12d46714f4-01
2021-08-22T22:02:42.963Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:42.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-be0f0177cf3e1d8d205ed4a8dc7017a2c2aa90ee-0afcd6f641bf068f-01 outer:exit 2b-be0f0177cf3e1d8d205ed4a8dc7017a2c2aa90ee-1f7c5f01b2c8dddc-01
2021-08-22T22:02:42.966Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:42.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fae7b02f955e1192175826e4ab072cae65b5d0c-e48996bb81f9a8d3-01 outer:exit 2b-8fae7b02f955e1192175826e4ab072cae65b5d0c-a72ed67756492c1f-01
2021-08-22T22:02:42.969Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:42.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-99d7fcd975327aebfafd570a1a189fd68fab0917-0909517a1e9c36fb-01 outer:exit 2b-99d7fcd975327aebfafd570a1a189fd68fab0917-fb7b35023a213af9-01
2021-08-22T22:02:42.972Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:42.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-308ad96a8742f98ec3657611fbc02759e918eac5-3172b55cae9509de-01 outer:exit 2b-308ad96a8742f98ec3657611fbc02759e918eac5-3f6d3ebbf6337b23-01
2021-08-22T22:02:42.975Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:42.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dfa1707cad32388a5cf874f5a879e13c715e568-e535107e15580354-01 outer:exit 2b-4dfa1707cad32388a5cf874f5a879e13c715e568-aafabb8c2c2f29d7-01
2021-08-22T22:02:42.982Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:42.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1dbc22ca7cc24ce5bcb3ef93ac6a5d4a93a858c-2f8fefffd498aa9c-01 outer:exit 2b-c1dbc22ca7cc24ce5bcb3ef93ac6a5d4a93a858c-e4d6d9f4d44fb4fb-01
2021-08-22T22:02:42.987Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:42.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcc0b00cd7edd1f6de04e8a10cd23f4bd58c06eb-a6b70131caf1086b-01 outer:exit 2b-bcc0b00cd7edd1f6de04e8a10cd23f4bd58c06eb-a3297de6d869797c-01
2021-08-22T22:02:42.996Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:43.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b7b043892e39b78296cbc20b79fb4c935cd3aa4-24c6625bf00e3d90-01 outer:exit 2b-3b7b043892e39b78296cbc20b79fb4c935cd3aa4-d0b3d720dd0ab10b-01
2021-08-22T22:02:43.004Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:43.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8031670fae861e4102029b412d647991b3a34cb-dd24d11b07b3ab00-01 outer:exit 2b-d8031670fae861e4102029b412d647991b3a34cb-df3da24c42777cb5-01
2021-08-22T22:02:43.007Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:43.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bb6e0ca9d2258b88e6d653113bd991304e269f4-8234937f4edb6425-01 outer:exit 2b-8bb6e0ca9d2258b88e6d653113bd991304e269f4-5d6a834ae0a77d94-01
2021-08-22T22:02:43.010Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:43.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad7d9927def579cf7cfc4c6444dacfd83630f072-ca3e8425444707f0-01 outer:exit 2b-ad7d9927def579cf7cfc4c6444dacfd83630f072-76f15c1284efa87f-01
2021-08-22T22:02:43.017Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:43.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-24abd505118f85aae7ea7947a05d44fe26f3c9e8-722afda30d954429-01 outer:exit 2b-24abd505118f85aae7ea7947a05d44fe26f3c9e8-e85631fe8ca449fb-01
2021-08-22T22:02:43.020Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:43.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b0df9d08a77a8663631e29abbe079e93d0071c5-d0298a2d4f838c08-01 outer:exit 2b-0b0df9d08a77a8663631e29abbe079e93d0071c5-54604156fea84ec8-01
2021-08-22T22:02:43.022Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:43.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-864e761a96780ea0e5157f6a819d915b8107f8c6-631b691de733a44c-01 outer:exit 2b-864e761a96780ea0e5157f6a819d915b8107f8c6-6358f04a4cccf054-01
2021-08-22T22:02:43.024Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:43.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-c28c78ffdfb8905abf5bc7dbd5564278edead862-f1a94458be34a819-01 outer:exit 2b-c28c78ffdfb8905abf5bc7dbd5564278edead862-eda71b38ac8d61f8-01
2021-08-22T22:02:43.026Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:43.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddb17305d3468a49d1d51762b6ba3cb544b011da-02d26de6d52a9eba-01 outer:exit 2b-ddb17305d3468a49d1d51762b6ba3cb544b011da-a03c8fb4ce58b0ee-01
2021-08-22T22:02:43.033Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:43.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-66dae2e7c8187e24e9d3c885459573f305c7bc15-900a17d2844ce75b-01 outer:exit 2b-66dae2e7c8187e24e9d3c885459573f305c7bc15-7286ebf39d67fcd5-01
2021-08-22T22:02:43.052Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:43.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-99705923cb751cc569105f61735d5f51584df48e-b59a2eeee6ed2d02-01 outer:exit 2b-99705923cb751cc569105f61735d5f51584df48e-c65c4c0cf76e4ec0-01
2021-08-22T22:02:43.066Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:43.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-88acc1557f28e23936aca70657ec398509e9715f-7caa6f05b64f1818-01 outer:exit 2b-88acc1557f28e23936aca70657ec398509e9715f-c0c5c8154f0dd6f8-01
2021-08-22T22:02:43.070Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:43.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c734b4e7880546bd2d98926c17bee3cb6cda3fc-441874f895fece0a-01 outer:exit 2b-9c734b4e7880546bd2d98926c17bee3cb6cda3fc-78da0e4dcdec6297-01
2021-08-22T22:02:43.073Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:43.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-e83bee0f39d01b62e55fcb1af8a32485ee42115f-dd037910709023a0-01 outer:exit 2b-e83bee0f39d01b62e55fcb1af8a32485ee42115f-ad05b479da37b1ed-01
2021-08-22T22:02:43.076Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:43.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb9ef33d5a230ecf8ad6fe0a8471aae588cdb0e8-a1737db28bce9c0c-01 outer:exit 2b-fb9ef33d5a230ecf8ad6fe0a8471aae588cdb0e8-20acdcea8dcf0ee3-01
2021-08-22T22:02:43.109Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (359ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.16
updated 1 package and audited 939 packages in 4.209s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:48.506Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:48.507Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:48.507Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:48.508Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:48.603Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:48.690Z appoptics:patching patched crypto 
2021-08-22T22:02:48.719Z appoptics:patching patched https 
2021-08-22T22:02:48.720Z appoptics:patching patched http 
2021-08-22T22:02:48.761Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:48.761Z appoptics:patching patched fs 
2021-08-22T22:02:48.789Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v14.17.5)
2021-08-22T22:02:48.796Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-08-22T22:02:48.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-67510eb951c774a82fb6c22dbe6b2af60094c130-5a41c41f16cb356c-01 outer:exit 2b-67510eb951c774a82fb6c22dbe6b2af60094c130-f41f7c7011f4af57-01
2021-08-22T22:02:48.946Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:49.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-112b36dc121cd3ef928794c169a01d592b560f3e-31dad682144cdcea-01 outer:exit 2b-112b36dc121cd3ef928794c169a01d592b560f3e-70adea568e1ad70c-01
2021-08-22T22:02:49.018Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:49.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b7454e4306cff5474df5042fb7abdbd5c6556a5-e3f927898cb5712c-01 outer:exit 2b-2b7454e4306cff5474df5042fb7abdbd5c6556a5-14dcfaaeed0dd463-01
2021-08-22T22:02:49.022Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:49.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-63ae03efaace97e827902af2fb493a02b0b2ce02-e938430019dd778a-01 outer:exit 2b-63ae03efaace97e827902af2fb493a02b0b2ce02-93f1be4febfeb900-01
2021-08-22T22:02:49.027Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:49.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e5c2fe1ee3665dc4f56ed48948a11292f96c4bc-f7c2fe3d6d8a2ac8-01 outer:exit 2b-0e5c2fe1ee3665dc4f56ed48948a11292f96c4bc-bafdce9a0c093860-01
2021-08-22T22:02:49.032Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:49.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-317f8540cac8956b12aef932bd7e36464d4eaf6b-72bfba82f9564ea2-01 outer:exit 2b-317f8540cac8956b12aef932bd7e36464d4eaf6b-34a6493c22611320-01
2021-08-22T22:02:49.036Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:49.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-c44d59bbcd090b98b3f3e3ced46a518a7c6b4e53-8973c725b7eece54-01 outer:exit 2b-c44d59bbcd090b98b3f3e3ced46a518a7c6b4e53-17dd50378c04107b-01
2021-08-22T22:02:49.040Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:49.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-25035614f6f8e3ac4ecc990524bdbea876d25ff9-8af776fafdad6f5a-01 outer:exit 2b-25035614f6f8e3ac4ecc990524bdbea876d25ff9-989095bb2165c7d6-01
2021-08-22T22:02:49.042Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:49.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb05c3435b2f7cdf37d404626b47d50aaf0d5554-e52e57b19c950d25-01 outer:exit 2b-eb05c3435b2f7cdf37d404626b47d50aaf0d5554-ec2e31547d7e28ab-01
2021-08-22T22:02:49.045Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:49.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-16996b22cb55627664fb4eff7ce5b8369b137fbd-54930d001bae31cb-01 outer:exit 2b-16996b22cb55627664fb4eff7ce5b8369b137fbd-247c28de032f59e1-01
2021-08-22T22:02:49.048Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:49.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-acd429b9dc9f8ff66ae53c2955a3a8bc4dc29532-f7814c978d95adf3-01 outer:exit 2b-acd429b9dc9f8ff66ae53c2955a3a8bc4dc29532-b307fb4c0381227d-01
2021-08-22T22:02:49.052Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:49.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a01f2969006579d026ef37414568db8f4f372d6-f4f9a6eb969c60c9-01 outer:exit 2b-0a01f2969006579d026ef37414568db8f4f372d6-a6ca3d9d0bfc89dc-01
2021-08-22T22:02:49.059Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:49.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-898410b5ec235136c2ddec06758467384144c4a3-0a7182fb6f27ae73-01 outer:exit 2b-898410b5ec235136c2ddec06758467384144c4a3-f8286f84ecb960f6-01
2021-08-22T22:02:49.074Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:49.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f55bf9aa17eec7083817ec98bfc4a4671f227ee-e5de8840caea4761-01 outer:exit 2b-0f55bf9aa17eec7083817ec98bfc4a4671f227ee-1917e1087e69525b-01
2021-08-22T22:02:49.144Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:49.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5b16283c42e2fdb479b6f5d84ab0973133ea484-52b86921d75c4914-01 outer:exit 2b-d5b16283c42e2fdb479b6f5d84ab0973133ea484-3ce64c18ee55c4a2-01
2021-08-22T22:02:49.153Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:49.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f26cc52f039f6d340689879bafd9040e6504512-042cb0fbbf91a55f-01 outer:exit 2b-3f26cc52f039f6d340689879bafd9040e6504512-01be24f475b5c6ac-01
2021-08-22T22:02:49.155Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:49.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-30cb9b15b14b003fddf85b56507528d4ee9dbaf6-3dfe1cb00033e643-01 outer:exit 2b-30cb9b15b14b003fddf85b56507528d4ee9dbaf6-aabdc231b5b7bb81-01
2021-08-22T22:02:49.158Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:49.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ac9d7a3cbdf3bac9da04cd86134f3c8174dc62-b8b3c8631c1ce434-01 outer:exit 2b-a1ac9d7a3cbdf3bac9da04cd86134f3c8174dc62-77bd60b4f2d06ed9-01
2021-08-22T22:02:49.161Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:49.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd7e664d4fb214e0b0c4f9c7b12d25a15ceced30-5e064738b3fa58d5-01 outer:exit 2b-bd7e664d4fb214e0b0c4f9c7b12d25a15ceced30-4fa373840d384ee5-01
2021-08-22T22:02:49.163Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:49.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f133bd6e2b59be657606193fbb93f10ef68c8fa-61eb7a5c20742104-01 outer:exit 2b-7f133bd6e2b59be657606193fbb93f10ef68c8fa-c0b77db12bb9e247-01
2021-08-22T22:02:49.165Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:49.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ed8c9e5c6835351869851e832877907bc754eff-ae8f79e1ccae0a96-01 outer:exit 2b-9ed8c9e5c6835351869851e832877907bc754eff-a6b0cca392fdce0d-01
2021-08-22T22:02:49.168Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:49.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c7d8673ab3feabbd123d2de31aeaeaf5169380d-64dbb15d07d4538b-01 outer:exit 2b-2c7d8673ab3feabbd123d2de31aeaeaf5169380d-af2370677f17c3a5-01
2021-08-22T22:02:49.170Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:49.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b7346541541bcb98caccd26a97bf6f9fb4a83c0-6562573db316a5e8-01 outer:exit 2b-0b7346541541bcb98caccd26a97bf6f9fb4a83c0-047e1991cd04ba83-01
2021-08-22T22:02:49.173Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:49.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9f2a595e7b0ef52f55334feea7f8906e1b4a3ba-9016500ac8c0b44f-01 outer:exit 2b-a9f2a595e7b0ef52f55334feea7f8906e1b4a3ba-51cbc5820f0245ba-01
2021-08-22T22:02:49.176Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:49.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-98d319ac1f77e9f0d4a021877d1886f6adfcce7b-0d4e72762f8d4ed3-01 outer:exit 2b-98d319ac1f77e9f0d4a021877d1886f6adfcce7b-41a341a717247c0f-01
2021-08-22T22:02:49.179Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:49.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-4671ab9e223aa1fd28af8deb67630bcbde4d59f7-7e861ca47c8d7f6e-01 outer:exit 2b-4671ab9e223aa1fd28af8deb67630bcbde4d59f7-94fff414dc7855f0-01
2021-08-22T22:02:49.181Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:49.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-51294bac0abd5dc2954cd8d2e10e09636d0b6bc4-359553f5d5e67f4a-01 outer:exit 2b-51294bac0abd5dc2954cd8d2e10e09636d0b6bc4-08982dd707918ba7-01
2021-08-22T22:02:49.188Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:49.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f70041de3e01f140a09814b175e1d5f98af6be7-70aef6249e26b615-01 outer:exit 2b-5f70041de3e01f140a09814b175e1d5f98af6be7-c9de4e7e78441926-01
2021-08-22T22:02:49.193Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:49.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-837f98c35b52dab53caa50a752b2e1432d4f069f-5dd0852e8abde601-01 outer:exit 2b-837f98c35b52dab53caa50a752b2e1432d4f069f-512010df26b33e08-01
2021-08-22T22:02:49.202Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:49.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-77dbfa29cdf0fdb1d27a4872779b1c84b6a8937b-8c73ceb022a5e952-01 outer:exit 2b-77dbfa29cdf0fdb1d27a4872779b1c84b6a8937b-b2e5101321078a45-01
2021-08-22T22:02:49.210Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:49.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-60ad3bbd309c3f4a8740007ef19c87b51cd7f7b5-28dde7aebd20c52e-01 outer:exit 2b-60ad3bbd309c3f4a8740007ef19c87b51cd7f7b5-4c45691aa86a817d-01
2021-08-22T22:02:49.212Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:49.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-09cb8200e19ae0f5dde95da0c43911ce64a6175d-7253c93652564a83-01 outer:exit 2b-09cb8200e19ae0f5dde95da0c43911ce64a6175d-42690c0bf07fdcbc-01
2021-08-22T22:02:49.216Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:49.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c03bf18348a5ef5e898537730bf6b263e983164-be6fbfb3cee24cfb-01 outer:exit 2b-7c03bf18348a5ef5e898537730bf6b263e983164-3802532fabad3f6b-01
2021-08-22T22:02:49.226Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:49.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba36b1355e4459855aa11395bf786c64695a0a62-55916607deb10864-01 outer:exit 2b-ba36b1355e4459855aa11395bf786c64695a0a62-6bac8bc2107370ac-01
2021-08-22T22:02:49.230Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:49.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-797280255d891d571913e40ad49f78120a9d1498-40b5a3b71a44de36-01 outer:exit 2b-797280255d891d571913e40ad49f78120a9d1498-19aa988e3cedcda9-01
2021-08-22T22:02:49.236Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:49.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ee85ec64989b307793ce6af8b0765ad239913e7-01ef06d5272aa055-01 outer:exit 2b-9ee85ec64989b307793ce6af8b0765ad239913e7-be59aaf7cbf989b6-01
2021-08-22T22:02:49.238Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:49.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d369e09718d56928f1b79ae4731fcd9887903c-a2409c1982b82a9b-01 outer:exit 2b-b2d369e09718d56928f1b79ae4731fcd9887903c-2e566dfde713c85c-01
2021-08-22T22:02:49.240Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:49.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8a779736941d81f8e8db1500a5b9543b4d86cfb-117bf5c83e6a8813-01 outer:exit 2b-c8a779736941d81f8e8db1500a5b9543b4d86cfb-f2a5b4d5d5a1923e-01
2021-08-22T22:02:49.248Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:49.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-650d44b97e23f7693cb77ba622b918354da4a236-b1fe43ac2b680c31-01 outer:exit 2b-650d44b97e23f7693cb77ba622b918354da4a236-133daadb7c343e01-01
2021-08-22T22:02:49.265Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:49.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-0114c5afb75241d191082a76bb0e5fcab4d36fa5-f77249465b7c0a09-01 outer:exit 2b-0114c5afb75241d191082a76bb0e5fcab4d36fa5-86e07b9ddd4687a8-01
2021-08-22T22:02:49.275Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:49.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7c1d4fb96178e6b3832de0f8d186924f3c7ddd4-4c65874d31439897-01 outer:exit 2b-b7c1d4fb96178e6b3832de0f8d186924f3c7ddd4-ebd639046ca02ac5-01
2021-08-22T22:02:49.278Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:49.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-a13d9c45b15cafd16bd78f8f6b86b4cfb8264acc-e7afe49d771d6808-01 outer:exit 2b-a13d9c45b15cafd16bd78f8f6b86b4cfb8264acc-65c76bd52b34ab28-01
2021-08-22T22:02:49.281Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:49.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-8afc4254c8dcc079cb7c26a0a1c07c582bd139e0-5d77441f69c236de-01 outer:exit 2b-8afc4254c8dcc079cb7c26a0a1c07c582bd139e0-976f9ff961e9ee40-01
2021-08-22T22:02:49.284Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:49.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba09c0500fb66b04b43b96953cdb0dd8bdd20201-07ed0c047f4492ad-01 outer:exit 2b-ba09c0500fb66b04b43b96953cdb0dd8bdd20201-75ff444fcd4ec076-01
2021-08-22T22:02:49.313Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (405ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.17
updated 1 package and audited 939 packages in 4.139s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:02:54.446Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:02:54.446Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:02:54.446Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:02:54.447Z appoptics:debug using context provider: ace-context
2021-08-22T22:02:54.508Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:02:54.554Z appoptics:patching patched crypto 
2021-08-22T22:02:54.575Z appoptics:patching patched https 
2021-08-22T22:02:54.576Z appoptics:patching patched http 
2021-08-22T22:02:54.615Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:02:54.615Z appoptics:patching patched fs 
2021-08-22T22:02:54.642Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v14.17.5)
2021-08-22T22:02:54.649Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-08-22T22:02:54.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-8658b26a1cc9d5c22aa14fb881ffbe0d9e594227-11cbc32b301f7099-01 outer:exit 2b-8658b26a1cc9d5c22aa14fb881ffbe0d9e594227-ccb2e988dccbb054-01
2021-08-22T22:02:54.821Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:02:54.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-4075686f374fcaa5e25c0be1586920101d304545-c1d58749d109aeee-01 outer:exit 2b-4075686f374fcaa5e25c0be1586920101d304545-1ec4f97391db3c7c-01
2021-08-22T22:02:54.855Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:02:54.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2a9f49a95fce0e574be7d7a7a56373d097acb55-54876f3f3fe0392d-01 outer:exit 2b-e2a9f49a95fce0e574be7d7a7a56373d097acb55-dba0c34f62680251-01
2021-08-22T22:02:54.860Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:02:54.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-45298c668ccc9b79328865c7f3b418be5def2e11-7ec19d2bbdfe158a-01 outer:exit 2b-45298c668ccc9b79328865c7f3b418be5def2e11-230b538b1ec5ff54-01
2021-08-22T22:02:54.870Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:02:54.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d071cf1dfa5e820272b87873ac38bbfa4921692-7a98f99b7d337744-01 outer:exit 2b-9d071cf1dfa5e820272b87873ac38bbfa4921692-7de44049b47f0ce1-01
2021-08-22T22:02:54.877Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:02:54.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dd99e82c935959df838ec580511cdfab93a8576-30c2af24e76880c9-01 outer:exit 2b-1dd99e82c935959df838ec580511cdfab93a8576-deee473cbea0c53c-01
2021-08-22T22:02:54.880Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:02:54.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-84a9d8135f4114d3ecb63348ebccc50d6cc73427-d81e70e49e675c8b-01 outer:exit 2b-84a9d8135f4114d3ecb63348ebccc50d6cc73427-2408e015a24da4c8-01
2021-08-22T22:02:54.883Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:02:54.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-63100cbe6af6485f128055a404f1963ec15018a2-d896935e680f79be-01 outer:exit 2b-63100cbe6af6485f128055a404f1963ec15018a2-2cd86d488b939fb0-01
2021-08-22T22:02:54.887Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:02:54.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-652ce5a271c8f30c45609bbdd4bb097aee5702b8-1490bc77cd83f3e2-01 outer:exit 2b-652ce5a271c8f30c45609bbdd4bb097aee5702b8-e2d994d6f40af529-01
2021-08-22T22:02:54.891Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:02:54.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-f67971e181d7fc19d029ddd27e092ba36dad644f-3b4d5bdcb8112321-01 outer:exit 2b-f67971e181d7fc19d029ddd27e092ba36dad644f-e0253a73e47fb2f8-01
2021-08-22T22:02:54.894Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:02:54.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5f7e50e0fcd9c07fec0155325d5cbbf319e733c-4d0af406cd2bff5a-01 outer:exit 2b-e5f7e50e0fcd9c07fec0155325d5cbbf319e733c-268b6b73306b4dfc-01
2021-08-22T22:02:54.907Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:02:54.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9d74e60b0c6fa9790136cbb9e2fcd911bf77674-a4d4eaa9760f55b9-01 outer:exit 2b-b9d74e60b0c6fa9790136cbb9e2fcd911bf77674-9e97c3bdbe838779-01
2021-08-22T22:02:54.913Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:02:54.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f6530b9016bdfdc6234551586bc45abab1d22e3-5527ad9355ff37d8-01 outer:exit 2b-8f6530b9016bdfdc6234551586bc45abab1d22e3-61a3d116a829ad48-01
2021-08-22T22:02:54.930Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:02:54.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-59d5dc894ae5a318a825143162c1f8f14582f174-117e3839eec0bf3d-01 outer:exit 2b-59d5dc894ae5a318a825143162c1f8f14582f174-3935e0afc3591d2c-01
2021-08-22T22:02:54.993Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:02:54.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-c66097e37e1cfe42def476717087e4eca1aeab49-c3a52918833ee559-01 outer:exit 2b-c66097e37e1cfe42def476717087e4eca1aeab49-694f91aaf8d06542-01
2021-08-22T22:02:54.996Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:02:54.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-985ae0da191b1765bc990fc50d69fc7eaaff692b-787f47696ba0fbce-01 outer:exit 2b-985ae0da191b1765bc990fc50d69fc7eaaff692b-d123fcf664c60d14-01
2021-08-22T22:02:54.998Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:02:55.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed52b906f6ec6079455e8940ed52a93c0f089086-a34ebb934ac005a5-01 outer:exit 2b-ed52b906f6ec6079455e8940ed52a93c0f089086-5a27ada46979d531-01
2021-08-22T22:02:55.001Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:02:55.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aa226331f2e06bf129eb69a45d85d08f69bf386-38cf00e9e70ea670-01 outer:exit 2b-6aa226331f2e06bf129eb69a45d85d08f69bf386-bf04663761142571-01
2021-08-22T22:02:55.004Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:02:55.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa1d29c3d8bfb17d0c73b2bc3b7fe180d297f8a8-7cf0ecc1d63a3a48-01 outer:exit 2b-aa1d29c3d8bfb17d0c73b2bc3b7fe180d297f8a8-2b1c34448a2ba2d0-01
2021-08-22T22:02:55.006Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:02:55.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6e1243675adf43aa6fe743f7e523eaabe040ed4-2e4eb4d6f41e2491-01 outer:exit 2b-f6e1243675adf43aa6fe743f7e523eaabe040ed4-f8599651d92fb367-01
2021-08-22T22:02:55.009Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:02:55.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb12463847d525ed7c480b3aa932d1ba5dc80040-afe4d9810d471293-01 outer:exit 2b-fb12463847d525ed7c480b3aa932d1ba5dc80040-a837157af6d72743-01
2021-08-22T22:02:55.011Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:02:55.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ec7012aeefcd00b9a1e5ef5b7d48a354fb3a702-8dbc037ca7eec83d-01 outer:exit 2b-9ec7012aeefcd00b9a1e5ef5b7d48a354fb3a702-12e45a56f958bf62-01
2021-08-22T22:02:55.013Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:02:55.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f1d2527484e31be19d109f3d80eab37d1bd1808-541432c00dd9cd57-01 outer:exit 2b-3f1d2527484e31be19d109f3d80eab37d1bd1808-a153131b2dcdffd2-01
2021-08-22T22:02:55.016Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:02:55.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf8d9d57b3386bcf958076411c6a60461b2ef61f-ee470ad457009978-01 outer:exit 2b-cf8d9d57b3386bcf958076411c6a60461b2ef61f-b34560f1eb442748-01
2021-08-22T22:02:55.019Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:02:55.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c04ce5a1e8c262aa52a4a0c7549f9b11aabfc31-a6b9a038bf3b4adc-01 outer:exit 2b-5c04ce5a1e8c262aa52a4a0c7549f9b11aabfc31-cc7779734ea3fac2-01
2021-08-22T22:02:55.022Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:02:55.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9d7988ce3510ae8cfb4d8cfd0b3595562e677c0-158f84bbe06f548b-01 outer:exit 2b-a9d7988ce3510ae8cfb4d8cfd0b3595562e677c0-5f1bd6b9d0779379-01
2021-08-22T22:02:55.025Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:02:55.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-6951a775f03d21bdb33d3b5929af4241d8a4962f-925e5b95ae7b2717-01 outer:exit 2b-6951a775f03d21bdb33d3b5929af4241d8a4962f-e3dd03340f332f7c-01
2021-08-22T22:02:55.032Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:02:55.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c158c259e7a0e8e6160a3311243b1eb030d0441-2e91c39c32fc1c96-01 outer:exit 2b-8c158c259e7a0e8e6160a3311243b1eb030d0441-efb5ec9adf7c567a-01
2021-08-22T22:02:55.037Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:02:55.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b193d53f80bbbc98d12903e3767f673142ba7d3-460edc536fa9e486-01 outer:exit 2b-0b193d53f80bbbc98d12903e3767f673142ba7d3-b9ced8bbd8017d99-01
2021-08-22T22:02:55.045Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:02:55.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-08cbe88705a4d0eb925581983b8bafdc3452e581-b70e180f308ec92a-01 outer:exit 2b-08cbe88705a4d0eb925581983b8bafdc3452e581-a423028e77389c43-01
2021-08-22T22:02:55.052Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:02:55.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e73cafe7ffb2aca95949786edf55c53401ed68c-bd19ecf0dbb3f29f-01 outer:exit 2b-3e73cafe7ffb2aca95949786edf55c53401ed68c-742454ac046a8f48-01
2021-08-22T22:02:55.055Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:02:55.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa9acf3083e46b8400271f7e77d8fa408283ab13-7980934b33126092-01 outer:exit 2b-fa9acf3083e46b8400271f7e77d8fa408283ab13-d09d8fd3e7612513-01
2021-08-22T22:02:55.058Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:02:55.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-c487861a2f72593f004757071e96b8c37a989b89-b980f5edd9609c73-01 outer:exit 2b-c487861a2f72593f004757071e96b8c37a989b89-c9f28cf61fbf6959-01
2021-08-22T22:02:55.065Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:02:55.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-926ad8c778ffa0e3ed0dd416665b412e322c5046-66c26529d4f3b691-01 outer:exit 2b-926ad8c778ffa0e3ed0dd416665b412e322c5046-583d1e84811ae8b7-01
2021-08-22T22:02:55.067Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:02:55.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc2282386fbc3d0dc6d129c1bff7d9c31fe5dfe6-0806edaab9310703-01 outer:exit 2b-dc2282386fbc3d0dc6d129c1bff7d9c31fe5dfe6-8681efa2b7ad4a09-01
2021-08-22T22:02:55.069Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:02:55.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eab4b79c4efbe80c64cb5748552eeb367171725-94eabd5a7bdf7947-01 outer:exit 2b-9eab4b79c4efbe80c64cb5748552eeb367171725-a1ba69a0978e865e-01
2021-08-22T22:02:55.072Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:02:55.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2ed15ba91e8d0bf04e5b511b8506b5595cc5244-ee43d0abfb83a8e0-01 outer:exit 2b-c2ed15ba91e8d0bf04e5b511b8506b5595cc5244-46528e01910725af-01
2021-08-22T22:02:55.074Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:02:55.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-525999ef4b69ec6a3d80d037d6073931d0c269a5-194fecd94225ec0f-01 outer:exit 2b-525999ef4b69ec6a3d80d037d6073931d0c269a5-e88458f24b468b06-01
2021-08-22T22:02:55.082Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:02:55.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-5798d3f42a8fd332bf98b25eec2cdbb984f1fcdd-87d3e3b8642abb86-01 outer:exit 2b-5798d3f42a8fd332bf98b25eec2cdbb984f1fcdd-87c46eff74c26290-01
2021-08-22T22:02:55.101Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:02:55.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-886fcf24d6bfb6c9e0df8e49809e111af45c2b17-2a00f2cd2ba8ec92-01 outer:exit 2b-886fcf24d6bfb6c9e0df8e49809e111af45c2b17-b1cd788094d82665-01
2021-08-22T22:02:55.110Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:02:55.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ed392543bb0d2f6d3aac548fc6ff0b13e136317-a0ec053f3b704945-01 outer:exit 2b-4ed392543bb0d2f6d3aac548fc6ff0b13e136317-2a4d02e1795589fb-01
2021-08-22T22:02:55.115Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:02:55.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf2141b9bf5af26d2fd073db3ef0e8139ebc6f82-415f49e5d941ed79-01 outer:exit 2b-bf2141b9bf5af26d2fd073db3ef0e8139ebc6f82-9fb048f43bee1fe7-01
2021-08-22T22:02:55.119Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:02:55.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-98a16cb1bd65a413f2044c140cfaf4f4510f9d61-2166566638f61ba0-01 outer:exit 2b-98a16cb1bd65a413f2044c140cfaf4f4510f9d61-8cebaafda85e359c-01
2021-08-22T22:02:55.122Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:02:55.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-31d5c9490fa3bfbec49ffb8dd474e04d0feb91e9-53416f968484c1bf-01 outer:exit 2b-31d5c9490fa3bfbec49ffb8dd474e04d0feb91e9-f54e7ac43ac8ea81-01
2021-08-22T22:02:55.150Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (383ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.18
updated 1 package and audited 939 packages in 4.255s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:00.605Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:00.606Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:00.606Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:00.607Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:00.713Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:00.776Z appoptics:patching patched crypto 
2021-08-22T22:03:00.827Z appoptics:patching patched https 
2021-08-22T22:03:00.827Z appoptics:patching patched http 
2021-08-22T22:03:00.884Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:00.884Z appoptics:patching patched fs 
2021-08-22T22:03:00.921Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v14.17.5)
2021-08-22T22:03:00.931Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-08-22T22:03:01.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd8983bbfa1f4a67d07ff59f71acf1842cd5096f-ab9047842206bda6-01 outer:exit 2b-cd8983bbfa1f4a67d07ff59f71acf1842cd5096f-6f0250be145d8038-01
2021-08-22T22:03:01.113Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:03:01.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-37f076dd7d8009325e7ae70f7c3b00b6936260f6-bbdeaf8732e6d768-01 outer:exit 2b-37f076dd7d8009325e7ae70f7c3b00b6936260f6-4b23938a2e7c78e8-01
2021-08-22T22:03:01.160Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:03:01.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5910e264b656c6f5cfb1ceebc6e28c666b28107-52db9ce15535e1ed-01 outer:exit 2b-b5910e264b656c6f5cfb1ceebc6e28c666b28107-ccb3046ecde1ccdc-01
2021-08-22T22:03:01.164Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:03:01.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-8525b20cf47e93f8a41c1f2b519ee0732d8aadc8-ea0d2ab71bb04f52-01 outer:exit 2b-8525b20cf47e93f8a41c1f2b519ee0732d8aadc8-ddebf981b17960f0-01
2021-08-22T22:03:01.167Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:03:01.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e486d5d4b30c043a0f663b0e98802ab6d3dc331-5aa64761e2553469-01 outer:exit 2b-1e486d5d4b30c043a0f663b0e98802ab6d3dc331-0ce66e7ae3deb08b-01
2021-08-22T22:03:01.172Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:03:01.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f9b7e85d94fa5994556e6833272000b48d7c99d-bcea2cb670e8dbe3-01 outer:exit 2b-3f9b7e85d94fa5994556e6833272000b48d7c99d-670124b367d5a419-01
2021-08-22T22:03:01.175Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:03:01.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-f06f77f6874c36ac81dfad882c2b09c379977204-133d057ceb1322ea-01 outer:exit 2b-f06f77f6874c36ac81dfad882c2b09c379977204-b03b28fc94c21f75-01
2021-08-22T22:03:01.178Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:03:01.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a050bc99b07d402745b82a0c02eea03cfb753e7-94769a3c6d2c73ae-01 outer:exit 2b-3a050bc99b07d402745b82a0c02eea03cfb753e7-a15eabf71209a385-01
2021-08-22T22:03:01.180Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:03:01.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-925ae93eb3540791646e31100c08d00db9eae313-1e37c63e8373fd1d-01 outer:exit 2b-925ae93eb3540791646e31100c08d00db9eae313-5e76e0d3e7d27013-01
2021-08-22T22:03:01.183Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:03:01.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f6b091b79ef33b9e287015b5630d04ee2906f47-f844c89383e2aaf5-01 outer:exit 2b-0f6b091b79ef33b9e287015b5630d04ee2906f47-f0b7ec7f3a41ac1a-01
2021-08-22T22:03:01.185Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:03:01.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-c97649a565c9775982c49e60f474bdbc222c3582-55cf9115b6d12c7c-01 outer:exit 2b-c97649a565c9775982c49e60f474bdbc222c3582-8f538b371b49e7c6-01
2021-08-22T22:03:01.189Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:03:01.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-25ef5ed2551fdf8cdfdcc983715cfda9ab8ccfed-26a1865b2b7012bb-01 outer:exit 2b-25ef5ed2551fdf8cdfdcc983715cfda9ab8ccfed-dc1e6f58c06f7664-01
2021-08-22T22:03:01.196Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:03:01.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-577372a78a617bf9b3da2b949491ece481d0846b-3da9895b30a1c599-01 outer:exit 2b-577372a78a617bf9b3da2b949491ece481d0846b-b19c47e9fd930292-01
2021-08-22T22:03:01.208Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:03:01.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-30af2a7d5c065febe637b2250190fb873c4dfc6f-3c650231797830b3-01 outer:exit 2b-30af2a7d5c065febe637b2250190fb873c4dfc6f-eee801908e347c9b-01
2021-08-22T22:03:01.259Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:03:01.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f312deabc107a112a66dae24383a2ee5fc7d100-893c62e70de2dbd0-01 outer:exit 2b-1f312deabc107a112a66dae24383a2ee5fc7d100-88d805c7b6f0300a-01
2021-08-22T22:03:01.263Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:03:01.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-8096428ff2d56969aa1cb7c9880b44e9a4fd1f3a-f95c63a31346b64d-01 outer:exit 2b-8096428ff2d56969aa1cb7c9880b44e9a4fd1f3a-5b930a2d0436e952-01
2021-08-22T22:03:01.265Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:03:01.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c086f6730512e718ce3473fe83042e818b26a2c-9ba758056d2c44d8-01 outer:exit 2b-2c086f6730512e718ce3473fe83042e818b26a2c-5b82bac7b4e60805-01
2021-08-22T22:03:01.268Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:03:01.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-95dae022837c459d397bd4c19c432744686257b8-4302fbdce6bb47fb-01 outer:exit 2b-95dae022837c459d397bd4c19c432744686257b8-52b8db42c4863a41-01
2021-08-22T22:03:01.270Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:03:01.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-9de3789a845123efa9cf0e4b1d8629b1d0c4ee28-beac2902e3665b1e-01 outer:exit 2b-9de3789a845123efa9cf0e4b1d8629b1d0c4ee28-5f269df7c02e933a-01
2021-08-22T22:03:01.272Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:03:01.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-57dd7041ebd60ce25fa0393d07e645a6c94818a4-197cdb488558e531-01 outer:exit 2b-57dd7041ebd60ce25fa0393d07e645a6c94818a4-b15838ba15609023-01
2021-08-22T22:03:01.274Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:03:01.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-f909308711d868c5fe8b4393176f2ac9c1a8d360-ddc0bb5e0e7aeccf-01 outer:exit 2b-f909308711d868c5fe8b4393176f2ac9c1a8d360-aea8eb8ae064fe65-01
2021-08-22T22:03:01.276Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:03:01.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-57b93d13a4fb504ac04a6cb2be6fd552ad8dc7fc-518ff1dcae6d23dd-01 outer:exit 2b-57b93d13a4fb504ac04a6cb2be6fd552ad8dc7fc-1ef6c40fbb7f90d7-01
2021-08-22T22:03:01.279Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:03:01.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-0303f0eabf01b835e29855c7e30f6d31bee4ea72-cc530e3eed3fc801-01 outer:exit 2b-0303f0eabf01b835e29855c7e30f6d31bee4ea72-d5c816d43fae3439-01
2021-08-22T22:03:01.281Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:03:01.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-7718e597466460376e793257197e31ac067732fd-663212226cd04cf7-01 outer:exit 2b-7718e597466460376e793257197e31ac067732fd-7dffd597dd33295c-01
2021-08-22T22:03:01.284Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:03:01.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-510897eb0b97849052f0c22fa5f6c62132bf4fe4-897bd727ed4e279a-01 outer:exit 2b-510897eb0b97849052f0c22fa5f6c62132bf4fe4-2840f9bb99014e66-01
2021-08-22T22:03:01.287Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:03:01.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb80bf9bb6f192032c2540beee1717fa0b3b32b-01a7cb43c4d28136-01 outer:exit 2b-5bb80bf9bb6f192032c2540beee1717fa0b3b32b-03f6f75c732a6234-01
2021-08-22T22:03:01.289Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:03:01.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aab73fef61cf7700c90493f0d50c87915ec71d5-aa75c47a51f49d59-01 outer:exit 2b-1aab73fef61cf7700c90493f0d50c87915ec71d5-5d81a8cbf32f0f13-01
2021-08-22T22:03:01.296Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:03:01.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-f431c51b17893d699ac4f4e499fbf9d604048f70-507c3b431a5f03dd-01 outer:exit 2b-f431c51b17893d699ac4f4e499fbf9d604048f70-b3264dd4b0cc45dc-01
2021-08-22T22:03:01.301Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:03:01.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3ba71fcc2b8f079ed1f34946cedb6fdd32cee1d-1718250bf21ebd41-01 outer:exit 2b-c3ba71fcc2b8f079ed1f34946cedb6fdd32cee1d-cc4ee43ca8ad9229-01
2021-08-22T22:03:01.311Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:03:01.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e8269164b93e2e152ff78c1296c852d36dbfc39-ef82354a50b37784-01 outer:exit 2b-1e8269164b93e2e152ff78c1296c852d36dbfc39-8b4fc69a33482788-01
2021-08-22T22:03:01.319Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:03:01.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0b7af280acc678241141106ffc937bacb5a7ffd-05846f79505d1923-01 outer:exit 2b-f0b7af280acc678241141106ffc937bacb5a7ffd-29eebda3362d9c51-01
2021-08-22T22:03:01.321Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:03:01.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-7136ba08bcf8f5fc4f0ebd017363aef70f31c3bb-cf034c44b2c0c51f-01 outer:exit 2b-7136ba08bcf8f5fc4f0ebd017363aef70f31c3bb-a2bb061b047c07af-01
2021-08-22T22:03:01.343Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:03:01.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f307b08a5b0e7a5ec9932f7b5d686f026a0c0a6-75dbc9616559c60a-01 outer:exit 2b-1f307b08a5b0e7a5ec9932f7b5d686f026a0c0a6-e0e9d1e9d440ddae-01
2021-08-22T22:03:01.351Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:03:01.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb824617ee6e858e0bc3363d750ae07c89c1e82c-127757e0f792ccb8-01 outer:exit 2b-cb824617ee6e858e0bc3363d750ae07c89c1e82c-5daf77770f57c5c7-01
2021-08-22T22:03:01.354Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:03:01.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbc0fd030c51ee0df934a5d729afb575fc281e01-54e1601b756262ae-01 outer:exit 2b-cbc0fd030c51ee0df934a5d729afb575fc281e01-b45b19dd3a537470-01
2021-08-22T22:03:01.357Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:03:01.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-518a1adc2af9043a2cfff56b9b2b13fc191e173e-982023168d70760e-01 outer:exit 2b-518a1adc2af9043a2cfff56b9b2b13fc191e173e-489b1b4fb5439b43-01
2021-08-22T22:03:01.359Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:03:01.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-91180c278dbc9ce396f64d1a20396f475a010710-540c65c1d0a815a0-01 outer:exit 2b-91180c278dbc9ce396f64d1a20396f475a010710-107ba9f817e2aeeb-01
2021-08-22T22:03:01.361Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:03:01.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-b76a1011ac6374ed065ec06bcdd52ad7894c1840-2faeac35eb0f3b84-01 outer:exit 2b-b76a1011ac6374ed065ec06bcdd52ad7894c1840-81147b3c9aad2b6a-01
2021-08-22T22:03:01.363Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:03:01.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-348dded42721f70ea9dcdf5fc0c6c82c7294864d-72f3f523611f5709-01 outer:exit 2b-348dded42721f70ea9dcdf5fc0c6c82c7294864d-ef97e9ad4a4e4057-01
2021-08-22T22:03:01.374Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:03:01.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca882d5fe9c9b7ca337cc5f2e265cc0163046413-fdc2f5c1cf1e4cc7-01 outer:exit 2b-ca882d5fe9c9b7ca337cc5f2e265cc0163046413-e253b7738f85fe03-01
2021-08-22T22:03:01.384Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:03:01.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-59fdcc8a6b29c5757396f03b9caf00a43d9d5aff-751cfab4723bc7f8-01 outer:exit 2b-59fdcc8a6b29c5757396f03b9caf00a43d9d5aff-efbccc8c640c9aec-01
2021-08-22T22:03:01.387Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:03:01.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ed3e51182c595f38d792a888c0a2f0b2bef769d-46b57858c56dcbbd-01 outer:exit 2b-5ed3e51182c595f38d792a888c0a2f0b2bef769d-ac1fcda602c1e34d-01
2021-08-22T22:03:01.392Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:03:01.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-f81d3fabde7bdda0f320fca0d76c71bcaae63fbc-6c0e3ceb5377e756-01 outer:exit 2b-f81d3fabde7bdda0f320fca0d76c71bcaae63fbc-ed47bf6f9e2f47c2-01
2021-08-22T22:03:01.395Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:03:01.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d74b1ae09974a83c06dffccc1c89527d68df352-e37b5a39ec1a3cab-01 outer:exit 2b-0d74b1ae09974a83c06dffccc1c89527d68df352-60c4a6585b9c3810-01
2021-08-22T22:03:01.424Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (353ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.19
updated 1 package and audited 939 packages in 4.267s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:06.709Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:06.709Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:06.709Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:06.710Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:06.776Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:06.831Z appoptics:patching patched crypto 
2021-08-22T22:03:06.854Z appoptics:patching patched https 
2021-08-22T22:03:06.855Z appoptics:patching patched http 
2021-08-22T22:03:06.895Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:06.895Z appoptics:patching patched fs 
2021-08-22T22:03:06.925Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v14.17.5)
2021-08-22T22:03:06.931Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-08-22T22:03:07.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-b09da7f625cf003d1d8c4fb25d444d11419f256f-174419c3766a71cb-01 outer:exit 2b-b09da7f625cf003d1d8c4fb25d444d11419f256f-68c11ac59864818a-01
2021-08-22T22:03:07.103Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:03:07.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8893dbb8ebd9e1ad8b9a56d15dc2fc0e4f0c98c-fabf19dba9847bc9-01 outer:exit 2b-f8893dbb8ebd9e1ad8b9a56d15dc2fc0e4f0c98c-7fab619ef4132e52-01
2021-08-22T22:03:07.145Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:03:07.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce68e7832226a1b9fb6ed5333f3699ba77a0d7c8-d52628544dce9dfb-01 outer:exit 2b-ce68e7832226a1b9fb6ed5333f3699ba77a0d7c8-6ff3ca2844bcea25-01
2021-08-22T22:03:07.149Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:03:07.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6f3c5d5545194f7810bd0965a162be92548b873-de5395a21b8d5bb9-01 outer:exit 2b-f6f3c5d5545194f7810bd0965a162be92548b873-ac4328d9a71a0315-01
2021-08-22T22:03:07.152Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:03:07.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-03d94329544ae9bb229008770bd4937f363a76e9-fbf193ec10ba420d-01 outer:exit 2b-03d94329544ae9bb229008770bd4937f363a76e9-0a7b4878a5b44b7d-01
2021-08-22T22:03:07.158Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:03:07.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-3780363e292f78a0fed650ffbaec1989f4640773-5255a576c7738ef9-01 outer:exit 2b-3780363e292f78a0fed650ffbaec1989f4640773-a5fa5a381d911d4b-01
2021-08-22T22:03:07.162Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:03:07.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-262dadcc0f8bb3417679bc067d559d0c5965774e-40ec3aa62c222090-01 outer:exit 2b-262dadcc0f8bb3417679bc067d559d0c5965774e-0bc4a7d4e86f4423-01
2021-08-22T22:03:07.164Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:03:07.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-0650ec4dfe6da7c03c63c06d9e39c6c6aa280ec7-d17ea358ebe138a4-01 outer:exit 2b-0650ec4dfe6da7c03c63c06d9e39c6c6aa280ec7-38568b8d37bf0d5f-01
2021-08-22T22:03:07.167Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:03:07.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c8558fdfb016963d1120936279bdb27db979e07-806bb901392fbe0f-01 outer:exit 2b-0c8558fdfb016963d1120936279bdb27db979e07-668ed6e9e1c9294d-01
2021-08-22T22:03:07.170Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:03:07.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa71d14c548b5fa69c02297e12b594104dbdeec2-cf8f6682da061af0-01 outer:exit 2b-fa71d14c548b5fa69c02297e12b594104dbdeec2-d6aeb00884d16117-01
2021-08-22T22:03:07.173Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:03:07.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-a785bf952ef8197938359bcffd351e0a37f2951c-5885b241c6a79e07-01 outer:exit 2b-a785bf952ef8197938359bcffd351e0a37f2951c-3bf57db2639bd424-01
2021-08-22T22:03:07.178Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:03:07.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-1faaec3e8851a6eeeb83fafbba6fcef2a71e34f1-a0f933ba18d6ca6e-01 outer:exit 2b-1faaec3e8851a6eeeb83fafbba6fcef2a71e34f1-2b12afdb768b0e28-01
2021-08-22T22:03:07.184Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:03:07.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0b3c3a626cc7a22d244d2a37db210d82f9aef6-c5706d31f715183a-01 outer:exit 2b-0e0b3c3a626cc7a22d244d2a37db210d82f9aef6-0afb948bbf3c8d33-01
2021-08-22T22:03:07.201Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:03:07.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-837e9f6a880579a8bb93417651f9527f60e481be-1b0c774b510ae8d8-01 outer:exit 2b-837e9f6a880579a8bb93417651f9527f60e481be-c9edf1261353aec2-01
2021-08-22T22:03:07.245Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:03:07.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-8883fca36c374f56afd79d47e9990ac5c223ccb2-c3dabb8d557a0678-01 outer:exit 2b-8883fca36c374f56afd79d47e9990ac5c223ccb2-bcd84db40cc99cdf-01
2021-08-22T22:03:07.248Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:03:07.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-4916553b14a3ee76f2f5fb2fdc1e32f391208e53-22600c2f081335e2-01 outer:exit 2b-4916553b14a3ee76f2f5fb2fdc1e32f391208e53-0fdb71a1593a98fe-01
2021-08-22T22:03:07.251Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:03:07.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea326ae4932e22a17e78f6f303cc200ae1f994c4-7c681f913ddf21a2-01 outer:exit 2b-ea326ae4932e22a17e78f6f303cc200ae1f994c4-2ff57adebc974e0e-01
2021-08-22T22:03:07.253Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:03:07.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5b1de2cbdb7f15d245829a0345196ea551672df-8b4df4da906a009b-01 outer:exit 2b-a5b1de2cbdb7f15d245829a0345196ea551672df-d60fd5d768e5a341-01
2021-08-22T22:03:07.256Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:03:07.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-32842bf197bbd8a961046bf42b0491b414a23e1a-cc956da83bb077e2-01 outer:exit 2b-32842bf197bbd8a961046bf42b0491b414a23e1a-e27020eb3a878e62-01
2021-08-22T22:03:07.258Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:03:07.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3b67a821f6b79c3c896b423b4d4806c4b7d2be7-cab4b288778fa108-01 outer:exit 2b-e3b67a821f6b79c3c896b423b4d4806c4b7d2be7-124c38cb130bdf63-01
2021-08-22T22:03:07.260Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:03:07.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-f24b9b48ff44c9c463dfb35ea020ce1ccc54197c-13d05494e85e671c-01 outer:exit 2b-f24b9b48ff44c9c463dfb35ea020ce1ccc54197c-ba708bc1464fac08-01
2021-08-22T22:03:07.262Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:03:07.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff06f630fc55719c0ac3719f0f7ae286db767222-2a0600617e50a86f-01 outer:exit 2b-ff06f630fc55719c0ac3719f0f7ae286db767222-f32a131a317f5513-01
2021-08-22T22:03:07.264Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:03:07.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-c38002ae92e48e26a3b094eeddfea90c088b95ff-b6a2d23d248ef45a-01 outer:exit 2b-c38002ae92e48e26a3b094eeddfea90c088b95ff-639f9f7c61f99586-01
2021-08-22T22:03:07.267Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:03:07.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-c11e9a8af4f47da063d948644e082ea2595dfb18-2e2619da749b5ebe-01 outer:exit 2b-c11e9a8af4f47da063d948644e082ea2595dfb18-b12d76df7cfc0512-01
2021-08-22T22:03:07.270Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:03:07.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-bda50501b0d382843b1adceefec183b8bd3995d6-65e6859e7e157b9a-01 outer:exit 2b-bda50501b0d382843b1adceefec183b8bd3995d6-a67f5e97f14e4130-01
2021-08-22T22:03:07.273Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:03:07.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-a745bf373f678dc25f1cf78149a4b6a33c82abe5-191aa734a3a2a150-01 outer:exit 2b-a745bf373f678dc25f1cf78149a4b6a33c82abe5-f10fd75cde11dfa0-01
2021-08-22T22:03:07.276Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:03:07.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec0f742bb4a3790096d60ba2499aeffb7fd63471-9fcf713663817161-01 outer:exit 2b-ec0f742bb4a3790096d60ba2499aeffb7fd63471-5c7633d61ffc616f-01
2021-08-22T22:03:07.282Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:03:07.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fc1e4780b04fdd061af50b19b09a391c3b6503b-e849abf2303101d6-01 outer:exit 2b-6fc1e4780b04fdd061af50b19b09a391c3b6503b-227eea90bb024dd7-01
2021-08-22T22:03:07.287Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:03:07.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-156eb270a664a27e9696bb83a97a801373931324-1dd5904817be58b7-01 outer:exit 2b-156eb270a664a27e9696bb83a97a801373931324-db425e77515f0b79-01
2021-08-22T22:03:07.295Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:03:07.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-62f0df72e3891af2e87f32fec44f21f013154262-ad953d84e9cd7ac9-01 outer:exit 2b-62f0df72e3891af2e87f32fec44f21f013154262-79823ce8b646d698-01
2021-08-22T22:03:07.303Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:03:07.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d9a568e0d9026c041112f1c7023c122aebbc8e7-8cedba8c53f5b0f0-01 outer:exit 2b-5d9a568e0d9026c041112f1c7023c122aebbc8e7-2fb7342641210913-01
2021-08-22T22:03:07.306Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:03:07.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-160641f2ff07c2c7593ff725cffc223ebec795ac-ef38a4ac7a8ed69d-01 outer:exit 2b-160641f2ff07c2c7593ff725cffc223ebec795ac-100324206166228a-01
2021-08-22T22:03:07.310Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:03:07.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0bee87dc7d27941bf18829e09fc34b1ce44163-9e6a2118c91d0623-01 outer:exit 2b-8d0bee87dc7d27941bf18829e09fc34b1ce44163-00e8a2b3ca6d90cc-01
2021-08-22T22:03:07.316Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:03:07.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a28d986c03b36ba2ec92035b733ca01de8b2c1-f304adced8ffc33f-01 outer:exit 2b-a3a28d986c03b36ba2ec92035b733ca01de8b2c1-41b62af43434c33e-01
2021-08-22T22:03:07.319Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:03:07.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-a156bab4e64cea387eb74278f148920ce3f46a9e-3ae927a220b82f55-01 outer:exit 2b-a156bab4e64cea387eb74278f148920ce3f46a9e-eece75ca9c19af31-01
2021-08-22T22:03:07.321Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:03:07.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-43a05777c29503e7527fa9fee564c5a58bb41640-88c2e3bfd7dd1b30-01 outer:exit 2b-43a05777c29503e7527fa9fee564c5a58bb41640-c8bcf0b5e77c4237-01
2021-08-22T22:03:07.323Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:03:07.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-af9da9b8563974320b590107136172de8e3d02c1-bad25c62ffb3b3c2-01 outer:exit 2b-af9da9b8563974320b590107136172de8e3d02c1-ff1ec95c4b0039a4-01
2021-08-22T22:03:07.325Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:03:07.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7cdc5b131a8dd1d07bbe068b19ea3ad8d9938d7-3ea1638302f5a697-01 outer:exit 2b-a7cdc5b131a8dd1d07bbe068b19ea3ad8d9938d7-50c976d2fcef2372-01
2021-08-22T22:03:07.334Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:03:07.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6f01920db20a7fb0c858ef749cef5864cb7936c-d95f8345b82cb2f5-01 outer:exit 2b-a6f01920db20a7fb0c858ef749cef5864cb7936c-4894decfe25017df-01
2021-08-22T22:03:07.351Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:03:07.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-84b79ac26bae06d9f2d73b78b24842f1f55eb6e8-dfc849d9677fa726-01 outer:exit 2b-84b79ac26bae06d9f2d73b78b24842f1f55eb6e8-9183be1f340bf965-01
2021-08-22T22:03:07.360Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:03:07.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9199533a29a4f0df75fa5ad591e10b4960b0a50-e23bd0038dd73944-01 outer:exit 2b-d9199533a29a4f0df75fa5ad591e10b4960b0a50-f5ae1dc51403751f-01
2021-08-22T22:03:07.364Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:03:07.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-d50f373a16f1ea94f2f0a2b3a22d1f27e34bf57e-f91b6dd34850f8fa-01 outer:exit 2b-d50f373a16f1ea94f2f0a2b3a22d1f27e34bf57e-21de4085c7e04556-01
2021-08-22T22:03:07.367Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:03:07.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc197c24480e5093d194b878107e347f1f732128-98f32d4c6f197d12-01 outer:exit 2b-fc197c24480e5093d194b878107e347f1f732128-07ac54e170c9496d-01
2021-08-22T22:03:07.370Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:03:07.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-b342310d2b120d393dc255e099366c8f4e63fd4c-625dcae2c739f2a9-01 outer:exit 2b-b342310d2b120d393dc255e099366c8f4e63fd4c-9353f9aeb6e828b0-01
2021-08-22T22:03:07.402Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (341ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.20
updated 1 package and audited 939 packages in 4.089s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:12.548Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:12.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:12.551Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:12.552Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:12.638Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:12.689Z appoptics:patching patched crypto 
2021-08-22T22:03:12.727Z appoptics:patching patched https 
2021-08-22T22:03:12.727Z appoptics:patching patched http 
2021-08-22T22:03:12.766Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:12.766Z appoptics:patching patched fs 
2021-08-22T22:03:12.804Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v14.17.5)
2021-08-22T22:03:12.814Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-08-22T22:03:13.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1fceefcff8a32a0a18a594c78656f7c09ea20bb-ba51a73d781099bb-01 outer:exit 2b-e1fceefcff8a32a0a18a594c78656f7c09ea20bb-f66bccf1de0efbe1-01
2021-08-22T22:03:13.100Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-08-22T22:03:13.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-a40471fcb27133ab62d164661fb2e9e148f76e0f-03f4435e48ff01e9-01 outer:exit 2b-a40471fcb27133ab62d164661fb2e9e148f76e0f-11f706ded3b797aa-01
2021-08-22T22:03:13.156Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-08-22T22:03:13.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c91075904a01e2b96714b8d41d018a7799158de-b2f0d4fcd97bc0a9-01 outer:exit 2b-5c91075904a01e2b96714b8d41d018a7799158de-d94b67de6242b88e-01
2021-08-22T22:03:13.178Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-08-22T22:03:13.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-d32f9318a80f9382ee515cd7e7fbb569dfd0f446-e7a7812b369bf47a-01 outer:exit 2b-d32f9318a80f9382ee515cd7e7fbb569dfd0f446-bd1e0d36e26b3335-01
2021-08-22T22:03:13.183Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-08-22T22:03:13.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-116ed0bd2e39abb339f9d5fb0740cb6900765f55-18f99585031ece01-01 outer:exit 2b-116ed0bd2e39abb339f9d5fb0740cb6900765f55-ae0a13bfc769c950-01
2021-08-22T22:03:13.190Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-08-22T22:03:13.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-a57d0648b00ca5c5db8fe1dc9a1487ad0b46b3d4-9b51ec9f270fa242-01 outer:exit 2b-a57d0648b00ca5c5db8fe1dc9a1487ad0b46b3d4-2120c4282ba17eb4-01
2021-08-22T22:03:13.195Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-08-22T22:03:13.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-d240cc3b10007c772e2a6a4f5b4e92d1f75d3357-b737784dddaaed68-01 outer:exit 2b-d240cc3b10007c772e2a6a4f5b4e92d1f75d3357-759ba71d117cee55-01
2021-08-22T22:03:13.198Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-08-22T22:03:13.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-7177d1fa0e4e3d47ba1bfe6781a82b7d07569ed0-a4097e7bd5167057-01 outer:exit 2b-7177d1fa0e4e3d47ba1bfe6781a82b7d07569ed0-0988c3e7f2304631-01
2021-08-22T22:03:13.201Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-08-22T22:03:13.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a447ac630f924d016bbb33f83b7fcfdc9690b7-6574afaa9b4a1c54-01 outer:exit 2b-f3a447ac630f924d016bbb33f83b7fcfdc9690b7-2e47fa7e7039782d-01
2021-08-22T22:03:13.204Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-08-22T22:03:13.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ee5d492575a315082760186341b725cb3996cf3-ad3b052103b9c46a-01 outer:exit 2b-2ee5d492575a315082760186341b725cb3996cf3-04abe0a71b0eaa91-01
2021-08-22T22:03:13.207Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-08-22T22:03:13.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-73fe9e8c88dbcc0a8754ed3681c7a492f70c7e01-8a1493bdd0a04658-01 outer:exit 2b-73fe9e8c88dbcc0a8754ed3681c7a492f70c7e01-1a4ecedfd9e6afd3-01
2021-08-22T22:03:13.213Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-08-22T22:03:13.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe90aaf99f22ee54dfd710b8342e1b35138fabdb-29763191b27d69a9-01 outer:exit 2b-fe90aaf99f22ee54dfd710b8342e1b35138fabdb-1e689ca3c38a83bf-01
2021-08-22T22:03:13.221Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-08-22T22:03:13.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fd6c45f333f7d397cc75096b1f4d98990e828af-64e3cd1908b5c95f-01 outer:exit 2b-6fd6c45f333f7d397cc75096b1f4d98990e828af-0d735f6403d13f2b-01
2021-08-22T22:03:13.237Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-08-22T22:03:13.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-c22f25a1a8b7ba5c9df04ec07fcaa21e27924e8f-a80d83d5360e8534-01 outer:exit 2b-c22f25a1a8b7ba5c9df04ec07fcaa21e27924e8f-4e0dd1782ae06afd-01
2021-08-22T22:03:13.299Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-08-22T22:03:13.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-993b3a501e8840504bec6b0c45010ab93687376f-4fcd0fb45676eff9-01 outer:exit 2b-993b3a501e8840504bec6b0c45010ab93687376f-b90ac47537be308d-01
2021-08-22T22:03:13.303Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-08-22T22:03:13.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-75a3c6ba4b825ed6322b15a22d56e6ba000e1ccb-6d8e9bca647ed17d-01 outer:exit 2b-75a3c6ba4b825ed6322b15a22d56e6ba000e1ccb-7ef9a98c5f1e84c7-01
2021-08-22T22:03:13.306Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-08-22T22:03:13.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-f21944f1eb94e27b6cece2f6fd70bfd160a18146-6f7c8ef3b73862e2-01 outer:exit 2b-f21944f1eb94e27b6cece2f6fd70bfd160a18146-2d5a8d5be37bcf13-01
2021-08-22T22:03:13.309Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-08-22T22:03:13.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c5694127f89c2f1d0def4ec93038b18f7df28e5-c0a164005dde9c35-01 outer:exit 2b-1c5694127f89c2f1d0def4ec93038b18f7df28e5-69c73175ac14c46b-01
2021-08-22T22:03:13.311Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-08-22T22:03:13.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a1b86dfc994ba5458b5e8e5d22ca610c2d72b42-085e82f943640733-01 outer:exit 2b-0a1b86dfc994ba5458b5e8e5d22ca610c2d72b42-0a989ae8b2b0c068-01
2021-08-22T22:03:13.313Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-08-22T22:03:13.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-faf28636e11409c9643e54cea97a78ab6c196c59-72dd947504edd591-01 outer:exit 2b-faf28636e11409c9643e54cea97a78ab6c196c59-0086cb4811a7055d-01
2021-08-22T22:03:13.316Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-08-22T22:03:13.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-e58395debcc5753b434768d0f8ed37f302383698-9b113d38840a69f9-01 outer:exit 2b-e58395debcc5753b434768d0f8ed37f302383698-d95af8ace83c60f1-01
2021-08-22T22:03:13.318Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-08-22T22:03:13.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-b74a0d6110d2082d7a0dabb96fda85f5ad2274b2-0d21729bb772d128-01 outer:exit 2b-b74a0d6110d2082d7a0dabb96fda85f5ad2274b2-8b76e2c2d55f9f90-01
2021-08-22T22:03:13.321Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-08-22T22:03:13.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e870d6053e481f73f5382224ea2502986e3f805-28d9d20a5aa9cb46-01 outer:exit 2b-1e870d6053e481f73f5382224ea2502986e3f805-50fdd1e247240b5a-01
2021-08-22T22:03:13.324Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-08-22T22:03:13.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-95c46542e9c6a25e7bf296c11377ea91bf3195fc-ba21b8d51ad5af9b-01 outer:exit 2b-95c46542e9c6a25e7bf296c11377ea91bf3195fc-634d976fd1bcf2f9-01
2021-08-22T22:03:13.328Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-08-22T22:03:13.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e0e24b038849ab115fb8524cf6b7d8dba3df1da-448903fc8538e57f-01 outer:exit 2b-1e0e24b038849ab115fb8524cf6b7d8dba3df1da-841798c456bdf11b-01
2021-08-22T22:03:13.330Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-08-22T22:03:13.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-9769bb3b286477bd77576db2b783bfa99c13e46c-226400160f51438a-01 outer:exit 2b-9769bb3b286477bd77576db2b783bfa99c13e46c-6529f86d24162d32-01
2021-08-22T22:03:13.333Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-08-22T22:03:13.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-188dc7294afa6aeb8e0ea98879ca7b8754fceee9-6f81787534d401dd-01 outer:exit 2b-188dc7294afa6aeb8e0ea98879ca7b8754fceee9-dfa4ae1c4ef0b248-01
2021-08-22T22:03:13.340Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-08-22T22:03:13.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5e6d20a0219c36cecc1a3aab2b17c053a359553-27ba9b341c3ad91b-01 outer:exit 2b-b5e6d20a0219c36cecc1a3aab2b17c053a359553-2a1677069858309e-01
2021-08-22T22:03:13.345Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-08-22T22:03:13.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-1029e1cd6bdddb3e163f4dc08e05127fcea12372-f2bf376f555b71f1-01 outer:exit 2b-1029e1cd6bdddb3e163f4dc08e05127fcea12372-388ef4836e87befd-01
2021-08-22T22:03:13.354Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-08-22T22:03:13.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f2bd92dffeb480e0683529ae7d9bac5cf7a1868-393553b2520b0cfb-01 outer:exit 2b-5f2bd92dffeb480e0683529ae7d9bac5cf7a1868-c57bbec477af7b37-01
2021-08-22T22:03:13.361Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-08-22T22:03:13.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-680c7657269ae2413b1d90c936154db87af4835d-563c50516fa60cf5-01 outer:exit 2b-680c7657269ae2413b1d90c936154db87af4835d-b0425592ab758aa1-01
2021-08-22T22:03:13.363Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-08-22T22:03:13.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9142ab4f700291d4aca4c3506c97b33f5ab3c1d-51169842b7fd9da0-01 outer:exit 2b-d9142ab4f700291d4aca4c3506c97b33f5ab3c1d-f8e6d6304f59d1de-01
2021-08-22T22:03:13.366Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-08-22T22:03:13.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-894749d6c033d09f4226d6a4c055a1677f036ca3-fe2fee5120141c69-01 outer:exit 2b-894749d6c033d09f4226d6a4c055a1677f036ca3-1133a83e83ce5003-01
2021-08-22T22:03:13.374Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-08-22T22:03:13.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-272d0c3783f82e27ec1a5cd63e2047c49abcf46d-3ac98f3b3ca612a0-01 outer:exit 2b-272d0c3783f82e27ec1a5cd63e2047c49abcf46d-5babc881981b08ac-01
2021-08-22T22:03:13.376Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-08-22T22:03:13.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-461c74e0ce3374d18ff9b706ef97c667686eba24-ebc131ddf0dea565-01 outer:exit 2b-461c74e0ce3374d18ff9b706ef97c667686eba24-9748511505a19a6d-01
2021-08-22T22:03:13.378Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-08-22T22:03:13.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-07cb03ec062a90f7dd71395699c56d1ac78c5cf3-d609d3437324bd0c-01 outer:exit 2b-07cb03ec062a90f7dd71395699c56d1ac78c5cf3-110b526ff3deab30-01
2021-08-22T22:03:13.382Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-08-22T22:03:13.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4a91f90a66b82460c1919abad4bd2244264ba74-0c171142e594a944-01 outer:exit 2b-c4a91f90a66b82460c1919abad4bd2244264ba74-b7557ef9ffaaaa1c-01
2021-08-22T22:03:13.388Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-08-22T22:03:13.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-86bd20cc86f60a829700cb3a414dc2c8cceda037-69ccb22a32a59c97-01 outer:exit 2b-86bd20cc86f60a829700cb3a414dc2c8cceda037-59a412911a2fc48e-01
2021-08-22T22:03:13.392Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-08-22T22:03:13.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-67605d4053fe55f6080e7c3405b317e5a9cbae20-6a3dfc781eb40c8a-01 outer:exit 2b-67605d4053fe55f6080e7c3405b317e5a9cbae20-0d543483f9b68d4d-01
2021-08-22T22:03:13.408Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-08-22T22:03:13.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ef6607db284ed4d7414c25650430adddb8cb4b3-4fc8ce9160eebd6f-01 outer:exit 2b-2ef6607db284ed4d7414c25650430adddb8cb4b3-6b469c25f268395b-01
2021-08-22T22:03:13.418Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-08-22T22:03:13.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe73632e29471c0659b8843ac25eb481ce36ffc7-e414071248ff5c05-01 outer:exit 2b-fe73632e29471c0659b8843ac25eb481ce36ffc7-4105c1bb0100f5a3-01
2021-08-22T22:03:13.421Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-08-22T22:03:13.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d4896eb87eaead09981730d28e3647103801895-65deb364f8512816-01 outer:exit 2b-2d4896eb87eaead09981730d28e3647103801895-5c4aa0d1c7ed4c88-01
2021-08-22T22:03:13.424Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-08-22T22:03:13.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a7836b7dde319433ac8fbdee22cebcf705cf181-57f1c95f3ce54089-01 outer:exit 2b-0a7836b7dde319433ac8fbdee22cebcf705cf181-93af9b69096a6761-01
2021-08-22T22:03:13.428Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-08-22T22:03:13.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-30f3a1763109652ddecaba45c74382ccecb6c688-f1e1419b8f27975f-01 outer:exit 2b-30f3a1763109652ddecaba45c74382ccecb6c688-a0bbe0ee4c4a30a7-01
2021-08-22T22:03:13.455Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (452ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:238:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:270:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:303:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:341:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:378:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:406:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:437:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:470:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:501:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:530:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:571:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:598:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:625:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:661:19
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:682:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:222:24)
      at entry (test/probes/mongodb-core.test.js:720:17)
      at EventEmitter.onMessage (test/helper.js:171:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.0
updated 1 package and audited 939 packages in 5.109s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:19.561Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:19.562Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:19.562Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:19.563Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:19.626Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:19.677Z appoptics:patching patched crypto 
2021-08-22T22:03:19.707Z appoptics:patching patched https 
2021-08-22T22:03:19.708Z appoptics:patching patched http 
2021-08-22T22:03:19.742Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:19.743Z appoptics:patching patched fs 
2021-08-22T22:03:19.754Z appoptics:patching patched zlib 
2021-08-22T22:03:19.776Z appoptics:patching patched mongodb-core 3.0.0
2021-08-22T22:03:19.782Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (78ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (568ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.1
updated 1 package and audited 939 packages in 4.582s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:26.195Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:26.195Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:26.195Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:26.196Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:26.272Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:26.317Z appoptics:patching patched crypto 
2021-08-22T22:03:26.338Z appoptics:patching patched https 
2021-08-22T22:03:26.339Z appoptics:patching patched http 
2021-08-22T22:03:26.374Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:26.374Z appoptics:patching patched fs 
2021-08-22T22:03:26.384Z appoptics:patching patched zlib 
2021-08-22T22:03:26.405Z appoptics:patching patched mongodb-core 3.0.1
2021-08-22T22:03:26.410Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (63ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (388ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.2
updated 1 package and audited 939 packages in 4.252s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:32.139Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:32.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:32.139Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:32.140Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:32.206Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:32.252Z appoptics:patching patched crypto 
2021-08-22T22:03:32.274Z appoptics:patching patched https 
2021-08-22T22:03:32.274Z appoptics:patching patched http 
2021-08-22T22:03:32.313Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:32.314Z appoptics:patching patched fs 
2021-08-22T22:03:32.326Z appoptics:patching patched zlib 
2021-08-22T22:03:32.353Z appoptics:patching patched mongodb-core 3.0.2
2021-08-22T22:03:32.359Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (465ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.3
updated 1 package and audited 939 packages in 5.77s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:39.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:39.649Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:39.649Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:39.649Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:39.710Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:39.754Z appoptics:patching patched crypto 
2021-08-22T22:03:39.777Z appoptics:patching patched https 
2021-08-22T22:03:39.777Z appoptics:patching patched http 
2021-08-22T22:03:39.811Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:39.812Z appoptics:patching patched fs 
2021-08-22T22:03:39.821Z appoptics:patching patched zlib 
2021-08-22T22:03:39.843Z appoptics:patching patched mongodb-core 3.0.3
2021-08-22T22:03:39.849Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (72ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (329ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.4
updated 1 package and audited 939 packages in 4.394s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:45.699Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:45.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:45.700Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:45.700Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:45.766Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:45.817Z appoptics:patching patched crypto 
2021-08-22T22:03:45.841Z appoptics:patching patched https 
2021-08-22T22:03:45.841Z appoptics:patching patched http 
2021-08-22T22:03:45.882Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:45.882Z appoptics:patching patched fs 
2021-08-22T22:03:45.893Z appoptics:patching patched zlib 
2021-08-22T22:03:45.920Z appoptics:patching patched mongodb-core 3.0.4
2021-08-22T22:03:45.927Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (374ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.5
updated 1 package and audited 939 packages in 5.243s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:52.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:52.624Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:52.624Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:52.624Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:52.685Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:52.729Z appoptics:patching patched crypto 
2021-08-22T22:03:52.750Z appoptics:patching patched https 
2021-08-22T22:03:52.750Z appoptics:patching patched http 
2021-08-22T22:03:52.785Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:52.785Z appoptics:patching patched fs 
2021-08-22T22:03:52.795Z appoptics:patching patched zlib 
2021-08-22T22:03:52.819Z appoptics:patching patched mongodb-core 3.0.5
2021-08-22T22:03:52.825Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (349ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.6
updated 1 package and audited 939 packages in 4.097s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:03:58.376Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:03:58.377Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:03:58.377Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:03:58.378Z appoptics:debug using context provider: ace-context
2021-08-22T22:03:58.461Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:03:58.517Z appoptics:patching patched crypto 
2021-08-22T22:03:58.559Z appoptics:patching patched https 
2021-08-22T22:03:58.559Z appoptics:patching patched http 
2021-08-22T22:03:58.592Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:03:58.593Z appoptics:patching patched fs 
2021-08-22T22:03:58.604Z appoptics:patching patched zlib 
2021-08-22T22:03:58.631Z appoptics:patching patched mongodb-core 3.0.6
2021-08-22T22:03:58.637Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (76ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (605ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.7
updated 1 package and audited 939 packages in 5.638s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:06.034Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:06.035Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:06.035Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:06.036Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:06.112Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:06.172Z appoptics:patching patched crypto 
2021-08-22T22:04:06.196Z appoptics:patching patched https 
2021-08-22T22:04:06.196Z appoptics:patching patched http 
2021-08-22T22:04:06.234Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:06.235Z appoptics:patching patched fs 
2021-08-22T22:04:06.245Z appoptics:patching patched zlib 
2021-08-22T22:04:06.270Z appoptics:patching patched mongodb-core 3.0.7
2021-08-22T22:04:06.276Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (283ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.8
updated 1 package and audited 939 packages in 4.317s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:11.975Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:11.975Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:11.975Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:11.976Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:12.040Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:12.087Z appoptics:patching patched crypto 
2021-08-22T22:04:12.107Z appoptics:patching patched https 
2021-08-22T22:04:12.108Z appoptics:patching patched http 
2021-08-22T22:04:12.142Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:12.142Z appoptics:patching patched fs 
2021-08-22T22:04:12.153Z appoptics:patching patched zlib 
2021-08-22T22:04:12.178Z appoptics:patching patched mongodb-core 3.0.8
2021-08-22T22:04:12.183Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (70ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (593ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.9
updated 1 package and audited 939 packages in 4.35s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:18.404Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:18.405Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:18.405Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:18.405Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:18.468Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:18.515Z appoptics:patching patched crypto 
2021-08-22T22:04:18.536Z appoptics:patching patched https 
2021-08-22T22:04:18.537Z appoptics:patching patched http 
2021-08-22T22:04:18.575Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:18.576Z appoptics:patching patched fs 
2021-08-22T22:04:18.586Z appoptics:patching patched zlib 
2021-08-22T22:04:18.610Z appoptics:patching patched mongodb-core 3.0.9
2021-08-22T22:04:18.616Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (466ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.11
updated 1 package and audited 939 packages in 4.481s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:24.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:24.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:24.744Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:24.745Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:24.847Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:24.900Z appoptics:patching patched crypto 
2021-08-22T22:04:24.935Z appoptics:patching patched https 
2021-08-22T22:04:24.935Z appoptics:patching patched http 
2021-08-22T22:04:24.976Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:24.976Z appoptics:patching patched fs 
2021-08-22T22:04:24.987Z appoptics:patching patched zlib 
2021-08-22T22:04:25.014Z appoptics:patching patched mongodb-core 3.0.11
2021-08-22T22:04:25.020Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert (40ms)
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (44ms)


  33 passing (394ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.0
updated 1 package and audited 939 packages in 4.306s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:31.190Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:31.191Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:31.191Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:31.191Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:31.265Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:31.319Z appoptics:patching patched crypto 
2021-08-22T22:04:31.357Z appoptics:patching patched https 
2021-08-22T22:04:31.357Z appoptics:patching patched http 
2021-08-22T22:04:31.391Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:31.391Z appoptics:patching patched fs 
2021-08-22T22:04:31.402Z appoptics:patching patched zlib 
2021-08-22T22:04:31.432Z appoptics:patching patched mongodb-core 3.1.0
2021-08-22T22:04:31.438Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (82ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (534ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.1
updated 1 package and audited 939 packages in 4.572s

32 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (6 low, 6 moderate, 16 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:37.715Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:37.716Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:37.716Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:37.716Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:37.811Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:37.878Z appoptics:patching patched crypto 
2021-08-22T22:04:37.915Z appoptics:patching patched https 
2021-08-22T22:04:37.915Z appoptics:patching patched http 
2021-08-22T22:04:37.949Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:37.949Z appoptics:patching patched fs 
2021-08-22T22:04:37.961Z appoptics:patching patched zlib 
2021-08-22T22:04:37.990Z appoptics:patching patched mongodb-core 3.1.1
2021-08-22T22:04:37.995Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (493ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.2
updated 2 packages and audited 939 packages in 4.267s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:43.953Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:43.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:43.954Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:43.955Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:44.024Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:44.073Z appoptics:patching patched crypto 
2021-08-22T22:04:44.095Z appoptics:patching patched https 
2021-08-22T22:04:44.095Z appoptics:patching patched http 
2021-08-22T22:04:44.132Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:44.133Z appoptics:patching patched fs 
2021-08-22T22:04:44.144Z appoptics:patching patched zlib 
2021-08-22T22:04:44.174Z appoptics:patching patched mongodb-core 3.1.2
2021-08-22T22:04:44.181Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (287ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.3
updated 1 package and audited 939 packages in 4.168s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:49.859Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:49.860Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:49.860Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:49.860Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:49.932Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:49.990Z appoptics:patching patched crypto 
2021-08-22T22:04:50.029Z appoptics:patching patched https 
2021-08-22T22:04:50.029Z appoptics:patching patched http 
2021-08-22T22:04:50.066Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:50.066Z appoptics:patching patched fs 
2021-08-22T22:04:50.077Z appoptics:patching patched zlib 
2021-08-22T22:04:50.106Z appoptics:patching patched mongodb-core 3.1.3
2021-08-22T22:04:50.111Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (67ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (518ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.4
updated 1 package and audited 939 packages in 4.759s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:04:56.530Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:04:56.531Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:04:56.531Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:04:56.532Z appoptics:debug using context provider: ace-context
2021-08-22T22:04:56.601Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:04:56.649Z appoptics:patching patched crypto 
2021-08-22T22:04:56.669Z appoptics:patching patched https 
2021-08-22T22:04:56.670Z appoptics:patching patched http 
2021-08-22T22:04:56.704Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:04:56.705Z appoptics:patching patched fs 
2021-08-22T22:04:56.716Z appoptics:patching patched zlib 
2021-08-22T22:04:56.744Z appoptics:patching patched mongodb-core 3.1.4
2021-08-22T22:04:56.752Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (766ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.5
updated 1 package and audited 939 packages in 4.434s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:03.162Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:03.163Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:03.164Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:03.164Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:03.235Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:03.301Z appoptics:patching patched crypto 
2021-08-22T22:05:03.324Z appoptics:patching patched https 
2021-08-22T22:05:03.324Z appoptics:patching patched http 
2021-08-22T22:05:03.367Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:03.367Z appoptics:patching patched fs 
2021-08-22T22:05:03.380Z appoptics:patching patched zlib 
2021-08-22T22:05:03.411Z appoptics:patching patched mongodb-core 3.1.5
2021-08-22T22:05:03.417Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (74ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (505ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.6
updated 1 package and audited 939 packages in 4.857s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:09.923Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:09.924Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:09.924Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:09.924Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:09.988Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:10.034Z appoptics:patching patched crypto 
2021-08-22T22:05:10.055Z appoptics:patching patched https 
2021-08-22T22:05:10.055Z appoptics:patching patched http 
2021-08-22T22:05:10.088Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:10.088Z appoptics:patching patched fs 
2021-08-22T22:05:10.099Z appoptics:patching patched zlib 
2021-08-22T22:05:10.125Z appoptics:patching patched mongodb-core 3.1.6
2021-08-22T22:05:10.131Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (448ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.7
updated 1 package and audited 939 packages in 4.708s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:16.371Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:16.372Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:16.372Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:16.373Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:16.431Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:16.482Z appoptics:patching patched crypto 
2021-08-22T22:05:16.506Z appoptics:patching patched https 
2021-08-22T22:05:16.506Z appoptics:patching patched http 
2021-08-22T22:05:16.539Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:16.540Z appoptics:patching patched fs 
2021-08-22T22:05:16.551Z appoptics:patching patched zlib 
2021-08-22T22:05:16.579Z appoptics:patching patched mongodb-core 3.1.7
2021-08-22T22:05:16.585Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (367ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.8
updated 1 package and audited 939 packages in 3.979s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:22.035Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:22.036Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:22.036Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:22.037Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:22.104Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:22.151Z appoptics:patching patched crypto 
2021-08-22T22:05:22.172Z appoptics:patching patched https 
2021-08-22T22:05:22.172Z appoptics:patching patched http 
2021-08-22T22:05:22.206Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:22.207Z appoptics:patching patched fs 
2021-08-22T22:05:22.217Z appoptics:patching patched zlib 
2021-08-22T22:05:22.243Z appoptics:patching patched mongodb-core 3.1.8
2021-08-22T22:05:22.249Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (391ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.9
updated 1 package and audited 939 packages in 4.542s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:28.339Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:28.340Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:28.340Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:28.341Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:28.403Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:28.451Z appoptics:patching patched crypto 
2021-08-22T22:05:28.472Z appoptics:patching patched https 
2021-08-22T22:05:28.473Z appoptics:patching patched http 
2021-08-22T22:05:28.506Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:28.507Z appoptics:patching patched fs 
2021-08-22T22:05:28.517Z appoptics:patching patched zlib 
2021-08-22T22:05:28.549Z appoptics:patching patched mongodb-core 3.1.9
2021-08-22T22:05:28.555Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (491ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.10
updated 1 package and audited 939 packages in 4.143s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:34.249Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:34.249Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:34.249Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:34.250Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:34.309Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:34.354Z appoptics:patching patched crypto 
2021-08-22T22:05:34.374Z appoptics:patching patched https 
2021-08-22T22:05:34.374Z appoptics:patching patched http 
2021-08-22T22:05:34.406Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:34.407Z appoptics:patching patched fs 
2021-08-22T22:05:34.418Z appoptics:patching patched zlib 
2021-08-22T22:05:34.445Z appoptics:patching patched mongodb-core 3.1.10
2021-08-22T22:05:34.450Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (268ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.11
updated 1 package and audited 939 packages in 4.914s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:40.724Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:40.725Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:40.725Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:40.725Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:40.790Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:40.839Z appoptics:patching patched crypto 
2021-08-22T22:05:40.860Z appoptics:patching patched https 
2021-08-22T22:05:40.860Z appoptics:patching patched http 
2021-08-22T22:05:40.896Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:40.896Z appoptics:patching patched fs 
2021-08-22T22:05:40.907Z appoptics:patching patched zlib 
2021-08-22T22:05:40.935Z appoptics:patching patched mongodb-core 3.1.11
2021-08-22T22:05:40.941Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (287ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.0
updated 1 package and audited 939 packages in 3.978s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:46.262Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:46.263Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:46.263Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:46.264Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:46.324Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:46.368Z appoptics:patching patched crypto 
2021-08-22T22:05:46.389Z appoptics:patching patched https 
2021-08-22T22:05:46.389Z appoptics:patching patched http 
2021-08-22T22:05:46.424Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:46.424Z appoptics:patching patched fs 
2021-08-22T22:05:46.436Z appoptics:patching patched zlib 
2021-08-22T22:05:46.467Z appoptics:patching patched mongodb-core 3.2.0
2021-08-22T22:05:46.475Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (377ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.1
updated 1 package and audited 939 packages in 4.162s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:52.360Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:52.361Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:52.361Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:52.362Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:52.420Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:52.464Z appoptics:patching patched crypto 
2021-08-22T22:05:52.484Z appoptics:patching patched https 
2021-08-22T22:05:52.485Z appoptics:patching patched http 
2021-08-22T22:05:52.518Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:52.519Z appoptics:patching patched fs 
2021-08-22T22:05:52.530Z appoptics:patching patched zlib 
2021-08-22T22:05:52.566Z appoptics:patching patched mongodb-core 3.2.1
2021-08-22T22:05:52.571Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (503ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.2
updated 1 package and audited 939 packages in 4.294s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:05:58.526Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:05:58.526Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:05:58.526Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:05:58.527Z appoptics:debug using context provider: ace-context
2021-08-22T22:05:58.594Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:05:58.642Z appoptics:patching patched crypto 
2021-08-22T22:05:58.663Z appoptics:patching patched https 
2021-08-22T22:05:58.664Z appoptics:patching patched http 
2021-08-22T22:05:58.704Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:05:58.704Z appoptics:patching patched fs 
2021-08-22T22:05:58.716Z appoptics:patching patched zlib 
2021-08-22T22:05:58.751Z appoptics:patching patched mongodb-core 3.2.2
2021-08-22T22:05:58.759Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (376ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.3
updated 1 package and audited 939 packages in 4.963s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:06:05.183Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:06:05.184Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:06:05.184Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:06:05.184Z appoptics:debug using context provider: ace-context
2021-08-22T22:06:05.247Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:06:05.292Z appoptics:patching patched crypto 
2021-08-22T22:06:05.313Z appoptics:patching patched https 
2021-08-22T22:06:05.313Z appoptics:patching patched http 
2021-08-22T22:06:05.347Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:06:05.347Z appoptics:patching patched fs 
2021-08-22T22:06:05.359Z appoptics:patching patched zlib 
2021-08-22T22:06:05.391Z appoptics:patching patched mongodb-core 3.2.3
2021-08-22T22:06:05.397Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (460ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.4
updated 1 package and audited 939 packages in 4.3s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:06:11.292Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:06:11.293Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:06:11.293Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:06:11.293Z appoptics:debug using context provider: ace-context
2021-08-22T22:06:11.354Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:06:11.400Z appoptics:patching patched crypto 
2021-08-22T22:06:11.422Z appoptics:patching patched https 
2021-08-22T22:06:11.423Z appoptics:patching patched http 
2021-08-22T22:06:11.457Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:06:11.458Z appoptics:patching patched fs 
2021-08-22T22:06:11.471Z appoptics:patching patched zlib 
2021-08-22T22:06:11.504Z appoptics:patching patched mongodb-core 3.2.4
2021-08-22T22:06:11.511Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (353ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.5
updated 1 package and audited 939 packages in 4.385s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:06:17.336Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:06:17.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:06:17.337Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:06:17.338Z appoptics:debug using context provider: ace-context
2021-08-22T22:06:17.401Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:06:17.447Z appoptics:patching patched crypto 
2021-08-22T22:06:17.468Z appoptics:patching patched https 
2021-08-22T22:06:17.468Z appoptics:patching patched http 
2021-08-22T22:06:17.503Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:06:17.503Z appoptics:patching patched fs 
2021-08-22T22:06:17.515Z appoptics:patching patched zlib 
2021-08-22T22:06:17.550Z appoptics:patching patched mongodb-core 3.2.5
2021-08-22T22:06:17.557Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (411ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.6
updated 1 package and audited 939 packages in 4.382s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:06:23.436Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:06:23.437Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:06:23.437Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:06:23.437Z appoptics:debug using context provider: ace-context
2021-08-22T22:06:23.498Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:06:23.542Z appoptics:patching patched crypto 
2021-08-22T22:06:23.563Z appoptics:patching patched https 
2021-08-22T22:06:23.563Z appoptics:patching patched http 
2021-08-22T22:06:23.599Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:06:23.599Z appoptics:patching patched fs 
2021-08-22T22:06:23.612Z appoptics:patching patched zlib 
2021-08-22T22:06:23.646Z appoptics:patching patched mongodb-core 3.2.6
2021-08-22T22:06:23.652Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (354ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 939 packages in 4.501s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-08-22T22:06:29.578Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-08-22T22:06:29.579Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-08-22T22:06:29.579Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-08-22T22:06:29.580Z appoptics:debug using context provider: ace-context
2021-08-22T22:06:29.639Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-08-22T22:06:29.682Z appoptics:patching patched crypto 
2021-08-22T22:06:29.703Z appoptics:patching patched https 
2021-08-22T22:06:29.703Z appoptics:patching patched http 
2021-08-22T22:06:29.740Z appoptics:patching fs.realpath - adding native method
2021-08-22T22:06:29.740Z appoptics:patching patched fs 
2021-08-22T22:06:29.753Z appoptics:patching patched zlib 
2021-08-22T22:06:29.789Z appoptics:patching patched mongodb-core 3.2.7
2021-08-22T22:06:29.795Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (57ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (44ms)


  33 passing (510ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 939 packages in 3.896s

32 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (6 low, 6 moderate, 15 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
