npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:16.456Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:16.456Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:16.456Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:16.457Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:16.524Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:16.569Z appoptics:patching patched crypto 
2021-09-18T00:50:16.596Z appoptics:patching patched https 
2021-09-18T00:50:16.596Z appoptics:patching patched http 
2021-09-18T00:50:16.652Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:16.653Z appoptics:patching patched fs 
2021-09-18T00:50:16.669Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v16.9.1)
2021-09-18T00:50:16.675Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-09-18T00:50:16.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-e066d6c826faa2f2597a5ba75bcb2ccde24f7ca9-292181be257b0818-01 outer:exit 2b-e066d6c826faa2f2597a5ba75bcb2ccde24f7ca9-9259799059c74020-01
2021-09-18T00:50:16.846Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:16.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-c682b91aa4c9b5d5588cacadbc3afee47e72d0fd-97f7af022811e014-01 outer:exit 2b-c682b91aa4c9b5d5588cacadbc3afee47e72d0fd-f9bc2600e76c7e55-01
2021-09-18T00:50:16.933Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:16.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53be575d50b504938e0ad821d739e1558de29a6-da3f07cc8279418a-01 outer:exit 2b-c53be575d50b504938e0ad821d739e1558de29a6-8def14270288fd22-01
2021-09-18T00:50:16.939Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:16.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-220e8356655165215d5796229df378d93fbb2538-af15e6c22c15679d-01 outer:exit 2b-220e8356655165215d5796229df378d93fbb2538-ae6f421cebe9a559-01
2021-09-18T00:50:16.942Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:16.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-91322567e5959919b00f331fc720edfbccd2609b-e91e2eaaca5d2a0b-01 outer:exit 2b-91322567e5959919b00f331fc720edfbccd2609b-7aae7b8fd7bcaee2-01
2021-09-18T00:50:16.947Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:16.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f53e90b34553a88f415b238cc01e2906fe20d5a-7cf7870db3330135-01 outer:exit 2b-1f53e90b34553a88f415b238cc01e2906fe20d5a-ac8e48336afb0d26-01
2021-09-18T00:50:16.952Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:16.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c59eb68ab29951346a6dfa78f5a4b627b1f9425-7c527d6d6d9cb247-01 outer:exit 2b-5c59eb68ab29951346a6dfa78f5a4b627b1f9425-2d851c0e1c103e7a-01
2021-09-18T00:50:16.955Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:16.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa8cc317e34a1faecf765a9ae310b1d64ad35c9c-a52ef61fbcb2d94c-01 outer:exit 2b-fa8cc317e34a1faecf765a9ae310b1d64ad35c9c-c9c4afe56fd8542c-01
2021-09-18T00:50:16.958Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:16.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a2a676103ccafedb037bee0b35d64beea790719-f0c3c2ba07890035-01 outer:exit 2b-5a2a676103ccafedb037bee0b35d64beea790719-671346ca98e014f3-01
2021-09-18T00:50:16.960Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:16.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-7439f5bc21f1cb49d53f9402e6f1cc04a055aa04-b5e61abef01fc1a0-01 outer:exit 2b-7439f5bc21f1cb49d53f9402e6f1cc04a055aa04-706b7aa68961ca57-01
2021-09-18T00:50:16.962Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:16.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-d45166e46d6f6adb24b516d006ec7d5829377ecc-b7d2a45f05103148-01 outer:exit 2b-d45166e46d6f6adb24b516d006ec7d5829377ecc-3ea0875b419a4a73-01
2021-09-18T00:50:16.966Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:17.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-d967aed7d429c68ac21306ab97fff33b95a03d6a-c63886f00c7b7163-01 outer:exit 2b-d967aed7d429c68ac21306ab97fff33b95a03d6a-46b68225dd4da153-01
2021-09-18T00:50:17.001Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:17.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cc89c64ce427548087ed910792cab8762b7f34f-60140eac394532d6-01 outer:exit 2b-7cc89c64ce427548087ed910792cab8762b7f34f-8d8ff0b7458e6100-01
2021-09-18T00:50:17.019Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:17.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ab49f41bcd59673fa140b07e6438d6437bd5fac-83a37bf1486a3131-01 outer:exit 2b-6ab49f41bcd59673fa140b07e6438d6437bd5fac-f82e58761fcc468e-01
2021-09-18T00:50:17.092Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:17.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a1fb455ac3813773ef586f625cb5c598d926674-b1738bf2b36585ba-01 outer:exit 2b-8a1fb455ac3813773ef586f625cb5c598d926674-a0e3ccb64bd98801-01
2021-09-18T00:50:17.098Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:17.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a830504e1a931534a7d8819e98ccf2575ad7254-d83e1d8851945a00-01 outer:exit 2b-3a830504e1a931534a7d8819e98ccf2575ad7254-98185196eb51c98c-01
2021-09-18T00:50:17.101Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:17.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-16aab5c279e1c9934aed08d2bce5c3db27f0b377-84c5bd4baeedec32-01 outer:exit 2b-16aab5c279e1c9934aed08d2bce5c3db27f0b377-e14abba6fcbf3f42-01
2021-09-18T00:50:17.123Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:17.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ad51246efe22ef44d1d769c0ce4655f647c8863-62c1b02a65281664-01 outer:exit 2b-3ad51246efe22ef44d1d769c0ce4655f647c8863-93d21f9aaf0fec80-01
2021-09-18T00:50:17.126Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:17.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d77c2c9bf833dda2ce6c9c92eea9ad4c3cabda2-8968f1f063b2913a-01 outer:exit 2b-7d77c2c9bf833dda2ce6c9c92eea9ad4c3cabda2-4c1809220c8d511b-01
2021-09-18T00:50:17.130Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:17.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-0304563c1388d46fa831b62912566b89eb7c96d2-52e90719cfc6771a-01 outer:exit 2b-0304563c1388d46fa831b62912566b89eb7c96d2-34ade52a587ecf20-01
2021-09-18T00:50:17.132Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:17.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-75f295f08e5ae10a24e410f5cacf1fa808097ee3-25896037e66ec96a-01 outer:exit 2b-75f295f08e5ae10a24e410f5cacf1fa808097ee3-48f633bcde88ff1d-01
2021-09-18T00:50:17.134Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:17.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-161e90d1ecf50be5be9a32332b35e82a403e3b32-cdf9a70d02e70d02-01 outer:exit 2b-161e90d1ecf50be5be9a32332b35e82a403e3b32-1051f863fd31e007-01
2021-09-18T00:50:17.136Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:17.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f092f049cae3799263e4d0f1d98ef3ad5ad665f-6d283e3f97f7793f-01 outer:exit 2b-4f092f049cae3799263e4d0f1d98ef3ad5ad665f-16efcd613cb01f45-01
2021-09-18T00:50:17.139Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:17.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed06133222f48b0bd993e7a58db35c6d6f12c9f5-90223c0108348089-01 outer:exit 2b-ed06133222f48b0bd993e7a58db35c6d6f12c9f5-3d99e40022890b7d-01
2021-09-18T00:50:17.142Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:17.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-a623f90fabf1d655398f1e883c172c821f2fa177-44c98997856a5327-01 outer:exit 2b-a623f90fabf1d655398f1e883c172c821f2fa177-0005fb959e482041-01
2021-09-18T00:50:17.144Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:17.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-379e1043e460d8678b74ebe6b15b79d9ccd27411-3a78432b492500d9-01 outer:exit 2b-379e1043e460d8678b74ebe6b15b79d9ccd27411-b51c01f0ed551291-01
2021-09-18T00:50:17.147Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:17.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-f60ef5f3e4f11fd3954f2594d5391579d65e69d9-52faa1866c234207-01 outer:exit 2b-f60ef5f3e4f11fd3954f2594d5391579d65e69d9-461e873278426294-01
2021-09-18T00:50:17.182Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:17.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc6365d28bbb78689fc54e4483edb20055e4876c-d4bc8c7cd9e1ec4d-01 outer:exit 2b-fc6365d28bbb78689fc54e4483edb20055e4876c-e463cb6d3c0be428-01
2021-09-18T00:50:17.203Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:17.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa3d3e003f11609d4ec39138c23b5261f0138d70-fa51f5f37870a7f5-01 outer:exit 2b-fa3d3e003f11609d4ec39138c23b5261f0138d70-a2e06b2e3625e1d9-01
2021-09-18T00:50:17.212Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:17.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-959102dbfdc9f5e611eb40a5cd73bb9e2d0f74ed-99d4f2a57541af22-01 outer:exit 2b-959102dbfdc9f5e611eb40a5cd73bb9e2d0f74ed-8e117436a5035f95-01
2021-09-18T00:50:17.231Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:17.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-df394175fb9c13e110c36430f46b99db714e58b4-829d2dcf23ecc3ae-01 outer:exit 2b-df394175fb9c13e110c36430f46b99db714e58b4-135154d7505e8f1b-01
2021-09-18T00:50:17.235Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:17.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-a25f65a7badab167d0abdc9aed6dab73aea65642-3172c34b29cad6e3-01 outer:exit 2b-a25f65a7badab167d0abdc9aed6dab73aea65642-b816233ac8edf3e0-01
2021-09-18T00:50:17.238Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:17.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-e30e819fdc5d66ad2f96319858bc932dfec6e5ed-4d996dfcdfb3c3d0-01 outer:exit 2b-e30e819fdc5d66ad2f96319858bc932dfec6e5ed-decc50a4272456c9-01
2021-09-18T00:50:17.246Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:17.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-e30bab640058740fa837bee073b5811dcd3c289c-d34b2b04bfa65545-01 outer:exit 2b-e30bab640058740fa837bee073b5811dcd3c289c-e472f51bb6517fcc-01
2021-09-18T00:50:17.253Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:17.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3b68600241fc199aac32a3c930dc469d5eaa759-ee572c3414339780-01 outer:exit 2b-c3b68600241fc199aac32a3c930dc469d5eaa759-4bfad9c0cb0e3e27-01
2021-09-18T00:50:17.256Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:17.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-872a2bbd5284091d585dbae0ee7bfc742a12cba3-84b30e1dc708be9d-01 outer:exit 2b-872a2bbd5284091d585dbae0ee7bfc742a12cba3-80c2c3a757c099e9-01
2021-09-18T00:50:17.259Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:17.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bf8fb76f8a03df9d489dba624e39f8269b83f62-d96b6cdc3fc6a69e-01 outer:exit 2b-1bf8fb76f8a03df9d489dba624e39f8269b83f62-df571f89214f325e-01
2021-09-18T00:50:17.261Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:17.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee2a38325e63a618453b903f486f4e939093d26c-4ada6ffa90bfa670-01 outer:exit 2b-ee2a38325e63a618453b903f486f4e939093d26c-932501fef37fd69b-01
2021-09-18T00:50:17.263Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:17.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-26e6463100d4d44cad20abc670157d1012b66ada-3c4372fbe1f768ca-01 outer:exit 2b-26e6463100d4d44cad20abc670157d1012b66ada-b83342921fefb528-01
2021-09-18T00:50:17.270Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:17.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-21898a3848ff4be55b630f00b808fc746d90b2e2-2547754a811d1306-01 outer:exit 2b-21898a3848ff4be55b630f00b808fc746d90b2e2-9143881119a0be1f-01
2021-09-18T00:50:17.279Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:17.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea05c1d79ad5e4db5be063834ed78ce4d02c88ec-115c351091a2a337-01 outer:exit 2b-ea05c1d79ad5e4db5be063834ed78ce4d02c88ec-a51cce976ff9a168-01
2021-09-18T00:50:17.287Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:17.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-086382bce5d9e914292cd7426d3484919a41dee7-38d5d8d89fc8eb24-01 outer:exit 2b-086382bce5d9e914292cd7426d3484919a41dee7-0466abf8ff8d1dad-01
2021-09-18T00:50:17.290Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:17.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dc39b4423fe513095cfffabb6de474fe6961615-10d434736a1f782c-01 outer:exit 2b-1dc39b4423fe513095cfffabb6de474fe6961615-c12620519c25d8ad-01
2021-09-18T00:50:17.336Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:17.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-335f7de984b6106cef2a0b108704ff87d35652b5-cfa2fa25edef459b-01 outer:exit 2b-335f7de984b6106cef2a0b108704ff87d35652b5-6af6019bfff16654-01
2021-09-18T00:50:17.365Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (561ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:24.915Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:24.915Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:24.915Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:24.916Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:24.971Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:25.012Z appoptics:patching patched crypto 
2021-09-18T00:50:25.032Z appoptics:patching patched https 
2021-09-18T00:50:25.032Z appoptics:patching patched http 
2021-09-18T00:50:25.080Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:25.080Z appoptics:patching patched fs 
2021-09-18T00:50:25.095Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v16.9.1)
2021-09-18T00:50:25.101Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-09-18T00:50:25.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-34590a724b806646aa3fdcb9875b339dd3a0758b-287f9d4d4eee470a-01 outer:exit 2b-34590a724b806646aa3fdcb9875b339dd3a0758b-fde624a5386f8cc6-01
2021-09-18T00:50:25.232Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:25.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd875a9939802fccc3f7f1fe855aaa5e1b44f35c-e8622c7839e09f8b-01 outer:exit 2b-bd875a9939802fccc3f7f1fe855aaa5e1b44f35c-6e410dff1a565ec2-01
2021-09-18T00:50:25.281Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:25.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee319684c3ed4c5e95468bae8a3b940788b0ecc2-8ac0b2d75bbac2aa-01 outer:exit 2b-ee319684c3ed4c5e95468bae8a3b940788b0ecc2-49c1f4bd0574dc02-01
2021-09-18T00:50:25.286Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:25.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ea7abf3cf8ae73b529bb296a0854bad1e46d60-70f1533554f09e11-01 outer:exit 2b-66ea7abf3cf8ae73b529bb296a0854bad1e46d60-d90c80a0451246eb-01
2021-09-18T00:50:25.288Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:25.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-781e79cec80c32a8a371388b1fa91887c9fd3249-a7eadea22d6ce9d9-01 outer:exit 2b-781e79cec80c32a8a371388b1fa91887c9fd3249-0ee785037e42d80b-01
2021-09-18T00:50:25.292Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:25.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-718fbbb549092a4e1b6e80d30376b441812c6d93-2bcc975046beba95-01 outer:exit 2b-718fbbb549092a4e1b6e80d30376b441812c6d93-f1cd262c0e20832e-01
2021-09-18T00:50:25.295Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:25.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e842d6a311874ff9cbdcb21270eb7cc6d24dedb-0c1a1a6bce26d688-01 outer:exit 2b-1e842d6a311874ff9cbdcb21270eb7cc6d24dedb-f26001e5bd59c542-01
2021-09-18T00:50:25.297Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:25.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3a635d00231c71b04e5002f0a9a6ba8fb5e0b62-3f2fed1fc14f04c5-01 outer:exit 2b-b3a635d00231c71b04e5002f0a9a6ba8fb5e0b62-5b160651c92ca0f8-01
2021-09-18T00:50:25.299Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:25.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-86c6a0ec815c3baaefe59fa46f7c25711f877f0b-c0514515a1c32afe-01 outer:exit 2b-86c6a0ec815c3baaefe59fa46f7c25711f877f0b-62ea73431a63dc52-01
2021-09-18T00:50:25.301Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:25.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-dad7f10537aacd8843fead7180f64404ef62721e-69983a037b53143e-01 outer:exit 2b-dad7f10537aacd8843fead7180f64404ef62721e-bdf656d1f18c9219-01
2021-09-18T00:50:25.304Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:25.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d94ec635e0bf97f97b066dc4c8e8473fa833443-e04479467eca91f9-01 outer:exit 2b-8d94ec635e0bf97f97b066dc4c8e8473fa833443-5f062164f98a5e1d-01
2021-09-18T00:50:25.307Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:25.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6ba85e8f23297cd524d9d6c5c0b616caa564d78-d9c786d2ab1836a4-01 outer:exit 2b-b6ba85e8f23297cd524d9d6c5c0b616caa564d78-34eec43b7410f9dc-01
2021-09-18T00:50:25.312Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:25.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-c855bd614e12f756cf5c0bf26acdf720512df9f3-760a1143654fede8-01 outer:exit 2b-c855bd614e12f756cf5c0bf26acdf720512df9f3-25c78e8df4319505-01
2021-09-18T00:50:25.325Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:25.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-9058483b1dc57fe74d55bf2b8b60a881c7fa79d7-24e8a316493e34fe-01 outer:exit 2b-9058483b1dc57fe74d55bf2b8b60a881c7fa79d7-708a32aa78fee022-01
2021-09-18T00:50:25.371Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:25.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8113b173148899910c5fbf5ed100f8c077ce5d4-54da66dcbfdf4458-01 outer:exit 2b-a8113b173148899910c5fbf5ed100f8c077ce5d4-9adcddc2563ef2f8-01
2021-09-18T00:50:25.374Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:25.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fad28af111af37cb532642ec67f4dc94e46b0b5-48542f32a479bbea-01 outer:exit 2b-5fad28af111af37cb532642ec67f4dc94e46b0b5-bd9a00d35dd219bd-01
2021-09-18T00:50:25.376Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:25.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-a27713d99a52a9342de5d468b837ab147da5d076-83b2fb24c5a63fb9-01 outer:exit 2b-a27713d99a52a9342de5d468b837ab147da5d076-b5c9d7dd9eeda7a6-01
2021-09-18T00:50:25.378Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:25.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d0ab4d92a48f7158643b4e067b066e12079722e-0ba06ee16cca6940-01 outer:exit 2b-2d0ab4d92a48f7158643b4e067b066e12079722e-84c4b2dab62d8c82-01
2021-09-18T00:50:25.380Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:25.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-20edc209ad109178b8af7b835a98ebc16160d2fe-5c333acba8009b7e-01 outer:exit 2b-20edc209ad109178b8af7b835a98ebc16160d2fe-3bf2fe43a132eb02-01
2021-09-18T00:50:25.382Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:25.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1391b53b34b46fb2576a5c6e1c9386fc1a6058f-8db24d994f8018f4-01 outer:exit 2b-a1391b53b34b46fb2576a5c6e1c9386fc1a6058f-ba3170559f3d7855-01
2021-09-18T00:50:25.384Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:25.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-007b3aadead71cba3d2b4cb10d9cd1e9e9c65395-556f7a959cf8b462-01 outer:exit 2b-007b3aadead71cba3d2b4cb10d9cd1e9e9c65395-99bf7cd407100b6f-01
2021-09-18T00:50:25.386Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:25.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d286d2261a386b79816a10fdbb2285eb6b8c4d5-314ecd90fc1aee3d-01 outer:exit 2b-9d286d2261a386b79816a10fdbb2285eb6b8c4d5-912e0223ebe402e1-01
2021-09-18T00:50:25.387Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:25.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-734de48dc1e97b39ca7a437ab69d8ed95a80c218-c9db634e011f35a1-01 outer:exit 2b-734de48dc1e97b39ca7a437ab69d8ed95a80c218-30399b03c65e4a5f-01
2021-09-18T00:50:25.390Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:25.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5205eee76604aec6b29be688730426f8f2a530e-bde59422a1e9f3c7-01 outer:exit 2b-a5205eee76604aec6b29be688730426f8f2a530e-ee4f5b0e48d05be1-01
2021-09-18T00:50:25.392Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:25.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-6841289f4f2889abbeb146ff9b78ed34d6d4bda4-378c11896385dd0b-01 outer:exit 2b-6841289f4f2889abbeb146ff9b78ed34d6d4bda4-e739c7b068de18b5-01
2021-09-18T00:50:25.394Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:25.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f5b0104dba1a88ee35cf39906bd95a3cf52934f-b8cd083fc9d8e24a-01 outer:exit 2b-5f5b0104dba1a88ee35cf39906bd95a3cf52934f-d661bb7d27a24e45-01
2021-09-18T00:50:25.396Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:25.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba67648a2231c41e7f575a6da6bb89a7f82d553a-ecd1ed4eba338c38-01 outer:exit 2b-ba67648a2231c41e7f575a6da6bb89a7f82d553a-2ee6b81d7229b480-01
2021-09-18T00:50:25.407Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:25.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-64bf4abc8fedbdf40171e038039be16720573acb-5857f99cc93e36c5-01 outer:exit 2b-64bf4abc8fedbdf40171e038039be16720573acb-fac78c11d0b2fde5-01
2021-09-18T00:50:25.414Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:25.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-778e4dc634d463cc9b7f39177d9aa9b8d69d684d-92631de688d135f3-01 outer:exit 2b-778e4dc634d463cc9b7f39177d9aa9b8d69d684d-694eac593a09180b-01
2021-09-18T00:50:25.422Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:25.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8303cf22112fd697ab7e1e1a0ab2812fe8620c5-8297c5c52356cf63-01 outer:exit 2b-f8303cf22112fd697ab7e1e1a0ab2812fe8620c5-69d81ba8c0fe57d2-01
2021-09-18T00:50:25.427Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:25.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd49136bcdf1fa5c2180b40ea0c5a636a5b81675-8a538c1f7d40d77b-01 outer:exit 2b-bd49136bcdf1fa5c2180b40ea0c5a636a5b81675-d5926524a06b0f42-01
2021-09-18T00:50:25.428Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:25.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-8099436e3ffd1228313ed5bce0c3a2f98d459360-975ca4f73f8afde8-01 outer:exit 2b-8099436e3ffd1228313ed5bce0c3a2f98d459360-48b0cb65b941e9d0-01
2021-09-18T00:50:25.431Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:25.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-adf778e95ab5cac79ed4cd5e9ef2134d642b7123-069b934436eb365e-01 outer:exit 2b-adf778e95ab5cac79ed4cd5e9ef2134d642b7123-f7885d40d0a907d8-01
2021-09-18T00:50:25.436Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:25.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-4016858ffe23a1f5ac3c37780fb1a90b369b1a0e-695eb25b349b9c44-01 outer:exit 2b-4016858ffe23a1f5ac3c37780fb1a90b369b1a0e-ff512217474b0eee-01
2021-09-18T00:50:25.438Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:25.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-37948ae93534bbcf145aa4dfd2b38e5b1d83b84f-34eb8dd65d01305f-01 outer:exit 2b-37948ae93534bbcf145aa4dfd2b38e5b1d83b84f-e90316a39c31f9b3-01
2021-09-18T00:50:25.440Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:25.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-c70029fe0df120b6af7bc925c7067a999e5d8e57-d9245a32bfb87184-01 outer:exit 2b-c70029fe0df120b6af7bc925c7067a999e5d8e57-538b7317530b9f34-01
2021-09-18T00:50:25.445Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:25.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-39593ca9939e8523dc71d550956c9f7a284de08b-56ff8c916df82379-01 outer:exit 2b-39593ca9939e8523dc71d550956c9f7a284de08b-e1003e02ae2117e8-01
2021-09-18T00:50:25.447Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:25.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf214d8504be0b828ee1c01f7c91891aedea19f-057152edc4a26f1c-01 outer:exit 2b-eaf214d8504be0b828ee1c01f7c91891aedea19f-13acffaf4464facb-01
2021-09-18T00:50:25.448Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:25.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa25fabd843f660bd15d0cb25c8493ea0def2d01-31a10abf1a955836-01 outer:exit 2b-aa25fabd843f660bd15d0cb25c8493ea0def2d01-9b5d5a05b196109a-01
2021-09-18T00:50:25.456Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:25.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-b68a793c0f7b519673b96102b302149f8ab1a96c-a78339253a74b91c-01 outer:exit 2b-b68a793c0f7b519673b96102b302149f8ab1a96c-7168437c79c92062-01
2021-09-18T00:50:25.463Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:25.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ee07e8841debd45b673cd05d0ebe8bd36b53d2a-261e504135a12bb4-01 outer:exit 2b-1ee07e8841debd45b673cd05d0ebe8bd36b53d2a-c7305db32cf0250c-01
2021-09-18T00:50:25.465Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:25.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-a264ad5a5eddf99764e0c170c169d9fab462648a-f464553f019c6db2-01 outer:exit 2b-a264ad5a5eddf99764e0c170c169d9fab462648a-534db082448dc18b-01
2021-09-18T00:50:25.468Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:25.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1b124e94912ac370e371b903ab55bc55a75aaf2-897ede27b047c49c-01 outer:exit 2b-d1b124e94912ac370e371b903ab55bc55a75aaf2-a7edc1a20d633f50-01
2021-09-18T00:50:25.470Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:25.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8bfcf0877bafc8af108cf06553b21f8813a3b54-3ab70f99b3622977-01 outer:exit 2b-e8bfcf0877bafc8af108cf06553b21f8813a3b54-f6207cd2f4c3b196-01
2021-09-18T00:50:25.493Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (291ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:31.269Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:31.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:31.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:31.271Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:31.352Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:31.412Z appoptics:patching patched crypto 
2021-09-18T00:50:31.438Z appoptics:patching patched https 
2021-09-18T00:50:31.439Z appoptics:patching patched http 
2021-09-18T00:50:31.489Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:31.489Z appoptics:patching patched fs 
2021-09-18T00:50:31.504Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v16.9.1)
2021-09-18T00:50:31.511Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-09-18T00:50:31.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8493cb976a49d9b4172e31d224744cbba8af287-f26e0fd4bbd335e0-01 outer:exit 2b-c8493cb976a49d9b4172e31d224744cbba8af287-7ed4a179f14354a9-01
2021-09-18T00:50:31.643Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:31.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-19ca8671cb512bea96ad047859fdab8d9875a45d-69c3869d37679548-01 outer:exit 2b-19ca8671cb512bea96ad047859fdab8d9875a45d-21cf35754349e239-01
2021-09-18T00:50:31.678Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:31.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccf700718fc1f2617131872da5df515276bfd70a-46a4d64447f09614-01 outer:exit 2b-ccf700718fc1f2617131872da5df515276bfd70a-c58dcfeddfa6ad24-01
2021-09-18T00:50:31.680Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:31.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4beaa1c124bff46d1e423894656f7c2bd666ad8-117af3beb2dc4443-01 outer:exit 2b-d4beaa1c124bff46d1e423894656f7c2bd666ad8-2678b8b947ba8515-01
2021-09-18T00:50:31.683Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:31.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1df0cf1b2969a5f35e2898b4dd157d1b6bb660f-431c676372667b52-01 outer:exit 2b-c1df0cf1b2969a5f35e2898b4dd157d1b6bb660f-dfc60c2de334f0ed-01
2021-09-18T00:50:31.686Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:31.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d44c4b4115ea4dc1e309a6e6167914be6e8dd67-3e545be27ce9f9a3-01 outer:exit 2b-3d44c4b4115ea4dc1e309a6e6167914be6e8dd67-44df85beb991096e-01
2021-09-18T00:50:31.689Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:31.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c56db6e061a0fe58cffef9d8c6a021b6edfaf0-000dcbb772d2c17e-01 outer:exit 2b-a7c56db6e061a0fe58cffef9d8c6a021b6edfaf0-5980b76e611326aa-01
2021-09-18T00:50:31.691Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:31.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-45e7ec5feffd08959a239bcf226abe952fd6e798-273b64b67028f3ec-01 outer:exit 2b-45e7ec5feffd08959a239bcf226abe952fd6e798-8937a77f9e71c0ba-01
2021-09-18T00:50:31.693Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:31.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e7d7e14a36cef2142eb2727afa7d37a52e1d13c-4d3b9ffc4ac5d45b-01 outer:exit 2b-4e7d7e14a36cef2142eb2727afa7d37a52e1d13c-f1798a107de22603-01
2021-09-18T00:50:31.695Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:31.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-dba4763671883c3acf2b9f2dd849934ca21873b7-35e9c0ad8edf72d4-01 outer:exit 2b-dba4763671883c3acf2b9f2dd849934ca21873b7-a5c4903fed69f04f-01
2021-09-18T00:50:31.698Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:31.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-93ac74ec09415ec3bc6af1e22ade45d82e78ad2e-e6f4fd5bd11192d6-01 outer:exit 2b-93ac74ec09415ec3bc6af1e22ade45d82e78ad2e-a168e5817613c911-01
2021-09-18T00:50:31.701Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:31.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-c227ac3297a609d2f0f653d4d160f5d715322a1d-d633ba64af0476e5-01 outer:exit 2b-c227ac3297a609d2f0f653d4d160f5d715322a1d-5f8d46169dce8521-01
2021-09-18T00:50:31.706Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:31.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b2230266235462b7c71bde76df40f41f1bbd79a-0b1a427973136688-01 outer:exit 2b-7b2230266235462b7c71bde76df40f41f1bbd79a-4641a95af4ba95f8-01
2021-09-18T00:50:31.719Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:31.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-512c91c9b62c5a2289faecaf8bfb2ba0c47a5f73-cb8666c17894a610-01 outer:exit 2b-512c91c9b62c5a2289faecaf8bfb2ba0c47a5f73-2fd41e497e2fd4c7-01
2021-09-18T00:50:31.777Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:31.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba4d90052529080a19f96d802b93cfa6b7d697f5-a842d5b6401be0ea-01 outer:exit 2b-ba4d90052529080a19f96d802b93cfa6b7d697f5-123fd52f4d57507c-01
2021-09-18T00:50:31.779Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:31.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-a36cbf0d5a2dba52e05040f56f339bd30e9dd4e8-576eb0e03644279d-01 outer:exit 2b-a36cbf0d5a2dba52e05040f56f339bd30e9dd4e8-d780a312bec21186-01
2021-09-18T00:50:31.781Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:31.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2ed0f89dfbdd6c89a0a21152e9d3321faac072e-8c8b1e9d263654a6-01 outer:exit 2b-e2ed0f89dfbdd6c89a0a21152e9d3321faac072e-3c8a6a50599d65d2-01
2021-09-18T00:50:31.784Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:31.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-93fe38a849d2231549e2db183089f3b701ab2f56-5e302f40dacf8bb8-01 outer:exit 2b-93fe38a849d2231549e2db183089f3b701ab2f56-b2586adf3a2b8d7d-01
2021-09-18T00:50:31.786Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:31.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-341f9c7a36d0964cfaaa76676c012931beee5d52-27b46dc158f307c7-01 outer:exit 2b-341f9c7a36d0964cfaaa76676c012931beee5d52-c32876930b23ebbc-01
2021-09-18T00:50:31.787Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:31.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4f69b40622a1a18189fcb8cdbab3f081eb2176d-c8d61182188a08f4-01 outer:exit 2b-f4f69b40622a1a18189fcb8cdbab3f081eb2176d-b8b374a0e5de36d2-01
2021-09-18T00:50:31.789Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:31.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a818c85be8ad3020fcc3f6e335754e6c3163ba9-2b94a1314c8fb621-01 outer:exit 2b-0a818c85be8ad3020fcc3f6e335754e6c3163ba9-1c3dd9f1e81e722c-01
2021-09-18T00:50:31.791Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:31.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ecc66ac2f5eabc5418c3d102f31973e84ace97d-3bf57e989391b2c6-01 outer:exit 2b-9ecc66ac2f5eabc5418c3d102f31973e84ace97d-0c15500953c0f50a-01
2021-09-18T00:50:31.793Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:31.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-93592c36ed50f0eb633a013d00a2bd13327a7f33-7d7688e4227d4e06-01 outer:exit 2b-93592c36ed50f0eb633a013d00a2bd13327a7f33-2ec11df60e0130d7-01
2021-09-18T00:50:31.795Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:31.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-4377a73b5f13ee0dc1d18c0f334036fbd1355ca6-d92368c1dcc7e222-01 outer:exit 2b-4377a73b5f13ee0dc1d18c0f334036fbd1355ca6-fb22ab824f8ea803-01
2021-09-18T00:50:31.798Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:31.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a6112a1134bbd9e3cad16590f96d9ddaf6a00d8-c1d094ad679a6b3c-01 outer:exit 2b-1a6112a1134bbd9e3cad16590f96d9ddaf6a00d8-8b73cdb6128ff357-01
2021-09-18T00:50:31.800Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:31.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-0780210f1751122130619ef4af5fe44cfd85f0cf-d6a96572ed8879eb-01 outer:exit 2b-0780210f1751122130619ef4af5fe44cfd85f0cf-fe657b57012ae34e-01
2021-09-18T00:50:31.802Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:31.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-11af5ae2cb8d0700250adafee403f886909e27cd-de19e3214575bb8d-01 outer:exit 2b-11af5ae2cb8d0700250adafee403f886909e27cd-eb90689766a15497-01
2021-09-18T00:50:31.807Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:31.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-524492a08e85187afd7275bc9ef62394f7941149-4deeb15cf8123aa5-01 outer:exit 2b-524492a08e85187afd7275bc9ef62394f7941149-e47593be271c1df0-01
2021-09-18T00:50:31.811Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:31.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d102660d5707a09b4ed6ff0fa040bfb53dc91d0-c34e0a7aa1c99ad2-01 outer:exit 2b-3d102660d5707a09b4ed6ff0fa040bfb53dc91d0-ea57a19484c0b3cd-01
2021-09-18T00:50:31.818Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:31.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-26bf1f467a981ccf670380ea1dff30e5d61d3de3-d4a3700b367dc0e9-01 outer:exit 2b-26bf1f467a981ccf670380ea1dff30e5d61d3de3-a9bbf16d1728e61b-01
2021-09-18T00:50:31.824Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:31.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-998eae1634d9163d1a821db9e9e11c2b52d1d0e7-fc7fb50f03da9b60-01 outer:exit 2b-998eae1634d9163d1a821db9e9e11c2b52d1d0e7-935c9cf9abcee8d9-01
2021-09-18T00:50:31.828Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:31.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbf0e6403f11697241aac1eab5646916e7d106b3-8cdbc2d20f4a7bd2-01 outer:exit 2b-dbf0e6403f11697241aac1eab5646916e7d106b3-20f6a6e9825b9fc7-01
2021-09-18T00:50:31.832Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:31.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-87794f0cfa9b6abf36bcc9968f7aac09566fde69-db6e92d3faf240e5-01 outer:exit 2b-87794f0cfa9b6abf36bcc9968f7aac09566fde69-63348ce2d5960b27-01
2021-09-18T00:50:31.836Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:31.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e0ae223698b0dc564d3ccc3a207dbc584e9201f-3200840deba7d616-01 outer:exit 2b-7e0ae223698b0dc564d3ccc3a207dbc584e9201f-f0b8717e2ea78297-01
2021-09-18T00:50:31.838Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:31.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dcd8b067543089a553be6b36d055cfb15392401-486c3d11d838ac7a-01 outer:exit 2b-9dcd8b067543089a553be6b36d055cfb15392401-254ff30a6142ed3b-01
2021-09-18T00:50:31.840Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:31.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-2add38362ddd57928cf2ec4ff455fe43a188baa6-bed530b718af591b-01 outer:exit 2b-2add38362ddd57928cf2ec4ff455fe43a188baa6-6b508e51097a68ce-01
2021-09-18T00:50:31.845Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:31.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-22fdc8f67841de12dd5e6af6bbb67a4e31741179-47fdcc694621833a-01 outer:exit 2b-22fdc8f67841de12dd5e6af6bbb67a4e31741179-067e35701ee7942d-01
2021-09-18T00:50:31.847Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:31.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c125ffb45a235127ca752cda244a79d9c7339b4-e72e8f2f3b06e335-01 outer:exit 2b-1c125ffb45a235127ca752cda244a79d9c7339b4-61d7ef93e0251a7b-01
2021-09-18T00:50:31.849Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:31.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-be096d2cd550f8f7ea0b2ad5b4ac4096faa1ddaa-99040744514fdda1-01 outer:exit 2b-be096d2cd550f8f7ea0b2ad5b4ac4096faa1ddaa-1446d24cbd247245-01
2021-09-18T00:50:31.856Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:31.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7d72f67841af327052a163ccaf400fc5cf25602-3d300816fb45ed27-01 outer:exit 2b-b7d72f67841af327052a163ccaf400fc5cf25602-7aa7061af85a5cf5-01
2021-09-18T00:50:31.863Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:31.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-696990913216125b0a7a920518101e3409b3ae90-774f6887215f806c-01 outer:exit 2b-696990913216125b0a7a920518101e3409b3ae90-a4a865196e791072-01
2021-09-18T00:50:31.866Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:31.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b7523f9b3a68cd40244e0fbba9d426d9959ded1-6e467fb66ae27da6-01 outer:exit 2b-5b7523f9b3a68cd40244e0fbba9d426d9959ded1-2708a99f1ea9ee25-01
2021-09-18T00:50:31.868Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:31.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f7b72ba098ce9d03df9db1b827b5df0b2571828-8c6e6727a84730f2-01 outer:exit 2b-2f7b72ba098ce9d03df9db1b827b5df0b2571828-074034bac6f44418-01
2021-09-18T00:50:31.870Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:31.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-30620f177e2b37c8558cd2255374b6f7da02306f-279b0dae48649fc1-01 outer:exit 2b-30620f177e2b37c8558cd2255374b6f7da02306f-1987eb013da7d944-01
2021-09-18T00:50:31.893Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (280ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:38.613Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:38.613Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:38.613Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:38.614Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:38.669Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:38.709Z appoptics:patching patched crypto 
2021-09-18T00:50:38.738Z appoptics:patching patched https 
2021-09-18T00:50:38.739Z appoptics:patching patched http 
2021-09-18T00:50:38.791Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:38.791Z appoptics:patching patched fs 
2021-09-18T00:50:38.808Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v16.9.1)
2021-09-18T00:50:38.816Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-09-18T00:50:38.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-7deaeeaf019fb94baf0303ab5012485d8cebd44d-d39c7bc40ea43945-01 outer:exit 2b-7deaeeaf019fb94baf0303ab5012485d8cebd44d-f98fd8e251c9337a-01
2021-09-18T00:50:38.951Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:39.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-b11c78f53d637376f8a4f78fcb504e9893db7526-fad2f9769e2acc6b-01 outer:exit 2b-b11c78f53d637376f8a4f78fcb504e9893db7526-b857ae803f5a1abf-01
2021-09-18T00:50:39.033Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:39.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddfaa1f2a0df7996437a63eec0aade8a8061949d-37727cb5300f4018-01 outer:exit 2b-ddfaa1f2a0df7996437a63eec0aade8a8061949d-0d4abcff4bcd3be8-01
2021-09-18T00:50:39.036Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:39.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5b7fc8353e460b05df0d8554ef0798aac9c027d-5481f757b7a27aba-01 outer:exit 2b-a5b7fc8353e460b05df0d8554ef0798aac9c027d-6c3b5284826ffeb8-01
2021-09-18T00:50:39.038Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:39.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-89b63aec19b9c3999de5276ca9d1a95309e60cff-07821c8c9dc5d5f5-01 outer:exit 2b-89b63aec19b9c3999de5276ca9d1a95309e60cff-1c8b27dd7154a55b-01
2021-09-18T00:50:39.042Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:39.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-20731dfdf924c8917240c102d06456ccfb6b57f7-5df58b6e040faeb1-01 outer:exit 2b-20731dfdf924c8917240c102d06456ccfb6b57f7-5db7589208d0d255-01
2021-09-18T00:50:39.045Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:39.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3c397be7ed4399a86fae518dac83fe22eb9ae29-d20b4db26c5a9ff0-01 outer:exit 2b-d3c397be7ed4399a86fae518dac83fe22eb9ae29-5536b9279e25fac1-01
2021-09-18T00:50:39.047Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:39.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e385cf79514144fa81c994fccc28200df8655a7-6989d72ef6a1335d-01 outer:exit 2b-2e385cf79514144fa81c994fccc28200df8655a7-f6df6fb76bd8def9-01
2021-09-18T00:50:39.049Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:39.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f6719dc70c738528acc62b9741b67ab87260598-73202051025037a8-01 outer:exit 2b-0f6719dc70c738528acc62b9741b67ab87260598-fd49e1f21bef9815-01
2021-09-18T00:50:39.051Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:39.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-a24b419192dd60fd6869a2667a94194df29b1f74-185905a25622a98b-01 outer:exit 2b-a24b419192dd60fd6869a2667a94194df29b1f74-aed08d108adda6fc-01
2021-09-18T00:50:39.054Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:39.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8e7ef14b98d030a21c6f6355a321be644609267-27571339856a26aa-01 outer:exit 2b-e8e7ef14b98d030a21c6f6355a321be644609267-c079e150ab75d313-01
2021-09-18T00:50:39.057Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:39.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5f22ac912082210a13d932876e758c0a5a46072-245146795aa86292-01 outer:exit 2b-b5f22ac912082210a13d932876e758c0a5a46072-07cf14df0957c64d-01
2021-09-18T00:50:39.063Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:39.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-05abc006804a924f1ae543967b799b3ef2ac4671-f7f68f55fdd3f1b5-01 outer:exit 2b-05abc006804a924f1ae543967b799b3ef2ac4671-b32efc32704529fa-01
2021-09-18T00:50:39.079Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:39.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aff007543fe3ce0c18faf92636c02971db11a00-daa6cd8f3b7ddd6c-01 outer:exit 2b-7aff007543fe3ce0c18faf92636c02971db11a00-987a10a4b784005d-01
2021-09-18T00:50:39.123Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:39.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-414a9f13faeb252ea56c733ff21d19e2c14f886e-16038f974f7e0cb9-01 outer:exit 2b-414a9f13faeb252ea56c733ff21d19e2c14f886e-523713a309787140-01
2021-09-18T00:50:39.125Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:39.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ddd8a322af2fe8f4fc3d928c7207b94a7c3604-2b7e49d9ab296092-01 outer:exit 2b-e1ddd8a322af2fe8f4fc3d928c7207b94a7c3604-38407b951b231bd6-01
2021-09-18T00:50:39.127Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:39.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-aafa8326de4e6869689701e692129dda5a97c132-cbebb747f7c29ce6-01 outer:exit 2b-aafa8326de4e6869689701e692129dda5a97c132-99cb6da5860aaeae-01
2021-09-18T00:50:39.132Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:39.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a3d87982bc7a8d7437de3423849e91766daf434-207509b6f9588893-01 outer:exit 2b-4a3d87982bc7a8d7437de3423849e91766daf434-49206f74b026e8df-01
2021-09-18T00:50:39.138Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:39.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcbc904bd85204b8ef928c382a517be39627db28-b3ad1a19b008c582-01 outer:exit 2b-bcbc904bd85204b8ef928c382a517be39627db28-ef420d1b301add4c-01
2021-09-18T00:50:39.140Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:39.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-503290fb6ac92fd8efdc608e6613b84be48a8c97-eb0e01f415b7bb18-01 outer:exit 2b-503290fb6ac92fd8efdc608e6613b84be48a8c97-c9b71e38e0d9aa79-01
2021-09-18T00:50:39.142Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:39.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-3567db25e21d726dd54499b26922d60563335ced-7677afd7f1bad82a-01 outer:exit 2b-3567db25e21d726dd54499b26922d60563335ced-47b7180323a98bf6-01
2021-09-18T00:50:39.143Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:39.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-08286ed1bad397d35932bb294b88d90e84f0a9d0-3ea05cce6905c605-01 outer:exit 2b-08286ed1bad397d35932bb294b88d90e84f0a9d0-1d0c95cc07f98d8b-01
2021-09-18T00:50:39.145Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:39.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d6accf739ca67750b8fb4af9de28c1ec349c9c0-56746323f3813a25-01 outer:exit 2b-0d6accf739ca67750b8fb4af9de28c1ec349c9c0-6cecd6c87604d1d8-01
2021-09-18T00:50:39.149Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:39.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd1c4b15334684e8f3056f8a57c06083dc2db841-b2386a7d137f85e3-01 outer:exit 2b-fd1c4b15334684e8f3056f8a57c06083dc2db841-5d3764610274b629-01
2021-09-18T00:50:39.151Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:39.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfb0aff0b89074b8089c2dd72acd08440fd136af-33d9b5d5fa09443b-01 outer:exit 2b-dfb0aff0b89074b8089c2dd72acd08440fd136af-d4c57d1baa4a0abd-01
2021-09-18T00:50:39.153Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:39.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e9331df116f3e3dddf8ea65f2c3411b2b5804e1-78ee690f69388e2a-01 outer:exit 2b-6e9331df116f3e3dddf8ea65f2c3411b2b5804e1-cf82741bceb5d44d-01
2021-09-18T00:50:39.155Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:39.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d1c7b99cf5f71092dda7bca9902035326601234-c23a58424c33650b-01 outer:exit 2b-6d1c7b99cf5f71092dda7bca9902035326601234-9d42ea4bd1a390fa-01
2021-09-18T00:50:39.161Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:39.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f803b2ed9c91360c68500674c44b886a8e3535a-613b08ce211335b3-01 outer:exit 2b-5f803b2ed9c91360c68500674c44b886a8e3535a-b7dc2277db3df2ab-01
2021-09-18T00:50:39.164Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:39.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-59cc1dd449b602bf14f57129d834e241efdee1d7-40b6601eee104892-01 outer:exit 2b-59cc1dd449b602bf14f57129d834e241efdee1d7-523fffe0fe39e4b1-01
2021-09-18T00:50:39.172Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:39.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-26b78634765cc165d0c61489163f8a7307b0c8b1-fda648ea635dd5e2-01 outer:exit 2b-26b78634765cc165d0c61489163f8a7307b0c8b1-6aacfa86bba86241-01
2021-09-18T00:50:39.177Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:39.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ac112c61134c645135d067e50b1017f81805104-16422b93b992bfa8-01 outer:exit 2b-0ac112c61134c645135d067e50b1017f81805104-18b4839c235ebee9-01
2021-09-18T00:50:39.179Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:39.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-a22e348b2d08ed1b5cfaf47a81a24a793467c95d-500c2178f274ec28-01 outer:exit 2b-a22e348b2d08ed1b5cfaf47a81a24a793467c95d-ffa549424c052a3d-01
2021-09-18T00:50:39.182Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:39.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-c729f69b485ebe1d202ea4b3db7f305c398b33a3-d2f42c831fba1cec-01 outer:exit 2b-c729f69b485ebe1d202ea4b3db7f305c398b33a3-9583b56610e349c6-01
2021-09-18T00:50:39.187Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:39.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-abc7adc64cf9c2708d63a419ecf0d60fb2be25c3-e020f71463188a0b-01 outer:exit 2b-abc7adc64cf9c2708d63a419ecf0d60fb2be25c3-66d901c48a837fb1-01
2021-09-18T00:50:39.188Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:39.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a10afdecf80b2cc1771ae83be650a82aba34e55-2de62b380f9a8770-01 outer:exit 2b-4a10afdecf80b2cc1771ae83be650a82aba34e55-8421ccad8660eb9b-01
2021-09-18T00:50:39.190Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:39.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-303be9f84a1f1e61f032ed8f40eb9af060ae1868-54c97d4f4ab94d46-01 outer:exit 2b-303be9f84a1f1e61f032ed8f40eb9af060ae1868-ccbab1c2229e75af-01
2021-09-18T00:50:39.192Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:39.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8815dbcddf1bd284ff745e3e1757e8fe82a1377-fb5b918843997965-01 outer:exit 2b-f8815dbcddf1bd284ff745e3e1757e8fe82a1377-dd60bb06d300b4e9-01
2021-09-18T00:50:39.194Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:39.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8271d893fcd6b35ce9d1212f94c138e971bbe11-dae0d41cb14cfaa6-01 outer:exit 2b-b8271d893fcd6b35ce9d1212f94c138e971bbe11-c9c6beb79d548b23-01
2021-09-18T00:50:39.199Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:39.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-78e4a125f5479e844462a906d10d8b5c0c27d46d-0b2b7055b5cb5157-01 outer:exit 2b-78e4a125f5479e844462a906d10d8b5c0c27d46d-c2892c1a2fd6f3b8-01
2021-09-18T00:50:39.206Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:39.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2bd8a12229c81637511d98b595cfd18ae780b38-98886e684ff36e97-01 outer:exit 2b-c2bd8a12229c81637511d98b595cfd18ae780b38-95b00a1e2be360a1-01
2021-09-18T00:50:39.213Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:39.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-13b2285e55ac4fbffeb5b27b897b9edda69aba01-c4c79d1447464990-01 outer:exit 2b-13b2285e55ac4fbffeb5b27b897b9edda69aba01-bbb85e2c21997b3a-01
2021-09-18T00:50:39.216Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:39.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc614be4883d659af987e2261d2077c3c07b5a2b-275ee0718d68794f-01 outer:exit 2b-bc614be4883d659af987e2261d2077c3c07b5a2b-b36acb2fbf2b41b3-01
2021-09-18T00:50:39.219Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:39.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-c72b72bbefeaca4868ac2d5350b045b0671ab012-2efdec9751890cff-01 outer:exit 2b-c72b72bbefeaca4868ac2d5350b045b0671ab012-2b21284eae358254-01
2021-09-18T00:50:39.221Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:39.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-8328580c0256c5bc06a40bce26d115eed4fc7490-68cb3d29ea131da8-01 outer:exit 2b-8328580c0256c5bc06a40bce26d115eed4fc7490-76c1478c77e72275-01
2021-09-18T00:50:39.244Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (323ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:44.724Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:44.725Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:44.725Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:44.725Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:44.781Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:44.819Z appoptics:patching patched crypto 
2021-09-18T00:50:44.838Z appoptics:patching patched https 
2021-09-18T00:50:44.839Z appoptics:patching patched http 
2021-09-18T00:50:44.885Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:44.886Z appoptics:patching patched fs 
2021-09-18T00:50:44.900Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v16.9.1)
2021-09-18T00:50:44.906Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-09-18T00:50:45.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1058974605c3da53f32a391b9573c2fcacabfb5-78e0fc424adc0bac-01 outer:exit 2b-e1058974605c3da53f32a391b9573c2fcacabfb5-b420fb37262a102f-01
2021-09-18T00:50:45.036Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:45.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed54005c99b967a7465c3929d3e34e8d53a17e14-b1fc0673564c9bc1-01 outer:exit 2b-ed54005c99b967a7465c3929d3e34e8d53a17e14-809d233f350d4ca1-01
2021-09-18T00:50:45.078Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:45.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-719bb0ba095312d665f0fc03a687c9b0a13ea2d7-29d871671879bab0-01 outer:exit 2b-719bb0ba095312d665f0fc03a687c9b0a13ea2d7-46bd3cb2c8e1d14c-01
2021-09-18T00:50:45.081Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:45.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d990c7ba6980dd9384588344e5f9e8aaba02bd3-5abb4069539da45f-01 outer:exit 2b-4d990c7ba6980dd9384588344e5f9e8aaba02bd3-2b789f7c3aab9add-01
2021-09-18T00:50:45.083Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:45.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3e4ec8e0f83835f02698f6c38620471a2015036-bab430bc06861ee7-01 outer:exit 2b-d3e4ec8e0f83835f02698f6c38620471a2015036-8504be61562de58c-01
2021-09-18T00:50:45.087Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:45.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff3896c4905874648cab1b21318081ff75592b5e-42a4bfb9d4439119-01 outer:exit 2b-ff3896c4905874648cab1b21318081ff75592b5e-757db26a92150702-01
2021-09-18T00:50:45.089Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:45.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-08082a611c99fa124d4eb9ea3434e44270d6b65d-295cf8f70d34aa49-01 outer:exit 2b-08082a611c99fa124d4eb9ea3434e44270d6b65d-65c211065edee91f-01
2021-09-18T00:50:45.092Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:45.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-420a5a45392250bd32163a588e54e40d3c631001-f9c45966040948ed-01 outer:exit 2b-420a5a45392250bd32163a588e54e40d3c631001-c65bef6b3565c7c1-01
2021-09-18T00:50:45.094Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:45.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f6f279c6413bc0813f3862522aef657980b8b69-c1ac7de46d6807ec-01 outer:exit 2b-2f6f279c6413bc0813f3862522aef657980b8b69-b64eb6d57a0c0327-01
2021-09-18T00:50:45.096Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:45.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-793a3bbd56fa936c3f841c885e2947c86fe083c2-4e5206f5c5caee7c-01 outer:exit 2b-793a3bbd56fa936c3f841c885e2947c86fe083c2-4beee01ad248ce62-01
2021-09-18T00:50:45.098Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:45.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef9e7f5292876c19e0751e191e0d8a1229f6d2da-ba653a815d2e3d16-01 outer:exit 2b-ef9e7f5292876c19e0751e191e0d8a1229f6d2da-4270932b373b472d-01
2021-09-18T00:50:45.102Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:45.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd94c250c113b532384a1f1a57fa56b4f97c63e0-37cbc63e650c032d-01 outer:exit 2b-fd94c250c113b532384a1f1a57fa56b4f97c63e0-f150dc6fd9e1e02e-01
2021-09-18T00:50:45.107Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:45.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f849817e29851d006d9688448dad94ec1c9a5d-793a272cf30c5f11-01 outer:exit 2b-87f849817e29851d006d9688448dad94ec1c9a5d-f289ba105bc7b27e-01
2021-09-18T00:50:45.119Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:45.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6a8cf83b4e2011e0a66718345e28215b7d2c611-0242299658c84ee9-01 outer:exit 2b-d6a8cf83b4e2011e0a66718345e28215b7d2c611-abb4af49c824b567-01
2021-09-18T00:50:45.158Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:45.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cafd3747baaac2432da9afc0073359fd0bb3166-b114ac7c89b00715-01 outer:exit 2b-0cafd3747baaac2432da9afc0073359fd0bb3166-f759e69f917c05e9-01
2021-09-18T00:50:45.161Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:45.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-1170d1657e10d985fb0277907d5b967a3c9065e1-8a29d64e0b7b8281-01 outer:exit 2b-1170d1657e10d985fb0277907d5b967a3c9065e1-3187b1e4edd2aa78-01
2021-09-18T00:50:45.163Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:45.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a1ba8f7eccfbb2108d6d0222dbbacc27bc232d3-a4c9b094ae867c8b-01 outer:exit 2b-4a1ba8f7eccfbb2108d6d0222dbbacc27bc232d3-4037915a8b548ef9-01
2021-09-18T00:50:45.165Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:45.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-e07891edd2734d9750b71bfaaca7b65bc593a1fe-b77e4c4504cb446c-01 outer:exit 2b-e07891edd2734d9750b71bfaaca7b65bc593a1fe-7b2e370eb07dcb61-01
2021-09-18T00:50:45.167Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:45.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4ea33c5df1cad85e2f9af2fad2a4a0034752dd1-d7bb2638ca4b2e23-01 outer:exit 2b-e4ea33c5df1cad85e2f9af2fad2a4a0034752dd1-7f3743e4d9aee05c-01
2021-09-18T00:50:45.169Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:45.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f2e3dc002408164e029aa43aa2d7f5edbc9d346-3d724b87a19251e9-01 outer:exit 2b-4f2e3dc002408164e029aa43aa2d7f5edbc9d346-2c8fbaf5bad2b8b2-01
2021-09-18T00:50:45.170Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:45.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8683e88a8c3c50cfd0c4330cad3a7894fedada8-40003c2eb4b09e02-01 outer:exit 2b-b8683e88a8c3c50cfd0c4330cad3a7894fedada8-c9b7ad4965103dab-01
2021-09-18T00:50:45.172Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:45.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-c00706a9508aa0fcde62de9c1ad9c714cf61a852-fc3233e87c13d231-01 outer:exit 2b-c00706a9508aa0fcde62de9c1ad9c714cf61a852-4e649fdef5625d99-01
2021-09-18T00:50:45.174Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:45.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-9609dd987760f0fa174340ce10f060620e434b58-6cce15117c2fd8f3-01 outer:exit 2b-9609dd987760f0fa174340ce10f060620e434b58-14cc4ca83a945971-01
2021-09-18T00:50:45.177Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:45.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-19b5468ddb89cf486a4bd11bb85cb4299feaa957-69f07246a7961dbb-01 outer:exit 2b-19b5468ddb89cf486a4bd11bb85cb4299feaa957-2b78d65e7776a648-01
2021-09-18T00:50:45.179Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:45.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bd7fe6a893a268e85afb11fc4ec65dc99fe1993-7488bc0200e9333e-01 outer:exit 2b-2bd7fe6a893a268e85afb11fc4ec65dc99fe1993-a1f51c06812b93af-01
2021-09-18T00:50:45.181Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:45.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f4e7e5ef449e1fd6564ced65b9b436fd13de05a-aca0f0bb02e1dc27-01 outer:exit 2b-7f4e7e5ef449e1fd6564ced65b9b436fd13de05a-944d870adc4e5f98-01
2021-09-18T00:50:45.184Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:45.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d864d61aa24ae6b93998b0d573ea27703bd6ccb-e79d4eb0d83a7d75-01 outer:exit 2b-4d864d61aa24ae6b93998b0d573ea27703bd6ccb-73dcae652a04be37-01
2021-09-18T00:50:45.189Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:45.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-0170744ad27aeb030b346c076cde0c64c4d76982-33cc7649fffe69b8-01 outer:exit 2b-0170744ad27aeb030b346c076cde0c64c4d76982-59a5d17c48e7c4df-01
2021-09-18T00:50:45.193Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:45.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0ff9ac6edf0b1ce560cfb9e19581d01e137cab6-5fbfab318082888d-01 outer:exit 2b-f0ff9ac6edf0b1ce560cfb9e19581d01e137cab6-635a3fe13e8a9c7c-01
2021-09-18T00:50:45.200Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:45.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ee7e04c202546de2d9a70c0a0c097c6dbdd9fa2-e7827a3a968456c2-01 outer:exit 2b-1ee7e04c202546de2d9a70c0a0c097c6dbdd9fa2-28bb8925d44161dd-01
2021-09-18T00:50:45.205Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:45.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fbcbb90d1182c5137dbb524f9f792261a9fcfcf-f0118737a8280e16-01 outer:exit 2b-3fbcbb90d1182c5137dbb524f9f792261a9fcfcf-36112313e9ab5a06-01
2021-09-18T00:50:45.207Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:45.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-3727bd7bd885c71cc801b4f7f628e405497751ae-252af804ec4efb33-01 outer:exit 2b-3727bd7bd885c71cc801b4f7f628e405497751ae-705dec226c4b3a27-01
2021-09-18T00:50:45.209Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:45.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-effbff37fbe2f2f7d87612c2392a82b94ff1d25d-d9c93a36d5588908-01 outer:exit 2b-effbff37fbe2f2f7d87612c2392a82b94ff1d25d-a454a3f707817919-01
2021-09-18T00:50:45.215Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:45.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d7a33fa465b6db9306d7eacb185c3e4dc4989bb-53a405d46e54d1d3-01 outer:exit 2b-4d7a33fa465b6db9306d7eacb185c3e4dc4989bb-5126a3c5445fe8ed-01
2021-09-18T00:50:45.217Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:45.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-34424b1a231c672d9c5b9c65dbb607be553a3f34-8b24cd9202b83aa7-01 outer:exit 2b-34424b1a231c672d9c5b9c65dbb607be553a3f34-a30fd8a2c6d1f137-01
2021-09-18T00:50:45.218Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:45.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f4b3fbe769eff8d1fc1d70aafcfa1cf82e04201-77a89f25c57a5c44-01 outer:exit 2b-3f4b3fbe769eff8d1fc1d70aafcfa1cf82e04201-8630983d9754b75d-01
2021-09-18T00:50:45.223Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:45.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fcead0c1addda0829c2ed5f94a8f83c7e5b9605-eaf2dfd1dbc5661c-01 outer:exit 2b-8fcead0c1addda0829c2ed5f94a8f83c7e5b9605-cb760aca810fc5b8-01
2021-09-18T00:50:45.225Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:45.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-a66c71e7b54ecdcacf0052da926471be7d03390c-e29208cf5443effd-01 outer:exit 2b-a66c71e7b54ecdcacf0052da926471be7d03390c-c4c3dc6ea89e5b0e-01
2021-09-18T00:50:45.227Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:45.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-07c4271abe83314cb2d805aa52fb9cea6380f19d-2b7728ee38f43627-01 outer:exit 2b-07c4271abe83314cb2d805aa52fb9cea6380f19d-6a8acd00a0fdbda3-01
2021-09-18T00:50:45.234Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:45.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-968d072173b4c783ab4d27350039fc9c6d2edbb8-389ba53b1c941f38-01 outer:exit 2b-968d072173b4c783ab4d27350039fc9c6d2edbb8-e9cd5c3df62f4588-01
2021-09-18T00:50:45.241Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:45.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddf1b6ece6976c64ac29504755eba6d75416d2a1-b281a23b89d4ec22-01 outer:exit 2b-ddf1b6ece6976c64ac29504755eba6d75416d2a1-2965ee1bfb560ef4-01
2021-09-18T00:50:45.243Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:45.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-5851f66eba4dfca786d6f9e707823fab239ff2d4-29729b1917e47d01-01 outer:exit 2b-5851f66eba4dfca786d6f9e707823fab239ff2d4-9007228db4e1038c-01
2021-09-18T00:50:45.246Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:45.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b95658797de3a0c4e5cd502011b1970d14e8d03-d178b49f69e32afe-01 outer:exit 2b-0b95658797de3a0c4e5cd502011b1970d14e8d03-a1079ff56c9b5b71-01
2021-09-18T00:50:45.248Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:45.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8a20bed85b6f20c4bb495770f41f9264dd77113-ddcdb3bd888a8786-01 outer:exit 2b-d8a20bed85b6f20c4bb495770f41f9264dd77113-d85d9abb13b91acd-01
2021-09-18T00:50:45.271Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (266ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:51.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:51.048Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:51.048Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:51.049Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:51.119Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:51.164Z appoptics:patching patched crypto 
2021-09-18T00:50:51.185Z appoptics:patching patched https 
2021-09-18T00:50:51.186Z appoptics:patching patched http 
2021-09-18T00:50:51.234Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:51.234Z appoptics:patching patched fs 
2021-09-18T00:50:51.249Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v16.9.1)
2021-09-18T00:50:51.256Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-09-18T00:50:51.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-627993b08935a7fa89515bb14bd3d6a0629f19bd-62d094bb5eaae1cd-01 outer:exit 2b-627993b08935a7fa89515bb14bd3d6a0629f19bd-faea45acb67ed25b-01
2021-09-18T00:50:51.386Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:51.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe5cbc831b926f86faa92a15237201afd33022da-3fddc857e02c3820-01 outer:exit 2b-fe5cbc831b926f86faa92a15237201afd33022da-ba08062d1f8dbf0b-01
2021-09-18T00:50:51.446Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:51.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-55b03ce6c1d9c17927518042bb12cc1afd46deee-b609e04e8bc40841-01 outer:exit 2b-55b03ce6c1d9c17927518042bb12cc1afd46deee-f4cf12eb347eeabc-01
2021-09-18T00:50:51.449Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:51.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-c38e1ce6dfb5e98f5419ddfb40492aac7550f33a-b778b18c6e860013-01 outer:exit 2b-c38e1ce6dfb5e98f5419ddfb40492aac7550f33a-29a99926b8807f7c-01
2021-09-18T00:50:51.452Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:51.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-f911ce2198bf100a440eca1e504b15f5d6289427-ee059d5953245afa-01 outer:exit 2b-f911ce2198bf100a440eca1e504b15f5d6289427-25be2c8dcafb7777-01
2021-09-18T00:50:51.456Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:51.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-874d9f5675e0f57950ca03b377c36222b248bb1f-e774cfd0d579c920-01 outer:exit 2b-874d9f5675e0f57950ca03b377c36222b248bb1f-658492ba89c73fd8-01
2021-09-18T00:50:51.459Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:51.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6df655422e90b5c8a2018031c69e3da8e6c8621-886b26c85e3093b8-01 outer:exit 2b-a6df655422e90b5c8a2018031c69e3da8e6c8621-d0e25f0eb16ac954-01
2021-09-18T00:50:51.461Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:51.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-07c13d42e7c4e0b6803f2def135dd34ca6a35ea0-5871bdba73a04df0-01 outer:exit 2b-07c13d42e7c4e0b6803f2def135dd34ca6a35ea0-a8b3407f8716fbf1-01
2021-09-18T00:50:51.463Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:51.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-0307b8b718f3112f2b195f5ff73e8032550c25e2-d23f0ed5761c7c37-01 outer:exit 2b-0307b8b718f3112f2b195f5ff73e8032550c25e2-e3ba2bd96b916fa6-01
2021-09-18T00:50:51.465Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:51.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-412868144ddf52c1d4e385d86e8051cd92e7f3e2-783bfc6756fc1489-01 outer:exit 2b-412868144ddf52c1d4e385d86e8051cd92e7f3e2-ddbb6cb232c3ab80-01
2021-09-18T00:50:51.467Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:51.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e550482cee42843feaec2fde8ff876089d25942-86f9e86a3f2fc2ae-01 outer:exit 2b-4e550482cee42843feaec2fde8ff876089d25942-d5b2afeac758727f-01
2021-09-18T00:50:51.471Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:51.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-52439bd83f13cc0cf55c2bfc7bba33c286b2bb30-89a51177eb510f17-01 outer:exit 2b-52439bd83f13cc0cf55c2bfc7bba33c286b2bb30-034de83e6fe07149-01
2021-09-18T00:50:51.476Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:51.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-3566603de215b069501d58750e8c8fd7caaa33de-9dc01603129b3bd1-01 outer:exit 2b-3566603de215b069501d58750e8c8fd7caaa33de-1742f885bd5c3ea6-01
2021-09-18T00:50:51.489Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:51.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5e37b415d18970e1b884a54ddbaf11be338cd44-c8a066a8df76a7b8-01 outer:exit 2b-c5e37b415d18970e1b884a54ddbaf11be338cd44-7d7c9a1f0ea8410a-01
2021-09-18T00:50:51.546Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:51.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4b14f0241f442e6237f457ce9ace19867c346f6-e2da127e1302089e-01 outer:exit 2b-a4b14f0241f442e6237f457ce9ace19867c346f6-a42b2d4a4ef5d21f-01
2021-09-18T00:50:51.548Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:51.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cb4a45bcacf8100ee98688e77da95b0365c050c-12cde0578a625b5f-01 outer:exit 2b-7cb4a45bcacf8100ee98688e77da95b0365c050c-3b415579ce758f83-01
2021-09-18T00:50:51.551Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:51.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cf6a0c9193598b2540fddf8163fda324e06a463-2edeac062a746d37-01 outer:exit 2b-7cf6a0c9193598b2540fddf8163fda324e06a463-ad479330e029a838-01
2021-09-18T00:50:51.554Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:51.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddd4edaed781405dba60046eaccfbd74acd93949-9678e19e6e10e452-01 outer:exit 2b-ddd4edaed781405dba60046eaccfbd74acd93949-1f0106594006fbb5-01
2021-09-18T00:50:51.556Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:51.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-71dcd05ff1751b67b162565e0a0fd8785bd7b827-e3be860b03a486d8-01 outer:exit 2b-71dcd05ff1751b67b162565e0a0fd8785bd7b827-10ddcada7619cc9a-01
2021-09-18T00:50:51.558Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:51.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0f13b3665659dac1959dde72a5089e0f266983e-bbd01ed6bb182559-01 outer:exit 2b-b0f13b3665659dac1959dde72a5089e0f266983e-5344833ad3af856c-01
2021-09-18T00:50:51.560Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:51.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-042932a7f0c1e047977f65e25828652171b9cd9a-2afc9f4ebd4202e5-01 outer:exit 2b-042932a7f0c1e047977f65e25828652171b9cd9a-5404ac2cd9a0be53-01
2021-09-18T00:50:51.562Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:51.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-57191e3e4bafb476d46a7e2e82baad2a5d3df942-1f96decb8e7a11da-01 outer:exit 2b-57191e3e4bafb476d46a7e2e82baad2a5d3df942-be6e681a38f7be87-01
2021-09-18T00:50:51.564Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:51.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbbc25a83a39b405844f133c60d4a472c0e021d5-ab08ef06e0ccc788-01 outer:exit 2b-bbbc25a83a39b405844f133c60d4a472c0e021d5-6bc09332ceb7878e-01
2021-09-18T00:50:51.566Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:51.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3bb7980909c2a0435fb5eece13f582e3fad69e2-21fece0036d69ec8-01 outer:exit 2b-d3bb7980909c2a0435fb5eece13f582e3fad69e2-5367ce868c0fc5d9-01
2021-09-18T00:50:51.568Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:51.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-c74da4a3959058b26797599a0d82d004ea3c883d-a19c3db3fd0a0907-01 outer:exit 2b-c74da4a3959058b26797599a0d82d004ea3c883d-6ade78dd21825a0c-01
2021-09-18T00:50:51.570Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:51.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c872c01e7d3727dc7ebe60e45be55509f27d727-f56b50a2e473be12-01 outer:exit 2b-1c872c01e7d3727dc7ebe60e45be55509f27d727-1408f39fefd6b43a-01
2021-09-18T00:50:51.573Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:51.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-381b99428aecaad9350671340235753643965197-a84b05d7bb1a0784-01 outer:exit 2b-381b99428aecaad9350671340235753643965197-80a8c5268f7af783-01
2021-09-18T00:50:51.578Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:51.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-83cd177c2015dee3dbbe659aad05dbb36135bf9d-b34670e38817de44-01 outer:exit 2b-83cd177c2015dee3dbbe659aad05dbb36135bf9d-3cb6e4012760efff-01
2021-09-18T00:50:51.582Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:51.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e0a437fadd9df0b7202a085ddd026612ee75860-2cdb74c8f1cee44c-01 outer:exit 2b-6e0a437fadd9df0b7202a085ddd026612ee75860-aeb97630020c1158-01
2021-09-18T00:50:51.589Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:51.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0d8ab7c4e2e865a2f7bc3d6082531a92ccef61e-e2d1f51d7f4b7aa8-01 outer:exit 2b-d0d8ab7c4e2e865a2f7bc3d6082531a92ccef61e-eb571c2c38ea2112-01
2021-09-18T00:50:51.596Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:51.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-feb5e4f4ea64843adfd8eb1eb1ee024cb3a12290-891938ea010d75f2-01 outer:exit 2b-feb5e4f4ea64843adfd8eb1eb1ee024cb3a12290-11ac7020decb1648-01
2021-09-18T00:50:51.598Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:51.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f40d445911f5e3c2585cb2176430399a4129a0d-ad35a64812b56123-01 outer:exit 2b-6f40d445911f5e3c2585cb2176430399a4129a0d-f6d3b966a01fdb90-01
2021-09-18T00:50:51.601Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:51.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e271c1409f172d8ace9c75350652b4607c26422-0fe2e5cd7c6731c5-01 outer:exit 2b-5e271c1409f172d8ace9c75350652b4607c26422-dc575671031afc72-01
2021-09-18T00:50:51.607Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:51.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-d642fb9bad758ca7e962a9d83013b66b82d68f20-6306e903e095d9d3-01 outer:exit 2b-d642fb9bad758ca7e962a9d83013b66b82d68f20-c57982cc0444a33a-01
2021-09-18T00:50:51.608Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:51.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-3657369984afcf706bbf6238d515d5e0ada153d6-2262dd019f37c3a9-01 outer:exit 2b-3657369984afcf706bbf6238d515d5e0ada153d6-45b6287fd672c0b3-01
2021-09-18T00:50:51.610Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:51.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-b124332d6d9c62cdbb108d26f94e4f745d3addfb-334ed14ad8ac3f39-01 outer:exit 2b-b124332d6d9c62cdbb108d26f94e4f745d3addfb-a3032407accf5a6f-01
2021-09-18T00:50:51.615Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:51.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-0025acda2a647a50519b58f4d33c93181fcf94c7-50c60ec7da8228a9-01 outer:exit 2b-0025acda2a647a50519b58f4d33c93181fcf94c7-6997b797744a18ce-01
2021-09-18T00:50:51.617Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:51.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-93c043ec5c10598589ec92327d431f48738bbbf3-28b71075be029379-01 outer:exit 2b-93c043ec5c10598589ec92327d431f48738bbbf3-2addbfedfbf8a5f9-01
2021-09-18T00:50:51.619Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:51.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-c48ccdb3cbc37074516cc9cc2b8fa4c4775d9b00-c24dbb1dd5fd5384-01 outer:exit 2b-c48ccdb3cbc37074516cc9cc2b8fa4c4775d9b00-dae9958bd8da726d-01
2021-09-18T00:50:51.626Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:51.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-632f3975671cb7bd10ced34b060d8fd9b0b278e3-964af4740c4d786c-01 outer:exit 2b-632f3975671cb7bd10ced34b060d8fd9b0b278e3-59e603c8fefbd143-01
2021-09-18T00:50:51.633Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:51.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd9a5cb8abeb324fb7edd3ac0b7075dbcc15e511-b8fdf7516682e53a-01 outer:exit 2b-bd9a5cb8abeb324fb7edd3ac0b7075dbcc15e511-ae364cf7bdf70a0e-01
2021-09-18T00:50:51.635Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:51.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5d2d6dad0c6d8bbfe538c2e39489297301f34d5-177f583911cab6d9-01 outer:exit 2b-e5d2d6dad0c6d8bbfe538c2e39489297301f34d5-645179143fc3ade7-01
2021-09-18T00:50:51.637Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:51.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d28cee105cab73f21ac7ee4963d48840ec27485-73deb67738df907a-01 outer:exit 2b-8d28cee105cab73f21ac7ee4963d48840ec27485-1955cc8e55f31c44-01
2021-09-18T00:50:51.639Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:51.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c2c8bc63b56d4f7b21f8335921fcbd3253efcff-f6731346a327299f-01 outer:exit 2b-5c2c8bc63b56d4f7b21f8335921fcbd3253efcff-7b6de430ce1591f3-01
2021-09-18T00:50:51.662Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:50:56.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:56.894Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:56.894Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:56.895Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:56.949Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:56.988Z appoptics:patching patched crypto 
2021-09-18T00:50:57.006Z appoptics:patching patched https 
2021-09-18T00:50:57.007Z appoptics:patching patched http 
2021-09-18T00:50:57.053Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:57.053Z appoptics:patching patched fs 
2021-09-18T00:50:57.068Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v16.9.1)
2021-09-18T00:50:57.074Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-09-18T00:50:57.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-a64dec90e67eb1d9670871fd4d6a58bed60f9a19-ed0ac84261401b6e-01 outer:exit 2b-a64dec90e67eb1d9670871fd4d6a58bed60f9a19-54598767a9a99658-01
2021-09-18T00:50:57.203Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:57.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e76ece97f54599d4ca97a939dbd9bc5ff0caa5e-321f40aa62ef3c30-01 outer:exit 2b-0e76ece97f54599d4ca97a939dbd9bc5ff0caa5e-5af81fdd1b603e43-01
2021-09-18T00:50:57.248Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:57.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-81cfb883b6670048d9a91030d58a981fc22e70be-77a014ec0b40a0f4-01 outer:exit 2b-81cfb883b6670048d9a91030d58a981fc22e70be-7d7b9b2f3d6dc64d-01
2021-09-18T00:50:57.250Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:57.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa1d662df1da58e9fe5dc789d0fa6ccfbf41fe86-44f9ccb24d2852fa-01 outer:exit 2b-aa1d662df1da58e9fe5dc789d0fa6ccfbf41fe86-3af81a51d1459108-01
2021-09-18T00:50:57.252Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:57.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-43757dd3460a3e7d35f00399509e8afc6bb1b0e5-34b19042b7bc502d-01 outer:exit 2b-43757dd3460a3e7d35f00399509e8afc6bb1b0e5-6802a4b91aa3e58e-01
2021-09-18T00:50:57.256Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:57.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-b765871220081a418476119413a04b8015866204-5014d4797740e27b-01 outer:exit 2b-b765871220081a418476119413a04b8015866204-945930687f497f4a-01
2021-09-18T00:50:57.259Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:57.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5acaa5253703d6180c9e98ef302fc1837bf1914-bdb983efe0181c17-01 outer:exit 2b-f5acaa5253703d6180c9e98ef302fc1837bf1914-386e932af7ebfa63-01
2021-09-18T00:50:57.261Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:57.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bbb3e891101db5a1e065dc60715d927da643a68-0474a2d322cdc56d-01 outer:exit 2b-8bbb3e891101db5a1e065dc60715d927da643a68-fcf1084ba3b9348f-01
2021-09-18T00:50:57.263Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:57.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-72f6897cfc8303bf6bffc370c34ac827079a61d3-4a00cfd26a79a3e8-01 outer:exit 2b-72f6897cfc8303bf6bffc370c34ac827079a61d3-0376768530dab97f-01
2021-09-18T00:50:57.265Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:57.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-f38c06e81524dc8f041936eb8074022b50278bb0-538c3bff864a61e6-01 outer:exit 2b-f38c06e81524dc8f041936eb8074022b50278bb0-77a0ef80f4410d4c-01
2021-09-18T00:50:57.267Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:57.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-29c674df64c82333249f12f728a5e728934bc758-a120bd74f2a6b9ef-01 outer:exit 2b-29c674df64c82333249f12f728a5e728934bc758-2b7bbc0871e4db24-01
2021-09-18T00:50:57.271Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:57.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d2fdf0c071f2c25008c5757812dd047d85b0550-9a05d66a52dbab40-01 outer:exit 2b-8d2fdf0c071f2c25008c5757812dd047d85b0550-70d8247ca1435875-01
2021-09-18T00:50:57.276Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:57.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-133139ec5b73daf0f11e19fbca1bdcd14d0dd220-d49c49177a6329aa-01 outer:exit 2b-133139ec5b73daf0f11e19fbca1bdcd14d0dd220-281d0fb4e71cdef0-01
2021-09-18T00:50:57.290Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:57.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b75fc5aea3bc169a64194570b1abbfbfc56ae5c-88ed3ef80f33baca-01 outer:exit 2b-3b75fc5aea3bc169a64194570b1abbfbfc56ae5c-f7681130d3ce546d-01
2021-09-18T00:50:57.348Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:57.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-25c539075b5b710000984cbd51dbe39673cbc7f0-5805a73882732761-01 outer:exit 2b-25c539075b5b710000984cbd51dbe39673cbc7f0-0577321219e88c0a-01
2021-09-18T00:50:57.350Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:57.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7e1491b95449e67f2dcde6b6fc8e2fb3ab01c67-527a96439af00e90-01 outer:exit 2b-e7e1491b95449e67f2dcde6b6fc8e2fb3ab01c67-2a1fa3e12a93232e-01
2021-09-18T00:50:57.352Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:57.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-d459035a9eb726e3679633952ee1578db8ef2d44-f8a68cc88f3f8ec0-01 outer:exit 2b-d459035a9eb726e3679633952ee1578db8ef2d44-3c2fdca381be497e-01
2021-09-18T00:50:57.354Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:57.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-26eadf8db50eed8a038fbd2439af40ae74459776-f7fedb43c7abef7c-01 outer:exit 2b-26eadf8db50eed8a038fbd2439af40ae74459776-7b468122200e8795-01
2021-09-18T00:50:57.356Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:57.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb9dff9c016205fad367975d2a2108ab0f2ce975-05fb905594fbe427-01 outer:exit 2b-cb9dff9c016205fad367975d2a2108ab0f2ce975-199347eb5409086e-01
2021-09-18T00:50:57.358Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:57.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-64aa9eccf1d45e62803b723da088ebc70c5c2844-35645cb7237cb326-01 outer:exit 2b-64aa9eccf1d45e62803b723da088ebc70c5c2844-4965916aa8f5df14-01
2021-09-18T00:50:57.360Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:57.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e45c42778c7da809db3609cdfb7bb1e2e0afb7b-17148112a6a9e2ec-01 outer:exit 2b-7e45c42778c7da809db3609cdfb7bb1e2e0afb7b-2a2a83c4800485e7-01
2021-09-18T00:50:57.362Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:57.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-6479110eb3d1df05b5640b2608d7eeec176f1fd4-0cd0302c693a13b9-01 outer:exit 2b-6479110eb3d1df05b5640b2608d7eeec176f1fd4-506a361b793ee5b3-01
2021-09-18T00:50:57.364Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:57.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef41ba0a40b24201c9f5bd6488dce5de65085ef0-2d4580abca4071e4-01 outer:exit 2b-ef41ba0a40b24201c9f5bd6488dce5de65085ef0-2d584dc23ccf76b8-01
2021-09-18T00:50:57.366Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:57.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-980c342a3259fe49bfa84328cca8dddaa7802481-0aa943e7b10fd5b6-01 outer:exit 2b-980c342a3259fe49bfa84328cca8dddaa7802481-723d120425938d54-01
2021-09-18T00:50:57.369Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:57.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ed31fc6307d54d1a38245b3d59656c0797ac700-1980d8a034665466-01 outer:exit 2b-5ed31fc6307d54d1a38245b3d59656c0797ac700-7f9b7911de041c93-01
2021-09-18T00:50:57.370Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:57.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cc9f9dfd4f9f9c5fa589de77dffb7e7570b7c84-c90a2547c437709d-01 outer:exit 2b-2cc9f9dfd4f9f9c5fa589de77dffb7e7570b7c84-2ebd8dc261252f0e-01
2021-09-18T00:50:57.373Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:57.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-075b0052986cb1e771c445cfd2f70d82da2acd3a-4b93d0547c3bc035-01 outer:exit 2b-075b0052986cb1e771c445cfd2f70d82da2acd3a-5f6f3b261ca31a72-01
2021-09-18T00:50:57.378Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:57.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-41175a9a8729d4ac7428a2fc709d37309acd119d-fa14d7da92b8503f-01 outer:exit 2b-41175a9a8729d4ac7428a2fc709d37309acd119d-c58f1b57433faa20-01
2021-09-18T00:50:57.381Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:57.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-56cc62bbe89fb3da7888c7eccc422b02200adab8-bf807fff517f32ae-01 outer:exit 2b-56cc62bbe89fb3da7888c7eccc422b02200adab8-6625f0e9c16c2690-01
2021-09-18T00:50:57.389Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:57.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e3c307f6c2760bbba987ccafa55e93e67bc7cc2-f627b7b4c2b6f443-01 outer:exit 2b-9e3c307f6c2760bbba987ccafa55e93e67bc7cc2-b871b9a2d1c3dc8b-01
2021-09-18T00:50:57.394Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:57.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8fabc60fbefac41b77486175ac8d0cb6ddf845b-12d9e3630bf3e29d-01 outer:exit 2b-e8fabc60fbefac41b77486175ac8d0cb6ddf845b-bef1f8fe6fb60316-01
2021-09-18T00:50:57.396Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:57.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-01f0733f5b6e7dce9d0329213572695fb15c5606-96af810751c4e3f0-01 outer:exit 2b-01f0733f5b6e7dce9d0329213572695fb15c5606-18752bdd24ab2f3b-01
2021-09-18T00:50:57.398Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:57.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfada6d2e54ba88e242e4281311b29028983462a-e632a0d635d0a9f2-01 outer:exit 2b-bfada6d2e54ba88e242e4281311b29028983462a-b0b1d176df93c346-01
2021-09-18T00:50:57.404Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:57.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-98fc2e1ba42e9387669c34159e04c61f78b5cac7-e54141426f23f508-01 outer:exit 2b-98fc2e1ba42e9387669c34159e04c61f78b5cac7-a66ba2bd4b22f153-01
2021-09-18T00:50:57.406Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:57.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4e776344d91bcd87c80a9617a35166891e8c3ee-474ae55696edf7e4-01 outer:exit 2b-b4e776344d91bcd87c80a9617a35166891e8c3ee-f6b011b33532d3c1-01
2021-09-18T00:50:57.407Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:57.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f77e08147349cb324af817d9ab0ec625e1b9544-85b8b1f2cf0e2cc6-01 outer:exit 2b-7f77e08147349cb324af817d9ab0ec625e1b9544-84e1a34770b63da2-01
2021-09-18T00:50:57.414Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:57.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-e723f1d0dcbd0cfa44ab0c5ece46827fc36fa32e-14a08865093c49a3-01 outer:exit 2b-e723f1d0dcbd0cfa44ab0c5ece46827fc36fa32e-a47f7ee834d8977a-01
2021-09-18T00:50:57.416Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:57.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-44656487759ca0838f0ff25fd0b26f3ce5ae6452-e92c783168bbc79c-01 outer:exit 2b-44656487759ca0838f0ff25fd0b26f3ce5ae6452-a898b6fa0d450373-01
2021-09-18T00:50:57.418Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:57.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad2f510cf0b9b0d45035d11a9112639761ad5250-4a0881fdf0989759-01 outer:exit 2b-ad2f510cf0b9b0d45035d11a9112639761ad5250-5e9a4a3647b54b52-01
2021-09-18T00:50:57.425Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:57.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-66aa95181c4ecbe7684d56ca290dead675a88990-02f0719dafb53d3b-01 outer:exit 2b-66aa95181c4ecbe7684d56ca290dead675a88990-2eb540fe8678daf9-01
2021-09-18T00:50:57.432Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:57.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8519eed9146b31413467ac732e2975b9f77e162-918eacbf573e093c-01 outer:exit 2b-e8519eed9146b31413467ac732e2975b9f77e162-48d0e52130afecca-01
2021-09-18T00:50:57.434Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:57.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd7ac55d585d6b96eeac5c5a64faa511171ac3eb-c8760ecea7e2843c-01 outer:exit 2b-cd7ac55d585d6b96eeac5c5a64faa511171ac3eb-c834fcd3cc7d439d-01
2021-09-18T00:50:57.436Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:57.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-35316c5d63c2e30febce6491ded68de5536ee535-3b9f0cd314975125-01 outer:exit 2b-35316c5d63c2e30febce6491ded68de5536ee535-3bb85c138bee5e37-01
2021-09-18T00:50:57.439Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:57.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7888a43626a3c0d397468bc58d50d4bcba86d56-901f255537647aa0-01 outer:exit 2b-b7888a43626a3c0d397468bc58d50d4bcba86d56-55c28f7894dfd547-01
2021-09-18T00:50:57.461Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (288ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:03.164Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:03.165Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:03.165Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:03.166Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:03.229Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:03.268Z appoptics:patching patched crypto 
2021-09-18T00:51:03.288Z appoptics:patching patched https 
2021-09-18T00:51:03.289Z appoptics:patching patched http 
2021-09-18T00:51:03.340Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:03.341Z appoptics:patching patched fs 
2021-09-18T00:51:03.355Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v16.9.1)
2021-09-18T00:51:03.362Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-09-18T00:51:03.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-54267decb0acd436c8ed8a0f0aa2629e670778d7-a144f01f1f3f410e-01 outer:exit 2b-54267decb0acd436c8ed8a0f0aa2629e670778d7-2b07e7f20e30f799-01
2021-09-18T00:51:03.591Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:03.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e53974e9d74c96b1314dc5a7af8649d6c83f393-a864b84dd32c2737-01 outer:exit 2b-0e53974e9d74c96b1314dc5a7af8649d6c83f393-1ec0d0eb8e4ee8ac-01
2021-09-18T00:51:03.656Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:03.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-30dc5103938e77a50edeadf8a60b3618863e5efd-0c890dc8d77174ae-01 outer:exit 2b-30dc5103938e77a50edeadf8a60b3618863e5efd-78359fcff3ed4b32-01
2021-09-18T00:51:03.659Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:03.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0f14b95613ee9b6b1ecc3d0307472546fcc6f37-ada77529d98c385f-01 outer:exit 2b-f0f14b95613ee9b6b1ecc3d0307472546fcc6f37-8057fe39e41e62ff-01
2021-09-18T00:51:03.661Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:03.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-34530ea3580a9f4a474ff18040e0cff45ceea256-d4a984dc218d3173-01 outer:exit 2b-34530ea3580a9f4a474ff18040e0cff45ceea256-b28ddd37971ccda4-01
2021-09-18T00:51:03.665Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:03.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-d19d7a4ea5d01981910103af03f0d29808f8a9db-f82636502c07c349-01 outer:exit 2b-d19d7a4ea5d01981910103af03f0d29808f8a9db-dd44ce2b8d9596a4-01
2021-09-18T00:51:03.668Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:03.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-69e242d69f6f01b1375137eaf0eab037af77dc0a-acc7ffefabeb84b9-01 outer:exit 2b-69e242d69f6f01b1375137eaf0eab037af77dc0a-cde1c55c44e947e6-01
2021-09-18T00:51:03.671Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:03.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed69b6a881483eb8cf93c656103fbbaa70abc81f-dc4fbd3535252e63-01 outer:exit 2b-ed69b6a881483eb8cf93c656103fbbaa70abc81f-22509245c059b943-01
2021-09-18T00:51:03.674Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:03.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-d438b6f90ed0c6cbd7163c548fc45b6f7b8a9df8-9d01d89d2ac0f71e-01 outer:exit 2b-d438b6f90ed0c6cbd7163c548fc45b6f7b8a9df8-821971ea43c2e1e7-01
2021-09-18T00:51:03.677Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:03.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-e69cee571086083f8bac709bc10f71b606752bac-cafb4e8b47f225d5-01 outer:exit 2b-e69cee571086083f8bac709bc10f71b606752bac-b3916c5d0d841373-01
2021-09-18T00:51:03.681Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:03.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-db38c452a791a1274761ecd40d7d3a37911c2e5e-237bffe4f3ecd099-01 outer:exit 2b-db38c452a791a1274761ecd40d7d3a37911c2e5e-61cf44644ce23dce-01
2021-09-18T00:51:03.686Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:03.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-7262c9c41afa72d817b039ce66485a8db25c268b-5d05967447203ab6-01 outer:exit 2b-7262c9c41afa72d817b039ce66485a8db25c268b-ac6431fe65305509-01
2021-09-18T00:51:03.696Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:03.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b3c2f9a2747f26288e66738098e0bc904fc8cf2-34ab2084d912eb97-01 outer:exit 2b-1b3c2f9a2747f26288e66738098e0bc904fc8cf2-61dd4895342172c2-01
2021-09-18T00:51:03.713Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:03.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde6f51117f7dc387b1696dbbe26d0c8d3e3056d-3d90dda70bf72f56-01 outer:exit 2b-fde6f51117f7dc387b1696dbbe26d0c8d3e3056d-35765faa4c5e0f01-01
2021-09-18T00:51:03.758Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:03.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-abbb78cf2e71d9941b2b1f03347d3369619cd8f4-227c82f4f73aa874-01 outer:exit 2b-abbb78cf2e71d9941b2b1f03347d3369619cd8f4-1a28a19bfaa6dd15-01
2021-09-18T00:51:03.768Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:03.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fd5dc57fc60ef9ffed81e5b33f0a9dd1cde2436-a3e1be2f1fd22c39-01 outer:exit 2b-0fd5dc57fc60ef9ffed81e5b33f0a9dd1cde2436-a72d19be54a3d1ec-01
2021-09-18T00:51:03.770Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:03.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-1064ac777625957251374cd0f2753c91363f2085-163f50bc36487082-01 outer:exit 2b-1064ac777625957251374cd0f2753c91363f2085-a24843547d1006e1-01
2021-09-18T00:51:03.773Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:03.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4d9bb40e4eec64843b4baae4c109ad1ab29b2fc-05bbab646e960be4-01 outer:exit 2b-b4d9bb40e4eec64843b4baae4c109ad1ab29b2fc-47cb728718e46fff-01
2021-09-18T00:51:03.775Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:03.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-818257bb1ef3542e0e034a7175e36f50c6bb37f6-4054febe797d1614-01 outer:exit 2b-818257bb1ef3542e0e034a7175e36f50c6bb37f6-2fe4b9522eca4711-01
2021-09-18T00:51:03.777Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:03.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb222e1569ad011347aa31ac49bc57497ca737b1-df2e4e9dfac8bbaa-01 outer:exit 2b-fb222e1569ad011347aa31ac49bc57497ca737b1-30d9922b7c4e4145-01
2021-09-18T00:51:03.781Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:03.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-4950b36ae8787a49fdd4a22ca69ac6b35e54a2eb-ccb4192325094486-01 outer:exit 2b-4950b36ae8787a49fdd4a22ca69ac6b35e54a2eb-fcb8e8300e474b0a-01
2021-09-18T00:51:03.785Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:03.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbcb6e433d681933eddbc4813e32b8d44a93f1ad-cd6424904c9dd7f9-01 outer:exit 2b-bbcb6e433d681933eddbc4813e32b8d44a93f1ad-44692ef75550e5de-01
2021-09-18T00:51:03.790Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:03.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-85cb533f2ead98f68b4d6040938e31da4362e858-ca0ee55208c87b03-01 outer:exit 2b-85cb533f2ead98f68b4d6040938e31da4362e858-c67476250dbe6524-01
2021-09-18T00:51:03.796Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:03.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6a19315b7ae5ae19c2df7c7fa31578a76bdc530-d52f7386d1d9db23-01 outer:exit 2b-b6a19315b7ae5ae19c2df7c7fa31578a76bdc530-53a37b77418d66b4-01
2021-09-18T00:51:03.801Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:03.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-d35667d55b490333bd7082eab9154ecf3fda8d19-116f91f9f1e1ad67-01 outer:exit 2b-d35667d55b490333bd7082eab9154ecf3fda8d19-199e95881ff93ad4-01
2021-09-18T00:51:03.805Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:03.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cc670d7b89ddfd53c9eedd5684fc49f2084ba5d-03e2c897ce8a6d75-01 outer:exit 2b-0cc670d7b89ddfd53c9eedd5684fc49f2084ba5d-a365c18a2a9e4835-01
2021-09-18T00:51:03.810Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:03.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-891523a0ffb228087f12f76918122e41aa14019e-5476ac885831ada8-01 outer:exit 2b-891523a0ffb228087f12f76918122e41aa14019e-a2a574b9e7393709-01
2021-09-18T00:51:03.818Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:03.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-310e7b74a47d1f2988fbf0fc5c904c4ff7aefd45-6a225de9a39f5997-01 outer:exit 2b-310e7b74a47d1f2988fbf0fc5c904c4ff7aefd45-5ad96d95891e2a03-01
2021-09-18T00:51:03.824Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:03.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-03e6c413ade492eb5f68cef67db69745f71abcbf-27206ec3a53e3abf-01 outer:exit 2b-03e6c413ade492eb5f68cef67db69745f71abcbf-1d4d39518f8e371c-01
2021-09-18T00:51:03.838Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:03.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-479162e868edcb40b9240f3b9b83fad4ed53bd6f-52ded2569c19c63f-01 outer:exit 2b-479162e868edcb40b9240f3b9b83fad4ed53bd6f-a10e7b83c2c7f140-01
2021-09-18T00:51:03.846Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:03.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cefe153da75579fb30953f2b115b58b86e1f623-67dd47dc94c2ac55-01 outer:exit 2b-1cefe153da75579fb30953f2b115b58b86e1f623-4d4d40698535d56e-01
2021-09-18T00:51:03.848Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:03.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-82981f63a9906fb071148da3f4a38b0f615c8f61-a0ee971b74e69bf7-01 outer:exit 2b-82981f63a9906fb071148da3f4a38b0f615c8f61-144cb53831d25dfb-01
2021-09-18T00:51:03.852Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:03.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f400187009d6e273e3d634e7a9e4a705bf6e352-b08643e80d2566e3-01 outer:exit 2b-0f400187009d6e273e3d634e7a9e4a705bf6e352-74edddb7eba660d8-01
2021-09-18T00:51:03.858Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:03.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6ea28420faa9ba37f57292aafdbdb00079d66cb-454ec92b5e471538-01 outer:exit 2b-c6ea28420faa9ba37f57292aafdbdb00079d66cb-cd5a826ce4a2ceb8-01
2021-09-18T00:51:03.860Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:03.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-b10748b818d789c477079d0da6bdd94f5f6acc54-46ac5ba5251c7f70-01 outer:exit 2b-b10748b818d789c477079d0da6bdd94f5f6acc54-e42f687ab6c1edef-01
2021-09-18T00:51:03.867Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:03.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-12af67055a488276778b69a05c56c7d3232a0db7-182d2904a4390767-01 outer:exit 2b-12af67055a488276778b69a05c56c7d3232a0db7-8eb0a0714b5babca-01
2021-09-18T00:51:03.869Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:03.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-6420d6e459691aa4fec42125165c9fe651f79c9a-255e41f18c4e167e-01 outer:exit 2b-6420d6e459691aa4fec42125165c9fe651f79c9a-0024643698960ddd-01
2021-09-18T00:51:03.871Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:03.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-25d7b417db86e59f98b43ced11e198fff3300352-3a0633cf9ea37eec-01 outer:exit 2b-25d7b417db86e59f98b43ced11e198fff3300352-4d5d915908de6d56-01
2021-09-18T00:51:03.873Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:03.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9f174166451b7b36b062a4d18b1f9fffa89560f-75c2b30c54657884-01 outer:exit 2b-a9f174166451b7b36b062a4d18b1f9fffa89560f-99b8b0dcf420b91e-01
2021-09-18T00:51:03.881Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:03.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cf678d8729f0f407afcc02a066883137bee2955-31f98d23b58fd822-01 outer:exit 2b-7cf678d8729f0f407afcc02a066883137bee2955-ee096c9e40568d22-01
2021-09-18T00:51:03.893Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:03.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e645e3e7c965cf0dd8f57a9267992866d73c95a-4af4d6738463888d-01 outer:exit 2b-5e645e3e7c965cf0dd8f57a9267992866d73c95a-965be07ffa0d9a4d-01
2021-09-18T00:51:03.904Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:03.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-754946a80ff3eb585dad41e352e56a1f94019556-ec9002654a86f21f-01 outer:exit 2b-754946a80ff3eb585dad41e352e56a1f94019556-3a124d2ba524a6fb-01
2021-09-18T00:51:03.906Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:03.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-59d99f4a857f567d09ba10fc591de111cd3423d4-d7cb2fcaa5f26249-01 outer:exit 2b-59d99f4a857f567d09ba10fc591de111cd3423d4-96e05f1c490ce0a8-01
2021-09-18T00:51:03.908Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:03.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e3b936b3ea2604454f9f5c7283b38214291a660-9c769af0387becbf-01 outer:exit 2b-9e3b936b3ea2604454f9f5c7283b38214291a660-ebbbd75f446d8292-01
2021-09-18T00:51:03.940Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (423ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:09.049Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:09.050Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:09.050Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:09.050Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:09.105Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:09.154Z appoptics:patching patched crypto 
2021-09-18T00:51:09.175Z appoptics:patching patched https 
2021-09-18T00:51:09.176Z appoptics:patching patched http 
2021-09-18T00:51:09.224Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:09.224Z appoptics:patching patched fs 
2021-09-18T00:51:09.241Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v16.9.1)
2021-09-18T00:51:09.248Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-09-18T00:51:09.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-45897c557b5635355697d6d03bb6390d8efb37ef-7ea9ef58e45a875e-01 outer:exit 2b-45897c557b5635355697d6d03bb6390d8efb37ef-f113fe31cde564e5-01
2021-09-18T00:51:09.379Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:09.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-629ade5611ea20984353d05ff48aa9faf394b33d-6eba5adb9d810961-01 outer:exit 2b-629ade5611ea20984353d05ff48aa9faf394b33d-75c606a7b223cf5d-01
2021-09-18T00:51:09.448Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:09.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-677c68203dea610963424403ddc935f16c2bb006-6308b809166a2bdb-01 outer:exit 2b-677c68203dea610963424403ddc935f16c2bb006-2b5fd5d8288cc677-01
2021-09-18T00:51:09.452Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:09.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-a835632dfb091e46dfe62dd96bcd2db3f617b690-58545f1eec202ba0-01 outer:exit 2b-a835632dfb091e46dfe62dd96bcd2db3f617b690-244f846b0a335153-01
2021-09-18T00:51:09.454Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:09.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0f981b1d5f1820b301e4d342350579965e3fa8-8381b74cbe9e1735-01 outer:exit 2b-0e0f981b1d5f1820b301e4d342350579965e3fa8-741ed32043284bcb-01
2021-09-18T00:51:09.458Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:09.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-555a0b71769619147a422627c0871517b4e46e36-422fe04be499ec39-01 outer:exit 2b-555a0b71769619147a422627c0871517b4e46e36-c2dcf50b644678f8-01
2021-09-18T00:51:09.461Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:09.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-2df0a4eaea5b5554c50dc285424a87f40504498d-803828847272b80c-01 outer:exit 2b-2df0a4eaea5b5554c50dc285424a87f40504498d-bb1abf3fe03177f4-01
2021-09-18T00:51:09.463Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:09.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae2ddb2e548bc5da3b38634a6301d6d8d203bb87-0838ab71f9e55964-01 outer:exit 2b-ae2ddb2e548bc5da3b38634a6301d6d8d203bb87-43aa41090e084145-01
2021-09-18T00:51:09.465Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:09.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dba4239fffd8786536d1c985137293ec66aa934-e9d8482d41df53b2-01 outer:exit 2b-1dba4239fffd8786536d1c985137293ec66aa934-06244ee2717a4814-01
2021-09-18T00:51:09.467Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:09.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-499636378abc5905b7506719b78e6500f4d8902b-75fe814041ed0eba-01 outer:exit 2b-499636378abc5905b7506719b78e6500f4d8902b-37f9ef01d0229945-01
2021-09-18T00:51:09.470Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:09.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-63385ea0665b95394da80f8dea22b6fcbff3f3a4-90b92be9b986c5a0-01 outer:exit 2b-63385ea0665b95394da80f8dea22b6fcbff3f3a4-6d820c71f103497b-01
2021-09-18T00:51:09.473Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:09.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da14b310d4993d8a836e83cfc2214f770c13871-158c7908386b6e4d-01 outer:exit 2b-7da14b310d4993d8a836e83cfc2214f770c13871-0bfb9219c3cb14a1-01
2021-09-18T00:51:09.478Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:09.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-2580899f28dae2f9f56b96aff0a5ebb413f2beb0-ada6cba1ca30ebdd-01 outer:exit 2b-2580899f28dae2f9f56b96aff0a5ebb413f2beb0-5ce1f835ec1e6868-01
2021-09-18T00:51:09.492Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:09.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-690cca110cf653efa9c60fdb27bfa18f2a03b4f0-bf8c8936fc814ff7-01 outer:exit 2b-690cca110cf653efa9c60fdb27bfa18f2a03b4f0-690157241d5f0e65-01
2021-09-18T00:51:09.548Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:09.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c3c4d9bf3995f9df0e3d12a3ece8ecf199cc779-b42c15f1103f7204-01 outer:exit 2b-0c3c4d9bf3995f9df0e3d12a3ece8ecf199cc779-e6115f54e75e3b17-01
2021-09-18T00:51:09.550Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:09.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91ce2472b0a26c7d9277c3b0d6d2fc7cf5d3147-d85131fdc2fed262-01 outer:exit 2b-b91ce2472b0a26c7d9277c3b0d6d2fc7cf5d3147-0062561385e00182-01
2021-09-18T00:51:09.553Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:09.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f3e6ea401388c74474a182c52d25088464f8bd1-877c881c0f374ea3-01 outer:exit 2b-9f3e6ea401388c74474a182c52d25088464f8bd1-5952094b6d51b436-01
2021-09-18T00:51:09.555Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:09.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-060cdb36014ec1329575359e74bbc7913af6d4f6-03991948786f7601-01 outer:exit 2b-060cdb36014ec1329575359e74bbc7913af6d4f6-db24f1a4d82c6bd7-01
2021-09-18T00:51:09.558Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:09.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-195cd3bad2c31b1234bc53a1fe6464afcd10215c-867d283faa37fd91-01 outer:exit 2b-195cd3bad2c31b1234bc53a1fe6464afcd10215c-6102ae035ed78ac7-01
2021-09-18T00:51:09.560Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:09.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8777b8d8b81956602b7289910b0644dd89b635a-fdfa4585254dc27c-01 outer:exit 2b-d8777b8d8b81956602b7289910b0644dd89b635a-077cb18b4347c6a5-01
2021-09-18T00:51:09.561Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:09.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-eed2c9ed9535e7a64712bd97cda01df8cb5743ef-5ce39e8a96fd7ed4-01 outer:exit 2b-eed2c9ed9535e7a64712bd97cda01df8cb5743ef-ccdbd352aed4bee6-01
2021-09-18T00:51:09.563Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:09.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d896a87f7f3b85b38216dd289667d22d6ca18fe-ea921dfa5737bda1-01 outer:exit 2b-2d896a87f7f3b85b38216dd289667d22d6ca18fe-e4079909aa3af5ff-01
2021-09-18T00:51:09.565Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:09.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-01cfa6a0423467181766ff28b65b2ccf724193cc-31f2181656a676a5-01 outer:exit 2b-01cfa6a0423467181766ff28b65b2ccf724193cc-042da5703c8acce4-01
2021-09-18T00:51:09.568Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:09.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-0977464640430ed31b6a82437ffa84aba4efb752-2d81dfcda3fea04e-01 outer:exit 2b-0977464640430ed31b6a82437ffa84aba4efb752-025e0a8b6f6728ec-01
2021-09-18T00:51:09.570Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:09.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-983125e31b2c34e910bc31d433d9fdf1d94163f8-ba6ed4415bada063-01 outer:exit 2b-983125e31b2c34e910bc31d433d9fdf1d94163f8-66dfcf172320eab1-01
2021-09-18T00:51:09.572Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:09.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-00f1bf027e5adbc488cd293706799e11cba82cd0-a6c404d9015ec013-01 outer:exit 2b-00f1bf027e5adbc488cd293706799e11cba82cd0-00991cdbe0d8d53f-01
2021-09-18T00:51:09.576Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:09.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d3434ff82afbf62a735db38a324121a136e1424-585242f75f22da78-01 outer:exit 2b-3d3434ff82afbf62a735db38a324121a136e1424-7f7a802839a6816c-01
2021-09-18T00:51:09.581Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:09.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-97bfa6e0f7688c3669ae7274f3a1347e4cd21582-8212570a7592720b-01 outer:exit 2b-97bfa6e0f7688c3669ae7274f3a1347e4cd21582-38c893ea1113fae9-01
2021-09-18T00:51:09.585Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:09.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-c679139ae159bb125db20974c04a18e36f28f16b-d8d7dada9f71daa3-01 outer:exit 2b-c679139ae159bb125db20974c04a18e36f28f16b-832cc278c1b66cb3-01
2021-09-18T00:51:09.595Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:09.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed9e873e09851d5c27b69fc81cf75c65d4e8d0e1-9451c3c793a99741-01 outer:exit 2b-ed9e873e09851d5c27b69fc81cf75c65d4e8d0e1-5b3f9ca48e830211-01
2021-09-18T00:51:09.600Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:09.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-220bcb16ba165d284ed3066c32b76a3a8353beeb-7ce5623c8f56cdd5-01 outer:exit 2b-220bcb16ba165d284ed3066c32b76a3a8353beeb-9ff369a4adc870e9-01
2021-09-18T00:51:09.602Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:09.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-89eeb43cd4aded49c9456a53f1e7df4d0cbc578e-f212bb786f62706c-01 outer:exit 2b-89eeb43cd4aded49c9456a53f1e7df4d0cbc578e-f223ff4640d889bc-01
2021-09-18T00:51:09.605Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:09.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-69bb51de1ecbfe941ce7186b5d61af10f3a09d9d-175bf6805349dea1-01 outer:exit 2b-69bb51de1ecbfe941ce7186b5d61af10f3a09d9d-77a3704a5590f10b-01
2021-09-18T00:51:09.610Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:09.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-27830f5922c5a9136d52dd1005230d4ab2855e96-d230fe4e4f32b28f-01 outer:exit 2b-27830f5922c5a9136d52dd1005230d4ab2855e96-683579c8abe75c57-01
2021-09-18T00:51:09.612Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:09.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-d84a690ad708d3d3a9694aa7dd6c320eab362671-cf7c0696578c61bf-01 outer:exit 2b-d84a690ad708d3d3a9694aa7dd6c320eab362671-87574957f40ebfde-01
2021-09-18T00:51:09.614Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:09.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-62a0ece3fed93ec24e629ece67321ff7dc131981-e882b9753266cadd-01 outer:exit 2b-62a0ece3fed93ec24e629ece67321ff7dc131981-2c2211764b022e2b-01
2021-09-18T00:51:09.615Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:09.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2315bc1c68779e056e875f3b786e0413a6ef354-b78d1d730d3fbfe7-01 outer:exit 2b-e2315bc1c68779e056e875f3b786e0413a6ef354-6cb0565add483c09-01
2021-09-18T00:51:09.621Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:09.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-16cbfed8d66bba10b52427f62eedbad9fb74bd1a-6080c4e4cf9b4270-01 outer:exit 2b-16cbfed8d66bba10b52427f62eedbad9fb74bd1a-913eb6c45bc84b8e-01
2021-09-18T00:51:09.622Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:09.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced1ee3d32311dcc42f0ed383c43575dafbe75eb-f3970f9ad206f18a-01 outer:exit 2b-ced1ee3d32311dcc42f0ed383c43575dafbe75eb-3f0d86090f9b8e42-01
2021-09-18T00:51:09.634Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:09.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-76f22752ca3e7b38a90453478599ca1d3397855f-1ba6f317b3224c21-01 outer:exit 2b-76f22752ca3e7b38a90453478599ca1d3397855f-ebc8a817c90362fe-01
2021-09-18T00:51:09.640Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:09.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-949a41567f6bc6d157f43a9b37ac1af5805df7ee-fe18b3e66b1380d7-01 outer:exit 2b-949a41567f6bc6d157f43a9b37ac1af5805df7ee-a9de87cbb81db51c-01
2021-09-18T00:51:09.643Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:09.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-21423ff5a679aa8c309e3e95ca228e2f0007bb7e-4dc0a0128fc11e80-01 outer:exit 2b-21423ff5a679aa8c309e3e95ca228e2f0007bb7e-e33dc7ddb458b1f4-01
2021-09-18T00:51:09.645Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:09.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9c13a9bbc50807b35d050a03cbcf4e423e955e1-3f3b495de0e9acb6-01 outer:exit 2b-e9c13a9bbc50807b35d050a03cbcf4e423e955e1-ff9654f20f05260e-01
2021-09-18T00:51:09.648Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:09.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dd61016b9237596a5e65acf735575c08d2236e2-badf91bdafe3b86f-01 outer:exit 2b-1dd61016b9237596a5e65acf735575c08d2236e2-d750397e0bb9758e-01
2021-09-18T00:51:09.670Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (321ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:16.058Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:16.059Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:16.059Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:16.059Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:16.114Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:16.153Z appoptics:patching patched crypto 
2021-09-18T00:51:16.172Z appoptics:patching patched https 
2021-09-18T00:51:16.172Z appoptics:patching patched http 
2021-09-18T00:51:16.220Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:16.220Z appoptics:patching patched fs 
2021-09-18T00:51:16.234Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v16.9.1)
2021-09-18T00:51:16.241Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-09-18T00:51:16.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef87dcae3be1b038415dc67b77decfce6e9776d4-174ac02833bcd884-01 outer:exit 2b-ef87dcae3be1b038415dc67b77decfce6e9776d4-d0c29f78df4da51f-01
2021-09-18T00:51:16.371Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:16.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-7483ce2a7e4dafb97feb151475ef22b6a26c304b-2027ec5ab32b53fd-01 outer:exit 2b-7483ce2a7e4dafb97feb151475ef22b6a26c304b-ab7af34748478dee-01
2021-09-18T00:51:16.413Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:16.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-31a42ea7c8639804953bf9241d56b42065670218-d3ba72ff6dce5a11-01 outer:exit 2b-31a42ea7c8639804953bf9241d56b42065670218-30dd3fc9c37db823-01
2021-09-18T00:51:16.416Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:16.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3023b55952274e73a0dc15780b89e7f1310e513-b60141f18831c885-01 outer:exit 2b-c3023b55952274e73a0dc15780b89e7f1310e513-9b361dc431e98f1b-01
2021-09-18T00:51:16.418Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:16.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-26f5de866ff494ce00ca7da128bf9b2deaf8b622-046a30879e8d19a1-01 outer:exit 2b-26f5de866ff494ce00ca7da128bf9b2deaf8b622-6e90fdecb3b1a04e-01
2021-09-18T00:51:16.422Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:16.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-57950ca39b2252fd4a7572476b89e86bb2578e8a-c705f7842f2f9707-01 outer:exit 2b-57950ca39b2252fd4a7572476b89e86bb2578e8a-ff1ec5102e10506c-01
2021-09-18T00:51:16.424Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:16.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbad3cde1489069c5a5a49097a3871e13ef3831f-f8a610de7814dc56-01 outer:exit 2b-dbad3cde1489069c5a5a49097a3871e13ef3831f-16154d88a32ffccf-01
2021-09-18T00:51:16.427Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:16.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-925a9e125be72e328b35f035264d5f84ac5568a7-052970efac4e0503-01 outer:exit 2b-925a9e125be72e328b35f035264d5f84ac5568a7-1a631a5aa1bad30f-01
2021-09-18T00:51:16.429Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:16.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5b5a77f6b8086e9a078b33ca49f26971fc5e222-37bfaccd902fb18f-01 outer:exit 2b-e5b5a77f6b8086e9a078b33ca49f26971fc5e222-edee07060fb114ed-01
2021-09-18T00:51:16.431Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:16.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-96b8e387d1c78494ce95cbdd5baf2d116120bd06-fa22d0afce2884df-01 outer:exit 2b-96b8e387d1c78494ce95cbdd5baf2d116120bd06-dc0dfdd1da15d6d9-01
2021-09-18T00:51:16.433Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:16.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-26fbb0edf84e30736a1369c2fadb28351f5d1b4c-5f9af509763df6fe-01 outer:exit 2b-26fbb0edf84e30736a1369c2fadb28351f5d1b4c-2e7582b2f6167690-01
2021-09-18T00:51:16.437Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:16.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca239986e0a47b24e46d4e6e43c61cdb64cd1c04-7d1fbc0cafc154e9-01 outer:exit 2b-ca239986e0a47b24e46d4e6e43c61cdb64cd1c04-838afdc9eca4526b-01
2021-09-18T00:51:16.442Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:16.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d458c3b5b377d27a034b904c8e2c8c11c286968-23cc1e5a7d53d6c7-01 outer:exit 2b-9d458c3b5b377d27a034b904c8e2c8c11c286968-e8cb39bf4119ea4a-01
2021-09-18T00:51:16.455Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:16.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-0008abd10f5ba9a08ddd40337daebdfd03bceed0-3e0cee96f61b1f0e-01 outer:exit 2b-0008abd10f5ba9a08ddd40337daebdfd03bceed0-adf238791152f1d1-01
2021-09-18T00:51:16.502Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:16.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-778347b6a804ee5cb227bedc75af4ca7e1cdc108-47cf0fc847541f46-01 outer:exit 2b-778347b6a804ee5cb227bedc75af4ca7e1cdc108-06c6859b0d4b42bf-01
2021-09-18T00:51:16.504Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:16.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-017b8a1cf5840c0d723cc2d3d0150b4972bf9396-a09f34bcc9e0e83f-01 outer:exit 2b-017b8a1cf5840c0d723cc2d3d0150b4972bf9396-977d8fbef56902b8-01
2021-09-18T00:51:16.507Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:16.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a346344cf37abb43ea0b001c4775e4d99e7c6d4-7fbe5814e2b243c5-01 outer:exit 2b-3a346344cf37abb43ea0b001c4775e4d99e7c6d4-1a7177555f9fdc03-01
2021-09-18T00:51:16.509Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:16.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-8968583bcceee438df0430facd98b5899897e0c4-71ee5929c1f97828-01 outer:exit 2b-8968583bcceee438df0430facd98b5899897e0c4-e728f7fe9269b371-01
2021-09-18T00:51:16.511Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:16.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d814efac2a22f14b0a1c4367b255b7f09fbf241-6a1cff9e8c7260fd-01 outer:exit 2b-2d814efac2a22f14b0a1c4367b255b7f09fbf241-7a4451af45b53241-01
2021-09-18T00:51:16.513Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:16.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-44af92dd936450b37bf8bc594b6991f2e685dcdd-9ac81180478fda96-01 outer:exit 2b-44af92dd936450b37bf8bc594b6991f2e685dcdd-37a272be6b8f9c02-01
2021-09-18T00:51:16.515Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:16.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-25db3dc95788af675ce30784e2062bf46780d7bd-002b9f7bb861533e-01 outer:exit 2b-25db3dc95788af675ce30784e2062bf46780d7bd-a22f7370304777bd-01
2021-09-18T00:51:16.517Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:16.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aab0f756dcdeb25183ed0096fd142dfd3953ac2-20bd9a9bb50d0ffa-01 outer:exit 2b-0aab0f756dcdeb25183ed0096fd142dfd3953ac2-3700d74c5dd39905-01
2021-09-18T00:51:16.519Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:16.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cc93fa9bce5022eb73b2712422cd47225bb1c45-57dbadb4bff0a2be-01 outer:exit 2b-9cc93fa9bce5022eb73b2712422cd47225bb1c45-29ebec14ca7e4859-01
2021-09-18T00:51:16.521Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:16.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-1366272ea162ee5b86fc6d5b006fe8bd271e1878-f965369350b0bdaf-01 outer:exit 2b-1366272ea162ee5b86fc6d5b006fe8bd271e1878-dd55bc1399b83524-01
2021-09-18T00:51:16.523Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:16.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4f04c48b89f123d414dfa4edb3d72a0486f863f-b306e4361f998367-01 outer:exit 2b-a4f04c48b89f123d414dfa4edb3d72a0486f863f-9174fe9aeefe7a1c-01
2021-09-18T00:51:16.525Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:16.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-54914b46e2815536ead1479f914862936b73e263-4aa91f3450549337-01 outer:exit 2b-54914b46e2815536ead1479f914862936b73e263-02f14609b4a5d1d9-01
2021-09-18T00:51:16.527Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:16.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ce20a9922b39abb3bd21e0c7e67a80601162ad3-c5b5b4699bfd7bb1-01 outer:exit 2b-9ce20a9922b39abb3bd21e0c7e67a80601162ad3-eaf4bfd675a1fb75-01
2021-09-18T00:51:16.533Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:16.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa66ed3f7ff98e7e58bee44594dc78c2600eb699-b728235b2cbc62b9-01 outer:exit 2b-aa66ed3f7ff98e7e58bee44594dc78c2600eb699-4a16d5dcbac887e1-01
2021-09-18T00:51:16.536Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:16.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eaa16fba9b0c2d359b251ea8606b1cf767555ce-2116ad8aaed70079-01 outer:exit 2b-8eaa16fba9b0c2d359b251ea8606b1cf767555ce-6965c4aa6dcf74ab-01
2021-09-18T00:51:16.544Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:16.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-7670e9c6848c7395fe627121bbcd518cc8cea4c3-091199136b2388fa-01 outer:exit 2b-7670e9c6848c7395fe627121bbcd518cc8cea4c3-2490941b9788c6c2-01
2021-09-18T00:51:16.549Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:16.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b0391af7c6085e2571dae31cf63ab4295ccdd0f-ec7027143c57523d-01 outer:exit 2b-9b0391af7c6085e2571dae31cf63ab4295ccdd0f-6ef2aa3b056242bb-01
2021-09-18T00:51:16.551Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:16.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f68e89fa074737c9a133e2bb9c319ef97f4a37a-116ba3a4c80d3329-01 outer:exit 2b-9f68e89fa074737c9a133e2bb9c319ef97f4a37a-fedf16ec14271b2e-01
2021-09-18T00:51:16.554Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:16.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-da902957034e7d71487fe34a89440d95d2fac5e7-23e611d938eb3baf-01 outer:exit 2b-da902957034e7d71487fe34a89440d95d2fac5e7-1bbac9b0821705c7-01
2021-09-18T00:51:16.559Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:16.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ef0dc930eae4db6527f5c2aa504aa803194c231-17d34bca21cd0ce7-01 outer:exit 2b-1ef0dc930eae4db6527f5c2aa504aa803194c231-76037a254ea39464-01
2021-09-18T00:51:16.561Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:16.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d593f866667a6ea0840dc96067f9fc2643eb595-fed577199690559a-01 outer:exit 2b-8d593f866667a6ea0840dc96067f9fc2643eb595-f82495b187264f85-01
2021-09-18T00:51:16.563Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:16.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-c059b91195d1b1bf37942b911c7f26bf15ddabf8-d04b999182e0ea94-01 outer:exit 2b-c059b91195d1b1bf37942b911c7f26bf15ddabf8-8e0f8de874d257ba-01
2021-09-18T00:51:16.564Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:16.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-6474bca7b8e00fbcc2a1d899a960097b26b25056-5497d44f59d35412-01 outer:exit 2b-6474bca7b8e00fbcc2a1d899a960097b26b25056-74429e9c1074bf85-01
2021-09-18T00:51:16.566Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:16.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb651205581f72a745a8acfdf883ecb26c8c6127-0a8ea61d55b791f5-01 outer:exit 2b-eb651205581f72a745a8acfdf883ecb26c8c6127-d882ceba30cb1ef6-01
2021-09-18T00:51:16.568Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:16.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6cb3038037e608589769de1a8ccb23d4c8b111f-5fc8890966f508ad-01 outer:exit 2b-d6cb3038037e608589769de1a8ccb23d4c8b111f-6e2a738f1cc267e7-01
2021-09-18T00:51:16.579Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:16.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc7b3b60e894d1b9e982decccecccc6d7b4d38ec-9de8602d7336394b-01 outer:exit 2b-dc7b3b60e894d1b9e982decccecccc6d7b4d38ec-d4866df100c14a0e-01
2021-09-18T00:51:16.586Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:16.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-26db7f66097414fb517e0b9b529f235ee0847aa7-c8f20fd447f6120d-01 outer:exit 2b-26db7f66097414fb517e0b9b529f235ee0847aa7-16bbe767a765bdea-01
2021-09-18T00:51:16.589Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:16.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e407c367262e236632e0d3ed4e4d3dc1e35c866-70af05d41604a01d-01 outer:exit 2b-9e407c367262e236632e0d3ed4e4d3dc1e35c866-f0a2045746a94435-01
2021-09-18T00:51:16.591Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:16.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-063df29bdcfe4bd9695a8e48041ba9cf77335daf-76262209fc306dd0-01 outer:exit 2b-063df29bdcfe4bd9695a8e48041ba9cf77335daf-93d69c4e00bacd66-01
2021-09-18T00:51:16.593Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:16.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7960cd7e7492605ca458c1fc740b2f11a4d361f-73ccf40e78cb1f22-01 outer:exit 2b-b7960cd7e7492605ca458c1fc740b2f11a4d361f-1a6c09a8e01f0297-01
2021-09-18T00:51:16.616Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (275ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:21.805Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:21.805Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:21.805Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:21.806Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:21.872Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:21.914Z appoptics:patching patched crypto 
2021-09-18T00:51:21.936Z appoptics:patching patched https 
2021-09-18T00:51:21.936Z appoptics:patching patched http 
2021-09-18T00:51:21.990Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:21.990Z appoptics:patching patched fs 
2021-09-18T00:51:22.009Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v16.9.1)
2021-09-18T00:51:22.016Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-09-18T00:51:22.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-d89d82179ac7711129b7f6e2cbf367072bf0d479-f1348cb630cb25f7-01 outer:exit 2b-d89d82179ac7711129b7f6e2cbf367072bf0d479-1bcd5128c3afb8de-01
2021-09-18T00:51:22.170Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:22.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-72b1254a3a07f58396a6f8d889e4ddba0cdffbbd-56eb6d0a10d68f28-01 outer:exit 2b-72b1254a3a07f58396a6f8d889e4ddba0cdffbbd-6d210c1f0e82600d-01
2021-09-18T00:51:22.206Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:22.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-6975c7f92f77822e520012b8555618dd60c9bf8d-85c828299e022cd7-01 outer:exit 2b-6975c7f92f77822e520012b8555618dd60c9bf8d-496e7b2aba42d9bb-01
2021-09-18T00:51:22.209Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:22.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-79c0370845f29b05268721bbfd5dcb92847a6635-97c973cdab56cff4-01 outer:exit 2b-79c0370845f29b05268721bbfd5dcb92847a6635-a77ca18811a403e7-01
2021-09-18T00:51:22.212Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:22.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-912c0d5b4651d81de10eb28f273450f0db53d450-f44009b8d18680f7-01 outer:exit 2b-912c0d5b4651d81de10eb28f273450f0db53d450-d22a64ece3710ad6-01
2021-09-18T00:51:22.216Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:22.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-b767bc810d99089c60d9be13e96c3a8c7ca4e677-55a131853882d6b4-01 outer:exit 2b-b767bc810d99089c60d9be13e96c3a8c7ca4e677-507d1c253becd760-01
2021-09-18T00:51:22.219Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:22.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-eefa0874c2f0189bb215c09976ef0b91727ee02b-f51e5e21ece94b90-01 outer:exit 2b-eefa0874c2f0189bb215c09976ef0b91727ee02b-fefe956b329f5658-01
2021-09-18T00:51:22.221Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:22.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-17c939e70aeecdcdadb8226a927c3000901f05d2-d8f53580ec8817a7-01 outer:exit 2b-17c939e70aeecdcdadb8226a927c3000901f05d2-92e94f4ad466be1c-01
2021-09-18T00:51:22.224Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:22.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1d9208e5adb8b8e5c8932e39a8da64bbbf64280-8727ea13241eb7b7-01 outer:exit 2b-c1d9208e5adb8b8e5c8932e39a8da64bbbf64280-58aa5c421ea73a37-01
2021-09-18T00:51:22.226Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:22.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed137bdcbaf4808976faa4174d14f708cc815288-c2d22ea8adce6cda-01 outer:exit 2b-ed137bdcbaf4808976faa4174d14f708cc815288-fa734f3406104cd6-01
2021-09-18T00:51:22.229Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:22.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa6b2aa1bf1051c382469277b250ca3aeb12d320-6e6ab8ebb41f4363-01 outer:exit 2b-aa6b2aa1bf1051c382469277b250ca3aeb12d320-5d6ec9809a8dac5d-01
2021-09-18T00:51:22.232Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:22.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-b39afdc7007e3db6bdaf8be33461d5ab1a9e6575-7672240c24690848-01 outer:exit 2b-b39afdc7007e3db6bdaf8be33461d5ab1a9e6575-894d83afb5c9b7c8-01
2021-09-18T00:51:22.238Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:22.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7ed98dd72507c379ebfd2a681f920a622a4c013-e693522f5039ee19-01 outer:exit 2b-a7ed98dd72507c379ebfd2a681f920a622a4c013-fbd3d9bc3d831f71-01
2021-09-18T00:51:22.258Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:22.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-252789bc320a472e3ccbcdbb303101efab6630cc-9f80215c3953c892-01 outer:exit 2b-252789bc320a472e3ccbcdbb303101efab6630cc-6ff9f4049e6e6f67-01
2021-09-18T00:51:22.308Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:22.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-54923839f6f8df5b4d37f2fe65a2f6df8f018edf-f2c1b76ec7eb166b-01 outer:exit 2b-54923839f6f8df5b4d37f2fe65a2f6df8f018edf-2458dad26cee2a3d-01
2021-09-18T00:51:22.310Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:22.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc30d2a0e3dc78372dcfa273f79f0d0554842874-7192435cc4932e2b-01 outer:exit 2b-dc30d2a0e3dc78372dcfa273f79f0d0554842874-a3b7aa6714106597-01
2021-09-18T00:51:22.312Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:22.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a304b999a91640926d7d429142ff10227ecd30a-02effef1477e90f9-01 outer:exit 2b-5a304b999a91640926d7d429142ff10227ecd30a-cbec133c48355907-01
2021-09-18T00:51:22.315Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:22.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf1184402ae675d9d8779f8a9b8611c7c6a740c3-5bffb3ae5953204d-01 outer:exit 2b-bf1184402ae675d9d8779f8a9b8611c7c6a740c3-2ffe0a58a68d814f-01
2021-09-18T00:51:22.317Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:22.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb8f96f2b03a35d2e4c44d28ed06f86bd2957129-613f534e92471837-01 outer:exit 2b-eb8f96f2b03a35d2e4c44d28ed06f86bd2957129-a2401978a19205d8-01
2021-09-18T00:51:22.319Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:22.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fb6ee7934efc2bb5495d8637f0d76cbb036a663-93e281eb24be6c3a-01 outer:exit 2b-9fb6ee7934efc2bb5495d8637f0d76cbb036a663-c0dc8b576a978b62-01
2021-09-18T00:51:22.321Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:22.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ea1820e49ac25f77046c3369acb7cdef5d5fd25-21a77979b7853d52-01 outer:exit 2b-5ea1820e49ac25f77046c3369acb7cdef5d5fd25-1b4901a51985b356-01
2021-09-18T00:51:22.323Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:22.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ad8f364b9c8f278096a30948823d6dd6c5e5881-ef0dd76027033582-01 outer:exit 2b-5ad8f364b9c8f278096a30948823d6dd6c5e5881-0d0afccd315d2ff6-01
2021-09-18T00:51:22.325Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:22.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f324832595b8c02fbe2aca15de2f641be4731d6-31bdb37d27c39065-01 outer:exit 2b-9f324832595b8c02fbe2aca15de2f641be4731d6-d351184c64121fe4-01
2021-09-18T00:51:22.328Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:22.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb75915e7171f0f4250a08d36b79546240519b6c-c844709e710f2df4-01 outer:exit 2b-cb75915e7171f0f4250a08d36b79546240519b6c-250e3aeb64d0ee88-01
2021-09-18T00:51:22.331Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:22.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5edfeeb97d81a7764da2744e8edc50e42cadcee-cf936938af335a06-01 outer:exit 2b-c5edfeeb97d81a7764da2744e8edc50e42cadcee-f82235758ed42b9f-01
2021-09-18T00:51:22.333Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:22.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-df397cd8aa1431e5011415e5cc593368b9bfc39a-815cae7dc12b257c-01 outer:exit 2b-df397cd8aa1431e5011415e5cc593368b9bfc39a-1a3c79ed965baa38-01
2021-09-18T00:51:22.335Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:22.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2c35cb7113070f670d7b0d398da95eae38aa765-f565ce9c33794eed-01 outer:exit 2b-b2c35cb7113070f670d7b0d398da95eae38aa765-113a216ea73ce11e-01
2021-09-18T00:51:22.341Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:22.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-07abb91361d5ae69d40789bcc2936d9ab0e2ae6b-0b7bd936927f2596-01 outer:exit 2b-07abb91361d5ae69d40789bcc2936d9ab0e2ae6b-b830db5f70697910-01
2021-09-18T00:51:22.345Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:22.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-1291edb4fb45036560a94062cbbd1e764bb2916c-4d59156479c8570d-01 outer:exit 2b-1291edb4fb45036560a94062cbbd1e764bb2916c-b066fd63e2151b86-01
2021-09-18T00:51:22.361Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:22.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-281b6d2cf800c4694bc404a8d6b45613a85f1813-601c880c1c02a056-01 outer:exit 2b-281b6d2cf800c4694bc404a8d6b45613a85f1813-bba789d9bcd423c6-01
2021-09-18T00:51:22.372Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:22.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce457e68eb122c4ebe0d1837c8bbbaa2229d4cce-caa1d1320eb7f95d-01 outer:exit 2b-ce457e68eb122c4ebe0d1837c8bbbaa2229d4cce-a35ccf8689f8df8c-01
2021-09-18T00:51:22.374Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:22.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-09f28cd12651e7527f9cc9305adcba77bf382a3a-5bcbe981e1895708-01 outer:exit 2b-09f28cd12651e7527f9cc9305adcba77bf382a3a-ad5ab4a7d317a835-01
2021-09-18T00:51:22.377Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:22.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-eccc9cda85e55ec6445da7991d8c8fb81c31966e-a71b636dde762fe9-01 outer:exit 2b-eccc9cda85e55ec6445da7991d8c8fb81c31966e-d759d81620562c11-01
2021-09-18T00:51:22.382Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:22.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-7726d039ecd2c70504ec8a01e8dadbdc6962229e-75bcdcdbbef8be69-01 outer:exit 2b-7726d039ecd2c70504ec8a01e8dadbdc6962229e-689a54085cb0b72e-01
2021-09-18T00:51:22.384Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:22.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4b37b4df9a9172e91f2fd1d788b077827dcb7ac-e6d34630e23ceec0-01 outer:exit 2b-b4b37b4df9a9172e91f2fd1d788b077827dcb7ac-871d3c4d3a88c8e6-01
2021-09-18T00:51:22.386Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:22.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-a64ba5ab1469bba8fbb1f1a93447b8ab00fb47e4-cafe4097b009a78f-01 outer:exit 2b-a64ba5ab1469bba8fbb1f1a93447b8ab00fb47e4-52951092efaa9183-01
2021-09-18T00:51:22.388Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:22.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-90acc7e9fb95558e319d16a5da7c54accfbebe26-30f0e8ea8a9352c3-01 outer:exit 2b-90acc7e9fb95558e319d16a5da7c54accfbebe26-6e77daeb249a614d-01
2021-09-18T00:51:22.396Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:22.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bfc3ee0bd4ef4920b18c56978295b8e304d7e8f-f8dfd65c37bbfbde-01 outer:exit 2b-7bfc3ee0bd4ef4920b18c56978295b8e304d7e8f-80ae54b1acb95f81-01
2021-09-18T00:51:22.398Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:22.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe418447047060cbbd1e1747d6afc841a77faecf-77593117af8bd4c1-01 outer:exit 2b-fe418447047060cbbd1e1747d6afc841a77faecf-86e1741d38a0985c-01
2021-09-18T00:51:22.405Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:22.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb7932e4239c0fa36542b674cbe695917ea5b1eb-dfc300b4e9a3e133-01 outer:exit 2b-eb7932e4239c0fa36542b674cbe695917ea5b1eb-8dfb864703686865-01
2021-09-18T00:51:22.413Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:22.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca9f2c6a88429488ffb3d7e5fa4eb424c79f930e-5e3f5d867efdda3d-01 outer:exit 2b-ca9f2c6a88429488ffb3d7e5fa4eb424c79f930e-3c14b92eadc1d632-01
2021-09-18T00:51:22.416Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:22.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-d494ebabd300a3b572ecc9bfa243da649c84a3e2-44aeaccdfeb60e27-01 outer:exit 2b-d494ebabd300a3b572ecc9bfa243da649c84a3e2-b2603200ee620f3a-01
2021-09-18T00:51:22.418Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:22.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-21d694a592b1c807b3fd6c426a2615e7a8b29afa-fe85d812ebee5abc-01 outer:exit 2b-21d694a592b1c807b3fd6c426a2615e7a8b29afa-f2b0d8cf3197c23d-01
2021-09-18T00:51:22.421Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:22.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b9ae01d62140bc61d162973635aed6cedb5e3a9-ab49855b24b4a505-01 outer:exit 2b-0b9ae01d62140bc61d162973635aed6cedb5e3a9-e23f0df62ddd3975-01
2021-09-18T00:51:22.445Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (316ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:27.987Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:27.988Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:27.988Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:27.988Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:28.043Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:28.082Z appoptics:patching patched crypto 
2021-09-18T00:51:28.101Z appoptics:patching patched https 
2021-09-18T00:51:28.102Z appoptics:patching patched http 
2021-09-18T00:51:28.149Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:28.149Z appoptics:patching patched fs 
2021-09-18T00:51:28.164Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v16.9.1)
2021-09-18T00:51:28.171Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-09-18T00:51:28.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-621954c6479c413010aafa11ecb3d1f177486044-9ced7ae6790b8494-01 outer:exit 2b-621954c6479c413010aafa11ecb3d1f177486044-4e5e6967a80321cd-01
2021-09-18T00:51:28.303Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:28.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fb48446dc9a30131a22fb8d49bc046270376661-0eee328af11119c2-01 outer:exit 2b-3fb48446dc9a30131a22fb8d49bc046270376661-8b68141481f11e8c-01
2021-09-18T00:51:28.358Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:28.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-16a65c6361954af9ff3fc3bc1741457955924b5d-afd97679b531e98f-01 outer:exit 2b-16a65c6361954af9ff3fc3bc1741457955924b5d-02a4e77882dfcfe4-01
2021-09-18T00:51:28.361Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:28.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f6d1fd9f9ead9098f34d2277177401857c64611-d1f7de9c81bb29f6-01 outer:exit 2b-0f6d1fd9f9ead9098f34d2277177401857c64611-df763d83a8d1c01c-01
2021-09-18T00:51:28.363Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:28.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8c8a2f367186a77c3ce0168accbb45db2c3fe78-b501c90410d35ab6-01 outer:exit 2b-e8c8a2f367186a77c3ce0168accbb45db2c3fe78-4d08c448e0be1f98-01
2021-09-18T00:51:28.367Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:28.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8fffdd51c11da84891cecfe29ddae48f8fe6a6c-076e9194e7b4356e-01 outer:exit 2b-c8fffdd51c11da84891cecfe29ddae48f8fe6a6c-1883e250179a64d1-01
2021-09-18T00:51:28.370Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:28.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-691e57b962f84047a07ec20bc24289df4f3fbc0a-0aec24fc3b12b0e4-01 outer:exit 2b-691e57b962f84047a07ec20bc24289df4f3fbc0a-cecd66de8cb9d2a2-01
2021-09-18T00:51:28.372Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:28.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-2700c5ca282882e5dba4d622af8b3af24b915fc7-7ec7564af136496f-01 outer:exit 2b-2700c5ca282882e5dba4d622af8b3af24b915fc7-f7382d3849b59744-01
2021-09-18T00:51:28.374Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:28.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf8e6e4648452b541d1edc330e103ce8831aeb6e-94b4a22c85e572d6-01 outer:exit 2b-cf8e6e4648452b541d1edc330e103ce8831aeb6e-72ac7f63283a718c-01
2021-09-18T00:51:28.376Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:28.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed1c9ba7de886e2c5a90a7f4ec7aa4c7d2811203-b086d51fcb3411b1-01 outer:exit 2b-ed1c9ba7de886e2c5a90a7f4ec7aa4c7d2811203-8bc04e497912daed-01
2021-09-18T00:51:28.379Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:28.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b578ae8e0ff6739fde48a4d677a0a8023fbbab2-c104ea94f3fee4b9-01 outer:exit 2b-0b578ae8e0ff6739fde48a4d677a0a8023fbbab2-ca1d3740b9b1d263-01
2021-09-18T00:51:28.382Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:28.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef9f7b2fdd1b75539ec38282022df6a2383f56f3-8639944f16241d87-01 outer:exit 2b-ef9f7b2fdd1b75539ec38282022df6a2383f56f3-a5ef7eb2fa2a5e16-01
2021-09-18T00:51:28.388Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:28.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-6abafbe72cb0a01347ee91ee2fe9029762c9ed24-00911de2c2c9007d-01 outer:exit 2b-6abafbe72cb0a01347ee91ee2fe9029762c9ed24-cff2551fc6d2782a-01
2021-09-18T00:51:28.400Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:28.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-f180e5237b3a93f00c4e83b8736f77356248c5f3-bec889ef9a720d2b-01 outer:exit 2b-f180e5237b3a93f00c4e83b8736f77356248c5f3-2404cf6d0f657844-01
2021-09-18T00:51:28.447Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:28.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb29615a1fc3cd3714143c0cc00eadaa4f1f8325-ac0e75ac8d02d4ca-01 outer:exit 2b-eb29615a1fc3cd3714143c0cc00eadaa4f1f8325-7488adcae92bc16c-01
2021-09-18T00:51:28.449Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:28.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b55e82101fc3843ee894623f14df80446d1ba7e-9bc8c6ca60de492b-01 outer:exit 2b-8b55e82101fc3843ee894623f14df80446d1ba7e-52a23ed125fb918b-01
2021-09-18T00:51:28.451Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:28.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-94b06081452f376033f749d800af49fa63b6dcb8-2020e597f7853899-01 outer:exit 2b-94b06081452f376033f749d800af49fa63b6dcb8-6a1b5651e1a38a1b-01
2021-09-18T00:51:28.454Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:28.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-6091b35b08cef6d915b88cc2c9eab434d8e71d55-90b147b08c03acb2-01 outer:exit 2b-6091b35b08cef6d915b88cc2c9eab434d8e71d55-faba2c25d58a74a2-01
2021-09-18T00:51:28.456Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:28.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f1bab8198333951519cecd0685bf0ce488314c3-9556ca2c92352d34-01 outer:exit 2b-8f1bab8198333951519cecd0685bf0ce488314c3-13f0700c7bfa9771-01
2021-09-18T00:51:28.457Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:28.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b94718f97eb68fa2474952369773f5891eb5297-d8a4e5030e6e997a-01 outer:exit 2b-2b94718f97eb68fa2474952369773f5891eb5297-e7d396a7b2c86575-01
2021-09-18T00:51:28.459Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:28.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fb06f5f70304d257a023b10983a6b7e920d151c-7852efc548ab440d-01 outer:exit 2b-8fb06f5f70304d257a023b10983a6b7e920d151c-c7fe066510a42e3a-01
2021-09-18T00:51:28.461Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:28.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-72f76afff25505dfedcf6da5a6de8bfccf6c9932-78042f558700d246-01 outer:exit 2b-72f76afff25505dfedcf6da5a6de8bfccf6c9932-732df13359984144-01
2021-09-18T00:51:28.463Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:28.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-b605505a218445ab28b15787da4a5813f17fe941-4331a7395e8cdecb-01 outer:exit 2b-b605505a218445ab28b15787da4a5813f17fe941-9d85882952a397b5-01
2021-09-18T00:51:28.465Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:28.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-e06915d792854cb7e10823898939ca5e3dc70693-5b2c4bedb6f3d01c-01 outer:exit 2b-e06915d792854cb7e10823898939ca5e3dc70693-0f2823b0bb61a353-01
2021-09-18T00:51:28.468Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:28.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb5cefe9f07763e90c8b84769ebf36c29a588c7f-ff1995eb5522c9be-01 outer:exit 2b-bb5cefe9f07763e90c8b84769ebf36c29a588c7f-47266afccd69810e-01
2021-09-18T00:51:28.470Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:28.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bc26a578791ec2a1e534807e9f7a621dbe6c973-bdb4e2aa07b79b1d-01 outer:exit 2b-2bc26a578791ec2a1e534807e9f7a621dbe6c973-286602ac0188a412-01
2021-09-18T00:51:28.472Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:28.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-93dab684f1cd0bd23b9d537e234562acdb3b9232-0b10adc89edad144-01 outer:exit 2b-93dab684f1cd0bd23b9d537e234562acdb3b9232-b3a475fba63e963e-01
2021-09-18T00:51:28.477Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:28.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3db5e5bc7a3a762514f8a357ba467f3f8fc01b2-dc0bc564bd914ceb-01 outer:exit 2b-f3db5e5bc7a3a762514f8a357ba467f3f8fc01b2-0a5f59f0d52c7b15-01
2021-09-18T00:51:28.481Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:28.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd925b954a97a01c10813dc47317fcf907206dfb-b55cacf97f03206c-01 outer:exit 2b-cd925b954a97a01c10813dc47317fcf907206dfb-f49674a51ef4b0df-01
2021-09-18T00:51:28.488Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:28.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b729d60c508291602c33612950add4e40b48d92-71e67d526c3650fe-01 outer:exit 2b-4b729d60c508291602c33612950add4e40b48d92-6d8732769ce15232-01
2021-09-18T00:51:28.494Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:28.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-4df77c6f21f1af5ad7c74a9c5eb702991e1dca2f-2e43ea6c81e07bad-01 outer:exit 2b-4df77c6f21f1af5ad7c74a9c5eb702991e1dca2f-fcaf49476880f62d-01
2021-09-18T00:51:28.496Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:28.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-3955d3db3d68f3e874767d87ee1dc43d73d0109a-e7fb4fb6dad19b69-01 outer:exit 2b-3955d3db3d68f3e874767d87ee1dc43d73d0109a-641cacaac63ce7c1-01
2021-09-18T00:51:28.498Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:28.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9ea5b6b3203f036f220c383e8646e427ea199b-a899461aa75dbc22-01 outer:exit 2b-dd9ea5b6b3203f036f220c383e8646e427ea199b-098bdcb959061970-01
2021-09-18T00:51:28.503Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:28.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0fcae5b708735a4c83d6e14f1cfca453fc2167a-414098ab2e661816-01 outer:exit 2b-a0fcae5b708735a4c83d6e14f1cfca453fc2167a-7f7596f9cd523494-01
2021-09-18T00:51:28.505Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:28.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-40b8ffb70b5c5196218d19aa5cfa4564879e9f70-0961872cd2211e5d-01 outer:exit 2b-40b8ffb70b5c5196218d19aa5cfa4564879e9f70-402edc900c0fd7c3-01
2021-09-18T00:51:28.511Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:28.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-df432c673af29dd8adf983546d71e69426a98f61-71e06c6e661dd295-01 outer:exit 2b-df432c673af29dd8adf983546d71e69426a98f61-2158bef41bf76cb6-01
2021-09-18T00:51:28.512Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:28.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-065880c588354a0bde03bbf2e8c1a0928031b28f-b769073e7bbea817-01 outer:exit 2b-065880c588354a0bde03bbf2e8c1a0928031b28f-28f86f22aec6af1a-01
2021-09-18T00:51:28.514Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:28.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b5d54072404d7032b867ddd841ae1817ca739bf-9718ab8492317d15-01 outer:exit 2b-2b5d54072404d7032b867ddd841ae1817ca739bf-75c6e94bd0d2a097-01
2021-09-18T00:51:28.516Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:28.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c097a369da100c754d1c991962fb0f1e91fb16e-9ca3c1060cca141e-01 outer:exit 2b-7c097a369da100c754d1c991962fb0f1e91fb16e-0098c245cc682698-01
2021-09-18T00:51:28.523Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:28.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-37c4afdac35511324d4ebe6473134a111c824be3-f943323197bdbae0-01 outer:exit 2b-37c4afdac35511324d4ebe6473134a111c824be3-ce758aac196b63d7-01
2021-09-18T00:51:28.529Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:28.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-edc3a431952a83fc544ba9282d994e464d0a3c72-204cef0a29e39820-01 outer:exit 2b-edc3a431952a83fc544ba9282d994e464d0a3c72-17244dfe110c2497-01
2021-09-18T00:51:28.532Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:28.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cdacafbb4f2c6cd0db603dbd7d357acf5c1b75b-860f1a5e8b538cdf-01 outer:exit 2b-6cdacafbb4f2c6cd0db603dbd7d357acf5c1b75b-7ad5686e6350b675-01
2021-09-18T00:51:28.534Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:28.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-bad3e3074ca84d03fffdd60427f356e369a89043-22faa38cc03899d4-01 outer:exit 2b-bad3e3074ca84d03fffdd60427f356e369a89043-da94a9866f34dc3d-01
2021-09-18T00:51:28.537Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:28.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b9f470b279a20baf1a400a93440f1f771b8366e-cebc12bbc59521e9-01 outer:exit 2b-2b9f470b279a20baf1a400a93440f1f771b8366e-247a8112a5745116-01
2021-09-18T00:51:28.560Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (289ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:33.681Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:33.682Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:33.682Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:33.682Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:33.744Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:33.788Z appoptics:patching patched crypto 
2021-09-18T00:51:33.811Z appoptics:patching patched https 
2021-09-18T00:51:33.811Z appoptics:patching patched http 
2021-09-18T00:51:33.906Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:33.906Z appoptics:patching patched fs 
2021-09-18T00:51:33.941Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v16.9.1)
2021-09-18T00:51:33.955Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-09-18T00:51:34.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-f05e58c3f53e118db645b7518b60fb81ed99806c-c5f1ef1c449964f0-01 outer:exit 2b-f05e58c3f53e118db645b7518b60fb81ed99806c-8b072b27a95b0d4e-01
2021-09-18T00:51:34.140Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:34.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e45895b444c39a4b12ef14f5e7a95388639b984-551b02726571b8a2-01 outer:exit 2b-8e45895b444c39a4b12ef14f5e7a95388639b984-002ee19830c1091b-01
2021-09-18T00:51:34.201Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:34.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-b768b967f4fb5c6fb958e7de8bc9041ccd87d051-130ccad02f936bb6-01 outer:exit 2b-b768b967f4fb5c6fb958e7de8bc9041ccd87d051-93cfdf7219e42e44-01
2021-09-18T00:51:34.208Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:34.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e846ec997d59fd42b43a06c101ab13081ad2d03-6441fd05bff97a38-01 outer:exit 2b-0e846ec997d59fd42b43a06c101ab13081ad2d03-246d0034ac96dbf8-01
2021-09-18T00:51:34.213Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:34.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d5414dc4aeaeeb128bc89b45be851334e2a712d-7a449a208b018313-01 outer:exit 2b-6d5414dc4aeaeeb128bc89b45be851334e2a712d-dabcd9c0cfa7ba4d-01
2021-09-18T00:51:34.218Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:34.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-f091acab56aaa2187e8279887a9fa0be654aa905-b963b4b91d8522b8-01 outer:exit 2b-f091acab56aaa2187e8279887a9fa0be654aa905-d0eae5756447ceee-01
2021-09-18T00:51:34.220Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:34.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-e424627cc8c085f753a8c68050ec65d720f31150-638260dbec6797d9-01 outer:exit 2b-e424627cc8c085f753a8c68050ec65d720f31150-95c95190832110ad-01
2021-09-18T00:51:34.226Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:34.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3eabcec230aa0ceb236882098b1517a03d0a139-826885dccc08283b-01 outer:exit 2b-f3eabcec230aa0ceb236882098b1517a03d0a139-7181aaa1a5c146ea-01
2021-09-18T00:51:34.229Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:34.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-0da176630cc2861906b4b48dbcb05803062e6f99-1c6c72ee7971848a-01 outer:exit 2b-0da176630cc2861906b4b48dbcb05803062e6f99-1df98d66cbaf0bf7-01
2021-09-18T00:51:34.231Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:34.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-1437d3e4c7bd2895360be091bc2bb98ba2e35a94-42a993da2ed6f2e7-01 outer:exit 2b-1437d3e4c7bd2895360be091bc2bb98ba2e35a94-e7665699750029fe-01
2021-09-18T00:51:34.238Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:34.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-79a6e351393ade0e4974515b978dba51c47dd994-210a071957aef123-01 outer:exit 2b-79a6e351393ade0e4974515b978dba51c47dd994-90b8dabd2f880f84-01
2021-09-18T00:51:34.246Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:34.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-e58f3f78df8c14e5ec7e6b2ed0e8ae372ed6ce0f-aec5bc1389ea22d5-01 outer:exit 2b-e58f3f78df8c14e5ec7e6b2ed0e8ae372ed6ce0f-e250a412ecc8db22-01
2021-09-18T00:51:34.269Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:34.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8f0468f5a21804a751538b9355e20c63d35b224-6979c3587ba69913-01 outer:exit 2b-a8f0468f5a21804a751538b9355e20c63d35b224-91b001a91fc4675d-01
2021-09-18T00:51:34.292Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:34.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6aacc7e55c3ed2456a68289ff4a2ef042936ad9-e5054802c9637d70-01 outer:exit 2b-c6aacc7e55c3ed2456a68289ff4a2ef042936ad9-c01d618b917434e9-01
2021-09-18T00:51:34.350Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:34.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-5af97364e02efe67a4848498d6c6f863f7cec122-c3f9efe405757aff-01 outer:exit 2b-5af97364e02efe67a4848498d6c6f863f7cec122-c244d5cbe670d2fa-01
2021-09-18T00:51:34.354Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:34.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-933424f36c0a21b2e2a67ad298f01789c02d05e1-46c46cc3bf49c426-01 outer:exit 2b-933424f36c0a21b2e2a67ad298f01789c02d05e1-a06dd4f29d3734e7-01
2021-09-18T00:51:34.356Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:34.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-85a4421fd513943e33b7482b835a8e3f729e7b92-461b7434a0d61e75-01 outer:exit 2b-85a4421fd513943e33b7482b835a8e3f729e7b92-e702494fe509f565-01
2021-09-18T00:51:34.358Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:34.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-93eed261c9c6d11e5ff945c7a7c2cad2a9a344b0-997e2f9862f7a887-01 outer:exit 2b-93eed261c9c6d11e5ff945c7a7c2cad2a9a344b0-c140843b8ec02426-01
2021-09-18T00:51:34.360Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:34.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b91a604bcf780d5f6d45c75d30f7d1f9f90c508-21f4668240aa41c7-01 outer:exit 2b-9b91a604bcf780d5f6d45c75d30f7d1f9f90c508-50bdde73960fc86d-01
2021-09-18T00:51:34.362Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:34.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-931cb34bf1838a6b33ab17414461a8615917e6a6-ef066311c99c8a5d-01 outer:exit 2b-931cb34bf1838a6b33ab17414461a8615917e6a6-0bff309a72c1fb35-01
2021-09-18T00:51:34.364Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:34.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-8956819c91e5138acacf167cad27eaf3dfa45386-ea8c72535d6f06e3-01 outer:exit 2b-8956819c91e5138acacf167cad27eaf3dfa45386-0a0f01f595c1bd1d-01
2021-09-18T00:51:34.366Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:34.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ba2e9e24910eba69264d47a0943cc40f298650e-78a300539da0f75a-01 outer:exit 2b-4ba2e9e24910eba69264d47a0943cc40f298650e-130a7fb7798b32d5-01
2021-09-18T00:51:34.368Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:34.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fd1875ce0a3ffbcccef03156ec77737bfe3029a-5e093dfc2e0a5b9f-01 outer:exit 2b-0fd1875ce0a3ffbcccef03156ec77737bfe3029a-0d8c02975fb3a90f-01
2021-09-18T00:51:34.371Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:34.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-9832fd77f1a941a42459cf566a52573350a907d3-756c3537e873866c-01 outer:exit 2b-9832fd77f1a941a42459cf566a52573350a907d3-9da9f63a34e413b6-01
2021-09-18T00:51:34.374Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:34.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-481946c3caf153f88a130c9e5db38ac60eea165e-4bd561dd59d45d06-01 outer:exit 2b-481946c3caf153f88a130c9e5db38ac60eea165e-7bb8428caf6e79b7-01
2021-09-18T00:51:34.376Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:34.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1ed01fbb9c2b79fed120e03caf4d2c798172b53-5b20572f5bcb58eb-01 outer:exit 2b-f1ed01fbb9c2b79fed120e03caf4d2c798172b53-cbcfcf41c497bb6e-01
2021-09-18T00:51:34.378Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:34.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbe033f9c2940921a959eaba8c45f920122359ed-858f63972b06c675-01 outer:exit 2b-cbe033f9c2940921a959eaba8c45f920122359ed-21fc658f36a1285a-01
2021-09-18T00:51:34.396Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:34.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-081f22f28a0c12b4304ca433ed4b50d0f09e1adc-fc39147d0fd12992-01 outer:exit 2b-081f22f28a0c12b4304ca433ed4b50d0f09e1adc-019ef26ed8fd4f44-01
2021-09-18T00:51:34.412Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:34.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-7938797e23f0990d93dca49ba57ad813609183d6-038a6a412314df90-01 outer:exit 2b-7938797e23f0990d93dca49ba57ad813609183d6-599f9ea68546f41c-01
2021-09-18T00:51:34.420Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:34.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-3737962ae8b6378d0d92c5cb2e92dec070ec23ab-41cac6fdcaf8b6b9-01 outer:exit 2b-3737962ae8b6378d0d92c5cb2e92dec070ec23ab-734cef282e67539a-01
2021-09-18T00:51:34.425Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:34.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-9657d8e9aa6cd3d73e07e3acc16bf9318c91e02b-bc040415635c8087-01 outer:exit 2b-9657d8e9aa6cd3d73e07e3acc16bf9318c91e02b-c00341b1b32a0dd6-01
2021-09-18T00:51:34.428Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:34.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9c123f7a871b5de8da8183b68cd9709d5edab8d-1f43e72977c68617-01 outer:exit 2b-b9c123f7a871b5de8da8183b68cd9709d5edab8d-eb06ad6ca65693c6-01
2021-09-18T00:51:34.431Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:34.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3515cd00c2131184044c71a64c204961a543a3f-20243565020461d8-01 outer:exit 2b-d3515cd00c2131184044c71a64c204961a543a3f-0277f1496e9159f5-01
2021-09-18T00:51:34.436Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:34.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-2468e28a557c7896abf73e46aea717f0f8658f5c-3e1c33b2457c104e-01 outer:exit 2b-2468e28a557c7896abf73e46aea717f0f8658f5c-8f239d710e8ac39c-01
2021-09-18T00:51:34.438Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:34.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfac7d8eed8396e4089e47c132eb6d20fd0417a6-977ef1b787df11ef-01 outer:exit 2b-bfac7d8eed8396e4089e47c132eb6d20fd0417a6-f3011dcfe4c36d91-01
2021-09-18T00:51:34.440Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:34.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-0153fd113a36a68b76f737475dba2dade0c5e4b1-ca99b986a8305d7e-01 outer:exit 2b-0153fd113a36a68b76f737475dba2dade0c5e4b1-e29248554517a437-01
2021-09-18T00:51:34.442Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:34.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6ae91fcf6b134aff3e0d55dc0d70451842df107-151e347e01fff844-01 outer:exit 2b-e6ae91fcf6b134aff3e0d55dc0d70451842df107-b5664bb94ee471fb-01
2021-09-18T00:51:34.444Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:34.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-41dde2b791100aae1245831650623992fa4e585c-83b9a12b4e90871c-01 outer:exit 2b-41dde2b791100aae1245831650623992fa4e585c-14dfc622c0c0a64e-01
2021-09-18T00:51:34.446Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:34.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-561ee4762e4d385211481222d48bdd416e79c01d-e1a45c5ddfd2a916-01 outer:exit 2b-561ee4762e4d385211481222d48bdd416e79c01d-c8d48cbc58877c93-01
2021-09-18T00:51:34.457Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:34.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-821246e37c4159ec321bc5488e2d45e41efac9cc-3077f832631f4511-01 outer:exit 2b-821246e37c4159ec321bc5488e2d45e41efac9cc-8d3834c6a7cce0af-01
2021-09-18T00:51:34.465Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:34.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-56753b2450a6a147bdcbfe63f6190774061ace2b-c6c6bc32a9a427f1-01 outer:exit 2b-56753b2450a6a147bdcbfe63f6190774061ace2b-5d4374f2d3308499-01
2021-09-18T00:51:34.468Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:34.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3ebdcb94f9c19a1891d9c5d9e680932dff7eeb7-7c833e2f5e711315-01 outer:exit 2b-c3ebdcb94f9c19a1891d9c5d9e680932dff7eeb7-8b39e1cbd0f504cc-01
2021-09-18T00:51:34.470Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:34.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc41c763748dafeb7c67cd98607e6ac7fd6bce0f-db164f0c04b9465e-01 outer:exit 2b-cc41c763748dafeb7c67cd98607e6ac7fd6bce0f-ec4647fcf572e166-01
2021-09-18T00:51:34.494Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:34.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b5983f6459905236ba7869236667fe4d351fe7-c4b1378395dcfa03-01 outer:exit 2b-a0b5983f6459905236ba7869236667fe4d351fe7-e22271ffff5a1b44-01
2021-09-18T00:51:34.544Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (439ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:39.991Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:39.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:39.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:39.992Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:40.047Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:40.086Z appoptics:patching patched crypto 
2021-09-18T00:51:40.105Z appoptics:patching patched https 
2021-09-18T00:51:40.105Z appoptics:patching patched http 
2021-09-18T00:51:40.152Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:40.153Z appoptics:patching patched fs 
2021-09-18T00:51:40.167Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v16.9.1)
2021-09-18T00:51:40.174Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-09-18T00:51:40.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a0b68b6e0fe70e7c2b3cc358ed69eaa01a0b079-86fd604b11387738-01 outer:exit 2b-6a0b68b6e0fe70e7c2b3cc358ed69eaa01a0b079-39eb94e869847870-01
2021-09-18T00:51:40.303Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:40.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca34852959a45981bcc234a674905c2ed678522e-e038578efb538fbc-01 outer:exit 2b-ca34852959a45981bcc234a674905c2ed678522e-5f2a1f15380c2d30-01
2021-09-18T00:51:40.355Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:40.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec5bedfb8fc68282b32c2ab60ee375bb11e0e6bb-9a5c3ba4829232f8-01 outer:exit 2b-ec5bedfb8fc68282b32c2ab60ee375bb11e0e6bb-d4942e73d535b247-01
2021-09-18T00:51:40.358Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:40.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-096cd8d42d7ba102fd9dc8a6c8c88b9fd7e86287-cc6fa95779ce1663-01 outer:exit 2b-096cd8d42d7ba102fd9dc8a6c8c88b9fd7e86287-93b2a716027433e8-01
2021-09-18T00:51:40.361Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:40.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4f1b34386fb9fbf55298ec0db772758415eb514-7a0cee4ae0839fc7-01 outer:exit 2b-a4f1b34386fb9fbf55298ec0db772758415eb514-7901ad1f6fa5719d-01
2021-09-18T00:51:40.365Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:40.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9221940dbb994ad671683fc9a16be759a3811cd-c7cb5cff51a19425-01 outer:exit 2b-d9221940dbb994ad671683fc9a16be759a3811cd-356eb7dd53c18be1-01
2021-09-18T00:51:40.367Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:40.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-9724d1995756e42328566faca9078242f46c16e0-3b6b5231f4b6e1e6-01 outer:exit 2b-9724d1995756e42328566faca9078242f46c16e0-b35b74029f00b6ee-01
2021-09-18T00:51:40.370Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:40.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-84a53d11a934ca5acc159a82f3373d042559d5d1-ee3c1a0647bc6285-01 outer:exit 2b-84a53d11a934ca5acc159a82f3373d042559d5d1-8c5d388f7f0fd17e-01
2021-09-18T00:51:40.372Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:40.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-5efa555ac99233d8a632ad27c4397dea4b936600-dafe88a2ea8d20c2-01 outer:exit 2b-5efa555ac99233d8a632ad27c4397dea4b936600-a6516db94fe84975-01
2021-09-18T00:51:40.374Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:40.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-52e98ca5bdb5ca44aa4362ccf5d1f3d7a80548c0-78c107a1cb833a1a-01 outer:exit 2b-52e98ca5bdb5ca44aa4362ccf5d1f3d7a80548c0-036031a1eafab834-01
2021-09-18T00:51:40.376Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:40.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1ba858003103e3aa1ac2dbe18f9acf52618332a-65d61c6da4ac3b4e-01 outer:exit 2b-b1ba858003103e3aa1ac2dbe18f9acf52618332a-8545d32d21b6fde0-01
2021-09-18T00:51:40.380Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:40.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-928bd25c491e2b0160fa36270fd9675ac2df4cad-3afd0b9ecaf6bac3-01 outer:exit 2b-928bd25c491e2b0160fa36270fd9675ac2df4cad-c0780b391df176db-01
2021-09-18T00:51:40.385Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:40.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cafc95ee4e4fae8ab32534bc4f329fdebaff40b-f46f4b98a6fb531b-01 outer:exit 2b-9cafc95ee4e4fae8ab32534bc4f329fdebaff40b-b89ee123a64ecd1c-01
2021-09-18T00:51:40.397Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:40.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cc55b897b20bdd1818365884b1ed5422a1ee425-28fdb87a43eb7534-01 outer:exit 2b-2cc55b897b20bdd1818365884b1ed5422a1ee425-85eb5ff4450599ee-01
2021-09-18T00:51:40.455Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:40.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4c3546ff3c0267ebec53da454e4a5ce9ec872b6-0f16a4c92738a3ec-01 outer:exit 2b-b4c3546ff3c0267ebec53da454e4a5ce9ec872b6-3b072da3d3e6d4f2-01
2021-09-18T00:51:40.457Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:40.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-219374dc7ddbefaa1b32eaeefb147112c6a98c43-c134ca5cbba6109d-01 outer:exit 2b-219374dc7ddbefaa1b32eaeefb147112c6a98c43-6d585a1a5683aa6f-01
2021-09-18T00:51:40.459Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:40.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-c26a7aca557d33df4da05b2ec0a24ced4cecd0d2-f74f0124e181b3ab-01 outer:exit 2b-c26a7aca557d33df4da05b2ec0a24ced4cecd0d2-a7c7eac7c5c807b1-01
2021-09-18T00:51:40.462Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:40.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b1f7e5deb3c209b2996d18c3f6e051d21c1fac9-3c74caa0db3e67ab-01 outer:exit 2b-8b1f7e5deb3c209b2996d18c3f6e051d21c1fac9-a9cb37b9f51c5bcb-01
2021-09-18T00:51:40.464Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:40.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-410815e0e807fa22c95f7908c4cd7dd463ebf620-070ea386e8c1afd2-01 outer:exit 2b-410815e0e807fa22c95f7908c4cd7dd463ebf620-d945088d0a23c99b-01
2021-09-18T00:51:40.466Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:40.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b5f13913c1e69ec148051eb0135908fa2520906-760cf839e6df8c08-01 outer:exit 2b-7b5f13913c1e69ec148051eb0135908fa2520906-981cc617b98d6b31-01
2021-09-18T00:51:40.467Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:40.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-7433ea356c36762ea907183a0791f76cfe7550e5-c14648c1a16890fb-01 outer:exit 2b-7433ea356c36762ea907183a0791f76cfe7550e5-88e1cb1c064d0b2b-01
2021-09-18T00:51:40.469Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:40.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c457e0143bf24822bba66da759d41ef41bb80cd-6a32e4e05a11dd99-01 outer:exit 2b-5c457e0143bf24822bba66da759d41ef41bb80cd-0698f6e749d65340-01
2021-09-18T00:51:40.471Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:40.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1a59afa36644bc38dfe72182d09ab32d26417ba-b4710af5e3fcdf29-01 outer:exit 2b-d1a59afa36644bc38dfe72182d09ab32d26417ba-a91d112fda3592e1-01
2021-09-18T00:51:40.474Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:40.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cdcf31583473294dfd27ea56ce2fdb1349d2e0e-d95094f84b0f11cb-01 outer:exit 2b-2cdcf31583473294dfd27ea56ce2fdb1349d2e0e-c26e58cf91db7efc-01
2021-09-18T00:51:40.476Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:40.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-10aace3b4a93e36a4e128f580286a5186131e04e-a7c2c65210dfc265-01 outer:exit 2b-10aace3b4a93e36a4e128f580286a5186131e04e-81741b088653d1d7-01
2021-09-18T00:51:40.478Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:40.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-93e3df3ae5df4815555276d433458793c65fc25b-4518dc16c5cc638e-01 outer:exit 2b-93e3df3ae5df4815555276d433458793c65fc25b-2c151289ecc9029b-01
2021-09-18T00:51:40.480Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:40.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-9089853b02d2528ab30703f19b42ec6c0330930d-f561a28094a0f58a-01 outer:exit 2b-9089853b02d2528ab30703f19b42ec6c0330930d-f8e6620e1c3ea5e2-01
2021-09-18T00:51:40.487Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:40.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-46f49742b0443e0e066e314fe9f8bd24d7bd22f4-e3607856cee37a4d-01 outer:exit 2b-46f49742b0443e0e066e314fe9f8bd24d7bd22f4-7e4605870ccb2030-01
2021-09-18T00:51:40.491Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:40.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a85307ff40199ba014290bf7401625bee5a5c5a-279c975fb49a872d-01 outer:exit 2b-2a85307ff40199ba014290bf7401625bee5a5c5a-2f5ae2a204bdf3d3-01
2021-09-18T00:51:40.498Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:40.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-165bd2ad0c67cb524a6a7fc02e301120a684aee6-e9fff47bf4e449ea-01 outer:exit 2b-165bd2ad0c67cb524a6a7fc02e301120a684aee6-5ba1343894face29-01
2021-09-18T00:51:40.503Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:40.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e1b021a6cbc810e72afff2d5d08a39147189ca0-52312ae45aa9a623-01 outer:exit 2b-5e1b021a6cbc810e72afff2d5d08a39147189ca0-7104a9e8c32aedde-01
2021-09-18T00:51:40.505Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:40.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-a94dbc9f2bfcf9dee12c0592dd3a96171494f5a5-fba4befa4de106c8-01 outer:exit 2b-a94dbc9f2bfcf9dee12c0592dd3a96171494f5a5-cb1211e7e4332857-01
2021-09-18T00:51:40.507Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:40.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-789faa90cd5d06a7d2428718c63d35760eef4673-008e2581882e8f2d-01 outer:exit 2b-789faa90cd5d06a7d2428718c63d35760eef4673-d9528597a83b17e4-01
2021-09-18T00:51:40.514Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:40.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ffa788ac76121732e0ec1565c75590f3f7f179-a132fb96cf326451-01 outer:exit 2b-09ffa788ac76121732e0ec1565c75590f3f7f179-1525bcbf1bef8e8b-01
2021-09-18T00:51:40.515Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:40.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-eff3843b3aae73befea2e308f666609f3e78e029-6de486834bcab266-01 outer:exit 2b-eff3843b3aae73befea2e308f666609f3e78e029-6dc7800d0300873a-01
2021-09-18T00:51:40.521Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:40.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee67be1d61388fc0572b1b707ea6fcfcd7a039db-32806ddbb3e832ff-01 outer:exit 2b-ee67be1d61388fc0572b1b707ea6fcfcd7a039db-ced037fc342de509-01
2021-09-18T00:51:40.523Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:40.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-436486cbd96a42e18975ebef3518fc4a7dc32283-c2624acd3c8ddd07-01 outer:exit 2b-436486cbd96a42e18975ebef3518fc4a7dc32283-73760d79450c9726-01
2021-09-18T00:51:40.524Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:40.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-beb32ceb81fbd84412f013887dc096f3e1ef8966-7749a24dd5fd35dd-01 outer:exit 2b-beb32ceb81fbd84412f013887dc096f3e1ef8966-be63dcafa19b12b0-01
2021-09-18T00:51:40.526Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:40.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-5431540bcb6aa34829775f0936d3b5a0fac25162-af68f79b9c61d1a8-01 outer:exit 2b-5431540bcb6aa34829775f0936d3b5a0fac25162-629ad106364850d9-01
2021-09-18T00:51:40.533Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:40.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-657e145473c5f0824a57f4c460c8a561c03ed5cd-260b1aa719a9895f-01 outer:exit 2b-657e145473c5f0824a57f4c460c8a561c03ed5cd-f4f6bbc01ce5a609-01
2021-09-18T00:51:40.540Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:40.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-7589c30026bd674d4fc58037b39409d71a61eda4-d05f1046484491f4-01 outer:exit 2b-7589c30026bd674d4fc58037b39409d71a61eda4-8b376dd3e52cc8a9-01
2021-09-18T00:51:40.542Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:40.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8ddd3678d9b52972de25553ef5ddeacb69988d5-199cf3207163f30d-01 outer:exit 2b-f8ddd3678d9b52972de25553ef5ddeacb69988d5-814bf3f66bb3e0ee-01
2021-09-18T00:51:40.544Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:40.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-faa51b327a95aaefc8ac75e0322e5a01eaff6e68-1672827a74094a45-01 outer:exit 2b-faa51b327a95aaefc8ac75e0322e5a01eaff6e68-7a681685f6ae0fc3-01
2021-09-18T00:51:40.546Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:40.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-97d593804eefa0e775266dd6640e076e729f64eb-05c3b5e26e1ada64-01 outer:exit 2b-97d593804eefa0e775266dd6640e076e729f64eb-b6c4d5b403fee83e-01
2021-09-18T00:51:40.570Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (297ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:45.812Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:45.812Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:45.812Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:45.813Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:45.879Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:45.918Z appoptics:patching patched crypto 
2021-09-18T00:51:45.940Z appoptics:patching patched https 
2021-09-18T00:51:45.940Z appoptics:patching patched http 
2021-09-18T00:51:45.994Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:45.994Z appoptics:patching patched fs 
2021-09-18T00:51:46.009Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v16.9.1)
2021-09-18T00:51:46.015Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-09-18T00:51:46.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-a515e9c70e79e4ce2e8deaeee68d9b8b8c318f95-b8f6f03665714865-01 outer:exit 2b-a515e9c70e79e4ce2e8deaeee68d9b8b8c318f95-15f7737366d611db-01
2021-09-18T00:51:46.180Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:46.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fb51238012f52c678f99c8775c808342b17fc54-f2e90c9aee1bdfb0-01 outer:exit 2b-0fb51238012f52c678f99c8775c808342b17fc54-2ca2904b7cd05580-01
2021-09-18T00:51:46.249Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:46.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-e33a384efae20afc6594376a62ca831bafef8227-ea16d33f0716b363-01 outer:exit 2b-e33a384efae20afc6594376a62ca831bafef8227-ab88a2806a7c486a-01
2021-09-18T00:51:46.263Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:46.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ef52fc5ac739551d1282e833995ba89408ac7da-8afe5665560200c4-01 outer:exit 2b-4ef52fc5ac739551d1282e833995ba89408ac7da-df2415b630a7aab7-01
2021-09-18T00:51:46.266Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:46.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a4b4c40da38c993df8f4d8527407cf609b1402b-6e3759aed9f36bd4-01 outer:exit 2b-0a4b4c40da38c993df8f4d8527407cf609b1402b-6bdbc2b03716a0da-01
2021-09-18T00:51:46.270Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:46.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c216b98f0c8b8a721aa030006063a026bb3b899-98625b7eb1a148d0-01 outer:exit 2b-6c216b98f0c8b8a721aa030006063a026bb3b899-8059558141893361-01
2021-09-18T00:51:46.276Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:46.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d604e868968e283c1f430f10b2375c504666739-db41780382bdf227-01 outer:exit 2b-4d604e868968e283c1f430f10b2375c504666739-946ff4c841556f2a-01
2021-09-18T00:51:46.279Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:46.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5ddf282562ee2653c2fbbee7f7a115be92b30a0-5fb2a0b29139c452-01 outer:exit 2b-c5ddf282562ee2653c2fbbee7f7a115be92b30a0-c95b9009eadcca30-01
2021-09-18T00:51:46.281Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:46.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0d7c0463f3ba41a1e38c09b32675ba1a5000b62-4d24ae76cc24c4ff-01 outer:exit 2b-d0d7c0463f3ba41a1e38c09b32675ba1a5000b62-f2784c685fa6d067-01
2021-09-18T00:51:46.287Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:46.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-971e9b498b7e7cdf57d56fa3d7ab69a85ddb371b-ad247c1a528438e3-01 outer:exit 2b-971e9b498b7e7cdf57d56fa3d7ab69a85ddb371b-eea911f390e47484-01
2021-09-18T00:51:46.290Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:46.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e7c7ab2d8c94477e9cce6abc04769b64c2a74ed-138008eb8a45d273-01 outer:exit 2b-8e7c7ab2d8c94477e9cce6abc04769b64c2a74ed-89a40d8a61e95cac-01
2021-09-18T00:51:46.294Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:46.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbc00b88b0a429b841873aa0bddfebdd72ea2590-be62f7835b442513-01 outer:exit 2b-dbc00b88b0a429b841873aa0bddfebdd72ea2590-f324c2002607a34c-01
2021-09-18T00:51:46.301Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:46.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-296f164c36f6e219ca578eb9ed3dc4908237d6d7-6ab2679f68f929b0-01 outer:exit 2b-296f164c36f6e219ca578eb9ed3dc4908237d6d7-d0b29dd363b4139a-01
2021-09-18T00:51:46.323Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:46.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-651694e7cdf4b6369c836ddf14c3478f268467e6-1b70f04f7448bcb2-01 outer:exit 2b-651694e7cdf4b6369c836ddf14c3478f268467e6-7d2307739de34ddf-01
2021-09-18T00:51:46.354Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:46.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-46bc8b41441119d3c778a4cf99672926677fbf7f-bdec78881cfa5629-01 outer:exit 2b-46bc8b41441119d3c778a4cf99672926677fbf7f-58342d965ef6838d-01
2021-09-18T00:51:46.361Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:46.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-160c97e8a60b1280cd5fdfcacaa6ae305323be82-4b20ad70fa43e702-01 outer:exit 2b-160c97e8a60b1280cd5fdfcacaa6ae305323be82-b280c6939c137940-01
2021-09-18T00:51:46.363Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:46.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-240554d45c7a749ace5ff3f2c2b366adc96b0467-236d2093c5248d28-01 outer:exit 2b-240554d45c7a749ace5ff3f2c2b366adc96b0467-d0e522110247434a-01
2021-09-18T00:51:46.366Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:46.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-c875b0b150c97672efa266563ba590e1ab697c8c-2800e1eeb82e20e2-01 outer:exit 2b-c875b0b150c97672efa266563ba590e1ab697c8c-39dd0adc01d33a12-01
2021-09-18T00:51:46.368Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:46.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3e45df8b951e6f04ed33a75a1fe9d5114721dcf-8366aaa5ce1d9ca9-01 outer:exit 2b-e3e45df8b951e6f04ed33a75a1fe9d5114721dcf-ab10777f0470449c-01
2021-09-18T00:51:46.374Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:46.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d4f94cbb4aafc4d781e0f76027c9aeca3f53223-6ef33a3fcb2438a6-01 outer:exit 2b-7d4f94cbb4aafc4d781e0f76027c9aeca3f53223-1f80fba74073045b-01
2021-09-18T00:51:46.376Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:46.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-48de0d328536d7d76ec6b591fe79a17ed2359e9e-2eae7a9d49ca5419-01 outer:exit 2b-48de0d328536d7d76ec6b591fe79a17ed2359e9e-2b6771b55f1b8ccd-01
2021-09-18T00:51:46.378Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:46.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6c2eb241e71d60b1f90681e7bcb026f395507d0-87e3ce410d8a2317-01 outer:exit 2b-d6c2eb241e71d60b1f90681e7bcb026f395507d0-a5e4bbb908bff141-01
2021-09-18T00:51:46.382Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:46.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f825c7d29f9bcbcf6a8ef7800819ccfc2f9db30-05c169fbfc0c4aba-01 outer:exit 2b-8f825c7d29f9bcbcf6a8ef7800819ccfc2f9db30-57d66a682ad5d6c2-01
2021-09-18T00:51:46.385Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:46.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bf6acb228bec4183aadf169c4a8c8eca467dbed-1012f72b5db4a8c9-01 outer:exit 2b-9bf6acb228bec4183aadf169c4a8c8eca467dbed-0eb699ae51835752-01
2021-09-18T00:51:46.387Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:46.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef060a8b8e21f423d0c4b8f36816290453fed91-63867a27800c9423-01 outer:exit 2b-3ef060a8b8e21f423d0c4b8f36816290453fed91-62f910711891da76-01
2021-09-18T00:51:46.393Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:46.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-360db65bd845fbdf8e58e48dd3e0657a506fd3b9-d06d1c298d0bb706-01 outer:exit 2b-360db65bd845fbdf8e58e48dd3e0657a506fd3b9-8d16e557aa87344a-01
2021-09-18T00:51:46.395Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:46.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb2a6317517cb46c22f64550a9e3e01427eea060-6212d92ce575712e-01 outer:exit 2b-bb2a6317517cb46c22f64550a9e3e01427eea060-ea355f4aef1e91e5-01
2021-09-18T00:51:46.407Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:46.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-e59feaba25d68c63b7c6ccc9c75ee8567d7cea4b-f38312cfec78074d-01 outer:exit 2b-e59feaba25d68c63b7c6ccc9c75ee8567d7cea4b-84dd3cbe3fba9ead-01
2021-09-18T00:51:46.413Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:46.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-58cf6b8290b815a35dead9c8bda0d2ebaa553a1f-1213588df7489d1c-01 outer:exit 2b-58cf6b8290b815a35dead9c8bda0d2ebaa553a1f-911857ffd26e3a2b-01
2021-09-18T00:51:46.423Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:46.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-5443a7822274b0d4be28e37584dd6a40ccfd3813-07b18d5c6d019fc7-01 outer:exit 2b-5443a7822274b0d4be28e37584dd6a40ccfd3813-1a7e1475615a9310-01
2021-09-18T00:51:46.449Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:46.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9921f15de31eb89a208e18356b0be20fe9a1809-165e41d0fdc73ee9-01 outer:exit 2b-c9921f15de31eb89a208e18356b0be20fe9a1809-64eed3a53a6df069-01
2021-09-18T00:51:46.451Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:46.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-720b2c0bad07d100c08b25b88991abe9d75125f8-4b565fd21961c888-01 outer:exit 2b-720b2c0bad07d100c08b25b88991abe9d75125f8-1c5b1ded5b335f21-01
2021-09-18T00:51:46.457Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:46.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-20e9ca55bd466d0d6c45fd82e8bd61c07de9e94d-8ab9002b734476d6-01 outer:exit 2b-20e9ca55bd466d0d6c45fd82e8bd61c07de9e94d-acabef4baa7b37ac-01
2021-09-18T00:51:46.463Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:46.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-da65f095cc26481e803b134c9dd9fa2e71a15fec-30654a8860ca0b12-01 outer:exit 2b-da65f095cc26481e803b134c9dd9fa2e71a15fec-80dd57327ff336af-01
2021-09-18T00:51:46.480Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:46.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef57494a5aa58c50d2cd97f082fa9ddaa372d153-b2d3fa33d824ef80-01 outer:exit 2b-ef57494a5aa58c50d2cd97f082fa9ddaa372d153-0a56e9dfc6ae6722-01
2021-09-18T00:51:46.482Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:46.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba447471d8e22852809b605c428735f0f3774655-fc2f03bf8022e3c5-01 outer:exit 2b-ba447471d8e22852809b605c428735f0f3774655-294bbff7d84dc764-01
2021-09-18T00:51:46.484Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:46.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebdd54373de685cd61d2aaf8b8d0721f6943a4c4-9689f741d54cafe2-01 outer:exit 2b-ebdd54373de685cd61d2aaf8b8d0721f6943a4c4-f609be5130c2f971-01
2021-09-18T00:51:46.489Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:46.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-29c9f5f5e84c6333b86262582e435400eed8f656-e3ae5ea98941b5c7-01 outer:exit 2b-29c9f5f5e84c6333b86262582e435400eed8f656-15e0c7775daa28d1-01
2021-09-18T00:51:46.491Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:46.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b55652e589202e5794654a723c2ef9add21df4d-eff8c63296132a68-01 outer:exit 2b-7b55652e589202e5794654a723c2ef9add21df4d-599cd17433f6d9e6-01
2021-09-18T00:51:46.509Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:46.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-a07d6f10cc8f000dcc4e2d543acff5d27f5cab2e-97d1318d69238427-01 outer:exit 2b-a07d6f10cc8f000dcc4e2d543acff5d27f5cab2e-09d7f5ed4144dd6d-01
2021-09-18T00:51:46.520Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:46.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbfba738ae102365d3b6fe6eb85793203c60812f-147f628a32d80145-01 outer:exit 2b-fbfba738ae102365d3b6fe6eb85793203c60812f-5093963f02f0b4a1-01
2021-09-18T00:51:46.523Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:46.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-11aa94307a641b0a381536aae8a26bdb471b2498-1f7da2792d7c67e4-01 outer:exit 2b-11aa94307a641b0a381536aae8a26bdb471b2498-37c84a59ef459fd2-01
2021-09-18T00:51:46.526Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:46.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a53779f90234f5b0c533b1923af6a3119107a25-29b339f8feba5339-01 outer:exit 2b-8a53779f90234f5b0c533b1923af6a3119107a25-93df70d88d2bc7ca-01
2021-09-18T00:51:46.528Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:46.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-822c40a0f314257196ea0dce5d65cf3c65daeede-92b0607e21534a9d-01 outer:exit 2b-822c40a0f314257196ea0dce5d65cf3c65daeede-2a5044b42985ab0d-01
2021-09-18T00:51:46.567Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (428ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:52.354Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:52.355Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:52.355Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:52.355Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:52.410Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:52.448Z appoptics:patching patched crypto 
2021-09-18T00:51:52.467Z appoptics:patching patched https 
2021-09-18T00:51:52.468Z appoptics:patching patched http 
2021-09-18T00:51:52.507Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:52.508Z appoptics:patching patched fs 
2021-09-18T00:51:52.533Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v16.9.1)
2021-09-18T00:51:52.540Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-09-18T00:51:52.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-8331af42325651441bf82979699086ab9233a9ce-638fcc261f43f5c1-01 outer:exit 2b-8331af42325651441bf82979699086ab9233a9ce-224c15178c10e4a9-01
2021-09-18T00:51:52.669Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:52.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-b40341e7023f492f5ad0ac10285329c711ec9e24-a1214f8cd85899d1-01 outer:exit 2b-b40341e7023f492f5ad0ac10285329c711ec9e24-1d5ebb92557e8dcf-01
2021-09-18T00:51:52.698Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:52.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b42e16f085a3d583b6ce4960ed8ea0853ea1b89-1b6a7a3b8adbd3e2-01 outer:exit 2b-2b42e16f085a3d583b6ce4960ed8ea0853ea1b89-bc6bd448e8f707f0-01
2021-09-18T00:51:52.700Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:52.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-3821301c9aed94c12777492a50e0a0e15a026acc-eda6e20ec7dec23e-01 outer:exit 2b-3821301c9aed94c12777492a50e0a0e15a026acc-5f59aba007e44828-01
2021-09-18T00:51:52.703Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:52.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-49962d6d012da5133c6b5f75c902619578f622eb-cf0239614c15f730-01 outer:exit 2b-49962d6d012da5133c6b5f75c902619578f622eb-17d7be4175686bef-01
2021-09-18T00:51:52.707Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:52.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d6841c451aaaecf59570699a50ea22cc961c695-2fc021ce7ee5de2e-01 outer:exit 2b-6d6841c451aaaecf59570699a50ea22cc961c695-5553e2e50a892201-01
2021-09-18T00:51:52.710Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:52.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-140a1c6aa6e8d939546e0d07149f26b9bcdf9115-bd87dfe1a3e4c3c8-01 outer:exit 2b-140a1c6aa6e8d939546e0d07149f26b9bcdf9115-acd266e29453828a-01
2021-09-18T00:51:52.712Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:52.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9a14115d1d3fed1f5ec750d2cbced417339d7bc-23e56479c44a0f85-01 outer:exit 2b-f9a14115d1d3fed1f5ec750d2cbced417339d7bc-f72c23ee3196a344-01
2021-09-18T00:51:52.714Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:52.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d760673e7c27f9881001335d3cd3d50c931bf1d-d4536de392d7813c-01 outer:exit 2b-4d760673e7c27f9881001335d3cd3d50c931bf1d-74f29907bcd70cc3-01
2021-09-18T00:51:52.716Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:52.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-6194f95b23b15d26d593192ade9a26a3f66557be-5d64103e1e307f5c-01 outer:exit 2b-6194f95b23b15d26d593192ade9a26a3f66557be-ecdd13f9b46ca422-01
2021-09-18T00:51:52.719Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:52.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa1f84534ffddfa9f5765955008e56ceaa91e806-46d7712a96d12c26-01 outer:exit 2b-aa1f84534ffddfa9f5765955008e56ceaa91e806-0e405db242e3c72f-01
2021-09-18T00:51:52.722Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:52.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a55a61a82c7e20033cdad0005e8cb47992498a7-78eaa1fc70c9db32-01 outer:exit 2b-6a55a61a82c7e20033cdad0005e8cb47992498a7-5aa761851627adc6-01
2021-09-18T00:51:52.728Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:52.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-d771c386cd81b6fcc92175c07c4312579f3a9af6-c885403b8348e3b3-01 outer:exit 2b-d771c386cd81b6fcc92175c07c4312579f3a9af6-71f1f5250bdaa15d-01
2021-09-18T00:51:52.740Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:52.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6564d9549c034aa0b370e249d041d1c407bdb89-eedfe700005a9c9a-01 outer:exit 2b-f6564d9549c034aa0b370e249d041d1c407bdb89-78aacabf7b99e5f7-01
2021-09-18T00:51:52.797Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:52.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-09f82daa18159fd524eccb48bc45a05c2b81dd86-4eb297e03edacf40-01 outer:exit 2b-09f82daa18159fd524eccb48bc45a05c2b81dd86-c6a13ca62114e38b-01
2021-09-18T00:51:52.799Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:52.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-96c3f96259660a61d88d67e65b30b5670cba5f0d-5a36da1f62f424b3-01 outer:exit 2b-96c3f96259660a61d88d67e65b30b5670cba5f0d-4d27a52530c22adc-01
2021-09-18T00:51:52.801Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:52.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-78107fa17dabea14f0ff2b838219942e3a1ee6d5-862ac052299e0aa2-01 outer:exit 2b-78107fa17dabea14f0ff2b838219942e3a1ee6d5-8d7e68a4cc9d7701-01
2021-09-18T00:51:52.803Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:52.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-79cde08e1b5fa459c35be94871428349aeb5ce8b-a207d139199f8bee-01 outer:exit 2b-79cde08e1b5fa459c35be94871428349aeb5ce8b-4e736962f397bb1e-01
2021-09-18T00:51:52.805Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:52.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cf1272b2fdba7e911fff5e9f1eb07194b0b3c84-470494eb2ff43458-01 outer:exit 2b-6cf1272b2fdba7e911fff5e9f1eb07194b0b3c84-90d897bf4dd4524f-01
2021-09-18T00:51:52.810Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:52.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-4680611d12d66285389d53fb12ebae092a82b4e4-73ebad6d7adc7ab1-01 outer:exit 2b-4680611d12d66285389d53fb12ebae092a82b4e4-56583cbc9d013e84-01
2021-09-18T00:51:52.812Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:52.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f4fa2253b0c174f1e93b4df51188823eef7df54-b9dc3d433bf857b2-01 outer:exit 2b-8f4fa2253b0c174f1e93b4df51188823eef7df54-47a1fa565e707baa-01
2021-09-18T00:51:52.814Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:52.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2d0950a067ca062d99810d2d835b6aa9ba500b7-08d9289229917874-01 outer:exit 2b-e2d0950a067ca062d99810d2d835b6aa9ba500b7-c54987e3b7398653-01
2021-09-18T00:51:52.815Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:52.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-92a9c1576daf296f79cf4ad0f7ba92f6803da1ed-40fdfdd4f775580a-01 outer:exit 2b-92a9c1576daf296f79cf4ad0f7ba92f6803da1ed-722156a1b911bf8e-01
2021-09-18T00:51:52.818Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:52.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-64298772c3e577c0ba232e295a1a3fdb7a0b0e44-43ca1de80d67408e-01 outer:exit 2b-64298772c3e577c0ba232e295a1a3fdb7a0b0e44-2486824d87318e52-01
2021-09-18T00:51:52.821Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:52.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c5e47c08df3a84f3ec774096d9c504a90978aed-415007a8ff591e87-01 outer:exit 2b-7c5e47c08df3a84f3ec774096d9c504a90978aed-101b8b785e5a1df4-01
2021-09-18T00:51:52.823Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:52.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fb6f9eac8afc94ad5f36f54395ce9a955f6df47-da44b00964cf8a10-01 outer:exit 2b-6fb6f9eac8afc94ad5f36f54395ce9a955f6df47-250f7fe888dcb535-01
2021-09-18T00:51:52.825Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:52.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1830242f2f9ebbe76ded9f51bdbca3ad2030d70-811ae5e020c0824e-01 outer:exit 2b-f1830242f2f9ebbe76ded9f51bdbca3ad2030d70-b379b4089b14b567-01
2021-09-18T00:51:52.832Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:52.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d108341d475bb8724e6fa7deeee3415e5bf431c-4c87b878f01b9c6a-01 outer:exit 2b-7d108341d475bb8724e6fa7deeee3415e5bf431c-fe8b8b16c4769425-01
2021-09-18T00:51:52.836Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:52.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-495b544886bfd1590b019b614113f2d2057611f1-146a6caac5a3d181-01 outer:exit 2b-495b544886bfd1590b019b614113f2d2057611f1-32e834b494c6a876-01
2021-09-18T00:51:52.843Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:52.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-8105fdd9c11a83c8ed6ec43017351dfb7e869beb-4dc02b4415f2b8df-01 outer:exit 2b-8105fdd9c11a83c8ed6ec43017351dfb7e869beb-c5e7a744a6b9cebf-01
2021-09-18T00:51:52.848Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:52.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-aef31eb5bbaaa5177c54e3df20e528026a8823ec-058afbdb6379b696-01 outer:exit 2b-aef31eb5bbaaa5177c54e3df20e528026a8823ec-0c979199bb191968-01
2021-09-18T00:51:52.850Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:52.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-357c62e4eb06a0ac6bd57cf57271ee140d31e262-a1a27fc05d80f300-01 outer:exit 2b-357c62e4eb06a0ac6bd57cf57271ee140d31e262-d1a364b69e1217fe-01
2021-09-18T00:51:52.853Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:52.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b69f39d247b9d581f7080e1314baed2510a44e0-769660e5ff34c6f5-01 outer:exit 2b-0b69f39d247b9d581f7080e1314baed2510a44e0-34c4aaffa1e63c87-01
2021-09-18T00:51:52.858Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:52.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f003ba0f83372e9bd653e72f6ff897a3618c98f-9ea611710caeec2b-01 outer:exit 2b-0f003ba0f83372e9bd653e72f6ff897a3618c98f-bff92ffd0fa5f8b1-01
2021-09-18T00:51:52.860Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:52.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ec7d45106c72a3cf3dec4219586173769de5dd2-117a0a9d4839e772-01 outer:exit 2b-6ec7d45106c72a3cf3dec4219586173769de5dd2-770857dc4c46c49c-01
2021-09-18T00:51:52.862Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:52.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c38626097cd008fe7bb5e38d1bcf3689612fdb2-18f07c53559f2f28-01 outer:exit 2b-7c38626097cd008fe7bb5e38d1bcf3689612fdb2-0cc9b88bef6ba2f7-01
2021-09-18T00:51:52.863Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:52.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-71cd03beb423c39d58f79bf0a587197e14e69d18-721588f710144722-01 outer:exit 2b-71cd03beb423c39d58f79bf0a587197e14e69d18-62a5d6e060fdbd33-01
2021-09-18T00:51:52.865Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:52.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fca0681dc6437c36442767ddefda7567ff72952-e21bb2b6127e379e-01 outer:exit 2b-5fca0681dc6437c36442767ddefda7567ff72952-1208b52e891a1bfc-01
2021-09-18T00:51:52.867Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:52.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce4f860f2f20aae47095f8595b20391171561b16-d4b5f379009fcc2c-01 outer:exit 2b-ce4f860f2f20aae47095f8595b20391171561b16-1043411a21562e39-01
2021-09-18T00:51:52.878Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:52.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-d783143c88e0522b1c7cbfb40ca267e83530857f-1b4647e213c2637c-01 outer:exit 2b-d783143c88e0522b1c7cbfb40ca267e83530857f-49781dd884e0ab17-01
2021-09-18T00:51:52.884Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:52.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-413bc50e8c23ce4fc084ed2840b034dbaefcf0d8-fd548c7c9fde3f12-01 outer:exit 2b-413bc50e8c23ce4fc084ed2840b034dbaefcf0d8-5853d1531538df69-01
2021-09-18T00:51:52.886Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:52.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c6e7f85c89d3343b9de7922e8ca182eaa45c0bc-935a735922c8d3a2-01 outer:exit 2b-8c6e7f85c89d3343b9de7922e8ca182eaa45c0bc-e67fe0a44cf9d8ab-01
2021-09-18T00:51:52.888Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:52.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca13bfa741515431fb7fb18847cacde04958f0af-8c526c100b9057f3-01 outer:exit 2b-ca13bfa741515431fb7fb18847cacde04958f0af-b16062da7121c4ac-01
2021-09-18T00:51:52.890Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:52.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e65b444a49eb13b7f033330617e64e6f83d6a2f-7305a53b0e75e924-01 outer:exit 2b-8e65b444a49eb13b7f033330617e64e6f83d6a2f-cd09e9e09358d33c-01
2021-09-18T00:51:52.913Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (275ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:51:58.477Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:58.478Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:58.478Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:58.479Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:58.592Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:58.674Z appoptics:patching patched crypto 
2021-09-18T00:51:58.718Z appoptics:patching patched https 
2021-09-18T00:51:58.718Z appoptics:patching patched http 
2021-09-18T00:51:58.797Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:58.797Z appoptics:patching patched fs 
2021-09-18T00:51:58.824Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v16.9.1)
2021-09-18T00:51:58.830Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-09-18T00:51:59.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fa02f96de8f827543a349dc7e4198949855a206-64388af078db4cad-01 outer:exit 2b-6fa02f96de8f827543a349dc7e4198949855a206-5801ff9c4e322959-01
2021-09-18T00:51:59.002Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:59.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f159153257ca26d68e8b6a52221bca2a587d7da-28229b546c999892-01 outer:exit 2b-2f159153257ca26d68e8b6a52221bca2a587d7da-ae84e6af40d6989d-01
2021-09-18T00:51:59.044Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:59.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53cea382d6a9034ff2b7930181dac1a68e1a80c-5811b9a9d12adf4b-01 outer:exit 2b-c53cea382d6a9034ff2b7930181dac1a68e1a80c-59b7659cc618b9dc-01
2021-09-18T00:51:59.047Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:59.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-591849c48ee572da9e1805a25eb137f4df0b1492-323031d5374a1650-01 outer:exit 2b-591849c48ee572da9e1805a25eb137f4df0b1492-ba345e030497aedb-01
2021-09-18T00:51:59.050Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:59.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a0b26c918536c4f0bda37582f3e36a72f15babb-1f1f92e870aab2b6-01 outer:exit 2b-9a0b26c918536c4f0bda37582f3e36a72f15babb-c8cd736410a49cc9-01
2021-09-18T00:51:59.055Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:59.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-27fd632cc8667996e73b31ee6889556053bddd18-5bde35c1d45cdd2d-01 outer:exit 2b-27fd632cc8667996e73b31ee6889556053bddd18-5c9e60d892958228-01
2021-09-18T00:51:59.063Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:59.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-9942866d4205d7a2b938f2c33e4218593fec2a0b-c115d5545c006993-01 outer:exit 2b-9942866d4205d7a2b938f2c33e4218593fec2a0b-a5462efda5515825-01
2021-09-18T00:51:59.066Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:59.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-7696f8f9dd8d8285048ca280a30cd67977c76976-cfc6f906649cb2be-01 outer:exit 2b-7696f8f9dd8d8285048ca280a30cd67977c76976-e125b6ef030abd74-01
2021-09-18T00:51:59.068Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:59.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4990974d6cc2a1ea03cc74aae8cb88ff93246d6-d19220fa73dd5afd-01 outer:exit 2b-c4990974d6cc2a1ea03cc74aae8cb88ff93246d6-f4d9cbd6af816770-01
2021-09-18T00:51:59.070Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:59.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a072c301ebe7af7cfd1e35efaf09d703f710913-33b8588cf16e6571-01 outer:exit 2b-5a072c301ebe7af7cfd1e35efaf09d703f710913-898c06236d60c7b1-01
2021-09-18T00:51:59.072Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:59.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccb69c4a834cbebd68be52ffc5008f52537028b7-01a5cd3699ee16bc-01 outer:exit 2b-ccb69c4a834cbebd68be52ffc5008f52537028b7-2f2569ec6866cdd2-01
2021-09-18T00:51:59.076Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:59.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-35458e7fa283bb94df1476e4bd390492eda1fbbf-1e40d99da21fa5b3-01 outer:exit 2b-35458e7fa283bb94df1476e4bd390492eda1fbbf-a645841b560e7e0f-01
2021-09-18T00:51:59.082Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:59.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac0d3089b2a04ccece24f645bfb52f9638a8f76d-75ebdd9dd062d5a3-01 outer:exit 2b-ac0d3089b2a04ccece24f645bfb52f9638a8f76d-8576a6c19a2ead59-01
2021-09-18T00:51:59.095Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:59.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4b9de2df918e59cbc748c9b5a274de19f099040-e7b878e4f29bb2b9-01 outer:exit 2b-a4b9de2df918e59cbc748c9b5a274de19f099040-14d11ff9c78bf7f1-01
2021-09-18T00:51:59.150Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:59.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e56d69f5073eb071e079e6cc8742d34e9a9dfec-c45d29e2f517c6be-01 outer:exit 2b-6e56d69f5073eb071e079e6cc8742d34e9a9dfec-7e053c562f89074e-01
2021-09-18T00:51:59.152Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:59.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bd33912fca1cdc2c59f80bd13aa44d9c8340803-519fd241591a3286-01 outer:exit 2b-2bd33912fca1cdc2c59f80bd13aa44d9c8340803-383cd3566cd92882-01
2021-09-18T00:51:59.155Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:59.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-5942a144d94c6d4c8fc3d3503aba39fba4487b2d-80f79c9f0f32259e-01 outer:exit 2b-5942a144d94c6d4c8fc3d3503aba39fba4487b2d-06c1ae9c0ba0711c-01
2021-09-18T00:51:59.157Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:59.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-491e93236cc94e5831a63226408871c121b97826-635fe595bcdf3d9c-01 outer:exit 2b-491e93236cc94e5831a63226408871c121b97826-b340576366cd06d6-01
2021-09-18T00:51:59.159Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:59.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-be1350489454196286d1fd3a1af2d6d0391c19c6-3feb854b7377a840-01 outer:exit 2b-be1350489454196286d1fd3a1af2d6d0391c19c6-47a43ff466de6c47-01
2021-09-18T00:51:59.162Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:59.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f720f30e814a12847aac8fb584a65690ddbd09d-85fd800938a0b75d-01 outer:exit 2b-3f720f30e814a12847aac8fb584a65690ddbd09d-75116a23f7275dae-01
2021-09-18T00:51:59.163Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:59.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d4e6e80a6dff99f31538c9460b907f645034779-7231bab4320a8a10-01 outer:exit 2b-6d4e6e80a6dff99f31538c9460b907f645034779-2b5dc7c538de9ee6-01
2021-09-18T00:51:59.166Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:59.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a6fd5aeaaac878d650362591356bce0e198847-1379251809445bee-01 outer:exit 2b-42a6fd5aeaaac878d650362591356bce0e198847-70e755f4365c9a1b-01
2021-09-18T00:51:59.167Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:59.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-0840fb4512c900f62f9b5bda7d4391979ada85e5-a566fce3a7ad11fb-01 outer:exit 2b-0840fb4512c900f62f9b5bda7d4391979ada85e5-39f83edd371a1693-01
2021-09-18T00:51:59.171Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:59.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-28bfd90a4af81fc23d670de220b4792aa21601e6-9cbba4f7c580ba07-01 outer:exit 2b-28bfd90a4af81fc23d670de220b4792aa21601e6-f261c03aae8647e1-01
2021-09-18T00:51:59.177Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:59.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-4281c8a2afb6ad9f3fcf952b86a167504cf9cad2-394851cd2317fa4b-01 outer:exit 2b-4281c8a2afb6ad9f3fcf952b86a167504cf9cad2-6bd773e6482c8877-01
2021-09-18T00:51:59.180Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:59.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-51778dd4a1c72fdd6708c8f62bf72ebc8aabdf5d-efde277f5c4b1077-01 outer:exit 2b-51778dd4a1c72fdd6708c8f62bf72ebc8aabdf5d-0c8f4eac6f681f52-01
2021-09-18T00:51:59.182Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:59.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e6aa0794979ac47d3347053792788b3117c54aa-ff3b9c9533aabfd8-01 outer:exit 2b-0e6aa0794979ac47d3347053792788b3117c54aa-5d32062234391cd6-01
2021-09-18T00:51:59.192Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:59.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-59a31306b627dd73955e2a0238d1371c24a69e97-6b16f4415aa06bef-01 outer:exit 2b-59a31306b627dd73955e2a0238d1371c24a69e97-8f3b8ec1a1b4e3c7-01
2021-09-18T00:51:59.195Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:59.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f7a0380015572637a2f2b741eaa39b784bbe03c-0eedfbe5a41d4315-01 outer:exit 2b-5f7a0380015572637a2f2b741eaa39b784bbe03c-df3c4a5a35a9d6c5-01
2021-09-18T00:51:59.202Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:59.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-9661c6a630c967b6c18ecb643852adae977d7e2d-6b74e7818968c00c-01 outer:exit 2b-9661c6a630c967b6c18ecb643852adae977d7e2d-1f74cd56032bdbd6-01
2021-09-18T00:51:59.211Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:59.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-1873a19464094f36821c3d7db3a20b808a6da96d-67a4ceda635b4c32-01 outer:exit 2b-1873a19464094f36821c3d7db3a20b808a6da96d-a2448625ad6f97a1-01
2021-09-18T00:51:59.213Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:59.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-a788fe2e94dff064ed4f68ead4620ddccf2a743a-0c60bc15051bc41b-01 outer:exit 2b-a788fe2e94dff064ed4f68ead4620ddccf2a743a-8df1c72d06c03b4a-01
2021-09-18T00:51:59.218Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:59.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d44ed4cc1be0045ba6d4e5ddb6805aad87e03ae-5fd6e3735f67460d-01 outer:exit 2b-8d44ed4cc1be0045ba6d4e5ddb6805aad87e03ae-3e337c3b7754f01e-01
2021-09-18T00:51:59.224Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:59.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-09a93e56f891ba354739d0fc374449cda77c164e-e553579cb77edba2-01 outer:exit 2b-09a93e56f891ba354739d0fc374449cda77c164e-dcfddfdae086bb35-01
2021-09-18T00:51:59.226Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:59.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-017bf73a9dc4af5d04c44de113b2784e07d80c8f-f9251f425130f6fa-01 outer:exit 2b-017bf73a9dc4af5d04c44de113b2784e07d80c8f-55947af761fba346-01
2021-09-18T00:51:59.228Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:59.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-5275fe89f4d8eea86297595b124552be87236529-a06248b232543fc5-01 outer:exit 2b-5275fe89f4d8eea86297595b124552be87236529-7376435bd1471bdf-01
2021-09-18T00:51:59.238Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:59.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ddceb52b95d8c7fa7e93f0de4ceeaed0a2f79b8-027545ce4f45d333-01 outer:exit 2b-9ddceb52b95d8c7fa7e93f0de4ceeaed0a2f79b8-495962de01fe680d-01
2021-09-18T00:51:59.240Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:59.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4dd072c64b8e5186a0f733718ac10753d4c468a-fe717a50d914e684-01 outer:exit 2b-b4dd072c64b8e5186a0f733718ac10753d4c468a-d1f4f55001c0c04b-01
2021-09-18T00:51:59.242Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:59.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f714e4a6319408527d9dbc482d71ffc786ba3b7-8ac552e97153c4a2-01 outer:exit 2b-3f714e4a6319408527d9dbc482d71ffc786ba3b7-0b780eb6bb991799-01
2021-09-18T00:51:59.253Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:59.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-b58e756217e5cea7432dfdabec9578ebe7c71169-bfbdfcebf3f175e8-01 outer:exit 2b-b58e756217e5cea7432dfdabec9578ebe7c71169-e6c49ed7b3a69771-01
2021-09-18T00:51:59.263Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:59.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-914fee0f383f3e07bc7609487e4a36b979de8646-f003da5467d2ad48-01 outer:exit 2b-914fee0f383f3e07bc7609487e4a36b979de8646-e27f8c6d87da3929-01
2021-09-18T00:51:59.266Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:59.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-86598d8f0b074f080a92f2e0f3d4fa9ee153fff4-29f2328388ceb826-01 outer:exit 2b-86598d8f0b074f080a92f2e0f3d4fa9ee153fff4-fb3856b3df579410-01
2021-09-18T00:51:59.269Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:59.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f7c224f3ef6fe409df776970ce2053f09cb78f0-7ae76de2a0143bfe-01 outer:exit 2b-1f7c224f3ef6fe409df776970ce2053f09cb78f0-bbb989eea48aad0c-01
2021-09-18T00:51:59.271Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:59.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b0a33144b1109a0556c6cf2e23e2839045fd180-c3773e6852d15a8f-01 outer:exit 2b-2b0a33144b1109a0556c6cf2e23e2839045fd180-e110cc5370302a80-01
2021-09-18T00:51:59.295Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (338ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:04.652Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:04.652Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:04.653Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:04.653Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:04.746Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:04.795Z appoptics:patching patched crypto 
2021-09-18T00:52:04.817Z appoptics:patching patched https 
2021-09-18T00:52:04.818Z appoptics:patching patched http 
2021-09-18T00:52:04.858Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:04.858Z appoptics:patching patched fs 
2021-09-18T00:52:04.884Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v16.9.1)
2021-09-18T00:52:04.891Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-09-18T00:52:05.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-648eddb07fb3acfc7b7e1071f27dec46d6ab5434-6191106dd667ce31-01 outer:exit 2b-648eddb07fb3acfc7b7e1071f27dec46d6ab5434-9e3b3d27ca54187a-01
2021-09-18T00:52:05.025Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:05.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb2b2c9b2666a525f5f676518bbd65be0d93a70e-9b45ac727ab27540-01 outer:exit 2b-cb2b2c9b2666a525f5f676518bbd65be0d93a70e-2d1272a4610703f2-01
2021-09-18T00:52:05.108Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:05.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb510fb9b592ab09d240402a470b17e2f9cf06c3-c0d892626f6e198c-01 outer:exit 2b-eb510fb9b592ab09d240402a470b17e2f9cf06c3-bea34a49d15a00e2-01
2021-09-18T00:52:05.111Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:05.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee593518d8c9e245170a6a707368b0fa6ecca1db-5202a9d4fb78ae85-01 outer:exit 2b-ee593518d8c9e245170a6a707368b0fa6ecca1db-2c354512e8c0a25c-01
2021-09-18T00:52:05.113Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:05.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-223a22eccadad7a6206707d633935b4018de0dab-67d9a25290cbc4bf-01 outer:exit 2b-223a22eccadad7a6206707d633935b4018de0dab-d9136d88f129c6ee-01
2021-09-18T00:52:05.117Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:05.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-26ba364548db64666e9c8b94bf33f83990ba38c2-9751da8b5f90f58c-01 outer:exit 2b-26ba364548db64666e9c8b94bf33f83990ba38c2-9ce5125728f1ec20-01
2021-09-18T00:52:05.119Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:05.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecab8c77f7a55735fcd0f1edfbe9ef6b169d65d3-654cbd3985436fed-01 outer:exit 2b-ecab8c77f7a55735fcd0f1edfbe9ef6b169d65d3-dfac6e816a36b8a5-01
2021-09-18T00:52:05.122Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:05.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-e81e79769cad5543642b2f90ebced90f25ebbf44-6f6646c8176d50a0-01 outer:exit 2b-e81e79769cad5543642b2f90ebced90f25ebbf44-7f5d919f40a0ac2e-01
2021-09-18T00:52:05.124Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:05.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17944154e06f0efa67c4ff05d0f8f71381130ef-a66eb5c5f9d4e2f7-01 outer:exit 2b-c17944154e06f0efa67c4ff05d0f8f71381130ef-4d626d97293a7863-01
2021-09-18T00:52:05.126Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:05.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-4078a06664aeb5b0b92d56fb8ab5ab76446803e4-fe724af049029ebe-01 outer:exit 2b-4078a06664aeb5b0b92d56fb8ab5ab76446803e4-a771975841ed7a93-01
2021-09-18T00:52:05.129Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:05.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f8205ed5f099e405f006a1939cbf373869d48c5-1481235a080dcb52-01 outer:exit 2b-1f8205ed5f099e405f006a1939cbf373869d48c5-42e59c5581ab07d7-01
2021-09-18T00:52:05.132Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:05.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-98804d7b2ce11a6ee4f9059dd94143674eaa5126-be69fe988b9e6e04-01 outer:exit 2b-98804d7b2ce11a6ee4f9059dd94143674eaa5126-a7edf9ad1ddac436-01
2021-09-18T00:52:05.138Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:05.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-083463e8ad30371bdbe5b3ef00ae5b8461a83eed-9fca232343dbf782-01 outer:exit 2b-083463e8ad30371bdbe5b3ef00ae5b8461a83eed-515abfb62f13c66a-01
2021-09-18T00:52:05.150Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:05.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-acbd3d96c90b6f2f930b564a6fa380655c635814-bd3dde53b197ec9d-01 outer:exit 2b-acbd3d96c90b6f2f930b564a6fa380655c635814-848b7b265846d10b-01
2021-09-18T00:52:05.187Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:05.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-0805dae839055f4e38bbd1e35c357bfad291fcd8-b9f43bf60953af80-01 outer:exit 2b-0805dae839055f4e38bbd1e35c357bfad291fcd8-c718f6f12b75b2e4-01
2021-09-18T00:52:05.190Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:05.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-015884dd47ee346ed5b3e79c51be2dae3354ad5f-eb5d093a6deaa1e7-01 outer:exit 2b-015884dd47ee346ed5b3e79c51be2dae3354ad5f-02c0d852510079d2-01
2021-09-18T00:52:05.191Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:05.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-eefbec73efecfe6d8c647a2b85302d7534c3adda-dcd8559aad9032a9-01 outer:exit 2b-eefbec73efecfe6d8c647a2b85302d7534c3adda-ad183b268f94d7f8-01
2021-09-18T00:52:05.194Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:05.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dbc101896639c081cde1f1227b7b2ee4fa2c8f2-cc5b70d10c73fca5-01 outer:exit 2b-9dbc101896639c081cde1f1227b7b2ee4fa2c8f2-fe9e35ec26e8073d-01
2021-09-18T00:52:05.196Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:05.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-282b1c96f7232a4006b48700f31ebc65d114d88c-1a0a7a2e9d57631f-01 outer:exit 2b-282b1c96f7232a4006b48700f31ebc65d114d88c-95bd5efc7f31d474-01
2021-09-18T00:52:05.197Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:05.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-27aed72c84fbf3ada09c346a283eecd0da35ffa2-a6379cc64bf4926a-01 outer:exit 2b-27aed72c84fbf3ada09c346a283eecd0da35ffa2-e4856fc6c93c9394-01
2021-09-18T00:52:05.199Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:05.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f93d524236c988b601ace3ecb153d5507601ba1-105295b019888e65-01 outer:exit 2b-6f93d524236c988b601ace3ecb153d5507601ba1-c5e874be2df7dcc7-01
2021-09-18T00:52:05.201Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:05.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-267a5718da26185fff66a20faa535641f56c3092-e890ed2797dd29ea-01 outer:exit 2b-267a5718da26185fff66a20faa535641f56c3092-44a90a2bfa7c5db7-01
2021-09-18T00:52:05.203Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:05.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-3956bf4dd3811d7dc621de2986d029c162179a91-4eb4ac35963a8e6f-01 outer:exit 2b-3956bf4dd3811d7dc621de2986d029c162179a91-5fc2a9b21d0de46c-01
2021-09-18T00:52:05.205Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:05.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5825d30dd71aa2b7bbc2cb3e21d890348e10ac6-810d9322452c0478-01 outer:exit 2b-e5825d30dd71aa2b7bbc2cb3e21d890348e10ac6-1ea8619c8aa5d917-01
2021-09-18T00:52:05.208Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:05.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a9fe229d12c43efa1721055f10aef3403884b3b-23e137b6f3c203ef-01 outer:exit 2b-8a9fe229d12c43efa1721055f10aef3403884b3b-e0cf4da73adacc3a-01
2021-09-18T00:52:05.210Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:05.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a3504c368b6730d77fe048aa405b34bd857bf62-26f7b7e7aab9cacc-01 outer:exit 2b-9a3504c368b6730d77fe048aa405b34bd857bf62-6c4e0b15ef1065bc-01
2021-09-18T00:52:05.212Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:05.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-45a67225098dab421acdbbcee88c192daa5cfb2a-3c1699ab6947e2bb-01 outer:exit 2b-45a67225098dab421acdbbcee88c192daa5cfb2a-616d2868c9ddef94-01
2021-09-18T00:52:05.219Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:05.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5168961d1de5e8f35760933455dd0877e298581-7aab79497cb08f9f-01 outer:exit 2b-b5168961d1de5e8f35760933455dd0877e298581-72a099167fbc890a-01
2021-09-18T00:52:05.222Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:05.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b83c25b6950ffc0c1c576ffe649ba0144d9bb50-75b9c13bc849a10d-01 outer:exit 2b-2b83c25b6950ffc0c1c576ffe649ba0144d9bb50-7d89654f4b210507-01
2021-09-18T00:52:05.229Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:05.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-14626196723799f638d4e513965181cd4003ff39-64f3cfe93db73d03-01 outer:exit 2b-14626196723799f638d4e513965181cd4003ff39-4f9cfb5b3be92057-01
2021-09-18T00:52:05.234Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:05.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-23b8da9cd09afb1f89c6ec5b3b8d0f01edbb5fd4-454ef81e044c2f7a-01 outer:exit 2b-23b8da9cd09afb1f89c6ec5b3b8d0f01edbb5fd4-29c540f27b91599b-01
2021-09-18T00:52:05.236Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:05.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad60df19fb180a0c2531aa7069832242beac580b-8f62b4615a113045-01 outer:exit 2b-ad60df19fb180a0c2531aa7069832242beac580b-a71400c16ea70cb8-01
2021-09-18T00:52:05.238Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:05.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-e956089e0d5d0036078f8aeeabbee8e97a0951ee-020cbdd006454301-01 outer:exit 2b-e956089e0d5d0036078f8aeeabbee8e97a0951ee-3f937fa49fa09a75-01
2021-09-18T00:52:05.248Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:05.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd6ea6cddbd5ebb6b256892b628adb75e6521078-a07c2c145b0df90d-01 outer:exit 2b-bd6ea6cddbd5ebb6b256892b628adb75e6521078-1fafd14b65375b06-01
2021-09-18T00:52:05.250Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:05.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-84200d5ba40a51984ed2e557b7abee33b860c90f-6dcd7a2417ea63e8-01 outer:exit 2b-84200d5ba40a51984ed2e557b7abee33b860c90f-3842bc1a493249be-01
2021-09-18T00:52:05.252Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:05.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee8399a186dbd5845cb9f18d991152590f5dfe24-53603e51f14e4647-01 outer:exit 2b-ee8399a186dbd5845cb9f18d991152590f5dfe24-d4f5298c2fd90af1-01
2021-09-18T00:52:05.254Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:05.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-c983769f7a8d051f40dbb4f2ba64e39fd2e5f42a-2bf09619f02065fe-01 outer:exit 2b-c983769f7a8d051f40dbb4f2ba64e39fd2e5f42a-9eecc408d163658b-01
2021-09-18T00:52:05.255Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:05.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-a753ddc65f282c6a02c1df6f0c59b5b5188248fe-67eb24577fddbb41-01 outer:exit 2b-a753ddc65f282c6a02c1df6f0c59b5b5188248fe-cd303807c5cd3990-01
2021-09-18T00:52:05.257Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:05.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe4e6c0fbf6f6db77a0bccc55c02c70d3da2491a-825cbc874ea62a65-01 outer:exit 2b-fe4e6c0fbf6f6db77a0bccc55c02c70d3da2491a-d48243f6a65c7006-01
2021-09-18T00:52:05.264Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:05.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-a50ab8282dfc4af36aae5b1cec633a7486070a42-19523231598d939c-01 outer:exit 2b-a50ab8282dfc4af36aae5b1cec633a7486070a42-af341dd7d88b3dbd-01
2021-09-18T00:52:05.271Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:05.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-a846805cff698ba80c2e55be98fab7f42f7706d7-8efcf104ad415dfc-01 outer:exit 2b-a846805cff698ba80c2e55be98fab7f42f7706d7-7932ed22cd5f0d43-01
2021-09-18T00:52:05.273Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:05.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5f478e41b749f53ec2438214d1a31bd096941f7-11bea52c26f69e73-01 outer:exit 2b-a5f478e41b749f53ec2438214d1a31bd096941f7-ba057a37c1988c06-01
2021-09-18T00:52:05.276Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:05.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-39dd547482a40a1610258d40d46ea8e1165977d4-3e46cc8241b35513-01 outer:exit 2b-39dd547482a40a1610258d40d46ea8e1165977d4-2064b27853320edb-01
2021-09-18T00:52:05.278Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:05.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-f33b1303b7bd21d71358bc84af22220454b42b94-edb20674e45b79f3-01 outer:exit 2b-f33b1303b7bd21d71358bc84af22220454b42b94-3f28476bea298eff-01
2021-09-18T00:52:05.301Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (307ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:11.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:11.388Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:11.388Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:11.389Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:11.444Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:11.483Z appoptics:patching patched crypto 
2021-09-18T00:52:11.502Z appoptics:patching patched https 
2021-09-18T00:52:11.503Z appoptics:patching patched http 
2021-09-18T00:52:11.551Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:11.551Z appoptics:patching patched fs 
2021-09-18T00:52:11.578Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v16.9.1)
2021-09-18T00:52:11.585Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-09-18T00:52:11.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab5ac964d4877d9445a2cb4412240781b6af37a6-ffb54f3c9a332679-01 outer:exit 2b-ab5ac964d4877d9445a2cb4412240781b6af37a6-8f2b2318e63ebef3-01
2021-09-18T00:52:11.732Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:11.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f07eb2011f2ed92b5272c2eb6ed73166197fb01-70c561f791035f8a-01 outer:exit 2b-3f07eb2011f2ed92b5272c2eb6ed73166197fb01-a62041d0bc2ac219-01
2021-09-18T00:52:11.800Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:11.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcdd3fb589543361e43c848f9323646e85709905-c852e208aa087840-01 outer:exit 2b-fcdd3fb589543361e43c848f9323646e85709905-5c398a2dfbe948a0-01
2021-09-18T00:52:11.803Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:11.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-7977bc325dac1c1ea589ba91cdf494e68962fcc5-dde88f61e3c560e4-01 outer:exit 2b-7977bc325dac1c1ea589ba91cdf494e68962fcc5-c35be796fc35b68d-01
2021-09-18T00:52:11.805Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:11.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2827e54f0034623cbd26826de2c857905f0ba8d-af5699f01e5920f4-01 outer:exit 2b-e2827e54f0034623cbd26826de2c857905f0ba8d-e3058ea3dce79f2f-01
2021-09-18T00:52:11.809Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:11.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-528aa254577af7223e42d6b1bf4186fd0e096680-6cb451718567f513-01 outer:exit 2b-528aa254577af7223e42d6b1bf4186fd0e096680-baa9c4c43fe7ef0a-01
2021-09-18T00:52:11.812Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:11.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-f25ba3eb36a78af137a416b858365f862848d9ae-84e2a2e91cd08ca3-01 outer:exit 2b-f25ba3eb36a78af137a416b858365f862848d9ae-4245fde1110ea4be-01
2021-09-18T00:52:11.814Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:11.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b235aaa1cbc04579fac12ea2050e7b5faedaebf-c273fa58c25b4df7-01 outer:exit 2b-0b235aaa1cbc04579fac12ea2050e7b5faedaebf-3fc0b6d3a65e83bc-01
2021-09-18T00:52:11.816Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:11.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a56e00903fdb46242941826fcb7a2ae92e1abdc-b56f7f6c781e098e-01 outer:exit 2b-9a56e00903fdb46242941826fcb7a2ae92e1abdc-ea97ea549f6cc952-01
2021-09-18T00:52:11.818Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:11.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-d54c86c979d8d0ff0d9605c2dba19844cda129e5-6542ecafc4857d14-01 outer:exit 2b-d54c86c979d8d0ff0d9605c2dba19844cda129e5-381edd333bfa65ce-01
2021-09-18T00:52:11.821Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:11.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-d53b1eb89aceb5607dbcd2c4af8c59ba23f5d652-46d22e11a1ba8e0b-01 outer:exit 2b-d53b1eb89aceb5607dbcd2c4af8c59ba23f5d652-e7145c8ed66a4046-01
2021-09-18T00:52:11.824Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:11.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9c9b2ca55956254f4024d809d5dae4f51bdac05-83de9f91ccce188b-01 outer:exit 2b-c9c9b2ca55956254f4024d809d5dae4f51bdac05-cf6a3817ff7911f6-01
2021-09-18T00:52:11.830Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:11.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c4daacfff8665ee6e39984e9cb7feed98335972-16bdec9a7ed92482-01 outer:exit 2b-6c4daacfff8665ee6e39984e9cb7feed98335972-7951d31da4e66587-01
2021-09-18T00:52:11.843Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:11.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaa30efd8a1ce63d1f275c9b5eb2ea3606ea7e87-bf3ed064d61fc6af-01 outer:exit 2b-aaa30efd8a1ce63d1f275c9b5eb2ea3606ea7e87-3e074eb711c41487-01
2021-09-18T00:52:11.899Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:11.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd0eed9b4cdf0892b5e61752dc4de105c74a54e4-8a6688c0d4448c90-01 outer:exit 2b-fd0eed9b4cdf0892b5e61752dc4de105c74a54e4-25acb89356584604-01
2021-09-18T00:52:11.902Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:11.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-39fafdc9168d3fc390b93808663508972be1da54-a54dd5ab385897e6-01 outer:exit 2b-39fafdc9168d3fc390b93808663508972be1da54-5a9cb6beb8588395-01
2021-09-18T00:52:11.904Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:11.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-91d180f0e37f4fc401fd615200eac87b3a6e7618-494471e3811a0f5e-01 outer:exit 2b-91d180f0e37f4fc401fd615200eac87b3a6e7618-3bfb3aa4426ca757-01
2021-09-18T00:52:11.906Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:11.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-a087918d1dbb457b8d603d33f0fa6d76cc10c3b6-5b6ad9c716326167-01 outer:exit 2b-a087918d1dbb457b8d603d33f0fa6d76cc10c3b6-e877b8216caacede-01
2021-09-18T00:52:11.908Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:11.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed3b59a41460bb2f70d865cdbfdcf594a7bb54fd-330bb9150140e3f4-01 outer:exit 2b-ed3b59a41460bb2f70d865cdbfdcf594a7bb54fd-2af85a8fde14aa47-01
2021-09-18T00:52:11.910Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:11.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-061664493e91802e84ed6c40588eb08221dab26e-a95aa2c363dd0a2b-01 outer:exit 2b-061664493e91802e84ed6c40588eb08221dab26e-031ba4be551b6f26-01
2021-09-18T00:52:11.912Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:11.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-080a089512db2ce58b41869181531bbc17e0e7c1-9d236c4bba23368c-01 outer:exit 2b-080a089512db2ce58b41869181531bbc17e0e7c1-c3efcdbf95dbc767-01
2021-09-18T00:52:11.913Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:11.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8ac7931348e841bc91e1312c7c6ccbb61341279-f5763e6ccd944fbf-01 outer:exit 2b-d8ac7931348e841bc91e1312c7c6ccbb61341279-33c3716aa58c285f-01
2021-09-18T00:52:11.915Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:11.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fc53f281f1708fff909c5707d6e5d831ba7c415-4c4629850ff8aba8-01 outer:exit 2b-2fc53f281f1708fff909c5707d6e5d831ba7c415-7a0c2ec28d6c5667-01
2021-09-18T00:52:11.918Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:11.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ce88c30ad50ad6c44e8946003c95237b6909da1-4acd5dd76f1f74af-01 outer:exit 2b-6ce88c30ad50ad6c44e8946003c95237b6909da1-bddb2002cef1c197-01
2021-09-18T00:52:11.920Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:11.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbe6acae9dd55aa47fe2ed68514eed1c32d3d361-550ce3f9171f1a2d-01 outer:exit 2b-cbe6acae9dd55aa47fe2ed68514eed1c32d3d361-29fd87a1aa2af3c3-01
2021-09-18T00:52:11.922Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:11.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-4671c04fb7c86e2b1d16b7b3d3bc80e4d606df51-6b345d8c9e4e7878-01 outer:exit 2b-4671c04fb7c86e2b1d16b7b3d3bc80e4d606df51-76c211509dba2346-01
2021-09-18T00:52:11.924Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:11.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-11c502ff6e106b3f9cd45a851553b05f85b01294-5ea39ce68a52c5e4-01 outer:exit 2b-11c502ff6e106b3f9cd45a851553b05f85b01294-628f9b3af16c104c-01
2021-09-18T00:52:11.931Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:11.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-adc2deadfc4db5f53dbe39b3da8837f7399be85d-5d0e1d9912a33583-01 outer:exit 2b-adc2deadfc4db5f53dbe39b3da8837f7399be85d-ee632b49ddbeb222-01
2021-09-18T00:52:11.936Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:11.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f406ca93cc9899a6931c28212b043b2cdbe80b9-ddbb9c34ae1cd216-01 outer:exit 2b-4f406ca93cc9899a6931c28212b043b2cdbe80b9-de40687e074e64d9-01
2021-09-18T00:52:11.946Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:11.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b690edff4d4c5821525323ed329a836d416be1b-cca5c7a1071c9c06-01 outer:exit 2b-8b690edff4d4c5821525323ed329a836d416be1b-65c47439b9cd398c-01
2021-09-18T00:52:11.952Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:11.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6c6b889794d40634b56151292c5a2fd6989053c-365606383739bf7d-01 outer:exit 2b-e6c6b889794d40634b56151292c5a2fd6989053c-0e01e36f7eb7ac69-01
2021-09-18T00:52:11.954Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:11.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2cf171fc8ae3ba62f512476f72c7d1500d6ef96-21ccb336df5f551e-01 outer:exit 2b-c2cf171fc8ae3ba62f512476f72c7d1500d6ef96-1ce7e1f965fd51d7-01
2021-09-18T00:52:11.956Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:11.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-554faa04345c613cb2969997a6a4a76666a8b4a6-5c6370aad12e2ca5-01 outer:exit 2b-554faa04345c613cb2969997a6a4a76666a8b4a6-3f4ee54e8734916e-01
2021-09-18T00:52:11.961Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:11.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aae8e7944c48d2006675017d1a149b5a383073c-1d1834ddc23926e3-01 outer:exit 2b-0aae8e7944c48d2006675017d1a149b5a383073c-2db23d409f12f433-01
2021-09-18T00:52:11.963Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:11.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-69dd9011edfc68e396c085dc4560ce13fd9d0ed5-6883e286fecb9905-01 outer:exit 2b-69dd9011edfc68e396c085dc4560ce13fd9d0ed5-def615d6627053f2-01
2021-09-18T00:52:11.965Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:11.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4908b32b371faf9f19615fda8307a8c62474ba0-50cf7bcf7ef84636-01 outer:exit 2b-b4908b32b371faf9f19615fda8307a8c62474ba0-3984269b182fd15f-01
2021-09-18T00:52:11.966Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:11.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-d80df4c773994b422d18e623bd2a8131c018b77c-adb11f66c91bc829-01 outer:exit 2b-d80df4c773994b422d18e623bd2a8131c018b77c-9dddfe48e52d5e47-01
2021-09-18T00:52:11.971Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:11.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9785fd3173fc886f85ff7c613ab4859312b420e-3db1a17cc4726a3b-01 outer:exit 2b-c9785fd3173fc886f85ff7c613ab4859312b420e-2766bfb1c9ba43f7-01
2021-09-18T00:52:11.973Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:11.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cae5fe68bde08389af994311d36ae6bcde98652-4123609999852206-01 outer:exit 2b-5cae5fe68bde08389af994311d36ae6bcde98652-9716f42baaae398b-01
2021-09-18T00:52:11.980Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:11.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-307fefe39804329eb6eb8ba5369bf78c7874c2a6-813f19197c7c0695-01 outer:exit 2b-307fefe39804329eb6eb8ba5369bf78c7874c2a6-0e48824a0e3ac38c-01
2021-09-18T00:52:11.987Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:11.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c6cc46e894210b0750b838d5c4824f21b20095b-5cb5748ca41fc710-01 outer:exit 2b-8c6cc46e894210b0750b838d5c4824f21b20095b-fa88c72bc27598cd-01
2021-09-18T00:52:11.989Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:11.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a78909598a1a5b964136a87d92c6c5e39fa5f12-dac0162f7e43b031-01 outer:exit 2b-4a78909598a1a5b964136a87d92c6c5e39fa5f12-a24b3a5865709038-01
2021-09-18T00:52:11.991Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:11.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b47b1bb024caddb3b6e2379a68ef7e5d29f547b-16be16e1cdb98b71-01 outer:exit 2b-7b47b1bb024caddb3b6e2379a68ef7e5d29f547b-271c9e3af49b23d8-01
2021-09-18T00:52:11.994Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:12.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-99401948d461b0e662c0e6184fbcb188256f067c-ec2a0dbf7c3fb8d3-01 outer:exit 2b-99401948d461b0e662c0e6184fbcb188256f067c-97a0b1a91a5088ba-01
2021-09-18T00:52:12.018Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (318ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:17.136Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:17.137Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:17.137Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:17.138Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:17.194Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:17.232Z appoptics:patching patched crypto 
2021-09-18T00:52:17.251Z appoptics:patching patched https 
2021-09-18T00:52:17.251Z appoptics:patching patched http 
2021-09-18T00:52:17.291Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:17.291Z appoptics:patching patched fs 
2021-09-18T00:52:17.317Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v16.9.1)
2021-09-18T00:52:17.323Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-09-18T00:52:17.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d612fdafba15cbac492ec24f174a60488d003e3-1c9ce8a85c26ce40-01 outer:exit 2b-7d612fdafba15cbac492ec24f174a60488d003e3-ad957c0e835be4d7-01
2021-09-18T00:52:17.456Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:17.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d69ca3d0906097667f2b73447c3b1cae5b7e488-2a3d691ff73231fc-01 outer:exit 2b-5d69ca3d0906097667f2b73447c3b1cae5b7e488-d923c30007ecaa4f-01
2021-09-18T00:52:17.518Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:17.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-206abd2b31a789a093d3fc5c92846e83bb81c9c3-0df52825ea5d8d31-01 outer:exit 2b-206abd2b31a789a093d3fc5c92846e83bb81c9c3-c2692052cc62ad65-01
2021-09-18T00:52:17.526Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:17.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-eee6a950c805c3d94b83d1728f5b1227e293c51e-6e51f26a6df36110-01 outer:exit 2b-eee6a950c805c3d94b83d1728f5b1227e293c51e-b733ea4f7ee93227-01
2021-09-18T00:52:17.558Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:17.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc0053449009913a32d4e2f9174ebb58aed89a1f-7443551255eea5a5-01 outer:exit 2b-bc0053449009913a32d4e2f9174ebb58aed89a1f-9c0fe42a2860d73e-01
2021-09-18T00:52:17.562Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:17.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b4fb5fd2eabd6f6c15927dd5f64b4c1ba0a0bc6-85a398b376aa9d95-01 outer:exit 2b-9b4fb5fd2eabd6f6c15927dd5f64b4c1ba0a0bc6-391ac10d91d69f6a-01
2021-09-18T00:52:17.564Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:17.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-d194da97e47055896aa446155b61d934ceb48cb9-3d7ee111389932d3-01 outer:exit 2b-d194da97e47055896aa446155b61d934ceb48cb9-b81190ca0b1c8107-01
2021-09-18T00:52:17.567Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:17.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f4108c23dd0fb44434ce2ab99bebffb164eefa4-f99e69062eeb9c89-01 outer:exit 2b-7f4108c23dd0fb44434ce2ab99bebffb164eefa4-0fc97e8977d448ea-01
2021-09-18T00:52:17.570Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:17.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fbe176de23419525c3426af953b2d52af264ee4-6d40f0ddafbcd1cc-01 outer:exit 2b-4fbe176de23419525c3426af953b2d52af264ee4-389a4f8ae5d767ee-01
2021-09-18T00:52:17.572Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:17.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-999855d1f70a74323ed1d4ed2db0fd684f2ea320-d8defbdaff9ad0a0-01 outer:exit 2b-999855d1f70a74323ed1d4ed2db0fd684f2ea320-36bbb78c12effee3-01
2021-09-18T00:52:17.575Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:17.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5920b6484ec4b2f4ee61fcbaa5f73127fe75eca-59e62ca9940259b9-01 outer:exit 2b-b5920b6484ec4b2f4ee61fcbaa5f73127fe75eca-f4e642487e5decd5-01
2021-09-18T00:52:17.579Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:17.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c260bdaeeaa85220c814e6ac3f4e0598438d9be-43c21fe5fbe2d5b2-01 outer:exit 2b-3c260bdaeeaa85220c814e6ac3f4e0598438d9be-a57759fe49938254-01
2021-09-18T00:52:17.585Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:17.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eca3d2ed3c988860e09bda26edb2f5df13466d8-af0ff689e7d70389-01 outer:exit 2b-6eca3d2ed3c988860e09bda26edb2f5df13466d8-f9473e5149359710-01
2021-09-18T00:52:17.597Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:17.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-a176d1577827382edf7526ca64d2a9bf8f1870da-9d94b37d8105d893-01 outer:exit 2b-a176d1577827382edf7526ca64d2a9bf8f1870da-ae3cd3f01d63e8fc-01
2021-09-18T00:52:17.619Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:17.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-007f5420a1eee956be09f8af3ec72503672649c1-cb753b47b675a36d-01 outer:exit 2b-007f5420a1eee956be09f8af3ec72503672649c1-38f0928171fc3dba-01
2021-09-18T00:52:17.621Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:17.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3b4a97bca652bfbc1371582b7000c9c1fe39d43-51a0ecdc8ef8aae0-01 outer:exit 2b-e3b4a97bca652bfbc1371582b7000c9c1fe39d43-fd8bd21b4178ed0e-01
2021-09-18T00:52:17.623Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:17.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-331863958df81950bf652aab6018789587ec26ea-ba8a3fabbf3d2ae4-01 outer:exit 2b-331863958df81950bf652aab6018789587ec26ea-20628efb8fe524e2-01
2021-09-18T00:52:17.625Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:17.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6ce691bcfc84172bd2d39c973af94069776c2dd-0f156ced7be8f414-01 outer:exit 2b-c6ce691bcfc84172bd2d39c973af94069776c2dd-c079d065e44ef22d-01
2021-09-18T00:52:17.627Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:17.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c2c3b9d16a49b70b4bcbd87be212f66f3d682ee-6ed3794e94f429b6-01 outer:exit 2b-2c2c3b9d16a49b70b4bcbd87be212f66f3d682ee-7abd1e0bdbce36a8-01
2021-09-18T00:52:17.629Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:17.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-e809d630d97bfc618263746a4fde34f926fe9e36-658a22ee34692be8-01 outer:exit 2b-e809d630d97bfc618263746a4fde34f926fe9e36-6b772fcf6f381975-01
2021-09-18T00:52:17.631Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:17.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1550faef5f94319895877db8b7539250df68cb5-665aeddc233180ed-01 outer:exit 2b-f1550faef5f94319895877db8b7539250df68cb5-a871a0a994238963-01
2021-09-18T00:52:17.633Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:17.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dc3e364392d8a80fa4b5f196b3973e34fcd8e3a-6b0f57decf916297-01 outer:exit 2b-5dc3e364392d8a80fa4b5f196b3973e34fcd8e3a-4d6984412a7cf92b-01
2021-09-18T00:52:17.635Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:17.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-32ad4b48d5438bf071df01f920fde0bcd28f8ec4-e3cae76098905c81-01 outer:exit 2b-32ad4b48d5438bf071df01f920fde0bcd28f8ec4-e38b652c90743b65-01
2021-09-18T00:52:17.637Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:17.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3f25986464411ca6b31b7b5a3bc5aeefb457842-fef2aa45378e20ac-01 outer:exit 2b-e3f25986464411ca6b31b7b5a3bc5aeefb457842-42ebb1636f5bd85f-01
2021-09-18T00:52:17.640Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:17.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3640e0356444770f356344128f992ee2823b062-de8851bcbfeb0db9-01 outer:exit 2b-a3640e0356444770f356344128f992ee2823b062-c8094e005fe7e2eb-01
2021-09-18T00:52:17.642Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:17.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cd06070de0a742f5d66e9c0775a187a5a052e44-3bcdc47d79dfa0ba-01 outer:exit 2b-5cd06070de0a742f5d66e9c0775a187a5a052e44-bc3a749c250def35-01
2021-09-18T00:52:17.644Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:17.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-080c54cd9582c74896494185246cf399ff333365-fc740902590b8804-01 outer:exit 2b-080c54cd9582c74896494185246cf399ff333365-38e3e59bd23ee0f8-01
2021-09-18T00:52:17.651Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:17.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-36203d5e3886b04fe4206f7b64b1a4766e45296e-564c2252780fa619-01 outer:exit 2b-36203d5e3886b04fe4206f7b64b1a4766e45296e-582d9ffba053d1cb-01
2021-09-18T00:52:17.654Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:17.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-a406674fc76e732f14f0e653f4ed73abc896946d-b0a720b94024733f-01 outer:exit 2b-a406674fc76e732f14f0e653f4ed73abc896946d-3e298a94a74bab74-01
2021-09-18T00:52:17.661Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:17.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd2ed39b4a4761b4567cf109c5d47e2ba9cb864f-8949285326396e74-01 outer:exit 2b-cd2ed39b4a4761b4567cf109c5d47e2ba9cb864f-bfdbb458390585f4-01
2021-09-18T00:52:17.667Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:17.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6b44c9b8b3fcfe6b75e9cdfc26a7fc3dca3ab2e-546a6b7cce6c7735-01 outer:exit 2b-d6b44c9b8b3fcfe6b75e9cdfc26a7fc3dca3ab2e-a0e08733fdea56f3-01
2021-09-18T00:52:17.669Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:17.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf30c938b9da87f55daa41555ea4849b6dab7aa8-4c4d574db125caaa-01 outer:exit 2b-bf30c938b9da87f55daa41555ea4849b6dab7aa8-6cc78860658219df-01
2021-09-18T00:52:17.671Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:17.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-053f7b3d50fcc1a7c13b141c9a9108223bcc9548-34427b6ba371de28-01 outer:exit 2b-053f7b3d50fcc1a7c13b141c9a9108223bcc9548-cf0a7073fabe4b8c-01
2021-09-18T00:52:17.677Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:17.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-d20db632718c8a7898417792466a8f3b86b2d8de-d89902b58782dac6-01 outer:exit 2b-d20db632718c8a7898417792466a8f3b86b2d8de-b7c59fb326e900b4-01
2021-09-18T00:52:17.679Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:17.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-44fac8772b76ac3bd8d3dbcd72e77d1dc1a3d3e5-8f76593017313ba7-01 outer:exit 2b-44fac8772b76ac3bd8d3dbcd72e77d1dc1a3d3e5-b476aaeb79a35b68-01
2021-09-18T00:52:17.680Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:17.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-cedb74c41ce6bb8bdfe66907aa821755377f7bf4-14161775cc3f46f4-01 outer:exit 2b-cedb74c41ce6bb8bdfe66907aa821755377f7bf4-dad2ef8bc14125a8-01
2021-09-18T00:52:17.682Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:17.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff462e66fdf9b2296a339c0afc3117a789dac5c1-7d99c560f539dfa8-01 outer:exit 2b-ff462e66fdf9b2296a339c0afc3117a789dac5c1-44be3766c0c88c9d-01
2021-09-18T00:52:17.684Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:17.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e6d7eedc674b2d85396d4122ac7706bcb21da2b-fa82fd5d2a974dd7-01 outer:exit 2b-4e6d7eedc674b2d85396d4122ac7706bcb21da2b-5e83e1dfa981c70a-01
2021-09-18T00:52:17.689Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:17.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-d101667eb0e97bcfd6651dc90f026ee568e34402-458e8db58f5ec952-01 outer:exit 2b-d101667eb0e97bcfd6651dc90f026ee568e34402-058ff3bee54f1f85-01
2021-09-18T00:52:17.696Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:17.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-3940c45d09101fdb92f6c6fc1d1cacbaf879e563-47d12318a3ed6a82-01 outer:exit 2b-3940c45d09101fdb92f6c6fc1d1cacbaf879e563-84462ef569ffa682-01
2021-09-18T00:52:17.703Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:17.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-03bf1a01450449670cc3d6b51efa44efbabf432f-5270205ac1f390ed-01 outer:exit 2b-03bf1a01450449670cc3d6b51efa44efbabf432f-415441753787676a-01
2021-09-18T00:52:17.705Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:17.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-a415bade3e0d077ff7d4f7189951850c68bb844d-0b817d39816b95b1-01 outer:exit 2b-a415bade3e0d077ff7d4f7189951850c68bb844d-938c340ebc593e0a-01
2021-09-18T00:52:17.707Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:17.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc7c274593631e9e8046848c77b2bdc0d86225f2-d44f875ea7075084-01 outer:exit 2b-dc7c274593631e9e8046848c77b2bdc0d86225f2-a8e06a80164ac143-01
2021-09-18T00:52:17.710Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:17.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cb75ea879bc6fe0419ea6899fe95d9700b0ce0b-dfa48a7c5d25b08c-01 outer:exit 2b-4cb75ea879bc6fe0419ea6899fe95d9700b0ce0b-ad02cf28830a6c54-01
2021-09-18T00:52:17.733Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (310ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:23.653Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:23.653Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:23.653Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:23.654Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:23.709Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:23.747Z appoptics:patching patched crypto 
2021-09-18T00:52:23.767Z appoptics:patching patched https 
2021-09-18T00:52:23.767Z appoptics:patching patched http 
2021-09-18T00:52:23.807Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:23.807Z appoptics:patching patched fs 
2021-09-18T00:52:23.833Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v16.9.1)
2021-09-18T00:52:23.839Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-09-18T00:52:23.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a17d8cafb4fc03cfa9ceaadcddb146ec278b15e-1f882848f454a731-01 outer:exit 2b-1a17d8cafb4fc03cfa9ceaadcddb146ec278b15e-55d43218cff0098c-01
2021-09-18T00:52:23.969Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:24.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e372292922fbc54b32ed8bc300abf87bd576d45-e00307b801f75094-01 outer:exit 2b-8e372292922fbc54b32ed8bc300abf87bd576d45-3fcc9582ee05dd0d-01
2021-09-18T00:52:24.006Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:24.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aa28e2219f97f166f27698a96d4f5caa3d80908-f4d9557cceda354c-01 outer:exit 2b-8aa28e2219f97f166f27698a96d4f5caa3d80908-039b119b3703171a-01
2021-09-18T00:52:24.008Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:24.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcb34ae839fefe7d2b7e973de0b4097df8e2d07a-8f3cdc020e128753-01 outer:exit 2b-dcb34ae839fefe7d2b7e973de0b4097df8e2d07a-d768ea6b63c66804-01
2021-09-18T00:52:24.011Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:24.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-50667f4a56e4a3d1a8d61cc5da8912cc9396899c-64ef8770107c1d55-01 outer:exit 2b-50667f4a56e4a3d1a8d61cc5da8912cc9396899c-3d3c441ce849d870-01
2021-09-18T00:52:24.014Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:24.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-a44bb70695050e923a90a2dc0f6fc6a369add519-2caba02de2828e1d-01 outer:exit 2b-a44bb70695050e923a90a2dc0f6fc6a369add519-20f103646cdcdcfb-01
2021-09-18T00:52:24.017Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:24.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9d7b37263ebac8b9d98035b8cc676bda3e009d5-c332956adb849fa9-01 outer:exit 2b-c9d7b37263ebac8b9d98035b8cc676bda3e009d5-8258627c5af229cc-01
2021-09-18T00:52:24.019Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:24.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f14604766ee0766d4a9454ab3b4107b15750ffc-da042454a1c1527e-01 outer:exit 2b-6f14604766ee0766d4a9454ab3b4107b15750ffc-967e3607d3f06c1a-01
2021-09-18T00:52:24.021Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:24.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-b98f73db81ec291400c07a2ad8bf2c34214badc4-743192c929b107fa-01 outer:exit 2b-b98f73db81ec291400c07a2ad8bf2c34214badc4-6254bf247826927b-01
2021-09-18T00:52:24.023Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:24.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb43e6ee30bb8f020b4cd486b71e100091f3616c-b58fcb85b3e4003c-01 outer:exit 2b-fb43e6ee30bb8f020b4cd486b71e100091f3616c-ca4e419a7ac671a5-01
2021-09-18T00:52:24.026Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:24.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-70911707b3004d36d21b6b1ecc0f4dd7a5115fc7-01821cb7be7cdd7c-01 outer:exit 2b-70911707b3004d36d21b6b1ecc0f4dd7a5115fc7-f5d5a9b435f12ef4-01
2021-09-18T00:52:24.029Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:24.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b7068617b8bddecfc8b1165aef48adb2b52c4cf-2ef6b68389f08b61-01 outer:exit 2b-3b7068617b8bddecfc8b1165aef48adb2b52c4cf-85dc3fbc82e35e43-01
2021-09-18T00:52:24.035Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:24.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c7647b37a651ee0131d1d531bc3241ae855612b-049c89f905c61db6-01 outer:exit 2b-2c7647b37a651ee0131d1d531bc3241ae855612b-4794dbb25f36addb-01
2021-09-18T00:52:24.048Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:24.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9e939db37c9d7d64ea7989ad7b92c097210bd4f-0cb71eeee18ae6ff-01 outer:exit 2b-d9e939db37c9d7d64ea7989ad7b92c097210bd4f-1dc88a21f03ec964-01
2021-09-18T00:52:24.106Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:24.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5e27c2449925011d0a6c95f7afa469c64b3e227-98a704dd4740d84d-01 outer:exit 2b-e5e27c2449925011d0a6c95f7afa469c64b3e227-e04bd47e9343a148-01
2021-09-18T00:52:24.109Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:24.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6251d87e0da4c42bffed89f11b9d9b6b8ad1b99-1efbf3de24da9dc6-01 outer:exit 2b-f6251d87e0da4c42bffed89f11b9d9b6b8ad1b99-2401bfbbbeccd63d-01
2021-09-18T00:52:24.111Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:24.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-2574310a07a489e1331a03e15a397a3a93ffd638-82bbcfcc85c9ca31-01 outer:exit 2b-2574310a07a489e1331a03e15a397a3a93ffd638-a5cc392feb42ecce-01
2021-09-18T00:52:24.113Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:24.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-307c6206a365c292265fd2a6a29ece09789dfbd3-3a8b96e7771c0fb9-01 outer:exit 2b-307c6206a365c292265fd2a6a29ece09789dfbd3-2057156c4cf286fb-01
2021-09-18T00:52:24.115Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:24.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ff89a76fafa0ca53cbe45e6cfd3cd93bedbd570-98a34147a831b860-01 outer:exit 2b-6ff89a76fafa0ca53cbe45e6cfd3cd93bedbd570-e178def1e7b093df-01
2021-09-18T00:52:24.117Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:24.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd49290fd7ab4f8c53149c386b0f7aef7c51a93f-555c278d4431af5d-01 outer:exit 2b-fd49290fd7ab4f8c53149c386b0f7aef7c51a93f-da4b45318a1b18c1-01
2021-09-18T00:52:24.119Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:24.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-937f5cf35ca821d01d6ff7cf370e2a81b37b1dcb-d45f8e559af8fb7d-01 outer:exit 2b-937f5cf35ca821d01d6ff7cf370e2a81b37b1dcb-ddf54490e9939ac7-01
2021-09-18T00:52:24.121Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:24.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a1fe29c06ebd1d1607eef5e302d01fbf0cc7715-e30a2416976e01df-01 outer:exit 2b-5a1fe29c06ebd1d1607eef5e302d01fbf0cc7715-03a9a9019f254bcb-01
2021-09-18T00:52:24.122Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:24.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-35fd0cb2d3f471cf11c3af77f77c5b29e46cc112-b1e07855490ce1f2-01 outer:exit 2b-35fd0cb2d3f471cf11c3af77f77c5b29e46cc112-73c5a1097eac0f28-01
2021-09-18T00:52:24.125Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:24.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-f747f659c5a4fbf8a85c92e992b84c61e6266274-1815c5ee67094978-01 outer:exit 2b-f747f659c5a4fbf8a85c92e992b84c61e6266274-71739f0e5a355ebb-01
2021-09-18T00:52:24.127Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:24.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c5f98b0cc1736e8b860a6973ff5d4aa6b03dcc-c190416a8c392d25-01 outer:exit 2b-69c5f98b0cc1736e8b860a6973ff5d4aa6b03dcc-141a6f1009a7f3a9-01
2021-09-18T00:52:24.129Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:24.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb94ec923ee27ed931fb31bf91d33503da57df28-5e5bcee37068a873-01 outer:exit 2b-cb94ec923ee27ed931fb31bf91d33503da57df28-4f2fbc5c03bdecd2-01
2021-09-18T00:52:24.132Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:24.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-497cc8751f4833bcb61de6ad91a37b7980c40892-53b6a2608e7a2d3d-01 outer:exit 2b-497cc8751f4833bcb61de6ad91a37b7980c40892-e7e21ea26dcf88a7-01
2021-09-18T00:52:24.138Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:24.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe7a20785f0f7e7c6fa22e883d6d1ef272f7f221-3889c36600d519b8-01 outer:exit 2b-fe7a20785f0f7e7c6fa22e883d6d1ef272f7f221-493f9d58c27ad69c-01
2021-09-18T00:52:24.147Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:24.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d5d8a85177a53a5196b6d7f8442273991fff558-07619673c28156b7-01 outer:exit 2b-3d5d8a85177a53a5196b6d7f8442273991fff558-7a59668429ef8fad-01
2021-09-18T00:52:24.155Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:24.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-d14bac8e65fab1f374b4ce51e17a4e778f115c27-b86cafc3dc74b6a2-01 outer:exit 2b-d14bac8e65fab1f374b4ce51e17a4e778f115c27-c1082467efbef1bd-01
2021-09-18T00:52:24.164Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:24.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-c72f434cbbd876601533e2ff0246e540cdf1242b-c60e5e75a9433c25-01 outer:exit 2b-c72f434cbbd876601533e2ff0246e540cdf1242b-f01b0b578705297e-01
2021-09-18T00:52:24.166Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:24.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d94d77901ca81b6624b810c44d6dcc0b8288821-4b4d26bfe9d197a3-01 outer:exit 2b-0d94d77901ca81b6624b810c44d6dcc0b8288821-427a05b5495de797-01
2021-09-18T00:52:24.168Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:24.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ec3c8e4d3022f6d53bac5114e197671ea8c2e0e-50f6ded29ce70b81-01 outer:exit 2b-9ec3c8e4d3022f6d53bac5114e197671ea8c2e0e-857de77c4b3d0ab2-01
2021-09-18T00:52:24.174Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:24.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa5617b2201ea04fe6621b75dbbaca315f82bffd-050bff0857577a9e-01 outer:exit 2b-fa5617b2201ea04fe6621b75dbbaca315f82bffd-b0b29081fff19913-01
2021-09-18T00:52:24.175Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:24.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5584701ab7ee35a64aa834264ef9e2982355139-cbd95a54898deb63-01 outer:exit 2b-e5584701ab7ee35a64aa834264ef9e2982355139-c0669be229fabaee-01
2021-09-18T00:52:24.177Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:24.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-b76f0ace3515c291bf2c51decf8860404d329a88-33c7781a68e27169-01 outer:exit 2b-b76f0ace3515c291bf2c51decf8860404d329a88-38f25e9061266491-01
2021-09-18T00:52:24.179Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:24.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5bb6938112fea8f946bcdcca1a5071c09163d24-8dbafc20405f8483-01 outer:exit 2b-b5bb6938112fea8f946bcdcca1a5071c09163d24-d67913c33b581770-01
2021-09-18T00:52:24.187Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:24.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-17dcc5cc16d6e3e1e3523e80b100f72af57f73ab-1705e9ba46fb6363-01 outer:exit 2b-17dcc5cc16d6e3e1e3523e80b100f72af57f73ab-a096ef670f35613c-01
2021-09-18T00:52:24.188Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:24.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0ebf8deddf3694c00f72efde0cde84ca7215251-dac5533600653544-01 outer:exit 2b-f0ebf8deddf3694c00f72efde0cde84ca7215251-887fc76c89242ddb-01
2021-09-18T00:52:24.196Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:24.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c593203669f4faab9c7ba2de774e67c42a10a06-908d4579ff49f45e-01 outer:exit 2b-1c593203669f4faab9c7ba2de774e67c42a10a06-c1d8e4743e1b9f0c-01
2021-09-18T00:52:24.203Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:24.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-e420ca09f7321ddb46592ae62f36b1b5f0caa482-fa6a6c6df3c007ab-01 outer:exit 2b-e420ca09f7321ddb46592ae62f36b1b5f0caa482-b2ea22968dc00dee-01
2021-09-18T00:52:24.205Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:24.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5e5fa77d8593a2e2585810be7ae963c97c82172-4aa039e708043f5a-01 outer:exit 2b-c5e5fa77d8593a2e2585810be7ae963c97c82172-a42552e25c15f17b-01
2021-09-18T00:52:24.208Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:24.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-05835769576b736faa2177f653508ff59df24df4-1d45b7434b128601-01 outer:exit 2b-05835769576b736faa2177f653508ff59df24df4-17303a42ed5677e1-01
2021-09-18T00:52:24.210Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:24.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-97f9d64073f833cb0bc8ebccacae737960f6b9d0-9bf6241d10de465c-01 outer:exit 2b-97f9d64073f833cb0bc8ebccacae737960f6b9d0-c13fc3b8a3fc3364-01
2021-09-18T00:52:24.232Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:29.416Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:29.416Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:29.416Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:29.417Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:29.472Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:29.510Z appoptics:patching patched crypto 
2021-09-18T00:52:29.529Z appoptics:patching patched https 
2021-09-18T00:52:29.530Z appoptics:patching patched http 
2021-09-18T00:52:29.570Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:29.570Z appoptics:patching patched fs 
2021-09-18T00:52:29.596Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v16.9.1)
2021-09-18T00:52:29.603Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-09-18T00:52:29.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-49316a7bb777b0f901599f996e8e6de98957d90b-b66a43378c467093-01 outer:exit 2b-49316a7bb777b0f901599f996e8e6de98957d90b-3e3c714adff4e88c-01
2021-09-18T00:52:29.738Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:29.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-8087ec7b64b0aec3b9d2542ae94ef46dbec89299-bd57fd610155aca4-01 outer:exit 2b-8087ec7b64b0aec3b9d2542ae94ef46dbec89299-9c92efe7ca139a38-01
2021-09-18T00:52:29.797Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:29.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-67acb3ba4187d13e9cdfde57ee2c502bff46c73e-550ba2b447720a83-01 outer:exit 2b-67acb3ba4187d13e9cdfde57ee2c502bff46c73e-e1bffe0a2fb83c05-01
2021-09-18T00:52:29.800Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:29.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-69b9d54845ad79cbb4fcac2dae996f8c6928d7db-ef96ac683ac12235-01 outer:exit 2b-69b9d54845ad79cbb4fcac2dae996f8c6928d7db-d9d38b5be9ca67a5-01
2021-09-18T00:52:29.802Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:29.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2310c899766aae6e5556ff3b2ea39bb5868bc86-a130e93d959ee148-01 outer:exit 2b-c2310c899766aae6e5556ff3b2ea39bb5868bc86-ae629b8adac0faf9-01
2021-09-18T00:52:29.806Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:29.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f226961eb55e036aef940186e201e3d49390b0f-082cdd2ecc96cf18-01 outer:exit 2b-8f226961eb55e036aef940186e201e3d49390b0f-8de4b7fce49c68b9-01
2021-09-18T00:52:29.809Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:29.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb50677d47840d431abfb3f065ab090e9a4e9f7-37dfe192ecfd3fcc-01 outer:exit 2b-7eb50677d47840d431abfb3f065ab090e9a4e9f7-c1c2ccc80d4165c4-01
2021-09-18T00:52:29.811Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:29.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a8969797fb577fb24fa3fa7eaf59deb2d7f63f5-62ff21703b45c8aa-01 outer:exit 2b-6a8969797fb577fb24fa3fa7eaf59deb2d7f63f5-00628cced31a6af3-01
2021-09-18T00:52:29.813Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:29.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4bed637d676dcd6aa004400abab34fb9129ac62-19cd05fa116153e4-01 outer:exit 2b-b4bed637d676dcd6aa004400abab34fb9129ac62-d8a6d62027a30155-01
2021-09-18T00:52:29.815Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:29.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-961ea0e3411cc8a6a2167b5636c0e66540188b95-f2d44f76e049789e-01 outer:exit 2b-961ea0e3411cc8a6a2167b5636c0e66540188b95-390a03ff13a8e30c-01
2021-09-18T00:52:29.818Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:29.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f2a89750d2cfae2d40b03e1f32a6fea91c7fdec-27b23544d9cd09c2-01 outer:exit 2b-1f2a89750d2cfae2d40b03e1f32a6fea91c7fdec-4a2cb6f42c199119-01
2021-09-18T00:52:29.821Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:29.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-28de41fc060e6a12ef38ada7b4cc8d3d25a2e49f-1cf6cfedbecaf6dc-01 outer:exit 2b-28de41fc060e6a12ef38ada7b4cc8d3d25a2e49f-0f319a6115a9a55d-01
2021-09-18T00:52:29.827Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:29.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b8b7b16bb78fb2de41a5ae75a69a7499b61f8db-beaee78199ed9e82-01 outer:exit 2b-9b8b7b16bb78fb2de41a5ae75a69a7499b61f8db-fc9c9b9ac1b768ac-01
2021-09-18T00:52:29.839Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:29.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-2156432a7203abf693cb205bc1eb1a42bd17b43a-9883052c6f3ee123-01 outer:exit 2b-2156432a7203abf693cb205bc1eb1a42bd17b43a-490ad486c80d489e-01
2021-09-18T00:52:29.896Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:29.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-739e23fdecb18d0630953ca4de9c7797a9badd00-6b19e6b70dba4f14-01 outer:exit 2b-739e23fdecb18d0630953ca4de9c7797a9badd00-314f3e1c82f78387-01
2021-09-18T00:52:29.899Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:29.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef915acffe24d0157fbe249469ad353dc6b30276-f1cf1d5da215b366-01 outer:exit 2b-ef915acffe24d0157fbe249469ad353dc6b30276-94070a87b52f804d-01
2021-09-18T00:52:29.901Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:29.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-73ef911f93650a979bcfcc20f85efbf64f3dd087-d89846ba0272e8d6-01 outer:exit 2b-73ef911f93650a979bcfcc20f85efbf64f3dd087-45e5ae0733602956-01
2021-09-18T00:52:29.904Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:29.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-87d2cd9f33ff68a81c4a24555a2269c0216b1eec-4d2d8295bd07e861-01 outer:exit 2b-87d2cd9f33ff68a81c4a24555a2269c0216b1eec-67663ebd45c4e9e5-01
2021-09-18T00:52:29.905Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:29.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2ca4950100047fb0dd2238e06dbeeb37be02e4a-be8bc288fd73c813-01 outer:exit 2b-f2ca4950100047fb0dd2238e06dbeeb37be02e4a-b5360067b9003d09-01
2021-09-18T00:52:29.907Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:29.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-cee14937f6e9314a4b754dcc8fd8b69b4edf542e-c1926cddaebaccfa-01 outer:exit 2b-cee14937f6e9314a4b754dcc8fd8b69b4edf542e-286e783247da50c8-01
2021-09-18T00:52:29.909Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:29.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-b13077173bcf5e31f4c8b954295a133d6d41cd5e-eaa4a904673d40ad-01 outer:exit 2b-b13077173bcf5e31f4c8b954295a133d6d41cd5e-00f32ac7024c5dbd-01
2021-09-18T00:52:29.911Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:29.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ad7fc9370f51a63140e95d411e1616f59f7a1fa-89d79e17b5f089a4-01 outer:exit 2b-9ad7fc9370f51a63140e95d411e1616f59f7a1fa-54c0cc5dbf30050f-01
2021-09-18T00:52:29.913Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:29.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c68f6a238e59271fe3647e9ae95d3396f6a122c-4041d4f32607ace7-01 outer:exit 2b-0c68f6a238e59271fe3647e9ae95d3396f6a122c-c79a316592182faf-01
2021-09-18T00:52:29.915Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:29.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0c80e7a19fbbcb89abd5fbb8d7476dc2f925bce-500197be3fbe1473-01 outer:exit 2b-f0c80e7a19fbbcb89abd5fbb8d7476dc2f925bce-8609e4a9c34dd307-01
2021-09-18T00:52:29.918Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:29.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd87dbdf30051ca11ca4e545895f294ba2b5c612-78857eaf87e05da1-01 outer:exit 2b-cd87dbdf30051ca11ca4e545895f294ba2b5c612-656986397a558c40-01
2021-09-18T00:52:29.920Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:29.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-d50def6485507b3c241ce276f70b58205ca7ffa2-8741fd2b4d3efc50-01 outer:exit 2b-d50def6485507b3c241ce276f70b58205ca7ffa2-c9835f06054d4a96-01
2021-09-18T00:52:29.922Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:29.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-65ff2809447cf55b882295bc3c90fa765218a37e-5c60ccb59651ea0f-01 outer:exit 2b-65ff2809447cf55b882295bc3c90fa765218a37e-9e04aa9f249bdc85-01
2021-09-18T00:52:29.931Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:29.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-00be5fce104c1308e6cafbb79eff79702b2b5ad1-f289b13219ae9802-01 outer:exit 2b-00be5fce104c1308e6cafbb79eff79702b2b5ad1-f4d854882b3207f7-01
2021-09-18T00:52:29.937Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:29.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6dd40025f152709ba6d1a058c327f8b0aa7f6ce-ba9941f3038798cf-01 outer:exit 2b-f6dd40025f152709ba6d1a058c327f8b0aa7f6ce-11254a40ec10744d-01
2021-09-18T00:52:29.945Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:29.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4c0274142e70bdb1b3acd0ccc7798c181273426-481ab963a2b27840-01 outer:exit 2b-e4c0274142e70bdb1b3acd0ccc7798c181273426-43d02157d4a029f2-01
2021-09-18T00:52:29.951Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:29.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-5708312edb0722f8e2326bcbbb7ade452d7925f2-552cb9bf9c436e7e-01 outer:exit 2b-5708312edb0722f8e2326bcbbb7ade452d7925f2-f9f20a09b346066d-01
2021-09-18T00:52:29.953Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:29.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1452150056f455a03f1f7efc3cec2c8cb9094f7-050fd95d061844b9-01 outer:exit 2b-a1452150056f455a03f1f7efc3cec2c8cb9094f7-993396ec9d40a508-01
2021-09-18T00:52:29.955Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:29.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-898bf6c686a3aab36105bf41a0f1d89a4ff581b4-709cde8565d4ea67-01 outer:exit 2b-898bf6c686a3aab36105bf41a0f1d89a4ff581b4-73a0e649ef3e41e1-01
2021-09-18T00:52:29.960Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:29.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-18c4d514931efee0a558e8f016bb10519f24cc99-657577a07d9046ef-01 outer:exit 2b-18c4d514931efee0a558e8f016bb10519f24cc99-1f6405fe8851cf0f-01
2021-09-18T00:52:29.962Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:29.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee044ac26c03642e6aaa05f930abae4ddd61ee10-0dddf8bebda9a03d-01 outer:exit 2b-ee044ac26c03642e6aaa05f930abae4ddd61ee10-901370fcb9c692ed-01
2021-09-18T00:52:29.964Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:29.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9b92f780be03ca5a17a61d914aa288a12f4f4db-7e71e5ce96c2bd7e-01 outer:exit 2b-a9b92f780be03ca5a17a61d914aa288a12f4f4db-92e382822bf7d4ed-01
2021-09-18T00:52:29.970Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:29.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd9f440f753a18ef74c27fd06acaa4f4b664c79-c97331b9b5a6dff2-01 outer:exit 2b-6dd9f440f753a18ef74c27fd06acaa4f4b664c79-4e2e81a3fcd4877e-01
2021-09-18T00:52:29.972Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:29.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-b068257e97f5d436601937c923a1ababff484f94-b481ee29bce57e8b-01 outer:exit 2b-b068257e97f5d436601937c923a1ababff484f94-43a52615e8acf5d8-01
2021-09-18T00:52:29.979Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:29.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-925d8a78d669b4dcd785c4c41e42c39d04b979ba-6e41528703041fb6-01 outer:exit 2b-925d8a78d669b4dcd785c4c41e42c39d04b979ba-c7d6853db6aa6413-01
2021-09-18T00:52:29.987Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:29.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfc828117b20a931ee9818aa7b2ab24455f75d4d-f23780e59be8a0b6-01 outer:exit 2b-dfc828117b20a931ee9818aa7b2ab24455f75d4d-96c779d75dc294c8-01
2021-09-18T00:52:29.997Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:30.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-be5189f579edd0f383a351fede361a42f9b4d22a-23a1651b38e11089-01 outer:exit 2b-be5189f579edd0f383a351fede361a42f9b4d22a-e59198c530e9b12c-01
2021-09-18T00:52:30.001Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:30.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-b945fb3bb6f2fcb2a33965a558def52bf64162be-1253e54342c8df97-01 outer:exit 2b-b945fb3bb6f2fcb2a33965a558def52bf64162be-4fc672b7e7b098da-01
2021-09-18T00:52:30.004Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:30.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-e22bf46743496c332c5e98965b5e90dc19a20ed3-a69584f86ff7629e-01 outer:exit 2b-e22bf46743496c332c5e98965b5e90dc19a20ed3-b410d068a877308b-01
2021-09-18T00:52:30.006Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:30.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-458828a4fe5cc0daee286a5c93194dd288c38e41-03b97ffe13149c63-01 outer:exit 2b-458828a4fe5cc0daee286a5c93194dd288c38e41-55e796430f9d7418-01
2021-09-18T00:52:30.040Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (337ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:35.955Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:35.955Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:35.955Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:35.956Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:36.011Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:36.050Z appoptics:patching patched crypto 
2021-09-18T00:52:36.069Z appoptics:patching patched https 
2021-09-18T00:52:36.070Z appoptics:patching patched http 
2021-09-18T00:52:36.111Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:36.112Z appoptics:patching patched fs 
2021-09-18T00:52:36.136Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v16.9.1)
2021-09-18T00:52:36.143Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-09-18T00:52:36.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-81b1ef4654601337d292d168f4dc01b4acea2f5b-071b30772c53f886-01 outer:exit 2b-81b1ef4654601337d292d168f4dc01b4acea2f5b-f1a87d74643b33b1-01
2021-09-18T00:52:36.275Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:36.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea8aecb69ef982cbb3fbf30c00de9cefd9b30cfb-e2e2dad20da211df-01 outer:exit 2b-ea8aecb69ef982cbb3fbf30c00de9cefd9b30cfb-3b9aceb1824f3f22-01
2021-09-18T00:52:36.315Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:36.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-86e57342738fe8dbbf2fe974bc273adb58c15f5c-6436244f39e9d7c9-01 outer:exit 2b-86e57342738fe8dbbf2fe974bc273adb58c15f5c-8ea377fcc77e142e-01
2021-09-18T00:52:36.318Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:36.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-52fcc9f0dbdeaa14f454c0919e670d0d8c16511e-43e1c77b9ce25308-01 outer:exit 2b-52fcc9f0dbdeaa14f454c0919e670d0d8c16511e-efb452cfd6b5cc2d-01
2021-09-18T00:52:36.320Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:36.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4f7fd88c5a80cd78f8622e0e513231b2326357a-5abe2b30ffffcf7f-01 outer:exit 2b-b4f7fd88c5a80cd78f8622e0e513231b2326357a-3345645e68d52a24-01
2021-09-18T00:52:36.324Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:36.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-82da5249cf7820e4eec683ec65c38cc9feeb87cc-881cca1834846e0a-01 outer:exit 2b-82da5249cf7820e4eec683ec65c38cc9feeb87cc-86df5e0edd5e3125-01
2021-09-18T00:52:36.326Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:36.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-54c86b5803bb0a9c324eeb4095fa57e6191c0c0c-2aaca03692f8f5c2-01 outer:exit 2b-54c86b5803bb0a9c324eeb4095fa57e6191c0c0c-4674ec4a2518a634-01
2021-09-18T00:52:36.328Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:36.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-99b2a84b09c25bc91d3362bd8172f645404d3cb4-ed5ebd204a39a984-01 outer:exit 2b-99b2a84b09c25bc91d3362bd8172f645404d3cb4-2643b9cfb8b3d990-01
2021-09-18T00:52:36.331Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:36.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-16c04b8f6df8f7822c4cf30f4a1d8469a3337336-e1cdb75aa69f9a27-01 outer:exit 2b-16c04b8f6df8f7822c4cf30f4a1d8469a3337336-afa04016d57ad784-01
2021-09-18T00:52:36.333Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:36.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aa32daf1d28de9a8ac2071a788bbe1065fda1e4-ee7e82df3709d3fd-01 outer:exit 2b-0aa32daf1d28de9a8ac2071a788bbe1065fda1e4-c7b01b98e3f8483c-01
2021-09-18T00:52:36.335Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:36.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-92e0068a85975a0c41da13de6c71339cee84d480-d3a7a6c494176550-01 outer:exit 2b-92e0068a85975a0c41da13de6c71339cee84d480-2254e0898484b716-01
2021-09-18T00:52:36.338Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:36.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4bbd77e44b9f987155c6e4ed172737389e0cf2b-66e5b44b187e8790-01 outer:exit 2b-e4bbd77e44b9f987155c6e4ed172737389e0cf2b-f258b4cde5a0b067-01
2021-09-18T00:52:36.344Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:36.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fdc9c4a5699cb8c359a762c3ca626aefeb083b8-502ce4a379865ac3-01 outer:exit 2b-9fdc9c4a5699cb8c359a762c3ca626aefeb083b8-bf3d71925b8f83d0-01
2021-09-18T00:52:36.358Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:36.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd89a4e466bef87cb36953f0f09a28d7c04a3ff7-ace1285c433e8260-01 outer:exit 2b-cd89a4e466bef87cb36953f0f09a28d7c04a3ff7-5cad2a1851623388-01
2021-09-18T00:52:36.395Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:36.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cbd482e6c2717c4840651dda219fd7bb5727688-687ae13b0e22381c-01 outer:exit 2b-2cbd482e6c2717c4840651dda219fd7bb5727688-2db40970403c0c16-01
2021-09-18T00:52:36.397Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:36.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7280967306e99c241bbb89fb505f6dde419a83a-c134681554600853-01 outer:exit 2b-c7280967306e99c241bbb89fb505f6dde419a83a-ad7961692c00d555-01
2021-09-18T00:52:36.399Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:36.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-34ea5e2113b3273ce5b125569d28ecd60ba99a87-b9cfe31f70e1a44c-01 outer:exit 2b-34ea5e2113b3273ce5b125569d28ecd60ba99a87-43fc83e0f8d4abcf-01
2021-09-18T00:52:36.402Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:36.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-19fd5106abdd00a802dbec9cd75b4a5f055fda47-d6645ab9b4759bf1-01 outer:exit 2b-19fd5106abdd00a802dbec9cd75b4a5f055fda47-9561d9218cf13a39-01
2021-09-18T00:52:36.403Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:36.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaae9fe69db71be922ab5901c5766913d2fde267-b1eb064e5e5fbe1b-01 outer:exit 2b-eaae9fe69db71be922ab5901c5766913d2fde267-e1c24024a80f9ef9-01
2021-09-18T00:52:36.405Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:36.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-a64c8c8c85cfbaf971ecbb27be50718c64968389-c2367434d93e6a30-01 outer:exit 2b-a64c8c8c85cfbaf971ecbb27be50718c64968389-e714d0cfc55377a6-01
2021-09-18T00:52:36.407Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:36.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-a676559e98c55cb79ef1c9948d881ba9a7725e72-ad3938772a048de2-01 outer:exit 2b-a676559e98c55cb79ef1c9948d881ba9a7725e72-45d18e3e8c4e2095-01
2021-09-18T00:52:36.409Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:36.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-050e4580e17165c179b11f9430a867f708a8e45b-c86818b404652635-01 outer:exit 2b-050e4580e17165c179b11f9430a867f708a8e45b-5eda676ce42d056c-01
2021-09-18T00:52:36.411Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:36.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e5af890946d1aa279495ef0826191bdacf84544-a2c495eadd452511-01 outer:exit 2b-5e5af890946d1aa279495ef0826191bdacf84544-81a4731106f70656-01
2021-09-18T00:52:36.413Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:36.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-c36ee305788c3c56a9f3be1ca8645c8a005c3b9a-f0bf7672f05a5aee-01 outer:exit 2b-c36ee305788c3c56a9f3be1ca8645c8a005c3b9a-0233ce34006c5f33-01
2021-09-18T00:52:36.415Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:36.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-db60ab3cb32feb1d1c879c28554389a84fa34990-246d479b98f81726-01 outer:exit 2b-db60ab3cb32feb1d1c879c28554389a84fa34990-6f1a358eb0c816f5-01
2021-09-18T00:52:36.418Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:36.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-1228cc68bd325f64b9fed25dcd1b36bd8e6610b6-ecfe4d65254bb973-01 outer:exit 2b-1228cc68bd325f64b9fed25dcd1b36bd8e6610b6-b0ee283528038f4e-01
2021-09-18T00:52:36.420Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:36.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-eabef1ba9a1dc38452722c6a63137890a08c1bd0-6d093d62fc8c3b5f-01 outer:exit 2b-eabef1ba9a1dc38452722c6a63137890a08c1bd0-5f458b7721bf82b3-01
2021-09-18T00:52:36.427Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:36.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aecdda779fd9dd16d41534f59c13d2304558817-6b868cd9905292e5-01 outer:exit 2b-2aecdda779fd9dd16d41534f59c13d2304558817-c21dc57447d97b43-01
2021-09-18T00:52:36.430Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:36.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0f17af3334384f3807efd289ce85829dd6b04c4-ed824141e491281c-01 outer:exit 2b-e0f17af3334384f3807efd289ce85829dd6b04c4-b40301d2b1de5a6b-01
2021-09-18T00:52:36.436Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:36.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-81d310479de93022d9b950e930960c8d5ff5aa22-4767c9c7209f78dc-01 outer:exit 2b-81d310479de93022d9b950e930960c8d5ff5aa22-01fa3352cca06460-01
2021-09-18T00:52:36.442Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:36.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-aac178a4c097062b2803ce7361c804adc4b3c99d-99df18e143480ea3-01 outer:exit 2b-aac178a4c097062b2803ce7361c804adc4b3c99d-24e09060e7bd06fc-01
2021-09-18T00:52:36.444Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:36.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-876e77a0dd122484f719d20d7f1e22e087c5a6e5-27955369c85c4be0-01 outer:exit 2b-876e77a0dd122484f719d20d7f1e22e087c5a6e5-3094689b3cb4d7bf-01
2021-09-18T00:52:36.446Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:36.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f50e463f9042f9e8c80e3a6818a868556948be4-ec1fb694edb79214-01 outer:exit 2b-0f50e463f9042f9e8c80e3a6818a868556948be4-ddf6e06b7e09d869-01
2021-09-18T00:52:36.451Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:36.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6dc5be4f021983bd13bb3b7909c2473f12cddcf-2f0be63dc61f248b-01 outer:exit 2b-c6dc5be4f021983bd13bb3b7909c2473f12cddcf-e1277033ccd938b7-01
2021-09-18T00:52:36.453Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:36.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-d663d7dbe34dc91f23e22276aa242dc46e3e120e-56cce65dcaf74645-01 outer:exit 2b-d663d7dbe34dc91f23e22276aa242dc46e3e120e-6268a71c0b974b1c-01
2021-09-18T00:52:36.455Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:36.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-d431ed9dcb110560a30eb86eea69e578c978a9f6-7228031e930af2ef-01 outer:exit 2b-d431ed9dcb110560a30eb86eea69e578c978a9f6-8768d0d0eef1f44c-01
2021-09-18T00:52:36.457Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:36.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c13fa4abe0a898b8fccd96d2bffe7427858597a-a47ce634a2a81760-01 outer:exit 2b-2c13fa4abe0a898b8fccd96d2bffe7427858597a-2cd69ee0c64c6536-01
2021-09-18T00:52:36.459Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:36.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef342a2625677ca7c444f98786ab8d629ac59465-0ccac3c76b670df4-01 outer:exit 2b-ef342a2625677ca7c444f98786ab8d629ac59465-f4e5c34fd5766493-01
2021-09-18T00:52:36.461Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:36.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e719e957c69fb229b73b24afb8bc5f8aab1249d-87a8bd635aa44be6-01 outer:exit 2b-3e719e957c69fb229b73b24afb8bc5f8aab1249d-7523fa165332a850-01
2021-09-18T00:52:36.469Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:36.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e935162eb6b13d340e92e08b07aaeed89e2cfe0-2c82103fc7745cbb-01 outer:exit 2b-9e935162eb6b13d340e92e08b07aaeed89e2cfe0-ac523bceb48b76db-01
2021-09-18T00:52:36.479Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:36.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-37a0e7f662af41a365bf3477e0dbce81e2a8da96-757ef190ee2bf426-01 outer:exit 2b-37a0e7f662af41a365bf3477e0dbce81e2a8da96-8b1e026eb51c9217-01
2021-09-18T00:52:36.481Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:36.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-a061b4817873a8b599deb6f5ccca260c4b9e5ff7-b677e84e9ea9ca6a-01 outer:exit 2b-a061b4817873a8b599deb6f5ccca260c4b9e5ff7-937e1a0da4f89ba8-01
2021-09-18T00:52:36.484Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:36.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d7f32db2a12d895038cf0b2870c06286d5c1ef0-7bc7f972eadbb246-01 outer:exit 2b-5d7f32db2a12d895038cf0b2870c06286d5c1ef0-20fc8e7253ad4b07-01
2021-09-18T00:52:36.486Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:36.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-688fa2937c598aa08e986d5a5074b801fc894456-2830a058ef867d0c-01 outer:exit 2b-688fa2937c598aa08e986d5a5074b801fc894456-0d302b5ebd6d07a9-01
2021-09-18T00:52:36.509Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (265ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:41.822Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:41.823Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:41.823Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:41.823Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:41.891Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:41.945Z appoptics:patching patched crypto 
2021-09-18T00:52:41.967Z appoptics:patching patched https 
2021-09-18T00:52:41.967Z appoptics:patching patched http 
2021-09-18T00:52:42.018Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:42.018Z appoptics:patching patched fs 
2021-09-18T00:52:42.043Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v16.9.1)
2021-09-18T00:52:42.050Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-09-18T00:52:42.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-931c896cc8757267bc8b9ecfa8650f0fd9a6bafa-cab92eabd375b42a-01 outer:exit 2b-931c896cc8757267bc8b9ecfa8650f0fd9a6bafa-f93886beebc87846-01
2021-09-18T00:52:42.184Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:42.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-918f3b991a4c12f930829411320d8b8668391bcd-573feaffe092aed5-01 outer:exit 2b-918f3b991a4c12f930829411320d8b8668391bcd-3202a4cf1d9c7852-01
2021-09-18T00:52:42.248Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:42.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b02590612887b49e9bcd24161589f20e1ca1e44-270f21da899ab877-01 outer:exit 2b-9b02590612887b49e9bcd24161589f20e1ca1e44-524b1429aeece509-01
2021-09-18T00:52:42.250Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:42.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-85389ecec9ff356b489451369238496a8e3ba626-42b386c5c9f17e9f-01 outer:exit 2b-85389ecec9ff356b489451369238496a8e3ba626-3377bc7651e1f489-01
2021-09-18T00:52:42.253Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:42.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aa10bd506a695727313184574edcbf8cc8c7a7e-b220aeb8d1a9ed3a-01 outer:exit 2b-8aa10bd506a695727313184574edcbf8cc8c7a7e-1439448c971bb881-01
2021-09-18T00:52:42.257Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:42.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcae50300160acc44eb512b207aff7316f8b3175-4da4b6a2dbbe22ed-01 outer:exit 2b-bcae50300160acc44eb512b207aff7316f8b3175-9b0d6e6d15910988-01
2021-09-18T00:52:42.259Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:42.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-624b0c39fcb3442c72bfbf95069b91657e59c48f-3250bb152646ae26-01 outer:exit 2b-624b0c39fcb3442c72bfbf95069b91657e59c48f-abc69d6163288b89-01
2021-09-18T00:52:42.262Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:42.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-7efea90e2974d4c6417f5868db166efa24fa56e8-87250fca9945212a-01 outer:exit 2b-7efea90e2974d4c6417f5868db166efa24fa56e8-bb0ed294f3eef15f-01
2021-09-18T00:52:42.264Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:42.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-c58677bac320efed506cf165e84c2ab57e2d9f54-cb3ad86c6646e105-01 outer:exit 2b-c58677bac320efed506cf165e84c2ab57e2d9f54-a43729ebf4191a59-01
2021-09-18T00:52:42.266Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:42.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-c859b0cb1220640a70c7dc91f904833de4bfe3a2-b475dc6a5869f7ca-01 outer:exit 2b-c859b0cb1220640a70c7dc91f904833de4bfe3a2-7abce90558caf018-01
2021-09-18T00:52:42.268Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:42.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-d45bc26984ea63a7f09addaa167358425c09ddc9-b5410589f9b22248-01 outer:exit 2b-d45bc26984ea63a7f09addaa167358425c09ddc9-83ccae44569c21d0-01
2021-09-18T00:52:42.272Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:42.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-79b7473c8e9f7205c25fb28fc5724c2de1cea395-5f52594cf5bba2a3-01 outer:exit 2b-79b7473c8e9f7205c25fb28fc5724c2de1cea395-91fa0dcf94d6e365-01
2021-09-18T00:52:42.278Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:42.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-73ebf85ea5c4ed9da226c74fd48e67fc7c4bfc43-81c447fb9a488584-01 outer:exit 2b-73ebf85ea5c4ed9da226c74fd48e67fc7c4bfc43-e4619a245f455316-01
2021-09-18T00:52:42.290Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:42.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-68c04fd5ef29cfe49a9a555087a7944b23677d8f-d56d649ae1d92b53-01 outer:exit 2b-68c04fd5ef29cfe49a9a555087a7944b23677d8f-896bee0dde7824f1-01
2021-09-18T00:52:42.347Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:42.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-4355d7b6bd357b34586667495bf230ecd610811a-a2951cd42282d33c-01 outer:exit 2b-4355d7b6bd357b34586667495bf230ecd610811a-37bc8fbfba791c43-01
2021-09-18T00:52:42.349Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:42.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-50e7cdb86cacdcc3bd4c89c766e1136f7b251c1e-fdedee869471995d-01 outer:exit 2b-50e7cdb86cacdcc3bd4c89c766e1136f7b251c1e-bd62281b7d901404-01
2021-09-18T00:52:42.351Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:42.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f78637b3a1edd48e43e5c7d035356ecde028b73-a7a98c0006bf627e-01 outer:exit 2b-7f78637b3a1edd48e43e5c7d035356ecde028b73-f6eb926a22daee65-01
2021-09-18T00:52:42.354Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:42.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ddbb0a5ce474c7bd233733027dcbd9e51d7a8fe-c364bc94131cfdbc-01 outer:exit 2b-9ddbb0a5ce474c7bd233733027dcbd9e51d7a8fe-35a7cc83f7d128a3-01
2021-09-18T00:52:42.356Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:42.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-08c29c321b543dfc6091da797b645f6a5a3f0122-1fcc62c569b3ebc3-01 outer:exit 2b-08c29c321b543dfc6091da797b645f6a5a3f0122-555a591ebbb67d5e-01
2021-09-18T00:52:42.357Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:42.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-f93c875c9c271307896a87da0a8c83d92bee78bf-e88224e54271006c-01 outer:exit 2b-f93c875c9c271307896a87da0a8c83d92bee78bf-fae7c64d0438bd86-01
2021-09-18T00:52:42.359Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:42.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f6c9a92e69dfc3c7c13b1534617685ea17c7414-50f6123b8ee42fed-01 outer:exit 2b-8f6c9a92e69dfc3c7c13b1534617685ea17c7414-d7a81f13a3024a60-01
2021-09-18T00:52:42.361Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:42.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ca2f8282eabf359b691b89ff6e6dd84dece756d-e6b8ce854e362edf-01 outer:exit 2b-0ca2f8282eabf359b691b89ff6e6dd84dece756d-e3dad78f9d231ffe-01
2021-09-18T00:52:42.363Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:42.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cc06215486d91890e639933ac0b008228519dfa-89540d0ebf989716-01 outer:exit 2b-1cc06215486d91890e639933ac0b008228519dfa-e42ab3de7e95a5c8-01
2021-09-18T00:52:42.365Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:42.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ea0342e734d272c29a50171fe1a578b61d8bed5-33f36dc882b4b6e9-01 outer:exit 2b-9ea0342e734d272c29a50171fe1a578b61d8bed5-d0315e33ae967ec4-01
2021-09-18T00:52:42.368Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:42.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bd4d43907ae6771ec2244cdccf8dde0b9a3da17-1fb8b49b7df657bd-01 outer:exit 2b-0bd4d43907ae6771ec2244cdccf8dde0b9a3da17-505feec872b1bc89-01
2021-09-18T00:52:42.370Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:42.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-922892f177178a4f44f3268f61862fedec6fe595-6fecd93193f17d78-01 outer:exit 2b-922892f177178a4f44f3268f61862fedec6fe595-a9cf9d700b86a29b-01
2021-09-18T00:52:42.372Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:42.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-540a36fabf487ecf339ca1c994bc73687bb4233d-00f7f29b51c014bc-01 outer:exit 2b-540a36fabf487ecf339ca1c994bc73687bb4233d-e0c7efffda3f2b37-01
2021-09-18T00:52:42.379Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:42.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0001b75f62099ac3359a363cef9e670870346cd-2722e98cd1b91037-01 outer:exit 2b-e0001b75f62099ac3359a363cef9e670870346cd-2eea4c8913ad4e48-01
2021-09-18T00:52:42.383Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:42.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd5237e4993dbc0ed69fced2a852df563bfe203d-dc1e3a3f574be369-01 outer:exit 2b-dd5237e4993dbc0ed69fced2a852df563bfe203d-764a53eef194c3f9-01
2021-09-18T00:52:42.389Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:42.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c59b671c82f3eb79dfbd48c73aba4a372353e19-54c1eb4bf8f743cc-01 outer:exit 2b-1c59b671c82f3eb79dfbd48c73aba4a372353e19-71c1d544ca23840c-01
2021-09-18T00:52:42.395Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:42.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-7118069e49e8759e7d6b83c50f25949d06121481-5eba7d640acc03a7-01 outer:exit 2b-7118069e49e8759e7d6b83c50f25949d06121481-c486d72f58a122db-01
2021-09-18T00:52:42.396Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:42.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd87697b4c6cd5201b2c9214c75ac26f68c8e738-42c57633d122767a-01 outer:exit 2b-cd87697b4c6cd5201b2c9214c75ac26f68c8e738-4e8c316f54f24553-01
2021-09-18T00:52:42.399Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:42.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7a4626a2872fe29c60de457b86dd4b8c0af1614-e199775b226fc995-01 outer:exit 2b-d7a4626a2872fe29c60de457b86dd4b8c0af1614-bd411b777aca9d80-01
2021-09-18T00:52:42.404Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:42.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-289c2e5fc5325e51c27125cc789d2089479bd6eb-91ae9598f4f916d7-01 outer:exit 2b-289c2e5fc5325e51c27125cc789d2089479bd6eb-f0eb89e726341455-01
2021-09-18T00:52:42.406Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:42.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-a82e1435f3ca12b5a695abf8dc4c88ca3b2c7659-48f7a08110b060d9-01 outer:exit 2b-a82e1435f3ca12b5a695abf8dc4c88ca3b2c7659-1b7a21bf79caa65e-01
2021-09-18T00:52:42.408Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:42.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-17a244ed73c20c7081cb9fcd69c3a3982500b9a0-40b6350c98c326bd-01 outer:exit 2b-17a244ed73c20c7081cb9fcd69c3a3982500b9a0-67a66ccf4292c967-01
2021-09-18T00:52:42.413Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:42.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fd635b990cfc3f271c12bbbf18fecfa32b97157-99cc91a0c4fab95b-01 outer:exit 2b-2fd635b990cfc3f271c12bbbf18fecfa32b97157-24373342a551a0cd-01
2021-09-18T00:52:42.415Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:42.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfd9189c5db774708fb4e7be38c98146534ff0d2-aa350a9db0cafe39-01 outer:exit 2b-cfd9189c5db774708fb4e7be38c98146534ff0d2-2411d3336bd81857-01
2021-09-18T00:52:42.416Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:42.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1987b870d46bbbf1548cad629f791d541a51c15-970bba01a7f3edf5-01 outer:exit 2b-a1987b870d46bbbf1548cad629f791d541a51c15-4a95790cb227ab05-01
2021-09-18T00:52:42.423Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:42.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe5d2dc3043f3ffa1f84191cbe9cec4c6a525f7d-d103fd8717a278cf-01 outer:exit 2b-fe5d2dc3043f3ffa1f84191cbe9cec4c6a525f7d-f3dc1e7c9f12a451-01
2021-09-18T00:52:42.430Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:42.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0dd500fb084a80edeec489ba5038607450e678e-960f2527eab37e33-01 outer:exit 2b-b0dd500fb084a80edeec489ba5038607450e678e-877e0feec39a770b-01
2021-09-18T00:52:42.433Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:42.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-55200f835b811e423a78fc1b85f280f37e0c4734-52b1ea8769a9eddb-01 outer:exit 2b-55200f835b811e423a78fc1b85f280f37e0c4734-cc08629c09826873-01
2021-09-18T00:52:42.435Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:42.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fbca68a81b9fc39ecce9971961e362b90b76eb4-1dfc268963f1229a-01 outer:exit 2b-7fbca68a81b9fc39ecce9971961e362b90b76eb4-1aeff0e3a8861be2-01
2021-09-18T00:52:42.438Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:42.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-15e4d8c17727e192b83be9b6f8ef8553c6763c26-37511db90c0b47a4-01 outer:exit 2b-15e4d8c17727e192b83be9b6f8ef8553c6763c26-f598386b6ee4f953-01
2021-09-18T00:52:42.465Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (314ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:48.073Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:48.073Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:48.073Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:48.074Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:48.129Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:48.167Z appoptics:patching patched crypto 
2021-09-18T00:52:48.187Z appoptics:patching patched https 
2021-09-18T00:52:48.187Z appoptics:patching patched http 
2021-09-18T00:52:48.228Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:48.229Z appoptics:patching patched fs 
2021-09-18T00:52:48.254Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v16.9.1)
2021-09-18T00:52:48.261Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-09-18T00:52:48.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef16624648c5ade499475daa4069d3977d0768ca-d484f14319774ea2-01 outer:exit 2b-ef16624648c5ade499475daa4069d3977d0768ca-02314b95f7ffbf6a-01
2021-09-18T00:52:48.392Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:48.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-95149455d2d7de747c2378053b419d34c1ca74c2-4fcab247e5c1bf8e-01 outer:exit 2b-95149455d2d7de747c2378053b419d34c1ca74c2-1a9d9dc7495a2d9f-01
2021-09-18T00:52:48.503Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:48.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3f02e052bbba125063225aa0f20c1897e17e7d0-e7878b361cc21046-01 outer:exit 2b-d3f02e052bbba125063225aa0f20c1897e17e7d0-48218422c764de88-01
2021-09-18T00:52:48.506Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:48.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ccc392a116f5d8cb397f5011dcfaf229595f600-a71dcef11bf93992-01 outer:exit 2b-0ccc392a116f5d8cb397f5011dcfaf229595f600-57277271e7184765-01
2021-09-18T00:52:48.509Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:48.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd48031f9c93187c97d59f0092323c45081e927f-003a91ea91143bde-01 outer:exit 2b-fd48031f9c93187c97d59f0092323c45081e927f-ba5597d0cd4103ed-01
2021-09-18T00:52:48.512Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:48.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-16dc2af2277e9ab338d80b80155817e40e9e7353-3e3ab60113e1fea7-01 outer:exit 2b-16dc2af2277e9ab338d80b80155817e40e9e7353-227c654e04f11d1b-01
2021-09-18T00:52:48.515Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:48.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-286bd5a94b1e2dd417352fb9f1e96273922f64ce-eb827847118de075-01 outer:exit 2b-286bd5a94b1e2dd417352fb9f1e96273922f64ce-f00a68d30b6538ed-01
2021-09-18T00:52:48.517Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:48.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-d31bc5d74924d9a1c7ce0e1fd85a439a032086c7-9ed2275a61b13f6b-01 outer:exit 2b-d31bc5d74924d9a1c7ce0e1fd85a439a032086c7-04792b247343f462-01
2021-09-18T00:52:48.519Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:48.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9ce992fd6537d5565c3d6a64a6e779d08d62a37-951f8f90309d2342-01 outer:exit 2b-d9ce992fd6537d5565c3d6a64a6e779d08d62a37-8ff5211fac8331b6-01
2021-09-18T00:52:48.522Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:48.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b7fcc4ecbe3b99cc5e150e8986586c35bae240d-3b0f1d7548507f0f-01 outer:exit 2b-2b7fcc4ecbe3b99cc5e150e8986586c35bae240d-bb4171c4db9380d9-01
2021-09-18T00:52:48.524Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:48.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-0183fd7bcea0f35c17da72ad3b77129f859a8783-20ad673d5a3d4578-01 outer:exit 2b-0183fd7bcea0f35c17da72ad3b77129f859a8783-26e5c8998e8b4c9d-01
2021-09-18T00:52:48.528Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:48.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd73885919c39e0568459bc041e7cc8f5e2561c7-4df31fd6a11c0b5a-01 outer:exit 2b-bd73885919c39e0568459bc041e7cc8f5e2561c7-3ff4cb23590154b6-01
2021-09-18T00:52:48.545Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:48.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-16a21c1ca99e0cff6d4813628be71ec8f8d7f9e5-7d552acd9971b087-01 outer:exit 2b-16a21c1ca99e0cff6d4813628be71ec8f8d7f9e5-c27ada6762d2b491-01
2021-09-18T00:52:48.558Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:48.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-64e40feca3168a34220b72201aa0af099fa7ee66-62ec4b5a8bac04e1-01 outer:exit 2b-64e40feca3168a34220b72201aa0af099fa7ee66-dad95c5f6992f641-01
2021-09-18T00:52:48.603Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:48.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddf7451f0b09f7c69e87d19f7716485864eeed53-3bc02f4ad96a5c83-01 outer:exit 2b-ddf7451f0b09f7c69e87d19f7716485864eeed53-ed409e92b477c069-01
2021-09-18T00:52:48.605Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:48.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-638dee3281eec7f1609714e8430f62f3ea78d97f-881b8e77b859a90e-01 outer:exit 2b-638dee3281eec7f1609714e8430f62f3ea78d97f-471b5a6da6ae00ac-01
2021-09-18T00:52:48.607Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:48.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-95538bdde6afb39180af3f5b17281162caa46fbd-ca1523ae09795d3d-01 outer:exit 2b-95538bdde6afb39180af3f5b17281162caa46fbd-d0650c4dc6a3bcf9-01
2021-09-18T00:52:48.610Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:48.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdd6b5ffb49b6b1ebbda5a127b70170d54114eb0-05cf2a1b1cfa9178-01 outer:exit 2b-fdd6b5ffb49b6b1ebbda5a127b70170d54114eb0-754b8c40980ab5f9-01
2021-09-18T00:52:48.612Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:48.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd5ae85d9eed2a963b65642fa4bdbb067f4b3243-9e15d1bd6d77ad3e-01 outer:exit 2b-cd5ae85d9eed2a963b65642fa4bdbb067f4b3243-7815024cd49f58db-01
2021-09-18T00:52:48.614Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:48.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-a19c1a62815c96c79ffa52a6d2d8990831978832-e2cc467285a81432-01 outer:exit 2b-a19c1a62815c96c79ffa52a6d2d8990831978832-03cdaf39a772f555-01
2021-09-18T00:52:48.615Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:48.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c48d5c1625219fc3a0caa0d7ae96a25c1e5dfc9-ba117ff13a60c97d-01 outer:exit 2b-4c48d5c1625219fc3a0caa0d7ae96a25c1e5dfc9-551ad20fe030a1d3-01
2021-09-18T00:52:48.617Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:48.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-1de1210defbfce5325422aea8930095ecdda1687-63e7599026837c7c-01 outer:exit 2b-1de1210defbfce5325422aea8930095ecdda1687-87282c2870dc0841-01
2021-09-18T00:52:48.619Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:48.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-800286757889db99e20149702d3455f5773a57de-a21a138464d3418f-01 outer:exit 2b-800286757889db99e20149702d3455f5773a57de-6459156ead055567-01
2021-09-18T00:52:48.622Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:48.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-1754be63faf50c46cff13788d15b5d399e81b043-d937ee268febfed6-01 outer:exit 2b-1754be63faf50c46cff13788d15b5d399e81b043-74e24192c358587e-01
2021-09-18T00:52:48.624Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:48.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcf6188338ae19ddc7400939b2bd5d6c4ca8877d-78baf5853dfc6423-01 outer:exit 2b-fcf6188338ae19ddc7400939b2bd5d6c4ca8877d-2ab36f1fbede9f49-01
2021-09-18T00:52:48.626Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:48.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5cc2bf1dd81a37210a78c724264e8fcca9272a3-e45df6b6c05ad1b1-01 outer:exit 2b-d5cc2bf1dd81a37210a78c724264e8fcca9272a3-f6c05ad92c88a10a-01
2021-09-18T00:52:48.628Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:48.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa02210135f8e65161510b589dcb1bd5c4ce63f7-3b77fd8d905575fe-01 outer:exit 2b-aa02210135f8e65161510b589dcb1bd5c4ce63f7-ab3c9378aace757c-01
2021-09-18T00:52:48.647Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:48.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f1486cc85737796b690eedf0c99eed5a1e6ef6c-a2ee87043b2c3f1d-01 outer:exit 2b-7f1486cc85737796b690eedf0c99eed5a1e6ef6c-aa55ea78dd2a1899-01
2021-09-18T00:52:48.662Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:48.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-7208bfe2561c0535e0ecab23c611ba2f32a7eaaa-488fe336d07d0e6c-01 outer:exit 2b-7208bfe2561c0535e0ecab23c611ba2f32a7eaaa-0ab048a3279e9d44-01
2021-09-18T00:52:48.669Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:48.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fcc3f9b21921f31f4d3b3888e0460a28b7ddc41-4ff73f9d99802d54-01 outer:exit 2b-7fcc3f9b21921f31f4d3b3888e0460a28b7ddc41-859d1812d51ae4f3-01
2021-09-18T00:52:48.674Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:48.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ad426ec9164fca19f9b6be481ca89fbf2be3453-ae6ec7053cbc3254-01 outer:exit 2b-5ad426ec9164fca19f9b6be481ca89fbf2be3453-ab6f67e26b23349f-01
2021-09-18T00:52:48.676Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:48.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ddd3d0dfe974d1c05e96c6eb6409034d3c11471-b5a276943e01ba0d-01 outer:exit 2b-4ddd3d0dfe974d1c05e96c6eb6409034d3c11471-a3e5eb35d076fba1-01
2021-09-18T00:52:48.679Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:48.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-4acca05aa9941794b762ad92a623c37ad1c4860f-d24dd3a0db2d75a8-01 outer:exit 2b-4acca05aa9941794b762ad92a623c37ad1c4860f-e4aa7af6ce788ec7-01
2021-09-18T00:52:48.684Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:48.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-acf5ef2efdd288fbaa3213d7f63fb21b0d4b60de-5cac074d03b22c49-01 outer:exit 2b-acf5ef2efdd288fbaa3213d7f63fb21b0d4b60de-92bef144d8583e87-01
2021-09-18T00:52:48.685Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:48.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-026bd1fa607cdfb633ceb7c85e3391e71a0c93e0-248c484548605bcc-01 outer:exit 2b-026bd1fa607cdfb633ceb7c85e3391e71a0c93e0-2ed5f674ee3807ad-01
2021-09-18T00:52:48.687Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:48.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f1c1ec19fd654a624ddaadba1467edc85e93f32-d61c6153f4963728-01 outer:exit 2b-3f1c1ec19fd654a624ddaadba1467edc85e93f32-7e05f29f88983c5c-01
2021-09-18T00:52:48.689Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:48.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-486b2d1636678e51441205a8d3484c242493c6e3-cbf05176bd0399f3-01 outer:exit 2b-486b2d1636678e51441205a8d3484c242493c6e3-81fabdc119d1c3ec-01
2021-09-18T00:52:48.691Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:48.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-db66cccfecbece20ca998f0428465656e8441f93-fa8d883c13f2dfe9-01 outer:exit 2b-db66cccfecbece20ca998f0428465656e8441f93-eacf7a992a60147d-01
2021-09-18T00:52:48.693Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:48.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f8fef3ea475fb1cb1b2ac73bb93be4849198e1a-a7acbbd8a6fb6df4-01 outer:exit 2b-3f8fef3ea475fb1cb1b2ac73bb93be4849198e1a-d1ad3c2682adb686-01
2021-09-18T00:52:48.703Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:48.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd633b40b49f83b2050f234c1a96d134be36d52f-936e878338982c85-01 outer:exit 2b-cd633b40b49f83b2050f234c1a96d134be36d52f-27795935f18829ac-01
2021-09-18T00:52:48.710Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:48.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-27e753cdf9ce75fc754f556d55fb61a4466135c4-2dee32baf105631c-01 outer:exit 2b-27e753cdf9ce75fc754f556d55fb61a4466135c4-4716935ac68e1795-01
2021-09-18T00:52:48.712Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:48.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e29de3f9062d8928a1c090492a18067c37c0760-57a89e9f4c19479c-01 outer:exit 2b-7e29de3f9062d8928a1c090492a18067c37c0760-76406f916a02a555-01
2021-09-18T00:52:48.714Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:48.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-9362a4d3de7ce82a43e4677bf715b7a7027d4558-37280927186312ed-01 outer:exit 2b-9362a4d3de7ce82a43e4677bf715b7a7027d4558-80b112ca773b9c89-01
2021-09-18T00:52:48.728Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:48.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-adf44d25005e09975864fe7ba03c2126ef7bce4a-fdacf8aceaf3c68c-01 outer:exit 2b-adf44d25005e09975864fe7ba03c2126ef7bce4a-8dc3afb52bfbbbff-01
2021-09-18T00:52:48.752Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (392ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:52:54.153Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:54.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:54.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:54.154Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:54.209Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:54.248Z appoptics:patching patched crypto 
2021-09-18T00:52:54.268Z appoptics:patching patched https 
2021-09-18T00:52:54.268Z appoptics:patching patched http 
2021-09-18T00:52:54.310Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:54.311Z appoptics:patching patched fs 
2021-09-18T00:52:54.336Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v16.9.1)
2021-09-18T00:52:54.343Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-09-18T00:52:54.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-e36b499315e64fec77e14d68d59578094f0be115-3ca63e70694aa970-01 outer:exit 2b-e36b499315e64fec77e14d68d59578094f0be115-f9239e47c43eb7ff-01
2021-09-18T00:52:54.475Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:54.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b7da0e09181b74b84d96a2d2f40387edb88f73-d7f51a8969badaff-01 outer:exit 2b-98b7da0e09181b74b84d96a2d2f40387edb88f73-b9532852422d0a8b-01
2021-09-18T00:52:54.537Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:54.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-c01941d062eac193ed19b7d9ca2e410298e88b53-1bba1792b786012f-01 outer:exit 2b-c01941d062eac193ed19b7d9ca2e410298e88b53-28e4e87c24edfc45-01
2021-09-18T00:52:54.540Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:54.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-498f6590d11b02a99e01136881ca1259c17e9187-9e1fe4cc3fe82e21-01 outer:exit 2b-498f6590d11b02a99e01136881ca1259c17e9187-93c5c820556645a3-01
2021-09-18T00:52:54.542Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:54.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a040a975e4fba1b173e436d6094159956f77b4c-a432a44d7ed09aa0-01 outer:exit 2b-7a040a975e4fba1b173e436d6094159956f77b4c-78e0b133d5acb2ec-01
2021-09-18T00:52:54.546Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:54.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-417026ede82645cdd4e2fb5ba64efa0d311fe93f-05f74d38a1c245a6-01 outer:exit 2b-417026ede82645cdd4e2fb5ba64efa0d311fe93f-65ae3e8f79bf3970-01
2021-09-18T00:52:54.549Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:54.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd73b3cde8ef9e86a7975881a448d2bb0d00da46-73bd94ae9256429e-01 outer:exit 2b-bd73b3cde8ef9e86a7975881a448d2bb0d00da46-40cb204e61f0bfff-01
2021-09-18T00:52:54.551Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:54.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-a09933c3d9c5cae773ce2985cb75d9f0a7b78321-34b9010576b2a173-01 outer:exit 2b-a09933c3d9c5cae773ce2985cb75d9f0a7b78321-bc0a75407cf34d42-01
2021-09-18T00:52:54.554Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:54.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-adcad0fe087c456836be98eca56f5326455bbdd1-a710476a22087ede-01 outer:exit 2b-adcad0fe087c456836be98eca56f5326455bbdd1-9d27083a52752e60-01
2021-09-18T00:52:54.556Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:54.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d5a21c0b122acba02a886dd99878f282328d38a-0d7e9386e331526f-01 outer:exit 2b-8d5a21c0b122acba02a886dd99878f282328d38a-ce934e75bd1c63ee-01
2021-09-18T00:52:54.558Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:54.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-8093ccc0146f2fc9eddf261eb33350ff426142b0-f6baa20533d26c81-01 outer:exit 2b-8093ccc0146f2fc9eddf261eb33350ff426142b0-88f4c018d4873ebe-01
2021-09-18T00:52:54.561Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:54.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-8808f8e794377a3ebf2c443bc76f230d6a141000-fbe63c575fa3bcfd-01 outer:exit 2b-8808f8e794377a3ebf2c443bc76f230d6a141000-90f9c08bf03311cb-01
2021-09-18T00:52:54.567Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:54.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-a64b43f6dc56f2d34f03d28dd34dd9bbf33c840b-beea62488bb7f8cc-01 outer:exit 2b-a64b43f6dc56f2d34f03d28dd34dd9bbf33c840b-3ff3bd91679c0d2c-01
2021-09-18T00:52:54.580Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:54.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cc9054a4ae72f0579453901bae80b957625bd47-99d8d49a38fa7901-01 outer:exit 2b-6cc9054a4ae72f0579453901bae80b957625bd47-c718d831fdec159a-01
2021-09-18T00:52:54.655Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:54.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c50a3bcb0ca5161751e375844940ecd551b079d-533bd2ce7918713c-01 outer:exit 2b-4c50a3bcb0ca5161751e375844940ecd551b079d-7651fe730fa7f058-01
2021-09-18T00:52:54.658Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:54.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6b13c0bd990a8f4e82a4f1e76ed6c0fec871261-7f56150d13c2378d-01 outer:exit 2b-b6b13c0bd990a8f4e82a4f1e76ed6c0fec871261-f133f7a6d888d21f-01
2021-09-18T00:52:54.660Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:54.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-8714965b57973930190d8bc8a137f05af2ed3de8-765c741bfcab68ca-01 outer:exit 2b-8714965b57973930190d8bc8a137f05af2ed3de8-96d4ec7cbf8c6f04-01
2021-09-18T00:52:54.663Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:54.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d8f0a84e4ca6db3f1ba1e5068bc123e8c465169-00865d02b3c67b95-01 outer:exit 2b-6d8f0a84e4ca6db3f1ba1e5068bc123e8c465169-0b41ef3227b88a88-01
2021-09-18T00:52:54.665Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:54.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-af36e99ec37ad66b76fe8f3b13824a3bf0da3c53-d6788c497e58efa3-01 outer:exit 2b-af36e99ec37ad66b76fe8f3b13824a3bf0da3c53-14f5487c4abbe6c1-01
2021-09-18T00:52:54.666Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:54.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-1566709f66a74633bd8606d608201f7becde4d46-77bad3f1f9bb150c-01 outer:exit 2b-1566709f66a74633bd8606d608201f7becde4d46-f0bb741fdc81690e-01
2021-09-18T00:52:54.668Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:54.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f23587b278b24d583b8750c03a1eab7b849276d-b92252c52f70a92b-01 outer:exit 2b-9f23587b278b24d583b8750c03a1eab7b849276d-b5767745032e95b5-01
2021-09-18T00:52:54.670Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:54.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-38a0a3ff74a811ec0fac90f9c3b53a7f9d5711ae-b134c2b83f74fcde-01 outer:exit 2b-38a0a3ff74a811ec0fac90f9c3b53a7f9d5711ae-596ee284a9648606-01
2021-09-18T00:52:54.672Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:54.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb9a8facd73994f17251fd7065108a4364230f84-ef54b8fe95d9838c-01 outer:exit 2b-fb9a8facd73994f17251fd7065108a4364230f84-66bff5364ecaa23e-01
2021-09-18T00:52:54.675Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:54.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d648661a60f37debe8d7f7f53bda93e061f31dd-9e208b1b7f86593c-01 outer:exit 2b-1d648661a60f37debe8d7f7f53bda93e061f31dd-3834f8c0a467f19e-01
2021-09-18T00:52:54.677Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:54.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ef83a65f6a75e5166fbc6bc59f403c8ac73523-031ddf056e4139aa-01 outer:exit 2b-58ef83a65f6a75e5166fbc6bc59f403c8ac73523-a7045f79068caf53-01
2021-09-18T00:52:54.679Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:54.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd42739689dcd3762938a81f50ce1264e6b4f4b2-8b33c2aa1c1fe960-01 outer:exit 2b-bd42739689dcd3762938a81f50ce1264e6b4f4b2-708bac61c8652e27-01
2021-09-18T00:52:54.681Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:54.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8fb8b4c95feff01a63d1e00c29fa566f18d521d-4c0e82dd6ae4734e-01 outer:exit 2b-e8fb8b4c95feff01a63d1e00c29fa566f18d521d-52c0cf9aae85cecf-01
2021-09-18T00:52:54.688Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:54.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-d942d59fe36cefb37f93bd169c812c993b8161db-4c5566178d66b7ec-01 outer:exit 2b-d942d59fe36cefb37f93bd169c812c993b8161db-e59e4ce625112714-01
2021-09-18T00:52:54.692Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:54.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-42932b1296b58162a4837df3f7f750ea65ce7bec-7c7b0ef2945d875e-01 outer:exit 2b-42932b1296b58162a4837df3f7f750ea65ce7bec-21ffbc5dfbe8da88-01
2021-09-18T00:52:54.704Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:54.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebfb3abf6be8b1980ee5ba00161fa15aff175d63-e7f9a0beced014b2-01 outer:exit 2b-ebfb3abf6be8b1980ee5ba00161fa15aff175d63-3b2ba6ca51c83d35-01
2021-09-18T00:52:54.709Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:54.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-e761779fd3c3a19cda154543b9d95c25bad20e24-ebdefb19d8146983-01 outer:exit 2b-e761779fd3c3a19cda154543b9d95c25bad20e24-38afab218be077c3-01
2021-09-18T00:52:54.711Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:54.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcb23ac9727a8da088f9f123e380cdf5edc805a1-819ed23c38c1d899-01 outer:exit 2b-bcb23ac9727a8da088f9f123e380cdf5edc805a1-614e8ef5ad6d9bd7-01
2021-09-18T00:52:54.714Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:54.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-0645d5255c6fd4da9759ef2945d2f8c7f0df36fa-648727a38057ffa7-01 outer:exit 2b-0645d5255c6fd4da9759ef2945d2f8c7f0df36fa-c75af3e9edda2ef0-01
2021-09-18T00:52:54.719Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:54.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-665bbe4d6332c233a1837b45e8b127a4f3966cd8-a41a51a0f60ea165-01 outer:exit 2b-665bbe4d6332c233a1837b45e8b127a4f3966cd8-30d6e14e8b615f1e-01
2021-09-18T00:52:54.721Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:54.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-18485ecc65292613ba0fbf09a3d436540e5c0ae4-e4b3d10a09246347-01 outer:exit 2b-18485ecc65292613ba0fbf09a3d436540e5c0ae4-523cd0b2aab96f49-01
2021-09-18T00:52:54.723Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:54.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-97aba21beb2a5ad0dfc1146c6bd74d8eb7c78fba-4dab82953bf91abc-01 outer:exit 2b-97aba21beb2a5ad0dfc1146c6bd74d8eb7c78fba-db6b89d4f04e884a-01
2021-09-18T00:52:54.724Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:54.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-0650083d9f78ee33799229f560b94739ae1f6432-468337febacfdb2d-01 outer:exit 2b-0650083d9f78ee33799229f560b94739ae1f6432-70ecd3f5a8e99d87-01
2021-09-18T00:52:54.726Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:54.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-487b528c195315a258c5f894c70031b401768ea2-22414bbcdc593f3f-01 outer:exit 2b-487b528c195315a258c5f894c70031b401768ea2-1742811cbb97ad61-01
2021-09-18T00:52:54.731Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:54.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-172b83cb156e1280931d4324f278c10f6f70ef88-195c647283c145d6-01 outer:exit 2b-172b83cb156e1280931d4324f278c10f6f70ef88-29fa835d716fdca7-01
2021-09-18T00:52:54.739Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:54.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a0c8a869772aff2e7604ef1cd2427f8039531b0-0ba9018c592413ef-01 outer:exit 2b-6a0c8a869772aff2e7604ef1cd2427f8039531b0-c8f7e58284a74630-01
2021-09-18T00:52:54.746Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:54.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-511ff3d64307dc62bfaaaa9b7ab63ae3b3c4788a-7b5ac7a3f036be3c-01 outer:exit 2b-511ff3d64307dc62bfaaaa9b7ab63ae3b3c4788a-3888dbb5eaccac4d-01
2021-09-18T00:52:54.748Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:54.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-91018eb1b903a6de39a4e7894c5f8a018487c4e4-74a082fa35f64324-01 outer:exit 2b-91018eb1b903a6de39a4e7894c5f8a018487c4e4-c0f738a04ef09e39-01
2021-09-18T00:52:54.751Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:54.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-519f039354a3916924a54ede460d7458124b9d52-903fbbcc3be30f77-01 outer:exit 2b-519f039354a3916924a54ede460d7458124b9d52-dafdbd16f46455ee-01
2021-09-18T00:52:54.753Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:54.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-d576da81bd518673774f9ae68ee00b8b7bdfb8cf-69ce29013b65b210-01 outer:exit 2b-d576da81bd518673774f9ae68ee00b8b7bdfb8cf-2859ff9c9599311b-01
2021-09-18T00:52:54.776Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (333ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:00.333Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:00.334Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:00.334Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:00.335Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:00.389Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:00.427Z appoptics:patching patched crypto 
2021-09-18T00:53:00.447Z appoptics:patching patched https 
2021-09-18T00:53:00.447Z appoptics:patching patched http 
2021-09-18T00:53:00.487Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:00.488Z appoptics:patching patched fs 
2021-09-18T00:53:00.512Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v16.9.1)
2021-09-18T00:53:00.519Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-09-18T00:53:00.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c66a277599624896dac66e986f5d9753f39cde2-e4290451df1ed364-01 outer:exit 2b-0c66a277599624896dac66e986f5d9753f39cde2-8d845e5fa3e7f85a-01
2021-09-18T00:53:00.664Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:00.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-3899bf37f18eebf5af1855aedcfd12f8a2818ef3-b9dc9efa90d405de-01 outer:exit 2b-3899bf37f18eebf5af1855aedcfd12f8a2818ef3-6ad7f4980fd00e40-01
2021-09-18T00:53:00.693Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:00.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c9ad32fe603ea552c4614e724dfaf86979b2ad-7601c1ab4b5d6110-01 outer:exit 2b-36c9ad32fe603ea552c4614e724dfaf86979b2ad-2b09bd41b2744da1-01
2021-09-18T00:53:00.696Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:00.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-96a37862647ef7eee852b20e73df2c651179c503-d8316a9a52932d84-01 outer:exit 2b-96a37862647ef7eee852b20e73df2c651179c503-efe776f18d52a479-01
2021-09-18T00:53:00.699Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:00.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0c708d578b14adde64e89ab220d819309b914d7-1000e8b7b2c5e362-01 outer:exit 2b-a0c708d578b14adde64e89ab220d819309b914d7-6771ccd5cd2bdf1a-01
2021-09-18T00:53:00.703Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:00.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-df38b61c62e3716df611e1f2ef77b559c6506f1d-b681076340b2ff0e-01 outer:exit 2b-df38b61c62e3716df611e1f2ef77b559c6506f1d-17051d9f8e369c18-01
2021-09-18T00:53:00.705Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:00.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-27fc8f555adba61fa8b803d65c75dc0396cf3d2e-842a3e1162933fa9-01 outer:exit 2b-27fc8f555adba61fa8b803d65c75dc0396cf3d2e-d2e3aa4ccdb84fa5-01
2021-09-18T00:53:00.708Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:00.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-db9c2190c0daa8a873f38cfeb4e5cbeb799c5b76-cb2c502f9ac086e6-01 outer:exit 2b-db9c2190c0daa8a873f38cfeb4e5cbeb799c5b76-8021d5c531f7f3e1-01
2021-09-18T00:53:00.710Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:00.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-300deb8da96015878462e39cd4e752d347045bcf-72137935d8ac7722-01 outer:exit 2b-300deb8da96015878462e39cd4e752d347045bcf-f62b6953f91959d2-01
2021-09-18T00:53:00.712Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:00.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-372de663e0c5622e77c0af38faa3cb158587f270-5fcd0060973ff100-01 outer:exit 2b-372de663e0c5622e77c0af38faa3cb158587f270-2bdd858fbd179c5a-01
2021-09-18T00:53:00.715Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:00.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3e8644f5dc5d7da4de44b25229562cbdd1cde1b-790a9c2b42a12b63-01 outer:exit 2b-d3e8644f5dc5d7da4de44b25229562cbdd1cde1b-d2d750f6a2b3d0fb-01
2021-09-18T00:53:00.718Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:00.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-04211aefef912e9bd706f0da66b6a68b5f57c4aa-fc287f9086cd51c8-01 outer:exit 2b-04211aefef912e9bd706f0da66b6a68b5f57c4aa-9da59a40ac8b425e-01
2021-09-18T00:53:00.727Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:00.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbaf2b404ce788f11b63590d0601222f679576f4-da35a4b8b9dcb850-01 outer:exit 2b-bbaf2b404ce788f11b63590d0601222f679576f4-c9627460f1246be0-01
2021-09-18T00:53:00.740Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:00.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbdf072dce4e94504a7da8f2f26482afc1201238-dc13d8d2b8c9fb74-01 outer:exit 2b-bbdf072dce4e94504a7da8f2f26482afc1201238-e3d4c63e43f4ca4e-01
2021-09-18T00:53:00.792Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:00.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-2073b82c28cb0c9783a936648eede9568e33af19-b2f4103e40f59015-01 outer:exit 2b-2073b82c28cb0c9783a936648eede9568e33af19-01acba0a127877b3-01
2021-09-18T00:53:00.795Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:00.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-571ba3c7a40a6fb574b53ebb1336181b4a9a6ba7-5c98ddb0f494a317-01 outer:exit 2b-571ba3c7a40a6fb574b53ebb1336181b4a9a6ba7-2bda7db4ff466f8c-01
2021-09-18T00:53:00.797Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:00.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-9615f2b321bc5afbbc593f6c16de85740a3ece4e-dd9f95ed05fed90e-01 outer:exit 2b-9615f2b321bc5afbbc593f6c16de85740a3ece4e-407d51dfb063570d-01
2021-09-18T00:53:00.799Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:00.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-633b0b29dbaa6f54984b7e954827962126634c29-01e24686bd96dd4c-01 outer:exit 2b-633b0b29dbaa6f54984b7e954827962126634c29-1749bd6f7ba9c0ac-01
2021-09-18T00:53:00.801Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:00.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-30245d498ab6d034c9c6db716aea917cf186323a-f5e2726d13e53eab-01 outer:exit 2b-30245d498ab6d034c9c6db716aea917cf186323a-5479ff53035d463e-01
2021-09-18T00:53:00.803Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:00.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-56669a2b3749ad45d16f10552c1318735376e68e-5310e876ce5fbeff-01 outer:exit 2b-56669a2b3749ad45d16f10552c1318735376e68e-873af89656edc81a-01
2021-09-18T00:53:00.805Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:00.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-abfd781c7ae0da610ef8f48ceaa60b55a4dd572f-3d7c24bf9736efd3-01 outer:exit 2b-abfd781c7ae0da610ef8f48ceaa60b55a4dd572f-3944440cf6bae3b5-01
2021-09-18T00:53:00.807Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:00.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-33f39b3bd644c71853e5d85db54e52f74a140b14-161d3da2c7fccecc-01 outer:exit 2b-33f39b3bd644c71853e5d85db54e52f74a140b14-b5b506d4d276003a-01
2021-09-18T00:53:00.809Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:00.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-f347a60e4c08633f1e14adeaf77997ca6ed86a5a-d4f0a3d4be32447c-01 outer:exit 2b-f347a60e4c08633f1e14adeaf77997ca6ed86a5a-7fe0d0fa8286fe48-01
2021-09-18T00:53:00.811Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:00.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f2bd9f2fe375773bff7b7e0931888c260ba316e-14d59f4935b2a77b-01 outer:exit 2b-6f2bd9f2fe375773bff7b7e0931888c260ba316e-9d9b97eb397e4bec-01
2021-09-18T00:53:00.814Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:00.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-079b1e4e8ebc017a875baa642d4636b09ae95506-35b1f15e206e7c5a-01 outer:exit 2b-079b1e4e8ebc017a875baa642d4636b09ae95506-8f80c40f478f7a88-01
2021-09-18T00:53:00.816Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:00.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab146c51d483c1a89655e3c1fba3d20c804eb812-6c6ae4221118fc3d-01 outer:exit 2b-ab146c51d483c1a89655e3c1fba3d20c804eb812-ccf523b2bd305eb1-01
2021-09-18T00:53:00.818Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:00.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec23edcf038b9b25d5109400f4815d685c3de697-413152277b7731b0-01 outer:exit 2b-ec23edcf038b9b25d5109400f4815d685c3de697-b92a9ab9be423218-01
2021-09-18T00:53:00.824Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:00.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-13c509ea5838e898e398e2b93ee98dcb68532e90-5e4d6a5e22539d47-01 outer:exit 2b-13c509ea5838e898e398e2b93ee98dcb68532e90-3cc6e172ee8e271a-01
2021-09-18T00:53:00.828Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:00.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-66d7c737fdf4996a54007b44f8a56b1220707a6c-54dcdffc5c9f496d-01 outer:exit 2b-66d7c737fdf4996a54007b44f8a56b1220707a6c-59c56e0c99995ea9-01
2021-09-18T00:53:00.835Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:00.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a62da69189f89e1e6fa420b08208ad16fe88be7-cf40953149a5ff45-01 outer:exit 2b-7a62da69189f89e1e6fa420b08208ad16fe88be7-bc2c79831fa57d21-01
2021-09-18T00:53:00.840Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:00.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-06f2a1628eb2d043eb36db440376196ab05be261-15c466cf7acbb2d8-01 outer:exit 2b-06f2a1628eb2d043eb36db440376196ab05be261-63d03197dd2c05ad-01
2021-09-18T00:53:00.842Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:00.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-b39d9e2663c7b611ef8ef2df712d8d20939b2304-110165bc61807031-01 outer:exit 2b-b39d9e2663c7b611ef8ef2df712d8d20939b2304-68b8728783a8989e-01
2021-09-18T00:53:00.844Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:00.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3d3e600129524a02e13a29b0e1a5f9d7f79fd09-88d6e8b2a7839953-01 outer:exit 2b-b3d3e600129524a02e13a29b0e1a5f9d7f79fd09-711decbfc25dec52-01
2021-09-18T00:53:00.850Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:00.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-0432b826e31badfee561d6ee1d1297ef87237574-263aad147c49c3dc-01 outer:exit 2b-0432b826e31badfee561d6ee1d1297ef87237574-add3b1d1f9203867-01
2021-09-18T00:53:00.851Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:00.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc4d30a1232d09c2aa6fa2f3c136a542e65887fb-c5a828f9078eb0d9-01 outer:exit 2b-cc4d30a1232d09c2aa6fa2f3c136a542e65887fb-cd2f2a48af4485b9-01
2021-09-18T00:53:00.853Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:00.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-61764d07c1a811818b1a5cea2133e7afd8e02e06-b4c10119d87cf463-01 outer:exit 2b-61764d07c1a811818b1a5cea2133e7afd8e02e06-381e5b5e764543fa-01
2021-09-18T00:53:00.855Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:00.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-2712a16b330bb5ae4d89002b59527c1d9dcea1e6-304fe00ea8828372-01 outer:exit 2b-2712a16b330bb5ae4d89002b59527c1d9dcea1e6-f8d8b1f55c4be920-01
2021-09-18T00:53:00.857Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:00.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9c1bf16bf3ab7d5a361ba9783f8ebee63439868-839287ef5cbc7724-01 outer:exit 2b-d9c1bf16bf3ab7d5a361ba9783f8ebee63439868-69f1edefd189f2df-01
2021-09-18T00:53:00.859Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:00.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-072391d6071ce8f15b9d5eff088c9e2629c27701-b0bdbb22dbecd86e-01 outer:exit 2b-072391d6071ce8f15b9d5eff088c9e2629c27701-dd0ce0ac958646e2-01
2021-09-18T00:53:00.866Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:00.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-868a0a491cd872b146a5687f4ba59950568c2c47-ffb7d1142521aad8-01 outer:exit 2b-868a0a491cd872b146a5687f4ba59950568c2c47-2f0ea228d142fa4a-01
2021-09-18T00:53:00.875Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:00.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ec54ed69f0d430c4618917014a2f2f8e0a47219-97be493c40a9a9b3-01 outer:exit 2b-6ec54ed69f0d430c4618917014a2f2f8e0a47219-1bcdab34c81740ad-01
2021-09-18T00:53:00.878Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:00.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-03c3b6fc2e098764939f751e6b44a64514b11a7d-b37df9ec77891b94-01 outer:exit 2b-03c3b6fc2e098764939f751e6b44a64514b11a7d-ba875ad32ae0e595-01
2021-09-18T00:53:00.880Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:00.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea585d1fa6fa0084cd8fed715842112e2242abfc-90e86e59b60f3d77-01 outer:exit 2b-ea585d1fa6fa0084cd8fed715842112e2242abfc-987d56222fc3b384-01
2021-09-18T00:53:00.882Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:00.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9f91efed35f77216178396bad1f475b09240203-03aab1676aa7c503-01 outer:exit 2b-a9f91efed35f77216178396bad1f475b09240203-2edca7685becf071-01
2021-09-18T00:53:00.906Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (279ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:06.410Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:06.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:06.410Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:06.411Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:06.467Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:06.506Z appoptics:patching patched crypto 
2021-09-18T00:53:06.525Z appoptics:patching patched https 
2021-09-18T00:53:06.526Z appoptics:patching patched http 
2021-09-18T00:53:06.566Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:06.566Z appoptics:patching patched fs 
2021-09-18T00:53:06.594Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v16.9.1)
2021-09-18T00:53:06.600Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-09-18T00:53:06.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-c69ba58113bea054700126e5a8d2a2fd6bddf431-c8116a65886bbf43-01 outer:exit 2b-c69ba58113bea054700126e5a8d2a2fd6bddf431-cde816193b0f580b-01
2021-09-18T00:53:06.737Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:06.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-3254fd62b8ee92760c61361bfe0b1afa4bece828-42edf5c908d759e3-01 outer:exit 2b-3254fd62b8ee92760c61361bfe0b1afa4bece828-a955af1d11736139-01
2021-09-18T00:53:06.797Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:06.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-27c149abec23667a8617990fcbe0027c356a84f3-80848e765d8f57c6-01 outer:exit 2b-27c149abec23667a8617990fcbe0027c356a84f3-33ab8f43e9b6cd6a-01
2021-09-18T00:53:06.800Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:06.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-c439f8b2701e5ebc1788849c3d421b07152b0443-5523e5c930fc8fdb-01 outer:exit 2b-c439f8b2701e5ebc1788849c3d421b07152b0443-6e0cf97d9a310518-01
2021-09-18T00:53:06.802Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:06.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-370df144dcf3736eabe5ca3ff05eec87c996f250-f4e7031760af36a7-01 outer:exit 2b-370df144dcf3736eabe5ca3ff05eec87c996f250-7b6024f297492588-01
2021-09-18T00:53:06.806Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:06.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-b07c13a966eb976573b55b119b105a9192c46030-10937c4293459f51-01 outer:exit 2b-b07c13a966eb976573b55b119b105a9192c46030-ccc3377c27bdb3fe-01
2021-09-18T00:53:06.808Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:06.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-55ee7151149b6cc5c28932b4e47bf198af3a167e-20b90d2117128b94-01 outer:exit 2b-55ee7151149b6cc5c28932b4e47bf198af3a167e-cac8ffce25112ffa-01
2021-09-18T00:53:06.811Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:06.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-375a29d4f33fc5d4ba1b1370998de8abd996a8b8-4c1f3c041c668aae-01 outer:exit 2b-375a29d4f33fc5d4ba1b1370998de8abd996a8b8-fda8eeb0b760ef18-01
2021-09-18T00:53:06.813Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:06.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-b307131491d9219702b7ee8ede2ed86aef35efa9-05da07c766e76429-01 outer:exit 2b-b307131491d9219702b7ee8ede2ed86aef35efa9-d83f29a19a7c0581-01
2021-09-18T00:53:06.815Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:06.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7ccb1362665c61c0f92fcf87b02c123adabafc8-8033e26157107d64-01 outer:exit 2b-c7ccb1362665c61c0f92fcf87b02c123adabafc8-7072db7d6ea9fa82-01
2021-09-18T00:53:06.817Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:06.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4ebfa0fb0b4beb0f1d3b6882923a8bcedc037aa-dbe7973d1cc4eb7d-01 outer:exit 2b-f4ebfa0fb0b4beb0f1d3b6882923a8bcedc037aa-a513f2ce4cacded7-01
2021-09-18T00:53:06.821Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:06.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3e90c475e8cf2e5ce9a80d95fad0c34757d1679-00714b77c693f792-01 outer:exit 2b-f3e90c475e8cf2e5ce9a80d95fad0c34757d1679-20ef6e17e08a943a-01
2021-09-18T00:53:06.826Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:06.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1310968a85908773cc3bcd041aea3a1eecb5ba0-298f092ea85b81a4-01 outer:exit 2b-b1310968a85908773cc3bcd041aea3a1eecb5ba0-f167362a1d5de6f9-01
2021-09-18T00:53:06.839Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:06.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-861871d5716549d131ddfc5727737cc402beda20-af98b6925cd3ba3e-01 outer:exit 2b-861871d5716549d131ddfc5727737cc402beda20-5d8c22db390078e5-01
2021-09-18T00:53:06.897Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:06.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b5fab90ec3df4d8f0296cc9d74fbda818790abb-98e2b2adeabb75e9-01 outer:exit 2b-8b5fab90ec3df4d8f0296cc9d74fbda818790abb-3f634ad6faca583c-01
2021-09-18T00:53:06.899Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:06.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-86c3b9891fdd004bb0fa99dcd874f6453aaae4b2-c1eedcccf048595c-01 outer:exit 2b-86c3b9891fdd004bb0fa99dcd874f6453aaae4b2-633ff1e3cf610891-01
2021-09-18T00:53:06.901Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:06.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-be9763cdaee0d3cc4cda2da11958772ce9ee2a10-9a45ceb6595034c2-01 outer:exit 2b-be9763cdaee0d3cc4cda2da11958772ce9ee2a10-8fee2f88b68a0e56-01
2021-09-18T00:53:06.903Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:06.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-97c78969bfa667faec76ac6cfeb7275cf82ac8e9-198789c0ce6e0f8d-01 outer:exit 2b-97c78969bfa667faec76ac6cfeb7275cf82ac8e9-d8b746c9adc9f6ec-01
2021-09-18T00:53:06.905Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:06.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf63e5dd8eb7c168cd6c3907f176607228985713-01270f46b2b91c3c-01 outer:exit 2b-cf63e5dd8eb7c168cd6c3907f176607228985713-ca11b1e03bc884a9-01
2021-09-18T00:53:06.907Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:06.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5a3bd9c7445a56c2370c47db22f7823c38a1a04-5c31f080101e055a-01 outer:exit 2b-a5a3bd9c7445a56c2370c47db22f7823c38a1a04-0dae24582d210967-01
2021-09-18T00:53:06.909Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:06.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7bfc85a8c2a9153adcfa87e7fed5428f00243ed-e58a14da467b5e8c-01 outer:exit 2b-c7bfc85a8c2a9153adcfa87e7fed5428f00243ed-b891ec48ba40dfea-01
2021-09-18T00:53:06.910Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:06.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3c00b536aee8ade8d31a8ea89f15d72f52db3b7-7c5bb5876a70d3c8-01 outer:exit 2b-d3c00b536aee8ade8d31a8ea89f15d72f52db3b7-13838cd08e2abc78-01
2021-09-18T00:53:06.912Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:06.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-c293242f81ca7c76b936c411f91e8a72543eee27-8c67b4a2349c9911-01 outer:exit 2b-c293242f81ca7c76b936c411f91e8a72543eee27-8ff875c046064dbb-01
2021-09-18T00:53:06.915Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:06.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-d959cb11d8ef4634b41c1065cbeb796fa8c3934e-1662941fef04e2f5-01 outer:exit 2b-d959cb11d8ef4634b41c1065cbeb796fa8c3934e-18a930f0f9350418-01
2021-09-18T00:53:06.917Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:06.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-be2ced6e7f4a37fd1727c85cc8b37c9d3fd8b781-f7722ad07f8c2c16-01 outer:exit 2b-be2ced6e7f4a37fd1727c85cc8b37c9d3fd8b781-4267db5a225a8cd1-01
2021-09-18T00:53:06.919Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:06.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-02a0f8dc7ae26762509a6ca32f048abd33a3c1e1-4c0c6d80b2eccdf4-01 outer:exit 2b-02a0f8dc7ae26762509a6ca32f048abd33a3c1e1-f7114277061126c8-01
2021-09-18T00:53:06.921Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:06.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1b7725d8eda21775036d52847050cf76b171c95-2c100533b7f31856-01 outer:exit 2b-c1b7725d8eda21775036d52847050cf76b171c95-4b2c14eda90d939d-01
2021-09-18T00:53:06.928Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:06.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d7e0edeb5bf8e1da022a3df91888a7cf5d53450-9eb171781dc447bd-01 outer:exit 2b-0d7e0edeb5bf8e1da022a3df91888a7cf5d53450-45ce473b01b46b35-01
2021-09-18T00:53:06.932Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:06.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee9e29fe2750dc49b014ed6d4d7674ec55aa97e5-d0e79e5b05addaa4-01 outer:exit 2b-ee9e29fe2750dc49b014ed6d4d7674ec55aa97e5-8a71157221d8b02b-01
2021-09-18T00:53:06.939Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:06.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-d13ab0c525261512548f3d09a5d72bbe9a846905-1a0d598a81994e8e-01 outer:exit 2b-d13ab0c525261512548f3d09a5d72bbe9a846905-70d08470095fca42-01
2021-09-18T00:53:06.944Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:06.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-48fc22a46d1db643ade7c3d4480d8eaefe7d43e6-6e6994f5406217df-01 outer:exit 2b-48fc22a46d1db643ade7c3d4480d8eaefe7d43e6-823037103d69a8a9-01
2021-09-18T00:53:06.946Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:06.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b867fde48bead44ce1497c20b5e4a46896cf4be-ef85cf9d0e2d2d0f-01 outer:exit 2b-2b867fde48bead44ce1497c20b5e4a46896cf4be-d7018092255b89c5-01
2021-09-18T00:53:06.949Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:06.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-75e9e4914d77d32cf8bc9ac2cdc348446853f343-c8326b4c5cae6806-01 outer:exit 2b-75e9e4914d77d32cf8bc9ac2cdc348446853f343-b64f5241cab9f0b5-01
2021-09-18T00:53:06.955Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:06.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-b201d0afda6d5ad15945cdb522f2e040bc3dd732-a7599f934db84814-01 outer:exit 2b-b201d0afda6d5ad15945cdb522f2e040bc3dd732-e2fcb1ad282aa6e9-01
2021-09-18T00:53:06.957Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:06.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b8e7540be1e7b2631beb63b4e49331feb3fec43-574bc9eb5a12c868-01 outer:exit 2b-6b8e7540be1e7b2631beb63b4e49331feb3fec43-39a524b28f012d1f-01
2021-09-18T00:53:06.963Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:06.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3aa0d340c2309290164e9647cf97e763ca6ec4e-439e8802f13061bf-01 outer:exit 2b-a3aa0d340c2309290164e9647cf97e763ca6ec4e-1360adf11fc0c394-01
2021-09-18T00:53:06.964Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:06.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-706b6b789b30d8507148fcb82b5801771d520a1e-096490bbeb06625d-01 outer:exit 2b-706b6b789b30d8507148fcb82b5801771d520a1e-094999f704c8f81f-01
2021-09-18T00:53:06.966Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:06.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-923744249a89c3f31b14bd8fcb221a660f87a3f8-a291733a517ca965-01 outer:exit 2b-923744249a89c3f31b14bd8fcb221a660f87a3f8-157ecb6ed5d20ed2-01
2021-09-18T00:53:06.968Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:06.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-298c484e05cd199aca1cf43e68be16f871ef976b-00190762f9fb4e9c-01 outer:exit 2b-298c484e05cd199aca1cf43e68be16f871ef976b-9b654fdf610aef94-01
2021-09-18T00:53:06.974Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:06.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c7ec9349719486ed67024a9dbbe9ce0029fee63-b7e95381d543cbda-01 outer:exit 2b-7c7ec9349719486ed67024a9dbbe9ce0029fee63-a040772c840844c9-01
2021-09-18T00:53:06.981Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:06.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0d735dded4bdb1d78eb93375de30da0bdf19a03-644257f9e864d2ea-01 outer:exit 2b-d0d735dded4bdb1d78eb93375de30da0bdf19a03-eb490273f8461e52-01
2021-09-18T00:53:06.984Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:06.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-b502b612531bcd627c515d0c3140192a7b6289a8-ad161cf8afc3d5b1-01 outer:exit 2b-b502b612531bcd627c515d0c3140192a7b6289a8-3b424399a18fe184-01
2021-09-18T00:53:06.986Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:06.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-b669fbca9f8a3a370feee4f672408b178c422b4c-e7e1546632f0a2a1-01 outer:exit 2b-b669fbca9f8a3a370feee4f672408b178c422b4c-c0ec4898735a8317-01
2021-09-18T00:53:06.988Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:07.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-481dfb2b3b265daaf220505ea2a9778bc6663da9-8bc8d008e4538150-01 outer:exit 2b-481dfb2b3b265daaf220505ea2a9778bc6663da9-a298ff5d568023d4-01
2021-09-18T00:53:07.013Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (308ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:12.664Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:12.664Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:12.664Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:12.665Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:12.720Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:12.759Z appoptics:patching patched crypto 
2021-09-18T00:53:12.778Z appoptics:patching patched https 
2021-09-18T00:53:12.778Z appoptics:patching patched http 
2021-09-18T00:53:12.813Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:12.814Z appoptics:patching patched fs 
2021-09-18T00:53:12.843Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v16.9.1)
2021-09-18T00:53:12.849Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-09-18T00:53:12.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0259a33f16c0658a0a7f8a7f8ff4c1769dea9e6-021ec595ff0790c6-01 outer:exit 2b-e0259a33f16c0658a0a7f8a7f8ff4c1769dea9e6-bfa0d8b3e16d4855-01
2021-09-18T00:53:12.987Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:13.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5de75a5adeebcd64808abbd24ef172fd7d2d990-ea8899f0572cdb7c-01 outer:exit 2b-b5de75a5adeebcd64808abbd24ef172fd7d2d990-e2d7f53b0fcab0cd-01
2021-09-18T00:53:13.044Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:13.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-50f49b2b6550be3ea519e9af8a619e2ee7ec712b-7dae3d72cd94faba-01 outer:exit 2b-50f49b2b6550be3ea519e9af8a619e2ee7ec712b-c7e05a957f7801fa-01
2021-09-18T00:53:13.050Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:13.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a33ec0a272c4bd45f9301f49da3d6df6518eb1-e2af95576c94a504-01 outer:exit 2b-a3a33ec0a272c4bd45f9301f49da3d6df6518eb1-98b55c8b53cb0e19-01
2021-09-18T00:53:13.052Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:13.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-5223c2eeb039851f1fac240e17ec1dc3fe14556b-5a82e6128c16a55e-01 outer:exit 2b-5223c2eeb039851f1fac240e17ec1dc3fe14556b-5a20d63eb69ecb00-01
2021-09-18T00:53:13.057Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:13.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-acdb92b66691e0cba6724b8317790be7eeea41d9-533e0e4d981d2f20-01 outer:exit 2b-acdb92b66691e0cba6724b8317790be7eeea41d9-bd55822be97de2b3-01
2021-09-18T00:53:13.059Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:13.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-741eaa12228cae16599fcd2281d9f908751b10ae-15da90cad64e9679-01 outer:exit 2b-741eaa12228cae16599fcd2281d9f908751b10ae-48b2d42b30e91ff8-01
2021-09-18T00:53:13.062Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:13.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-65335869fd137952241b7948b6b95f0a72420115-b3d9698ef9b573ce-01 outer:exit 2b-65335869fd137952241b7948b6b95f0a72420115-358f394d6cec13cc-01
2021-09-18T00:53:13.064Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:13.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdc8b6cd31163fd980aa08eeaa3f96dec53dc24d-bc30b4e6404d8647-01 outer:exit 2b-fdc8b6cd31163fd980aa08eeaa3f96dec53dc24d-67c7790fad45c777-01
2021-09-18T00:53:13.066Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:13.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed35059e7453bf8dc78968b3f8b4e78cd798d92c-d4175fac4b4dad04-01 outer:exit 2b-ed35059e7453bf8dc78968b3f8b4e78cd798d92c-9c5482108ff47081-01
2021-09-18T00:53:13.069Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:13.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c145461696300c539bcd9933268d26eee58cfca-14500709fb360544-01 outer:exit 2b-8c145461696300c539bcd9933268d26eee58cfca-f25849a5c62660eb-01
2021-09-18T00:53:13.072Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:13.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c72ef2ffbb1c1f305ef69845ed4d4a0b97d022b-df372e3883be3f03-01 outer:exit 2b-5c72ef2ffbb1c1f305ef69845ed4d4a0b97d022b-eeed0fcf237401a5-01
2021-09-18T00:53:13.078Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:13.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-04a11659821d34cc9747004186f8bdbdd6996ec2-0b2c8e282b1b7f6a-01 outer:exit 2b-04a11659821d34cc9747004186f8bdbdd6996ec2-c4d75e492939b89f-01
2021-09-18T00:53:13.095Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:13.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-5af79e17a76ab193953c3341c24453902d02db35-758440627f26ff13-01 outer:exit 2b-5af79e17a76ab193953c3341c24453902d02db35-cb2af8a9ddcbff41-01
2021-09-18T00:53:13.143Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:13.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc479395af36c6983c3c252f81b8977b7fa76016-46ebbf6af0eac88c-01 outer:exit 2b-cc479395af36c6983c3c252f81b8977b7fa76016-031c1be60b10c7a9-01
2021-09-18T00:53:13.145Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:13.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eef3120bacbb555e1ec948ee3b8cd8ad03a5ac1-de1d8c5bd80a4ef3-01 outer:exit 2b-6eef3120bacbb555e1ec948ee3b8cd8ad03a5ac1-4f4dcb60046d4505-01
2021-09-18T00:53:13.147Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:13.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb4dfc9dd34e0f8727e0fea52be53f4e5bf0e0d6-e7849fd49c8d9377-01 outer:exit 2b-fb4dfc9dd34e0f8727e0fea52be53f4e5bf0e0d6-71210d5fa57c9991-01
2021-09-18T00:53:13.149Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:13.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b173c832b24495f8c6202c6b1c43a6fb8bcb2a5-95bdd5e4ac6e7580-01 outer:exit 2b-6b173c832b24495f8c6202c6b1c43a6fb8bcb2a5-1b5777e6c3336dd9-01
2021-09-18T00:53:13.151Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:13.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-37c66ef49b35ee7a284388aa3768d5d90903983f-2dd15a2d060f9519-01 outer:exit 2b-37c66ef49b35ee7a284388aa3768d5d90903983f-f553ccd7ef8314c9-01
2021-09-18T00:53:13.153Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:13.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-82aabdac23b80800d4796d72a8df7e1f7ac8d70e-5730160f87a90bc3-01 outer:exit 2b-82aabdac23b80800d4796d72a8df7e1f7ac8d70e-6cafddd56f72f942-01
2021-09-18T00:53:13.155Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:13.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-061682cb0d5bc23a57d8645d727b5a59470d4df1-1ac46f3bc7c14b46-01 outer:exit 2b-061682cb0d5bc23a57d8645d727b5a59470d4df1-14611f7912e0634e-01
2021-09-18T00:53:13.157Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:13.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-f358c6a7bd87434e9a269713baff7646a52cb623-627d63f2708e646b-01 outer:exit 2b-f358c6a7bd87434e9a269713baff7646a52cb623-23acb7649cc10988-01
2021-09-18T00:53:13.159Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:13.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-c444c6d865055c02aac33e0cc4a89c2ce3075bdc-dabaa00f19be8166-01 outer:exit 2b-c444c6d865055c02aac33e0cc4a89c2ce3075bdc-17ee40efed1d115c-01
2021-09-18T00:53:13.161Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:13.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-e39ef9e60439619853e7876dbb374872ceabb54d-3790ffb12c88483e-01 outer:exit 2b-e39ef9e60439619853e7876dbb374872ceabb54d-d8ffe9732f9a05a2-01
2021-09-18T00:53:13.164Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:13.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb348d42598f8304a63cdc0c5f5ac62b05e8a280-3308b5440b73e91a-01 outer:exit 2b-fb348d42598f8304a63cdc0c5f5ac62b05e8a280-0a160642be83e138-01
2021-09-18T00:53:13.166Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:13.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-2748dcae8bbd52ce40323b354b71f15f5114d9fb-c1769342798867f4-01 outer:exit 2b-2748dcae8bbd52ce40323b354b71f15f5114d9fb-d5b1efc278c1cd43-01
2021-09-18T00:53:13.168Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:13.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-99eeea4dbd1765c229084da559392dc05f743859-542729d9ceeedb2a-01 outer:exit 2b-99eeea4dbd1765c229084da559392dc05f743859-538ceac5d206ec79-01
2021-09-18T00:53:13.176Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:13.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-efad71bcdd9b7788ac4e4871661d177c363fac67-7331620ff51da576-01 outer:exit 2b-efad71bcdd9b7788ac4e4871661d177c363fac67-555be40c12bc0194-01
2021-09-18T00:53:13.180Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:13.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea013c5037360d0524972f02e8c07b0edd6eb46f-ec8a0c88a62e21e8-01 outer:exit 2b-ea013c5037360d0524972f02e8c07b0edd6eb46f-cc42d877151e7bfb-01
2021-09-18T00:53:13.186Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:13.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fd1f858b7682842f00ea85fa3a0a82eed654148-dc28ea299e7dbed2-01 outer:exit 2b-8fd1f858b7682842f00ea85fa3a0a82eed654148-0addf2898c36839d-01
2021-09-18T00:53:13.192Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:13.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-d15b91f47bcb669189440e782000d4e84ecff877-9e60694f4006497c-01 outer:exit 2b-d15b91f47bcb669189440e782000d4e84ecff877-8f622b4934003e8f-01
2021-09-18T00:53:13.194Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:13.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-2738723a4e4a3df3587c78dc7b32b8e0d6b1ceea-ecb158dd415fbb65-01 outer:exit 2b-2738723a4e4a3df3587c78dc7b32b8e0d6b1ceea-e79cb0ae663ed61c-01
2021-09-18T00:53:13.196Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:13.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-9adb4fe80502e283f1840f7e110c1315806bc63d-870d7f18733f2fbc-01 outer:exit 2b-9adb4fe80502e283f1840f7e110c1315806bc63d-975d05953b4a1fa6-01
2021-09-18T00:53:13.209Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:13.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce6881a2b18d4d26c16133dcd53b453e09a2e124-1c77109201dc1512-01 outer:exit 2b-ce6881a2b18d4d26c16133dcd53b453e09a2e124-7a70c949771b1e5a-01
2021-09-18T00:53:13.212Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:13.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-69b752edf1aeb8f4f824904537c83504d1a9c085-c9338d82fd398f82-01 outer:exit 2b-69b752edf1aeb8f4f824904537c83504d1a9c085-066435e54d2ea1f7-01
2021-09-18T00:53:13.220Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:13.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-452d45aeb84885c5f94f72c25eb78bbd928a4a45-af0bb137d8b00e14-01 outer:exit 2b-452d45aeb84885c5f94f72c25eb78bbd928a4a45-5a18218a59bcc186-01
2021-09-18T00:53:13.222Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:13.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eb2cd1db8dc7aebfa079f736e3ba29bb0ae6878-d124be58c10f6acb-01 outer:exit 2b-3eb2cd1db8dc7aebfa079f736e3ba29bb0ae6878-a649414e9e1d0d70-01
2021-09-18T00:53:13.224Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:13.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2b3b9215918005ad2a23e889bd697c81ed35747-9b7679e7aee02b94-01 outer:exit 2b-f2b3b9215918005ad2a23e889bd697c81ed35747-ad46a1fb8aa5c3ca-01
2021-09-18T00:53:13.227Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:13.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dc43824310c26be0f3f3caed090169994c298d4-9cec15829b1972c6-01 outer:exit 2b-5dc43824310c26be0f3f3caed090169994c298d4-eba1ab4549718153-01
2021-09-18T00:53:13.240Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:13.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f1e06af5ef8b9a112a8b73ee32f8653966353d3-2d6219eb2b3170b4-01 outer:exit 2b-2f1e06af5ef8b9a112a8b73ee32f8653966353d3-61659dca6f38c07b-01
2021-09-18T00:53:13.248Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:13.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-a478632667dc6b06f39bd6693e586dd0c7ecd1ba-fc4b86f57b5b817a-01 outer:exit 2b-a478632667dc6b06f39bd6693e586dd0c7ecd1ba-6439471c958d2635-01
2021-09-18T00:53:13.257Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:13.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a0d83134a89cc94dd0e379083edf1b710504e4e-45d15050fea6619f-01 outer:exit 2b-8a0d83134a89cc94dd0e379083edf1b710504e4e-03cb9c3ce7267d8b-01
2021-09-18T00:53:13.260Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:13.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2c819b64c4342b7bd5467f0be4f2f29ac1db82a-275a94fcd0e29819-01 outer:exit 2b-b2c819b64c4342b7bd5467f0be4f2f29ac1db82a-72f063429e3b3034-01
2021-09-18T00:53:13.262Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:13.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eb50ca864156d1c914f072d7ef7d8b35085f6ce-f31b029a6ac81b96-01 outer:exit 2b-9eb50ca864156d1c914f072d7ef7d8b35085f6ce-61d74132b370cb47-01
2021-09-18T00:53:13.288Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (339ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:18.572Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:18.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:18.573Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:18.574Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:18.630Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:18.669Z appoptics:patching patched crypto 
2021-09-18T00:53:18.688Z appoptics:patching patched https 
2021-09-18T00:53:18.689Z appoptics:patching patched http 
2021-09-18T00:53:18.724Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:18.724Z appoptics:patching patched fs 
2021-09-18T00:53:18.754Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v16.9.1)
2021-09-18T00:53:18.760Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-09-18T00:53:18.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-90cdc3348095c059430af5c219f2244d4bdeca76-65dd608411f0a676-01 outer:exit 2b-90cdc3348095c059430af5c219f2244d4bdeca76-525e6eb82aafb776-01
2021-09-18T00:53:18.891Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:18.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-8def1ab2b232306f16288a01e42c8bbc7068b1fc-5957ab909b83ff30-01 outer:exit 2b-8def1ab2b232306f16288a01e42c8bbc7068b1fc-280c2da65b1ffd49-01
2021-09-18T00:53:18.947Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:18.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-30d104927639d112f9157a02acc17cf354a285b3-32b97945ddfd64b2-01 outer:exit 2b-30d104927639d112f9157a02acc17cf354a285b3-4b1f11d36ec52051-01
2021-09-18T00:53:18.950Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:18.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5d3270e8d3b9256e865aa1a591f2b91f0e85662-c739297bbc7aba6b-01 outer:exit 2b-f5d3270e8d3b9256e865aa1a591f2b91f0e85662-84f1a53ddca61dad-01
2021-09-18T00:53:18.953Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:18.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-37d8de58953e45ad0ab13c3a4f369e555c62e1cf-255933f073a033c2-01 outer:exit 2b-37d8de58953e45ad0ab13c3a4f369e555c62e1cf-b6d19ec9f80a2187-01
2021-09-18T00:53:18.957Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:18.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f8fd998ab0c5e2a35da86702e5d3c7f72d07a92-52c702e62b459cf8-01 outer:exit 2b-4f8fd998ab0c5e2a35da86702e5d3c7f72d07a92-317a809d7148b5da-01
2021-09-18T00:53:18.959Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:18.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-df7ee2ef80c510890ebc1bd0c87ab12966e5bf87-fc6bf5a1bea0608d-01 outer:exit 2b-df7ee2ef80c510890ebc1bd0c87ab12966e5bf87-87c95be07cd3555e-01
2021-09-18T00:53:18.962Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:18.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-6608dbc56c0dd31ee62a191f63258b919fda4ed6-0f72531bae45d442-01 outer:exit 2b-6608dbc56c0dd31ee62a191f63258b919fda4ed6-22d48f8c905d253b-01
2021-09-18T00:53:18.964Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:18.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4bb18acf706180de0a362df5a78018bb155ceeb-ee6fc5ebf3d8b681-01 outer:exit 2b-f4bb18acf706180de0a362df5a78018bb155ceeb-27ff24bb5974b5f4-01
2021-09-18T00:53:18.966Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:18.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-4820db7cadc27b95877b1a64cf0165853ee56b7d-7d4af6c124cb1e9e-01 outer:exit 2b-4820db7cadc27b95877b1a64cf0165853ee56b7d-712ba2eddb2b61a7-01
2021-09-18T00:53:18.969Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:18.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b8cab2f48566e35bcf4e554f343cfe5e63d22d8-30b44455ce8337d2-01 outer:exit 2b-8b8cab2f48566e35bcf4e554f343cfe5e63d22d8-b35c2bb8ad771186-01
2021-09-18T00:53:18.973Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:18.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-f83a0f0112b21823acf08df8f1f56a1870a2ffd4-19dd70cffb018d53-01 outer:exit 2b-f83a0f0112b21823acf08df8f1f56a1870a2ffd4-8f6654316c9effc0-01
2021-09-18T00:53:18.978Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:18.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-149303013445e25256bf27ae8792d8b46cc86c2c-f90451bbf0e87366-01 outer:exit 2b-149303013445e25256bf27ae8792d8b46cc86c2c-83cdb16a22a5eaa7-01
2021-09-18T00:53:18.992Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:19.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-32e1833bdf654b5f485af8a5c540692a2c045d9d-484adb2c78b2dc97-01 outer:exit 2b-32e1833bdf654b5f485af8a5c540692a2c045d9d-9c7d99061cf9d116-01
2021-09-18T00:53:19.048Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:19.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-becf5abeaeb11c19b107f3d86b16a8fda1b11b49-144b0ca075a91dba-01 outer:exit 2b-becf5abeaeb11c19b107f3d86b16a8fda1b11b49-01b7d258cd01fdc7-01
2021-09-18T00:53:19.051Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:19.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-eba4e5aa9180ee2ea83f6832d60845ce7c4f85b9-897041dceef06196-01 outer:exit 2b-eba4e5aa9180ee2ea83f6832d60845ce7c4f85b9-bb37530376dfaab4-01
2021-09-18T00:53:19.053Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:19.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e585b0728ba3e41cc7dd65d0014272ff9fe845f-5ec31253c1981bd2-01 outer:exit 2b-5e585b0728ba3e41cc7dd65d0014272ff9fe845f-eb732a10b66c60ea-01
2021-09-18T00:53:19.055Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:19.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbd23db245937e94fa7f76e43a575346c9d0119c-d9dbd92e1cb9acb2-01 outer:exit 2b-bbd23db245937e94fa7f76e43a575346c9d0119c-25a289e933873134-01
2021-09-18T00:53:19.057Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:19.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-37200780ec45e7959b54650d9b93b72c14c106cb-f0e60dc5c7ed154c-01 outer:exit 2b-37200780ec45e7959b54650d9b93b72c14c106cb-f06c88058985d3cb-01
2021-09-18T00:53:19.059Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:19.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-50db4da9480a94b39e781748af7f7ba8503323ef-dc5412b2119d88cb-01 outer:exit 2b-50db4da9480a94b39e781748af7f7ba8503323ef-510895779d8f3f06-01
2021-09-18T00:53:19.061Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:19.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-012551c9709f7bb1d6b65ecae2f914903322d8ed-c289ae3dfff378dc-01 outer:exit 2b-012551c9709f7bb1d6b65ecae2f914903322d8ed-4bf2c94d54f3d0ed-01
2021-09-18T00:53:19.062Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:19.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-73b1bc160f230ad63bc386f85507e03135c92434-889b5847f22bdc8e-01 outer:exit 2b-73b1bc160f230ad63bc386f85507e03135c92434-d03cd2500d673ae9-01
2021-09-18T00:53:19.064Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:19.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b7aae65792cdea6c87f39198e046771fe21599-1fde1b3261055767-01 outer:exit 2b-06b7aae65792cdea6c87f39198e046771fe21599-9223dc20ca3c9da2-01
2021-09-18T00:53:19.067Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:19.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-7044bd57259ec09abda62d538e6f00c05f2baf12-01cbdf8fec410cf5-01 outer:exit 2b-7044bd57259ec09abda62d538e6f00c05f2baf12-d20fbbf8e2f448d9-01
2021-09-18T00:53:19.069Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:19.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-082317790b2792c14ffb6bd1af5da2f1226777e9-2dea5200fba58d77-01 outer:exit 2b-082317790b2792c14ffb6bd1af5da2f1226777e9-f0d9793bf9040330-01
2021-09-18T00:53:19.071Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:19.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-508c04f6c86a7920b343127c68e333fd4deedeb7-f03be58ab47aa96a-01 outer:exit 2b-508c04f6c86a7920b343127c68e333fd4deedeb7-d76a8e2ca930c766-01
2021-09-18T00:53:19.074Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:19.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dc955c050878601b57f81b97f904185022af710-a644024d066b0f1d-01 outer:exit 2b-6dc955c050878601b57f81b97f904185022af710-f67d847f11df5835-01
2021-09-18T00:53:19.080Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:19.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd5d16dd33552be15c5f73f81e221309c126116b-1d6dd546590707d9-01 outer:exit 2b-cd5d16dd33552be15c5f73f81e221309c126116b-a5b765db25e9fdfd-01
2021-09-18T00:53:19.084Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:19.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb5575baafd4eec55723052e3949d92f2aabb066-a465f9b62d28e8c0-01 outer:exit 2b-bb5575baafd4eec55723052e3949d92f2aabb066-29f4c69939c7344f-01
2021-09-18T00:53:19.091Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:19.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c323393d9292b9e1b87a683bf03183c420e482a-e739b65901d0619a-01 outer:exit 2b-5c323393d9292b9e1b87a683bf03183c420e482a-5b9ed7dc7bdb3f4b-01
2021-09-18T00:53:19.096Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:19.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-f17a06da8b60ae0c777d059e076600d85ddd021f-9837f7f4d198e4d3-01 outer:exit 2b-f17a06da8b60ae0c777d059e076600d85ddd021f-2ec174b0b47234de-01
2021-09-18T00:53:19.098Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:19.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-08c21b6339f772438bfd690b4715e5af7919d4f2-d5435c93ebae4376-01 outer:exit 2b-08c21b6339f772438bfd690b4715e5af7919d4f2-46bdfae7f7b1efd5-01
2021-09-18T00:53:19.101Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:19.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-01d7da3bcbf37994678a3e026854ed26e27c371e-3c686043e604570b-01 outer:exit 2b-01d7da3bcbf37994678a3e026854ed26e27c371e-5eca716886875516-01
2021-09-18T00:53:19.107Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:19.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a85c913b032665ab9dd844ec61089e785903bc-5e86469668bf4a81-01 outer:exit 2b-c0a85c913b032665ab9dd844ec61089e785903bc-b82b5eec29be40e9-01
2021-09-18T00:53:19.109Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:19.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-598df97f5422e94043c056e4e94755ab71f33ac2-d4b54f4762e6d0d3-01 outer:exit 2b-598df97f5422e94043c056e4e94755ab71f33ac2-4fd1d7c50c084f7b-01
2021-09-18T00:53:19.111Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:19.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce840dd945d880c35d8c051d380b73adfe0a7f27-3b8c7426491d1fe8-01 outer:exit 2b-ce840dd945d880c35d8c051d380b73adfe0a7f27-e069a29fdc2694b6-01
2021-09-18T00:53:19.112Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:19.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bd421defbb0677506b2cbb8510a78678d4601a5-a61496956b79ae85-01 outer:exit 2b-4bd421defbb0677506b2cbb8510a78678d4601a5-a40cbbc345fd0a65-01
2021-09-18T00:53:19.117Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:19.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b7b80862dbf59369dba23897b334a386b2062af-7f787f354dc5af9a-01 outer:exit 2b-1b7b80862dbf59369dba23897b334a386b2062af-e57d100e454f8693-01
2021-09-18T00:53:19.119Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:19.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c35a885d27f809f57b8158d8866d6c50b0fe610-8a54f130a0561259-01 outer:exit 2b-7c35a885d27f809f57b8158d8866d6c50b0fe610-6855102b101393b5-01
2021-09-18T00:53:19.126Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:19.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-df30f07ad970422d60081ac7761f0ddab313cd62-d2df2ee9503e0bfa-01 outer:exit 2b-df30f07ad970422d60081ac7761f0ddab313cd62-3dcf618e4c6fdd9c-01
2021-09-18T00:53:19.135Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:19.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-333999304ba648dd1cf828fcb519704c8ddef1f7-542f9ed47376731d-01 outer:exit 2b-333999304ba648dd1cf828fcb519704c8ddef1f7-c34e001b47602e5b-01
2021-09-18T00:53:19.137Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:19.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c97c64a7aa6fcd5be3e65c3f5075e92a9b094a9-c8d31273d2dc723d-01 outer:exit 2b-7c97c64a7aa6fcd5be3e65c3f5075e92a9b094a9-bc8857ff7d64f566-01
2021-09-18T00:53:19.140Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:19.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-6113956aff6dcb72a85fa92fc3f5c691b9253c47-0003ad9cf119dae0-01 outer:exit 2b-6113956aff6dcb72a85fa92fc3f5c691b9253c47-94e65ede1e1b61e1-01
2021-09-18T00:53:19.142Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:19.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-64ffc022944426998a2f61b58fed17b49503ae87-3d9fff612bf2336f-01 outer:exit 2b-64ffc022944426998a2f61b58fed17b49503ae87-643361f2b64ec665-01
2021-09-18T00:53:19.166Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:25.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:25.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:25.131Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:25.132Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:25.188Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:25.255Z appoptics:patching patched crypto 
2021-09-18T00:53:25.284Z appoptics:patching patched https 
2021-09-18T00:53:25.285Z appoptics:patching patched http 
2021-09-18T00:53:25.326Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:25.327Z appoptics:patching patched fs 
2021-09-18T00:53:25.355Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v16.9.1)
2021-09-18T00:53:25.361Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-09-18T00:53:25.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-126ed169abbeeaafd97adb66be478ece16becb6c-f56485f6b4842c09-01 outer:exit 2b-126ed169abbeeaafd97adb66be478ece16becb6c-e793cabd5e9c8b87-01
2021-09-18T00:53:25.494Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:25.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-c443430c664ede2faf642ab02f8c86a974d8d2e9-c3d35375172b3e68-01 outer:exit 2b-c443430c664ede2faf642ab02f8c86a974d8d2e9-530330fe3f777387-01
2021-09-18T00:53:25.558Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:25.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-0092456454542efac9cb67430a029f9eb7e5dddc-f29a4047aa0576cc-01 outer:exit 2b-0092456454542efac9cb67430a029f9eb7e5dddc-38248b319f83ff86-01
2021-09-18T00:53:25.560Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:25.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-62fdbc9d98ea1a430027258c52d5d921dee9d4db-abe6298a05991d12-01 outer:exit 2b-62fdbc9d98ea1a430027258c52d5d921dee9d4db-98e1490bfe7ea4af-01
2021-09-18T00:53:25.563Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:25.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-57eeedc5eb7fd7ad34cd33f4234cd1de7e308212-de0f7dcf3fb95eb9-01 outer:exit 2b-57eeedc5eb7fd7ad34cd33f4234cd1de7e308212-7612c144df1b4de8-01
2021-09-18T00:53:25.567Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:25.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-c36a2e030ba9a75d85c9301cf83d706a426dd02b-985bb6c7490837a2-01 outer:exit 2b-c36a2e030ba9a75d85c9301cf83d706a426dd02b-baedaf1baee3d4e2-01
2021-09-18T00:53:25.569Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:25.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-124a2a47af30561e2a93385ad3d44b9fb877802f-bb0f464ce442243a-01 outer:exit 2b-124a2a47af30561e2a93385ad3d44b9fb877802f-70f6cb3af5cff405-01
2021-09-18T00:53:25.571Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:25.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-50bc547a24720fb46ede3c72ab591126c41ed18a-feaf4f960fdf88be-01 outer:exit 2b-50bc547a24720fb46ede3c72ab591126c41ed18a-29e5c7730203dd35-01
2021-09-18T00:53:25.573Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:25.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a678d9ac627130f439a67a40044b79e652c78b4-25335ace494855e0-01 outer:exit 2b-2a678d9ac627130f439a67a40044b79e652c78b4-2c966d86f771ee7e-01
2021-09-18T00:53:25.576Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:25.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-835f537636d5c88c0bd53d6bc4b30322c4b3ab91-afbab6e79442ff1a-01 outer:exit 2b-835f537636d5c88c0bd53d6bc4b30322c4b3ab91-20f6ba1ccd7c9ad8-01
2021-09-18T00:53:25.578Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:25.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-600197b89b7fc0b690ac3392980a25bd2dcfc0b2-e22bac9b847da8ab-01 outer:exit 2b-600197b89b7fc0b690ac3392980a25bd2dcfc0b2-27b42db763bb4be5-01
2021-09-18T00:53:25.581Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:25.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-34a54ace5fe1b3238b8c96edadefd5a9be334a4d-1137c43e715b7401-01 outer:exit 2b-34a54ace5fe1b3238b8c96edadefd5a9be334a4d-75566456261f6883-01
2021-09-18T00:53:25.587Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:25.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-528674d4802cd528150e5a7fd1141e9eb1574a7c-79a54c85ddc1b9b9-01 outer:exit 2b-528674d4802cd528150e5a7fd1141e9eb1574a7c-3c1ccb4437d6cb01-01
2021-09-18T00:53:25.600Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:25.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbf055a1a6c7f50ae2fbd55b02c39939636aa76-af1482f9328f402c-01 outer:exit 2b-5fbf055a1a6c7f50ae2fbd55b02c39939636aa76-28f35320b7b6bf49-01
2021-09-18T00:53:25.647Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:25.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-20cc310978e52273f0c76eb723ec82f682c6aa9c-a9b216a4cae970b5-01 outer:exit 2b-20cc310978e52273f0c76eb723ec82f682c6aa9c-169faa8b63bb61f4-01
2021-09-18T00:53:25.650Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:25.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a798d329a43937a4afd324f828895f7801cb54c-2d7033a433481fb8-01 outer:exit 2b-8a798d329a43937a4afd324f828895f7801cb54c-73e4e3513fff0889-01
2021-09-18T00:53:25.652Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:25.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0635e969c460c7428adf2984d71e8e292e4a1f2-9423b834c39f9559-01 outer:exit 2b-f0635e969c460c7428adf2984d71e8e292e4a1f2-538900cc80984f5f-01
2021-09-18T00:53:25.654Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:25.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e42c7729e83776a8862be59a47dc6e1e7494af5-14244e7a905f8a74-01 outer:exit 2b-1e42c7729e83776a8862be59a47dc6e1e7494af5-f84cc6010c2cead0-01
2021-09-18T00:53:25.656Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:25.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-d81e1ef24aa1ca7bff3c688adec79f95e4797b4a-0ed8652de608b219-01 outer:exit 2b-d81e1ef24aa1ca7bff3c688adec79f95e4797b4a-f9714a7268bed877-01
2021-09-18T00:53:25.658Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:25.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-91dfe444e30597020003aa85561e09f70b990259-be71289e60273513-01 outer:exit 2b-91dfe444e30597020003aa85561e09f70b990259-31827c1f231ddae1-01
2021-09-18T00:53:25.660Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:25.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-a42986bc2419d55eea244bb42419403be2912348-57053efeed1464ef-01 outer:exit 2b-a42986bc2419d55eea244bb42419403be2912348-816941d2e25ebd51-01
2021-09-18T00:53:25.662Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:25.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cbfbd969112888a7e4db5013e2d24ed2ea93510-b7bff0ad8948e546-01 outer:exit 2b-0cbfbd969112888a7e4db5013e2d24ed2ea93510-551cf3a84a50d4d3-01
2021-09-18T00:53:25.664Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:25.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-799950d862d3255bc238fca876753daeb7abf9fc-d371991b10b048cd-01 outer:exit 2b-799950d862d3255bc238fca876753daeb7abf9fc-e1ae2729fee0e3da-01
2021-09-18T00:53:25.666Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:25.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-becd20feab7c67ee462e56f1981ad70912208211-5b936d504cf7cbbd-01 outer:exit 2b-becd20feab7c67ee462e56f1981ad70912208211-2b6e8605c70701f7-01
2021-09-18T00:53:25.669Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:25.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-a27eadc3eff27e8669f5fd1b04097be5a593e492-a952200c309252db-01 outer:exit 2b-a27eadc3eff27e8669f5fd1b04097be5a593e492-bd281b9f1262c3bd-01
2021-09-18T00:53:25.671Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:25.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-09884ca726a2c7f5d1c786ec1748ec23113dc3f4-e4a3408dcf8b6716-01 outer:exit 2b-09884ca726a2c7f5d1c786ec1748ec23113dc3f4-2287def2be3bfcf8-01
2021-09-18T00:53:25.673Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:25.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-7deff620a7911edc2410279b6b19ff114532e49b-16481b2860aeab73-01 outer:exit 2b-7deff620a7911edc2410279b6b19ff114532e49b-01e0fab5b3ca7404-01
2021-09-18T00:53:25.680Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:25.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa21aeb2cdd5fc33201bc2fdc100505d76aa9b38-03f623afee2b536d-01 outer:exit 2b-aa21aeb2cdd5fc33201bc2fdc100505d76aa9b38-c27cabd4445cd21c-01
2021-09-18T00:53:25.683Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:25.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3ceafd5b54895bdf8ff6ca163228efef2ffb9b0-89b7f28bf1aa3a36-01 outer:exit 2b-f3ceafd5b54895bdf8ff6ca163228efef2ffb9b0-f561a612143b4972-01
2021-09-18T00:53:25.690Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:25.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fa0e352d97daae9f489ec1143a6747e6d6f7b3f-4c50df1a13e18b16-01 outer:exit 2b-0fa0e352d97daae9f489ec1143a6747e6d6f7b3f-cc518b9b183ff6af-01
2021-09-18T00:53:25.696Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:25.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-434dfdc5ace0f447562afa89dc02f4d2ad75dd97-eb669b421ceab7b3-01 outer:exit 2b-434dfdc5ace0f447562afa89dc02f4d2ad75dd97-ba33aa107b8c5394-01
2021-09-18T00:53:25.698Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:25.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-edc71ef3a5f36d8e6cf4f1960572bbb682d0961e-044714128a78aa85-01 outer:exit 2b-edc71ef3a5f36d8e6cf4f1960572bbb682d0961e-8aea45f2b2684834-01
2021-09-18T00:53:25.700Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:25.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-865c5ead46a245c740458bd41ab7e7d4695e6447-13dd8a351d24926a-01 outer:exit 2b-865c5ead46a245c740458bd41ab7e7d4695e6447-c187c65957846d25-01
2021-09-18T00:53:25.705Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:25.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-05d78c7b5359d8bc92b3876ed409d0f5ad990beb-859b0f2a76397d07-01 outer:exit 2b-05d78c7b5359d8bc92b3876ed409d0f5ad990beb-9551b3c7fe1ce371-01
2021-09-18T00:53:25.707Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:25.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-802e9b0120d260186852bcb1d7befa5c282ae1b1-57b2dc60afc7a99c-01 outer:exit 2b-802e9b0120d260186852bcb1d7befa5c282ae1b1-16c5b5fd7e52d589-01
2021-09-18T00:53:25.709Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:25.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-65e899838bdb13140e901eb4951cecfba503b732-631b541d2ab99649-01 outer:exit 2b-65e899838bdb13140e901eb4951cecfba503b732-34c5606211571e22-01
2021-09-18T00:53:25.710Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:25.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-89961a2b3ea3aaea360d2ccd8bc957345e275b33-127f5c772e872385-01 outer:exit 2b-89961a2b3ea3aaea360d2ccd8bc957345e275b33-a4828e0375450178-01
2021-09-18T00:53:25.712Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:25.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-a15bfc1601d7abed6e8909817437fd14a3b6028f-3ec8802a74056162-01 outer:exit 2b-a15bfc1601d7abed6e8909817437fd14a3b6028f-d6dc51006c1562f9-01
2021-09-18T00:53:25.714Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:25.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2419847517d4f19c7061ab82893629694c31315-2a740abb2468e006-01 outer:exit 2b-c2419847517d4f19c7061ab82893629694c31315-9444db357c7d1de7-01
2021-09-18T00:53:25.725Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:25.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bfe1ade8617a794a135c90a0f3d0972313b0019-004e05fba6dbf19f-01 outer:exit 2b-4bfe1ade8617a794a135c90a0f3d0972313b0019-1e5659ece9025c52-01
2021-09-18T00:53:25.733Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:25.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d8ac644eb154da2c202862a9803d2cb33d275f-8b655d3e25d4bba6-01 outer:exit 2b-47d8ac644eb154da2c202862a9803d2cb33d275f-d30a670717d55817-01
2021-09-18T00:53:25.735Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:25.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-a840fe93614c396c2492f1a668792c47490f32ad-567ea3b8a29b441b-01 outer:exit 2b-a840fe93614c396c2492f1a668792c47490f32ad-079a44c28a31654b-01
2021-09-18T00:53:25.737Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:25.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7d06c4d1cd3eff4754714c6732124fa00f7a882-9dcc918801001c2a-01 outer:exit 2b-d7d06c4d1cd3eff4754714c6732124fa00f7a882-ecc8e754830bbe53-01
2021-09-18T00:53:25.739Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:25.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-88a829f4f03d74b6c0ad83488b61d55864e7585e-a01cef0766d3bf1a-01 outer:exit 2b-88a829f4f03d74b6c0ad83488b61d55864e7585e-a55cd31fb0027edf-01
2021-09-18T00:53:25.763Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (301ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:30.871Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:30.871Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:30.871Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:30.872Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:30.927Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:30.965Z appoptics:patching patched crypto 
2021-09-18T00:53:30.984Z appoptics:patching patched https 
2021-09-18T00:53:30.984Z appoptics:patching patched http 
2021-09-18T00:53:31.020Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:31.021Z appoptics:patching patched fs 
2021-09-18T00:53:31.060Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v16.9.1)
2021-09-18T00:53:31.067Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-09-18T00:53:31.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-260ffbe58c88da102cd1b42058fb0f430a855ec9-31f58cb035fe226e-01 outer:exit 2b-260ffbe58c88da102cd1b42058fb0f430a855ec9-775fc81c3d99270b-01
2021-09-18T00:53:31.220Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:31.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced0de00f7e8d05aa59e9273d1272211c3116289-2dbe34224da1d1d3-01 outer:exit 2b-ced0de00f7e8d05aa59e9273d1272211c3116289-0f3d6b3287ffd9fd-01
2021-09-18T00:53:31.258Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:31.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-741299cdd27526ea65e4bca549cfca1ee374cf05-d71a23e55bfd440e-01 outer:exit 2b-741299cdd27526ea65e4bca549cfca1ee374cf05-05c50687733f9073-01
2021-09-18T00:53:31.261Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:31.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-90d62f9601a2f91c837044ad5e92788ec78becb8-aa4e2df41e4537f8-01 outer:exit 2b-90d62f9601a2f91c837044ad5e92788ec78becb8-b3864f7114ef9d0b-01
2021-09-18T00:53:31.263Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:31.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbad96b60b29fae8635edf531b238c533704ad3b-8dba15c370ddb9a3-01 outer:exit 2b-cbad96b60b29fae8635edf531b238c533704ad3b-77d411c76914555f-01
2021-09-18T00:53:31.267Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:31.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-82ce3852a8d1405b4b3658dfe89b39278d5f7869-4939f7f30e814025-01 outer:exit 2b-82ce3852a8d1405b4b3658dfe89b39278d5f7869-fa514e8c8acf707c-01
2021-09-18T00:53:31.270Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:31.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-44515847f3368dcfad1046909de7d184c6685949-12ed0be35cca8099-01 outer:exit 2b-44515847f3368dcfad1046909de7d184c6685949-867f974ff67eee7b-01
2021-09-18T00:53:31.272Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:31.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-e96bcbb2a1bb4bd442c8a7b7f0ab624a1be7b26f-767706bab63f63f1-01 outer:exit 2b-e96bcbb2a1bb4bd442c8a7b7f0ab624a1be7b26f-1a28f220162acdad-01
2021-09-18T00:53:31.274Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:31.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-202831c7fdd113775e5d9f97a6c69226c2b93832-e5c7782da998c561-01 outer:exit 2b-202831c7fdd113775e5d9f97a6c69226c2b93832-5f04b22e298536f1-01
2021-09-18T00:53:31.276Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:31.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-103742c2a8255d62fff9ff9e41e716c61bb9cf43-41add0f3f01d1e5e-01 outer:exit 2b-103742c2a8255d62fff9ff9e41e716c61bb9cf43-f6e5719d38bd21a3-01
2021-09-18T00:53:31.279Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:31.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaef8a29ad684ed7a02e7e881927a1c84b020a6d-b0f2f04042e1ebbd-01 outer:exit 2b-aaef8a29ad684ed7a02e7e881927a1c84b020a6d-998527c9de28d5a5-01
2021-09-18T00:53:31.282Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:31.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8cc878c049bffc9c8aa3a5f957a1570b4e01b81-d6aaf3f3a6f3b6bd-01 outer:exit 2b-c8cc878c049bffc9c8aa3a5f957a1570b4e01b81-5f6a30ec5df4e12f-01
2021-09-18T00:53:31.288Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:31.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff6c6d959506a844fc82a5b46a3a2ed2ece1374e-7c95d5dd944773d6-01 outer:exit 2b-ff6c6d959506a844fc82a5b46a3a2ed2ece1374e-547e2750c5d57714-01
2021-09-18T00:53:31.301Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:31.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5a1a85fe04baa470dbca9cf511d5a2847d0d7ac-6c33b5a9a3e14e18-01 outer:exit 2b-c5a1a85fe04baa470dbca9cf511d5a2847d0d7ac-203bbe05aaf9cd29-01
2021-09-18T00:53:31.358Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:31.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c5ad581f410e7946d20993859bff8627763434c-1642d3a7ffb5acbd-01 outer:exit 2b-5c5ad581f410e7946d20993859bff8627763434c-f50ce767e12c69f6-01
2021-09-18T00:53:31.360Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:31.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-c614972bf636f2e873ffef5f20a320f43101803c-615d3417e7f6cabf-01 outer:exit 2b-c614972bf636f2e873ffef5f20a320f43101803c-dae69eb09a72a83c-01
2021-09-18T00:53:31.362Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:31.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb4165e544a359133416478afadf0d981f45d55d-9976257d668fbea5-01 outer:exit 2b-eb4165e544a359133416478afadf0d981f45d55d-f6dc2461539eb2f2-01
2021-09-18T00:53:31.365Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:31.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-7476948c4a1e07fa929ec98d23bd6ec9719be7fd-f9fb06f35e4137ae-01 outer:exit 2b-7476948c4a1e07fa929ec98d23bd6ec9719be7fd-9dd8ed4f2d254b4a-01
2021-09-18T00:53:31.367Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:31.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-748389415b5f759e6676682ae0308dca96d9861f-403021f88ab7e116-01 outer:exit 2b-748389415b5f759e6676682ae0308dca96d9861f-f56f21520396b28c-01
2021-09-18T00:53:31.369Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:31.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-77c9acd94bc2121d9a67c94b0a2bff4c25aa490e-671ec350ea173cb8-01 outer:exit 2b-77c9acd94bc2121d9a67c94b0a2bff4c25aa490e-735785da89e3e33d-01
2021-09-18T00:53:31.370Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:31.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c0c2b4a3170bc16883368859b26bc21154d9d6e-646fb078ba5515f5-01 outer:exit 2b-7c0c2b4a3170bc16883368859b26bc21154d9d6e-e8d68186ad025b1c-01
2021-09-18T00:53:31.372Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:31.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-e38f713db28972dffc7c916aa36e76caa575fc36-32c641d804313306-01 outer:exit 2b-e38f713db28972dffc7c916aa36e76caa575fc36-9569fbda3f557596-01
2021-09-18T00:53:31.374Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:31.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-835306e5b3b72ac7106a574cd7bb0abc088718f5-184fb1946b66fdbb-01 outer:exit 2b-835306e5b3b72ac7106a574cd7bb0abc088718f5-b10800723c5eac68-01
2021-09-18T00:53:31.377Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:31.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-76bd8f828a56007277825a709b1b8d540697b70b-25f6c0046f43720c-01 outer:exit 2b-76bd8f828a56007277825a709b1b8d540697b70b-0b0a1a9063fe748d-01
2021-09-18T00:53:31.380Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:31.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ea21b411293c4fa751a32599e701432a7733f9-34e3313348282ba2-01 outer:exit 2b-58ea21b411293c4fa751a32599e701432a7733f9-bbb85ff7dae9c899-01
2021-09-18T00:53:31.382Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:31.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe7c8a04a28d45b0cee2d1d4bfd72312e1b11143-1c73a688d1526794-01 outer:exit 2b-fe7c8a04a28d45b0cee2d1d4bfd72312e1b11143-24f5969f0d3c1992-01
2021-09-18T00:53:31.384Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:31.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-72c63c903679f42f2129a048c52f2c5190b7fa9e-989323704dd84bd8-01 outer:exit 2b-72c63c903679f42f2129a048c52f2c5190b7fa9e-28cb0c6b38f66e34-01
2021-09-18T00:53:31.391Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:31.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-767e6f0b531af96c13d6406dc381c91d72e43d88-e667d9decf6f68fa-01 outer:exit 2b-767e6f0b531af96c13d6406dc381c91d72e43d88-5d2b339b4287022f-01
2021-09-18T00:53:31.395Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:31.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-a03d0c0d62ded421154299b78a62762c1b6f7c5f-3d48d23bdf0772dc-01 outer:exit 2b-a03d0c0d62ded421154299b78a62762c1b6f7c5f-5411036d842ef3b0-01
2021-09-18T00:53:31.401Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:31.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd4a1491376b5620c4d311ea7cd9475018ffbacc-cceccd2913e8749e-01 outer:exit 2b-cd4a1491376b5620c4d311ea7cd9475018ffbacc-2d10aee8b388ed2e-01
2021-09-18T00:53:31.407Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:31.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e3460aabfd887413e24bb060814323a6f3f630e-a7955d39188449e9-01 outer:exit 2b-1e3460aabfd887413e24bb060814323a6f3f630e-b06e91fe5aec84df-01
2021-09-18T00:53:31.408Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:31.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-45f58ed3ec5fd0694f5f08d6d942f7abe09b1c83-2f0397d89cadaafd-01 outer:exit 2b-45f58ed3ec5fd0694f5f08d6d942f7abe09b1c83-b8afb9c2f0c20144-01
2021-09-18T00:53:31.411Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:31.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a34ba0aee6fc3ba63ae59f80ef4fd3533b0da77-91ba3b0054695e4e-01 outer:exit 2b-1a34ba0aee6fc3ba63ae59f80ef4fd3533b0da77-8bae76d74b069d56-01
2021-09-18T00:53:31.416Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:31.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-12a3b484f23358b6c972fe4c99faa918287aae0b-650bc8245c919931-01 outer:exit 2b-12a3b484f23358b6c972fe4c99faa918287aae0b-bd7bc6fcdefe55bf-01
2021-09-18T00:53:31.418Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:31.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-062f53a84abe42a5ee02c2224ab1db74dc9dde8b-df3bbc30faf4ec18-01 outer:exit 2b-062f53a84abe42a5ee02c2224ab1db74dc9dde8b-fc98319303983907-01
2021-09-18T00:53:31.420Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:31.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-953ef6a0c7cef836f6e6ea9df20d40776174224f-19122e67221d8380-01 outer:exit 2b-953ef6a0c7cef836f6e6ea9df20d40776174224f-970acd67585e7edf-01
2021-09-18T00:53:31.422Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:31.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-eddfbed1d2603df09147f7f5dcc546a6cc7cd434-d9a952e5aa108468-01 outer:exit 2b-eddfbed1d2603df09147f7f5dcc546a6cc7cd434-1abdfd62902f2f4d-01
2021-09-18T00:53:31.424Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:31.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-228c61922343a20d1e90f21d1a7a16295e2f79a3-39936cbee50c5c27-01 outer:exit 2b-228c61922343a20d1e90f21d1a7a16295e2f79a3-5e8da71a45d28d31-01
2021-09-18T00:53:31.425Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:31.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-70dc73328ee049ebd937d95719733d95dcc61ca5-a9346149397a03d8-01 outer:exit 2b-70dc73328ee049ebd937d95719733d95dcc61ca5-ad657248f8fd9a13-01
2021-09-18T00:53:31.433Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:31.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a471dc953035ec4faded3f5dbd49818371f0e89-e950ec1ecffe4480-01 outer:exit 2b-0a471dc953035ec4faded3f5dbd49818371f0e89-95985fef3d399fa2-01
2021-09-18T00:53:31.441Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:31.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-71cd840751c8ca7396475126449e0e6c4c386f01-183d2b956aeb6921-01 outer:exit 2b-71cd840751c8ca7396475126449e0e6c4c386f01-8b9344a743de104a-01
2021-09-18T00:53:31.443Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:31.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fa5c156f76517620eb4eccb68bf402171efc639-d12eb0f6ea1d19ad-01 outer:exit 2b-2fa5c156f76517620eb4eccb68bf402171efc639-79cfa8efb9ac7e05-01
2021-09-18T00:53:31.446Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:31.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa8786314197fa1e6cb995f88a217e2c17013a4a-9072a06c17d7cc84-01 outer:exit 2b-aa8786314197fa1e6cb995f88a217e2c17013a4a-ffc1d6c329d28238-01
2021-09-18T00:53:31.448Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:31.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-85031bd02ee687c8e344926819f77d71a8e3db13-188cf449a18d7cd8-01 outer:exit 2b-85031bd02ee687c8e344926819f77d71a8e3db13-da79b4abf6b38576-01
2021-09-18T00:53:31.471Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (282ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:37.592Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:37.593Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:37.593Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:37.594Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:37.649Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:37.688Z appoptics:patching patched crypto 
2021-09-18T00:53:37.707Z appoptics:patching patched https 
2021-09-18T00:53:37.707Z appoptics:patching patched http 
2021-09-18T00:53:37.745Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:37.746Z appoptics:patching patched fs 
2021-09-18T00:53:37.775Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v16.9.1)
2021-09-18T00:53:37.781Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-09-18T00:53:37.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bc7f8d9fdd901f227e46aa00aeb8f149174a2a6-f3498e7d0e137bb9-01 outer:exit 2b-1bc7f8d9fdd901f227e46aa00aeb8f149174a2a6-27d25dc085897880-01
2021-09-18T00:53:37.915Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:37.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dc6a231ed1aa3cb2313cfd645f165c997e24687-2581c79438521a98-01 outer:exit 2b-3dc6a231ed1aa3cb2313cfd645f165c997e24687-9d45168943411138-01
2021-09-18T00:53:37.948Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:37.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b304c53622ead00f8d23cc6494853f02d753d49-b5d50174f94a2e54-01 outer:exit 2b-7b304c53622ead00f8d23cc6494853f02d753d49-3a191a3087ecb670-01
2021-09-18T00:53:37.951Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:37.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-9167dbf931c66f549b20600acf47214aae5e55a8-1de7ff696a031a83-01 outer:exit 2b-9167dbf931c66f549b20600acf47214aae5e55a8-3d69cab862274072-01
2021-09-18T00:53:37.954Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:37.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f1f5854292163238b8486b4ee14fdee40207565-23d2014266aa0cdd-01 outer:exit 2b-0f1f5854292163238b8486b4ee14fdee40207565-550d7565e7c508fd-01
2021-09-18T00:53:37.957Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:37.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-487511b7521ac7ffe7b233e4542a89988a86df42-2ced953ce91592f6-01 outer:exit 2b-487511b7521ac7ffe7b233e4542a89988a86df42-115cc7ee9c9960f4-01
2021-09-18T00:53:37.960Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:37.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fa730ac0e799391c7aef0999635962a1723e7cb-6f9a35686148cb6c-01 outer:exit 2b-7fa730ac0e799391c7aef0999635962a1723e7cb-96d4f884010d6785-01
2021-09-18T00:53:37.962Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:37.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-fae3500b0a33ba455e9671f1f26846e3c0273a17-4da13eb5459f98aa-01 outer:exit 2b-fae3500b0a33ba455e9671f1f26846e3c0273a17-66805500658ee302-01
2021-09-18T00:53:37.964Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:37.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-39ef37fe2bcf48c1e556f016031f22a73df43ac7-a35920ef5a07ddf0-01 outer:exit 2b-39ef37fe2bcf48c1e556f016031f22a73df43ac7-b73915814b7a6f78-01
2021-09-18T00:53:37.967Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:37.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-46b2d9b8ba41ad3e19a7fbcb3925dccd13d0a74e-bc918b3149e62b3d-01 outer:exit 2b-46b2d9b8ba41ad3e19a7fbcb3925dccd13d0a74e-d1d49c1748077d5d-01
2021-09-18T00:53:37.969Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:37.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce500b4cfee016b3e06c292bbf7a22deda9928fe-f988042d08788b54-01 outer:exit 2b-ce500b4cfee016b3e06c292bbf7a22deda9928fe-7d9981e888d2e67b-01
2021-09-18T00:53:37.972Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:37.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-db3d43311e74b2abf6a9778aa4547fd0d5457289-72733eaa72678d8f-01 outer:exit 2b-db3d43311e74b2abf6a9778aa4547fd0d5457289-5496d629e3693eeb-01
2021-09-18T00:53:37.978Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:37.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-1019462d26e4083bdea3d8e3b758ea5643bda0b5-32164c86d61209e0-01 outer:exit 2b-1019462d26e4083bdea3d8e3b758ea5643bda0b5-c0472864d6d1c171-01
2021-09-18T00:53:37.991Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:38.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a8643614e25b3195a49187626ad3bc4cc773564-cf1db46901e1ac62-01 outer:exit 2b-9a8643614e25b3195a49187626ad3bc4cc773564-5d91d0adce138f9f-01
2021-09-18T00:53:38.048Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:38.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-29b518d08873239a2377077d097516dc03d9850f-b19cd22250de65b6-01 outer:exit 2b-29b518d08873239a2377077d097516dc03d9850f-33d3d6f697b70cfb-01
2021-09-18T00:53:38.051Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:38.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd74e0b0ca3d936caa80f21e07b4dbd3e226dc9a-659cb44a50b5a95b-01 outer:exit 2b-bd74e0b0ca3d936caa80f21e07b4dbd3e226dc9a-4e8cc06c98264c5a-01
2021-09-18T00:53:38.053Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:38.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b1a9e5823888bd23d4032b95247218fdf8b88b6-a8ad43f8515c8881-01 outer:exit 2b-1b1a9e5823888bd23d4032b95247218fdf8b88b6-e8f80985f19a259d-01
2021-09-18T00:53:38.056Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:38.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-d97d50b37a349c9073fbcbd8078e22e2560de5d8-2b2166913a98aeb3-01 outer:exit 2b-d97d50b37a349c9073fbcbd8078e22e2560de5d8-0e127af045cafc27-01
2021-09-18T00:53:38.058Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:38.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6c6ac5377d6708de2928d982b0e5012cea84beb-0e0119ac114d2bf9-01 outer:exit 2b-b6c6ac5377d6708de2928d982b0e5012cea84beb-0616e7e3291566ea-01
2021-09-18T00:53:38.060Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:38.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-612f350056ec174bd65910869aa32c7277cd96b4-1053ca8f7c97c6e3-01 outer:exit 2b-612f350056ec174bd65910869aa32c7277cd96b4-7f1ba00e6d0ce740-01
2021-09-18T00:53:38.062Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:38.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-2567677b9d29c687d28e0a2ce4892d978d33eb34-a15eaf07de25e5e1-01 outer:exit 2b-2567677b9d29c687d28e0a2ce4892d978d33eb34-6f6826e9c9666551-01
2021-09-18T00:53:38.063Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:38.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-2197a281d1332a76d7517d0464db4609b1e03d7c-acc54adff9fa1f79-01 outer:exit 2b-2197a281d1332a76d7517d0464db4609b1e03d7c-9a17c709694ba4cd-01
2021-09-18T00:53:38.065Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:38.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5cd4f2f58706dd857532ef95cbd304e6339282a-a20b24c946cf25ad-01 outer:exit 2b-c5cd4f2f58706dd857532ef95cbd304e6339282a-ece087f8df6b0603-01
2021-09-18T00:53:38.068Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:38.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eb28ac7a5cf2adf0c4a32d8a7eb5426ae4254b1-04354ff899e25b84-01 outer:exit 2b-9eb28ac7a5cf2adf0c4a32d8a7eb5426ae4254b1-68cbbeec217d3914-01
2021-09-18T00:53:38.070Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:38.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-759c3ade134ec469885c677269f5f61ba2f4cda3-61f9dd5bfe205815-01 outer:exit 2b-759c3ade134ec469885c677269f5f61ba2f4cda3-3aa3a41b48c5e970-01
2021-09-18T00:53:38.072Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:38.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-a22bc24bd258fe2be2c390b5a59899f59692fa8d-f6e72de0f07f89d7-01 outer:exit 2b-a22bc24bd258fe2be2c390b5a59899f59692fa8d-cbc8721617da797e-01
2021-09-18T00:53:38.075Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:38.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-406a0f393a52ea000e24a2a2e8321a0a0a6de66d-5a25ee6a2dfb29d0-01 outer:exit 2b-406a0f393a52ea000e24a2a2e8321a0a0a6de66d-9ef48daafe3e7d5d-01
2021-09-18T00:53:38.081Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:38.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-59905d74700f6f281dec618bf34602c886a20f1b-4d5e9e035c6c53df-01 outer:exit 2b-59905d74700f6f281dec618bf34602c886a20f1b-ad417f2afbc7dc9b-01
2021-09-18T00:53:38.085Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:38.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-f92fdd94d31fd0e1107e5064f0ae60b3ea293429-6a40937b4432a8b7-01 outer:exit 2b-f92fdd94d31fd0e1107e5064f0ae60b3ea293429-574d5001afa02ba0-01
2021-09-18T00:53:38.092Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:38.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-51cb1c96a75a72a904f1f0291397883e263132f7-8edbf933d6715c19-01 outer:exit 2b-51cb1c96a75a72a904f1f0291397883e263132f7-fdc88d23d9cb027d-01
2021-09-18T00:53:38.098Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:38.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c52400d8f09d990c1afdd6c254b751aa2e7ab5a-d804928f4371effa-01 outer:exit 2b-0c52400d8f09d990c1afdd6c254b751aa2e7ab5a-f828abce8d3b69e2-01
2021-09-18T00:53:38.100Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:38.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-b53d20f04b7d5a04f27668e90e7d8502fa878546-f1061c9b3c1120c9-01 outer:exit 2b-b53d20f04b7d5a04f27668e90e7d8502fa878546-f0b6c81f7097ed61-01
2021-09-18T00:53:38.102Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:38.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-d25207607608af70401593d9482f82b97a06b2fa-4ed7232fbe576921-01 outer:exit 2b-d25207607608af70401593d9482f82b97a06b2fa-5f71e5f178b3f523-01
2021-09-18T00:53:38.108Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:38.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a0a36ed6d30a17dd608aaa0a7824fe47663eb53-af926af450615ed7-01 outer:exit 2b-2a0a36ed6d30a17dd608aaa0a7824fe47663eb53-ff9b8c710983ce42-01
2021-09-18T00:53:38.110Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:38.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-5385036240d55aeb57f1a26f944f9d68c3784958-3d9b9934ead29356-01 outer:exit 2b-5385036240d55aeb57f1a26f944f9d68c3784958-0cb6e264d05cdbfb-01
2021-09-18T00:53:38.112Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:38.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-504d5dc40f06d47966e5d734fd571f54ccc6beb8-e6976fbc38d9170f-01 outer:exit 2b-504d5dc40f06d47966e5d734fd571f54ccc6beb8-0525f3ec1d777232-01
2021-09-18T00:53:38.113Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:38.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa252548cec290bfd3fd15d79555bc249bf77cbc-ab50feaad0ee10a1-01 outer:exit 2b-aa252548cec290bfd3fd15d79555bc249bf77cbc-ce4b432d7be4323e-01
2021-09-18T00:53:38.115Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:38.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-b989e2b533eec56202a5f46269f5dca7df66672c-67d1ecf6f2cea7af-01 outer:exit 2b-b989e2b533eec56202a5f46269f5dca7df66672c-30b6d65b8260982a-01
2021-09-18T00:53:38.120Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:38.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c336ccaf95d1320843ed1acefe1c38e47c9e9b8-26c2c186850a9a81-01 outer:exit 2b-3c336ccaf95d1320843ed1acefe1c38e47c9e9b8-871be3f26a2556d8-01
2021-09-18T00:53:38.128Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:38.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-d15cb597ef8a9407cfab55f1f0362d0496afbe40-1f22f29aaafd77ef-01 outer:exit 2b-d15cb597ef8a9407cfab55f1f0362d0496afbe40-f0a2fc8f70c42025-01
2021-09-18T00:53:38.135Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:38.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ff47b50f672e8968724d5c6f3e9b3e99c1e179-ae38fbcf9f4d8996-01 outer:exit 2b-c8ff47b50f672e8968724d5c6f3e9b3e99c1e179-03f02b1fcbb9922e-01
2021-09-18T00:53:38.138Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:38.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5ebd4e945ea3f9afa7077e388bb050c9922ac04-a811b460646ffc9b-01 outer:exit 2b-b5ebd4e945ea3f9afa7077e388bb050c9922ac04-ffff7924126684b8-01
2021-09-18T00:53:38.140Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:38.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d8a8fadca87c06c232e8f6af4aacdd7910afdf-1828be65f3fba9cf-01 outer:exit 2b-86d8a8fadca87c06c232e8f6af4aacdd7910afdf-6bfcd8f7607b1144-01
2021-09-18T00:53:38.143Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:38.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-2524031370993db4952f3e0286cbf183b6f0e71e-23166256e5cf4b2c-01 outer:exit 2b-2524031370993db4952f3e0286cbf183b6f0e71e-612529f7df3b501f-01
2021-09-18T00:53:38.167Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (284ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:43.261Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:43.261Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:43.261Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:43.262Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:43.317Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:43.356Z appoptics:patching patched crypto 
2021-09-18T00:53:43.375Z appoptics:patching patched https 
2021-09-18T00:53:43.375Z appoptics:patching patched http 
2021-09-18T00:53:43.411Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:43.411Z appoptics:patching patched fs 
2021-09-18T00:53:43.443Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v16.9.1)
2021-09-18T00:53:43.452Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-09-18T00:53:43.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-209b9c0945270e14a4a6c5690ea928bac53c1c90-0b9d4a0536560c90-01 outer:exit 2b-209b9c0945270e14a4a6c5690ea928bac53c1c90-221a12ce5ad8d761-01
2021-09-18T00:53:43.643Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:43.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcdfa46e1af7b5499e1ffd824f280e216fc79e23-9bc740359340d263-01 outer:exit 2b-fcdfa46e1af7b5499e1ffd824f280e216fc79e23-1c2f0dcb3e87de0c-01
2021-09-18T00:53:43.699Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:43.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-d64729fb58d93ff0a59918782ecf2f056ddf075f-156f5e7482307102-01 outer:exit 2b-d64729fb58d93ff0a59918782ecf2f056ddf075f-9c0cb33bf5a448b3-01
2021-09-18T00:53:43.701Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:43.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f9a1cad51cc2d9d1aefc76dc6fc13f17cf27b40-481b15e0c1477730-01 outer:exit 2b-0f9a1cad51cc2d9d1aefc76dc6fc13f17cf27b40-52ce3118c5ee4b30-01
2021-09-18T00:53:43.705Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:43.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2b6dac17fd346cdcde3bb687d012df5d9a30ba1-bd46d1d4ba619555-01 outer:exit 2b-c2b6dac17fd346cdcde3bb687d012df5d9a30ba1-14695ff0f3df2b3c-01
2021-09-18T00:53:43.709Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:43.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-52340cad1d834a554f2fa666769de36bc84d7457-b01cd0d3b3064669-01 outer:exit 2b-52340cad1d834a554f2fa666769de36bc84d7457-3f9ae67eaa2dfab4-01
2021-09-18T00:53:43.713Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:43.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b31d93984b6b5b9e986d1e9beef0ad1fa39c97b-d3b4317094309d72-01 outer:exit 2b-6b31d93984b6b5b9e986d1e9beef0ad1fa39c97b-6cafb9d78d7ab51b-01
2021-09-18T00:53:43.716Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:43.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-d54f05c20d3fe12035ac1ac5a201861a3f8a7fcd-647e06f7fca9ff6c-01 outer:exit 2b-d54f05c20d3fe12035ac1ac5a201861a3f8a7fcd-eda1213b32686259-01
2021-09-18T00:53:43.719Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:43.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-91c83855a83e42a4b0920b493640c09de031d6b2-887cb42cb1097653-01 outer:exit 2b-91c83855a83e42a4b0920b493640c09de031d6b2-5146ae4fffce2ac4-01
2021-09-18T00:53:43.724Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:43.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-20b1cb1516f9660829f5c06655e167fa9b126575-a6e98d7dff75e9cd-01 outer:exit 2b-20b1cb1516f9660829f5c06655e167fa9b126575-8887eac3ab8faa8b-01
2021-09-18T00:53:43.727Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:43.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b2a2c370a94b2f7b7a1f399bf5b7d3eb9410d8d-d97f68f73c84e3a8-01 outer:exit 2b-5b2a2c370a94b2f7b7a1f399bf5b7d3eb9410d8d-ded4538f554dde4e-01
2021-09-18T00:53:43.731Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:43.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-21d734519c6cd556db80b0bb611914ae59756835-bfef7c08d4f0f4aa-01 outer:exit 2b-21d734519c6cd556db80b0bb611914ae59756835-a9ac1c125d98c347-01
2021-09-18T00:53:43.736Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:43.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-553c3caa69f4803311608f1d2674388537b2655a-dc57cbb7ef564ea8-01 outer:exit 2b-553c3caa69f4803311608f1d2674388537b2655a-3af7de94e46f6d09-01
2021-09-18T00:53:43.761Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:43.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14369b9b4b99f3c84d6331e108e4a21aa6434a4-7aaec096a5f4b391-01 outer:exit 2b-e14369b9b4b99f3c84d6331e108e4a21aa6434a4-e24922d930689e5e-01
2021-09-18T00:53:43.808Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:43.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-407c66dafb6df66d1493c2fd56bc5d5285cdf02e-5f5a61c32e467f03-01 outer:exit 2b-407c66dafb6df66d1493c2fd56bc5d5285cdf02e-35012afdb6ad98ce-01
2021-09-18T00:53:43.811Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:43.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b5631dd8583916acd01ab618fa5082593f37c29-3b483ce1989ea698-01 outer:exit 2b-8b5631dd8583916acd01ab618fa5082593f37c29-6aa499ab57c148f0-01
2021-09-18T00:53:43.813Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:43.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d825322d0826e58cc9313b8c76a98603ccb24fc-c9346c02146a5467-01 outer:exit 2b-3d825322d0826e58cc9313b8c76a98603ccb24fc-d9119a52a1842bb3-01
2021-09-18T00:53:43.816Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:43.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fb90cf13f1353442d81fd0b1b62b7910eb41da8-ebcae7370ffffe41-01 outer:exit 2b-0fb90cf13f1353442d81fd0b1b62b7910eb41da8-ebd83fae81b9cacf-01
2021-09-18T00:53:43.818Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:43.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcc8bb1caf40eeac2f83f6356b3bf572e29421cc-360e54aa7ddaec76-01 outer:exit 2b-dcc8bb1caf40eeac2f83f6356b3bf572e29421cc-84c6dbdca717e017-01
2021-09-18T00:53:43.820Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:43.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-db0d4d9dacab9232e407064139d07acb7442a0f3-1267ce101281baf2-01 outer:exit 2b-db0d4d9dacab9232e407064139d07acb7442a0f3-6b32044a3840cd5f-01
2021-09-18T00:53:43.821Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:43.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ab763d5d98cd3181ee129feaf8385ceedea9830-895d7a4bed2e1733-01 outer:exit 2b-1ab763d5d98cd3181ee129feaf8385ceedea9830-9610b0552c24ff62-01
2021-09-18T00:53:43.823Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:43.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b11e6ab35fae3be5305e8ce6950f10d1c9d0bf7-1fc1221f96ef9f65-01 outer:exit 2b-3b11e6ab35fae3be5305e8ce6950f10d1c9d0bf7-d8ae080ba3c0c9d5-01
2021-09-18T00:53:43.825Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:43.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bb26fd719f3c3b5fbec5f321b3a1963db4beb7f-77842b905bde44bc-01 outer:exit 2b-7bb26fd719f3c3b5fbec5f321b3a1963db4beb7f-bce021e6071a4a8d-01
2021-09-18T00:53:43.828Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:43.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab3c5b5aabe8732718db52bcc53f9544e231ada4-96f1612cacc05148-01 outer:exit 2b-ab3c5b5aabe8732718db52bcc53f9544e231ada4-dd45287542dda37a-01
2021-09-18T00:53:43.831Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:43.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3b33de3ec93723f8379338a31cde9545ac22d76-9d0c4fe0dbfcc531-01 outer:exit 2b-a3b33de3ec93723f8379338a31cde9545ac22d76-e017b0f449421e1e-01
2021-09-18T00:53:43.833Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:43.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-993c5e2ef798d915ecebb57818d29581fefb35c6-9610fe6aafa5436d-01 outer:exit 2b-993c5e2ef798d915ecebb57818d29581fefb35c6-a316cda6434c2075-01
2021-09-18T00:53:43.835Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:43.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-4155d4c565ba288183cca5abb6ade5e272e473e2-3244fe1b3820a878-01 outer:exit 2b-4155d4c565ba288183cca5abb6ade5e272e473e2-f953b19df01b2f4c-01
2021-09-18T00:53:43.843Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:43.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c700970980d17091bfc46e22c28c8ce20102a8e-32a6cce2a084936f-01 outer:exit 2b-0c700970980d17091bfc46e22c28c8ce20102a8e-34b77560cc2fd297-01
2021-09-18T00:53:43.848Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:43.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac943fe95bcacbe31f0be729c1a9e4aed8d56d11-f92a3a91e34f0b63-01 outer:exit 2b-ac943fe95bcacbe31f0be729c1a9e4aed8d56d11-a13db20b31f72070-01
2021-09-18T00:53:43.855Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:43.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-1640ccf8ceff7a47fcc03c21b9313b4d97aaf870-28128bb25e879cb0-01 outer:exit 2b-1640ccf8ceff7a47fcc03c21b9313b4d97aaf870-ca4462d1516182ab-01
2021-09-18T00:53:43.860Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:43.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-cafff75cd6da940d216a2847b0c9a133f5adc169-cafdaf371f42fc6a-01 outer:exit 2b-cafff75cd6da940d216a2847b0c9a133f5adc169-8874045f0dc546ab-01
2021-09-18T00:53:43.862Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:43.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-89c067f2428f6ecc42c042b5232763cc2124a58e-9675a7e1779c8636-01 outer:exit 2b-89c067f2428f6ecc42c042b5232763cc2124a58e-e43bc95778ec5f45-01
2021-09-18T00:53:43.865Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:43.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-0478faafd2440ea715b76c09985012396f123fc6-ef0a883a83545663-01 outer:exit 2b-0478faafd2440ea715b76c09985012396f123fc6-729f765f57f973b8-01
2021-09-18T00:53:43.871Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:43.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d94b16286a17fb312f50cc36424997086f6830-63b3057789df55d2-01 outer:exit 2b-d8d94b16286a17fb312f50cc36424997086f6830-d8bb767a32352277-01
2021-09-18T00:53:43.873Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:43.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5983d8273395744c592078e63d19ec6ff355043-606f86fc3bdc8f47-01 outer:exit 2b-c5983d8273395744c592078e63d19ec6ff355043-a4ebc9f87fd6dc19-01
2021-09-18T00:53:43.874Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:43.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfac1d93a64ea78b96d47e57d77c226b040c8815-11c164564cca4d42-01 outer:exit 2b-bfac1d93a64ea78b96d47e57d77c226b040c8815-b6d29552640d7914-01
2021-09-18T00:53:43.876Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:43.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6cc1b32df840442aa1c203d54ad712caf585147-d1e3edb23ccb223b-01 outer:exit 2b-c6cc1b32df840442aa1c203d54ad712caf585147-a8eb695aa4bea789-01
2021-09-18T00:53:43.878Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:43.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ad856c5bbc38ac0306ff4e77bf4468c823323f6-c239663de1a66eb3-01 outer:exit 2b-7ad856c5bbc38ac0306ff4e77bf4468c823323f6-45dbb59bb0b56555-01
2021-09-18T00:53:43.880Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:43.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-542f09e0c2cd068168e2b1feaf6c1e97814697e7-067f7a95c20a1d38-01 outer:exit 2b-542f09e0c2cd068168e2b1feaf6c1e97814697e7-ad17b9b75bb48d57-01
2021-09-18T00:53:43.888Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:43.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-28dbd534bf214fa64548f291cd1c1cc1f25402e9-1678e3013ef75611-01 outer:exit 2b-28dbd534bf214fa64548f291cd1c1cc1f25402e9-8ad998cc5956fd4c-01
2021-09-18T00:53:43.894Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:43.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-8094ee7470f85a478733faaeeb61fb934103c98a-1919baf9717fcc05-01 outer:exit 2b-8094ee7470f85a478733faaeeb61fb934103c98a-4091ed047b89df9e-01
2021-09-18T00:53:43.897Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:43.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-6216d60e640c7bdfdd9e04e37fab0365518e5b5f-3123e830bcf7b71d-01 outer:exit 2b-6216d60e640c7bdfdd9e04e37fab0365518e5b5f-3516c15c8eb50cc3-01
2021-09-18T00:53:43.899Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:43.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-e594c7083527ac98f9285f9b4dc9da65b616dc00-6d471af091c10ac7-01 outer:exit 2b-e594c7083527ac98f9285f9b4dc9da65b616dc00-a8f27ad4f5b53c6c-01
2021-09-18T00:53:43.901Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:43.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbdd09494cfd185021325617065e27ff31cd1167-38997439f17edae7-01 outer:exit 2b-bbdd09494cfd185021325617065e27ff31cd1167-afe127a91aca0d98-01
2021-09-18T00:53:43.924Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (314ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:49.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:49.961Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:49.961Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:49.962Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:50.017Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:50.056Z appoptics:patching patched crypto 
2021-09-18T00:53:50.075Z appoptics:patching patched https 
2021-09-18T00:53:50.075Z appoptics:patching patched http 
2021-09-18T00:53:50.113Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:50.113Z appoptics:patching patched fs 
2021-09-18T00:53:50.143Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v16.9.1)
2021-09-18T00:53:50.149Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-09-18T00:53:50.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d9d2cbc6c56cd75f61db66accf0155d1ec7bd0f-035c3324c279e29a-01 outer:exit 2b-3d9d2cbc6c56cd75f61db66accf0155d1ec7bd0f-fc631749a906b263-01
2021-09-18T00:53:50.283Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:50.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc40238a531dbd23b6916b014edbf28edd0b360d-2b039e8f030bbe14-01 outer:exit 2b-cc40238a531dbd23b6916b014edbf28edd0b360d-e03671e3fa74f7ea-01
2021-09-18T00:53:50.350Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:50.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce38c518659b2252ef27144cb32659342bf38785-0de746efff285ade-01 outer:exit 2b-ce38c518659b2252ef27144cb32659342bf38785-ce1ebb5683783712-01
2021-09-18T00:53:50.353Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:50.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-eee6f527fc36b5d510b337061aba9210f1ccc161-ee4127ac60060617-01 outer:exit 2b-eee6f527fc36b5d510b337061aba9210f1ccc161-9c049573658e88f7-01
2021-09-18T00:53:50.355Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:50.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-e235693569b70f045ce534a0fbc78f0189c6f21b-8d31ce91cb05efb8-01 outer:exit 2b-e235693569b70f045ce534a0fbc78f0189c6f21b-13da1f5ee16e5279-01
2021-09-18T00:53:50.359Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:50.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8120e90bfc4f1c6c234caef1d272bf645eb4dc0-b7378f84cae5a74b-01 outer:exit 2b-f8120e90bfc4f1c6c234caef1d272bf645eb4dc0-56a2dc14d576c5e2-01
2021-09-18T00:53:50.362Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:50.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cc85eed9ad3541eaad6f69de1cffffc869ea0ff-2ec3bd63e5066bd9-01 outer:exit 2b-9cc85eed9ad3541eaad6f69de1cffffc869ea0ff-b37221c16d1ac809-01
2021-09-18T00:53:50.364Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:50.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-e42e0b21f5bf1f7c10031f21be3559fde7c88b1f-a91cda45ab2888be-01 outer:exit 2b-e42e0b21f5bf1f7c10031f21be3559fde7c88b1f-e38f3b71c1ac2058-01
2021-09-18T00:53:50.366Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:50.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-f664cc983885195cca1877ed859e6d0fba13c7df-9aa68de0f19d681c-01 outer:exit 2b-f664cc983885195cca1877ed859e6d0fba13c7df-c008f6f9bdbe4b64-01
2021-09-18T00:53:50.368Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:50.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-809db9793277a54afcacabd631c6261b9fce7691-3fb5c753153a686c-01 outer:exit 2b-809db9793277a54afcacabd631c6261b9fce7691-50d4fce61b122de6-01
2021-09-18T00:53:50.371Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:50.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-09871b9d974bb488f8b033efaf3fdea98513a956-c700337bc27c6f4c-01 outer:exit 2b-09871b9d974bb488f8b033efaf3fdea98513a956-7b6c25c781679975-01
2021-09-18T00:53:50.374Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:50.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed40e4d12156d800bdd209a6ce3f585529942562-2449a5638d56d3d5-01 outer:exit 2b-ed40e4d12156d800bdd209a6ce3f585529942562-d4643b15d7bb65c5-01
2021-09-18T00:53:50.380Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:50.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef4f3494eb1f2ef8532bf840f91e08cb06f6aa28-acc39b4a0649bca0-01 outer:exit 2b-ef4f3494eb1f2ef8532bf840f91e08cb06f6aa28-6bf73ccf5e83aa2e-01
2021-09-18T00:53:50.393Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:50.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d53cccb163312b59a352b10020e6503307d3225-7649febff41fe6f8-01 outer:exit 2b-9d53cccb163312b59a352b10020e6503307d3225-9bd837fe0246e9c8-01
2021-09-18T00:53:50.450Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:50.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-2303ca7562f6b88bd880086c66f3b96f9f9d9b40-6589aaae6ff3ddc2-01 outer:exit 2b-2303ca7562f6b88bd880086c66f3b96f9f9d9b40-155684c2e1c65397-01
2021-09-18T00:53:50.452Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:50.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad334a8bfd52e3931337f0d8739f4450bc65f3de-abbb29d844b844df-01 outer:exit 2b-ad334a8bfd52e3931337f0d8739f4450bc65f3de-e2ebcfc19cd9225a-01
2021-09-18T00:53:50.454Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:50.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e8c08b9094630da07a61e89aca50a8fbe9f47e8-281149a5c491892e-01 outer:exit 2b-2e8c08b9094630da07a61e89aca50a8fbe9f47e8-f80ddb65dc3bae93-01
2021-09-18T00:53:50.457Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:50.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e24496ae64395b6961d8afcee3f5adb571681a8-d4479714824c7786-01 outer:exit 2b-6e24496ae64395b6961d8afcee3f5adb571681a8-b40b292183b372e3-01
2021-09-18T00:53:50.459Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:50.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-c764c14da196ba918505e758f10719a828d68200-d1b7b8b7d8215a44-01 outer:exit 2b-c764c14da196ba918505e758f10719a828d68200-e9597b24d16fbadd-01
2021-09-18T00:53:50.460Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:50.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-4486c4aea59c2fade62f7e3c0d1cbd685990c432-d0b0a128786614b5-01 outer:exit 2b-4486c4aea59c2fade62f7e3c0d1cbd685990c432-6f7a40f93dba72d9-01
2021-09-18T00:53:50.462Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:50.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-009b71da8829c72b9e8ba6562e2929d8fec126e5-76e9395930fc879f-01 outer:exit 2b-009b71da8829c72b9e8ba6562e2929d8fec126e5-9989ba067b5210d4-01
2021-09-18T00:53:50.464Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:50.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-71baea608861eb2fefe370668b0f10822e5e666b-af6f96b838c46ec9-01 outer:exit 2b-71baea608861eb2fefe370668b0f10822e5e666b-a21333fae872848e-01
2021-09-18T00:53:50.466Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:50.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfed7c770d38a8ae29b0482b312e67b95e121322-5a4e89f802e015b2-01 outer:exit 2b-cfed7c770d38a8ae29b0482b312e67b95e121322-6285236bc7e57168-01
2021-09-18T00:53:50.469Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:50.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-1670dbdf8690a79ad848d5b546e00e4c157d847f-bb5d2d001e3cb61e-01 outer:exit 2b-1670dbdf8690a79ad848d5b546e00e4c157d847f-a327cf22af1df950-01
2021-09-18T00:53:50.471Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:50.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-5336138f1813f2ac77419b98b3bb48fc537a6bd5-ce4c56cc619bb0d8-01 outer:exit 2b-5336138f1813f2ac77419b98b3bb48fc537a6bd5-b5dc92eef90bf9a2-01
2021-09-18T00:53:50.473Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:50.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-63ef9175df3d34fb489f2bad5d0542ec35880ac1-d32abdd9ec152e01-01 outer:exit 2b-63ef9175df3d34fb489f2bad5d0542ec35880ac1-6f9fe38c907e2b72-01
2021-09-18T00:53:50.476Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:50.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a74f178ddce200d1dea5040a37815bc0eca9ff6-3778bcdb2c3415c6-01 outer:exit 2b-1a74f178ddce200d1dea5040a37815bc0eca9ff6-f96f21aa5779524a-01
2021-09-18T00:53:50.482Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:50.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-73af45bfa03233f707d55890d797174b8877d29e-e2a8a47b50f80e13-01 outer:exit 2b-73af45bfa03233f707d55890d797174b8877d29e-d0039b6e5148dc62-01
2021-09-18T00:53:50.486Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:50.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fd6e1c70c4ecefb50ce46a748e105163d5a5732-0552d8894d64be1b-01 outer:exit 2b-3fd6e1c70c4ecefb50ce46a748e105163d5a5732-59b8e4f552d958bb-01
2021-09-18T00:53:50.493Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:50.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fcdb95e4f3d1e223d4c9c0d161b8a026f5923b2-3fb945f09c3e488e-01 outer:exit 2b-9fcdb95e4f3d1e223d4c9c0d161b8a026f5923b2-1069c366b77bd91e-01
2021-09-18T00:53:50.498Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:50.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b00688eb17c6f51d7ac2c47777b8b496852ebb2-f900af56fe143146-01 outer:exit 2b-4b00688eb17c6f51d7ac2c47777b8b496852ebb2-4e920a480a6cc3b0-01
2021-09-18T00:53:50.500Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:50.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-15fb5371f5173043f2ea0a39e5b970c172e78494-d98fad161e2bcfca-01 outer:exit 2b-15fb5371f5173043f2ea0a39e5b970c172e78494-a07ce933ec1844d2-01
2021-09-18T00:53:50.502Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:50.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-b70c3d4bb90f7d4aee9cdd69f921cc5747f348fa-75a04daf06c4fe62-01 outer:exit 2b-b70c3d4bb90f7d4aee9cdd69f921cc5747f348fa-fa423136c5ed62d7-01
2021-09-18T00:53:50.511Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:50.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc15119cf2ad1f950b60f1c02e19822cfa947911-42f26c777505f3f5-01 outer:exit 2b-bc15119cf2ad1f950b60f1c02e19822cfa947911-860daa408461af73-01
2021-09-18T00:53:50.513Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:50.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-5999959ce51623deda2962c62fc12c86b5035bad-a9596e5a594eed7a-01 outer:exit 2b-5999959ce51623deda2962c62fc12c86b5035bad-b081838a16c173cd-01
2021-09-18T00:53:50.515Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:50.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a25dc4be5020ec934ade0d48b6a2d464499e619-835f46132dd0a719-01 outer:exit 2b-9a25dc4be5020ec934ade0d48b6a2d464499e619-ea724084934a0091-01
2021-09-18T00:53:50.517Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:50.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-9246376a2a6a0fc5b8d9216da7526ed4d1b8a00d-d7f1a07577a72c03-01 outer:exit 2b-9246376a2a6a0fc5b8d9216da7526ed4d1b8a00d-2526e200792cd70c-01
2021-09-18T00:53:50.518Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:50.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-44e596e05c1ca1dd0e4fc7e576c09fabdd9c5866-8ef8c8af767ccb87-01 outer:exit 2b-44e596e05c1ca1dd0e4fc7e576c09fabdd9c5866-380f8ac947555d4a-01
2021-09-18T00:53:50.520Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:50.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc4fc24adc6d874f513ee81f10eb249bc0096c80-f945431d8d97b327-01 outer:exit 2b-dc4fc24adc6d874f513ee81f10eb249bc0096c80-fd75bc31dd32e58e-01
2021-09-18T00:53:50.527Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:50.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2feb6d3170460a9d64973400cf23bdf13d6278f-f21087f45e745c26-01 outer:exit 2b-f2feb6d3170460a9d64973400cf23bdf13d6278f-a8f892517f991af3-01
2021-09-18T00:53:50.534Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:50.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-b478e1d72cec29a4ecfa0b13fe22ab6f1d29c25a-ab4e48f51ddc7d81-01 outer:exit 2b-b478e1d72cec29a4ecfa0b13fe22ab6f1d29c25a-bf594e9555773231-01
2021-09-18T00:53:50.536Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:50.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e3983817890c00a2ab906b94c14145468dce798-2a5a103f57796a9b-01 outer:exit 2b-7e3983817890c00a2ab906b94c14145468dce798-ac38da8c68453ac5-01
2021-09-18T00:53:50.539Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:50.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-0739f64aac96258903d40fe624e14fdeebef91c2-9174caf810c6e735-01 outer:exit 2b-0739f64aac96258903d40fe624e14fdeebef91c2-c0d94e3d7f692be0-01
2021-09-18T00:53:50.541Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:50.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-24016fa9b644480581c4de5f4623fe5d8a17f43d-caf2138aa9940060-01 outer:exit 2b-24016fa9b644480581c4de5f4623fe5d8a17f43d-1b8ae58bff62e09b-01
2021-09-18T00:53:50.565Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (314ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:53:55.734Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:55.735Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:55.735Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:55.736Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:55.798Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:55.837Z appoptics:patching patched crypto 
2021-09-18T00:53:55.857Z appoptics:patching patched https 
2021-09-18T00:53:55.858Z appoptics:patching patched http 
2021-09-18T00:53:55.895Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:55.897Z appoptics:patching patched fs 
2021-09-18T00:53:55.924Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v16.9.1)
2021-09-18T00:53:55.931Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-09-18T00:53:56.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-014d9a2e7f01089bd319135c43ed61ffca8b9bc9-def77e311a004cdc-01 outer:exit 2b-014d9a2e7f01089bd319135c43ed61ffca8b9bc9-81822e08af288229-01
2021-09-18T00:53:56.063Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:56.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-5438db7bd316554ab5916e49c8579a354e1b1e4d-1c6e361110e96a1b-01 outer:exit 2b-5438db7bd316554ab5916e49c8579a354e1b1e4d-f45c2abbe02d7ffc-01
2021-09-18T00:53:56.100Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:56.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb829f256caa721d1ce84635519996a88052f78d-e304d6ff94475096-01 outer:exit 2b-eb829f256caa721d1ce84635519996a88052f78d-fc6b67c3f6b4befc-01
2021-09-18T00:53:56.103Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:56.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1cd98bf7ee950062a39a9806afdddda6248c6aa-c7d68e7db7982b5d-01 outer:exit 2b-e1cd98bf7ee950062a39a9806afdddda6248c6aa-3363c2e03406f482-01
2021-09-18T00:53:56.106Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:56.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ce3584de9038fa1616d7593b4e052dbc9f72b5a-7c2dc65f8d70800f-01 outer:exit 2b-7ce3584de9038fa1616d7593b4e052dbc9f72b5a-a4cc0e42950537b9-01
2021-09-18T00:53:56.110Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:56.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-67f803cc90d4b0ba14a70aaefe30bc3c4e9c714c-8ecc7224626a4cf9-01 outer:exit 2b-67f803cc90d4b0ba14a70aaefe30bc3c4e9c714c-a5a9970e0e811fd2-01
2021-09-18T00:53:56.112Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:56.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba79eade15f367781e51dd9917b56a7d1599edcf-1fdc7d8c2999fba1-01 outer:exit 2b-ba79eade15f367781e51dd9917b56a7d1599edcf-9b6f361ca8876cd7-01
2021-09-18T00:53:56.115Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:56.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ab86b71fc9ca9959204ce7891afaf1794a9d70-08f8a44c904ca7b8-01 outer:exit 2b-e5ab86b71fc9ca9959204ce7891afaf1794a9d70-a9e70ba61c946e15-01
2021-09-18T00:53:56.117Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:56.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-035d2736ba86739406c43ae5537b19381d4c3e76-1e95c4b09ac209e4-01 outer:exit 2b-035d2736ba86739406c43ae5537b19381d4c3e76-557f64d10ba74c71-01
2021-09-18T00:53:56.119Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:56.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b66abeee8139bddc0f5d5fef8f14d61a3dccbb4-cad7e6c61a95b72d-01 outer:exit 2b-5b66abeee8139bddc0f5d5fef8f14d61a3dccbb4-5f52262f4b2e2fe6-01
2021-09-18T00:53:56.121Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:56.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-46bcc4328272eca8508284770a7f242bfeaa0427-1f2c4cb076adf0e5-01 outer:exit 2b-46bcc4328272eca8508284770a7f242bfeaa0427-1d607a029aee01e1-01
2021-09-18T00:53:56.125Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:56.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-283f8c5202ec233e9d8d20c9905f1d86ff592766-52dbce7ab9a78b96-01 outer:exit 2b-283f8c5202ec233e9d8d20c9905f1d86ff592766-8966e361460d1358-01
2021-09-18T00:53:56.130Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:56.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e59caff03b03fbfcd8a1a2fb430272db08fc4a7-7013efbf0a660891-01 outer:exit 2b-7e59caff03b03fbfcd8a1a2fb430272db08fc4a7-716a84df8f1bc673-01
2021-09-18T00:53:56.144Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:56.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-3698996ca919bba3cc249e38e00b69cecb98c147-7e44421c9b6a3d4d-01 outer:exit 2b-3698996ca919bba3cc249e38e00b69cecb98c147-8277fbfee7a7a454-01
2021-09-18T00:53:56.200Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:56.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0d6d2af23e229e08b4d7a01430a952e425afb4c-0bd2deab81a96a3a-01 outer:exit 2b-e0d6d2af23e229e08b4d7a01430a952e425afb4c-cc920a6141627ab8-01
2021-09-18T00:53:56.202Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:56.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-3222c1f9b735283d57ba58cc10a539e210ac508a-e1dc9c5e34952c4d-01 outer:exit 2b-3222c1f9b735283d57ba58cc10a539e210ac508a-8c8fba15f49f601b-01
2021-09-18T00:53:56.204Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:56.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-751ed6468c215436564ab67935208175b68f3738-a1da1e84e13d0800-01 outer:exit 2b-751ed6468c215436564ab67935208175b68f3738-d202a0008f5b0031-01
2021-09-18T00:53:56.206Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:56.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-c24f3d122f3a8d75c633453f4ada5dd10b013e38-17df5a3ee88f8e0f-01 outer:exit 2b-c24f3d122f3a8d75c633453f4ada5dd10b013e38-8f2f502d1a028fac-01
2021-09-18T00:53:56.208Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:56.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-0767d553d9971251fbb7459ebd42010dd67b24c9-cf1fc5570a9f01b9-01 outer:exit 2b-0767d553d9971251fbb7459ebd42010dd67b24c9-9cf83574165ac43d-01
2021-09-18T00:53:56.210Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:56.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a3a5c6bd63dd0c6b112cca4e4e002c0004524d2-82976b579e147c72-01 outer:exit 2b-9a3a5c6bd63dd0c6b112cca4e4e002c0004524d2-b3408cac166b44e5-01
2021-09-18T00:53:56.212Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:56.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2e9045f5bb39736a40bb5adef53af7f451f1522-35ecc70ad4acbc8f-01 outer:exit 2b-e2e9045f5bb39736a40bb5adef53af7f451f1522-c675389d96f3cb97-01
2021-09-18T00:53:56.214Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:56.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-50f25f3ea3adf49f391a060bafdffcac9293ae37-940957dd5cfc36d8-01 outer:exit 2b-50f25f3ea3adf49f391a060bafdffcac9293ae37-a8ab11703e212304-01
2021-09-18T00:53:56.216Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:56.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03118814369dca9fd00a2bb22fc4cfdbf201de4-6bca6bdc5dd50aeb-01 outer:exit 2b-b03118814369dca9fd00a2bb22fc4cfdbf201de4-9aaea720305f6841-01
2021-09-18T00:53:56.218Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:56.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5b899caa71e18bdaa42e671a82de984c4a2dca2-9e91e805abaa6955-01 outer:exit 2b-f5b899caa71e18bdaa42e671a82de984c4a2dca2-ce4da09b4445c087-01
2021-09-18T00:53:56.221Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:56.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-e312d1d37e47212b80d5bd426c9246698c67370a-20ae55d65c53006d-01 outer:exit 2b-e312d1d37e47212b80d5bd426c9246698c67370a-1dfa587484f55ad3-01
2021-09-18T00:53:56.223Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:56.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa7ab926ba4707ffc5e8a2570565ea7121906d1d-29fceb41975b0d11-01 outer:exit 2b-aa7ab926ba4707ffc5e8a2570565ea7121906d1d-943dedd99c2a1501-01
2021-09-18T00:53:56.225Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:56.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef0db87b6fa60384d3324573c7e698c97eebb4d7-c76d56b916c25864-01 outer:exit 2b-ef0db87b6fa60384d3324573c7e698c97eebb4d7-16d4d177bc609261-01
2021-09-18T00:53:56.232Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:56.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f2eaa3ac1d5a20fe3172b4e18772320b0447ae0-ddc70b020d1210bd-01 outer:exit 2b-4f2eaa3ac1d5a20fe3172b4e18772320b0447ae0-a07862c9b1171617-01
2021-09-18T00:53:56.237Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:56.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-09b2b0d084b386d181f6d91b14bd5b90d32b90c0-a1a1bb6374b4f0c9-01 outer:exit 2b-09b2b0d084b386d181f6d91b14bd5b90d32b90c0-03d2ccad830c890f-01
2021-09-18T00:53:56.244Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:56.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-d58b3cc4aa47e2da4b40d7a2f43dbb7e5971b958-3100824c95742049-01 outer:exit 2b-d58b3cc4aa47e2da4b40d7a2f43dbb7e5971b958-1ed0214eba960c39-01
2021-09-18T00:53:56.251Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:56.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ecb1ea59d988ed5b2b770dffe7804d9317d1072-109c7e37f0ea360d-01 outer:exit 2b-4ecb1ea59d988ed5b2b770dffe7804d9317d1072-2682c3b9e99a6558-01
2021-09-18T00:53:56.253Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:56.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-a20088bc0c8e53c56fdbd0310e73ac309152a684-985f41da82d3f66b-01 outer:exit 2b-a20088bc0c8e53c56fdbd0310e73ac309152a684-e4002e7ccf60a8a0-01
2021-09-18T00:53:56.255Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:56.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0d23826c273c2f6f979056d81255aa48bc32f07-b0b13ed2af9cf137-01 outer:exit 2b-e0d23826c273c2f6f979056d81255aa48bc32f07-ce4d46f0ef94383c-01
2021-09-18T00:53:56.261Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:56.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d857c26b32d29f6b67cc2bdb630e93b7d9e3637-6a25b546cd23b40c-01 outer:exit 2b-5d857c26b32d29f6b67cc2bdb630e93b7d9e3637-ab1970f017825488-01
2021-09-18T00:53:56.263Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:56.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-81543ff30d0deef66de37c850e0d5cac69ff3130-009feb0155703e0b-01 outer:exit 2b-81543ff30d0deef66de37c850e0d5cac69ff3130-381463cb1fb85068-01
2021-09-18T00:53:56.265Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:56.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-21e66ab6be48079260a2404ed07adab61146d1a1-24e103c98cfbe5c3-01 outer:exit 2b-21e66ab6be48079260a2404ed07adab61146d1a1-1198518b2b5b5a1c-01
2021-09-18T00:53:56.266Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:56.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c4b005c6072348d4f0edc2587df6c5a97a41e57-573fc3cbef845040-01 outer:exit 2b-4c4b005c6072348d4f0edc2587df6c5a97a41e57-56eeb9e00179e77a-01
2021-09-18T00:53:56.268Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:56.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a5cc529ce38a36e01b485a9683bd46ee91d5b09-4ce9086e318c7faf-01 outer:exit 2b-7a5cc529ce38a36e01b485a9683bd46ee91d5b09-bc65688b23b73ab8-01
2021-09-18T00:53:56.270Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:56.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-4827dd48375dbee5282d692f0cf1c6edc59db23c-c0632dab949d3d2f-01 outer:exit 2b-4827dd48375dbee5282d692f0cf1c6edc59db23c-2d9af3d917772b1b-01
2021-09-18T00:53:56.281Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:56.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbda351e050da15eb01357af5d83510d0d0f4124-b0858678404c34e0-01 outer:exit 2b-fbda351e050da15eb01357af5d83510d0d0f4124-c53dd4d07586fbb9-01
2021-09-18T00:53:56.288Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:56.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-b260aed256eafd641f10cdff48be39cb2ebacbd5-fc68e71fedf6fe27-01 outer:exit 2b-b260aed256eafd641f10cdff48be39cb2ebacbd5-b1403a70389b54a0-01
2021-09-18T00:53:56.290Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:56.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a5c177973b74e4623419016ba297e813502f346-c98763e2baf64035-01 outer:exit 2b-5a5c177973b74e4623419016ba297e813502f346-e48fa7f69c397aa6-01
2021-09-18T00:53:56.292Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:56.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-5058a69dd4c082a2d27c4f8c24cc5476add48c49-4bf69a2240b6ec22-01 outer:exit 2b-5058a69dd4c082a2d27c4f8c24cc5476add48c49-fb53eb734fd69139-01
2021-09-18T00:53:56.296Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:56.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ebad6ab43a8b732110f7ada6a790ce9786901bc-ab3fb60c21078f73-01 outer:exit 2b-3ebad6ab43a8b732110f7ada6a790ce9786901bc-7036747d0fdca249-01
2021-09-18T00:53:56.319Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (288ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:02.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:02.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:02.744Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:02.745Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:02.799Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:02.837Z appoptics:patching patched crypto 
2021-09-18T00:54:02.857Z appoptics:patching patched https 
2021-09-18T00:54:02.857Z appoptics:patching patched http 
2021-09-18T00:54:02.893Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:02.893Z appoptics:patching patched fs 
2021-09-18T00:54:02.906Z appoptics:patching patched zlib 
2021-09-18T00:54:02.928Z appoptics:patching patched mongodb-core 3.0.0
2021-09-18T00:54:02.933Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (312ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:08.537Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:08.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:08.538Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:08.539Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:08.595Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:08.671Z appoptics:patching patched crypto 
2021-09-18T00:54:08.699Z appoptics:patching patched https 
2021-09-18T00:54:08.699Z appoptics:patching patched http 
2021-09-18T00:54:08.756Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:08.756Z appoptics:patching patched fs 
2021-09-18T00:54:08.769Z appoptics:patching patched zlib 
2021-09-18T00:54:08.792Z appoptics:patching patched mongodb-core 3.0.1
2021-09-18T00:54:08.798Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (299ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:14.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:14.811Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:14.811Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:14.812Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:14.866Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:14.905Z appoptics:patching patched crypto 
2021-09-18T00:54:14.925Z appoptics:patching patched https 
2021-09-18T00:54:14.925Z appoptics:patching patched http 
2021-09-18T00:54:14.960Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:14.960Z appoptics:patching patched fs 
2021-09-18T00:54:14.973Z appoptics:patching patched zlib 
2021-09-18T00:54:14.997Z appoptics:patching patched mongodb-core 3.0.2
2021-09-18T00:54:15.002Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (296ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:20.711Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:20.711Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:20.711Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:20.712Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:20.767Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:20.806Z appoptics:patching patched crypto 
2021-09-18T00:54:20.825Z appoptics:patching patched https 
2021-09-18T00:54:20.825Z appoptics:patching patched http 
2021-09-18T00:54:20.861Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:20.861Z appoptics:patching patched fs 
2021-09-18T00:54:20.875Z appoptics:patching patched zlib 
2021-09-18T00:54:20.898Z appoptics:patching patched mongodb-core 3.0.3
2021-09-18T00:54:20.904Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (236ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:26.936Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:26.936Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:26.936Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:26.937Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:27.015Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:27.062Z appoptics:patching patched crypto 
2021-09-18T00:54:27.082Z appoptics:patching patched https 
2021-09-18T00:54:27.082Z appoptics:patching patched http 
2021-09-18T00:54:27.120Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:27.121Z appoptics:patching patched fs 
2021-09-18T00:54:27.132Z appoptics:patching patched zlib 
2021-09-18T00:54:27.155Z appoptics:patching patched mongodb-core 3.0.4
2021-09-18T00:54:27.161Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (273ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:54:32.964Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:32.964Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:32.964Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:32.965Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:33.019Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:33.058Z appoptics:patching patched crypto 
2021-09-18T00:54:33.077Z appoptics:patching patched https 
2021-09-18T00:54:33.077Z appoptics:patching patched http 
2021-09-18T00:54:33.113Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:33.113Z appoptics:patching patched fs 
2021-09-18T00:54:33.126Z appoptics:patching patched zlib 
2021-09-18T00:54:33.149Z appoptics:patching patched mongodb-core 3.0.5
2021-09-18T00:54:33.155Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (283ms)


changed 1 package, and audited 1098 packages in 33s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:07.310Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:07.311Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:07.311Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:07.311Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:07.366Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:07.405Z appoptics:patching patched crypto 
2021-09-18T00:55:07.425Z appoptics:patching patched https 
2021-09-18T00:55:07.425Z appoptics:patching patched http 
2021-09-18T00:55:07.462Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:07.464Z appoptics:patching patched fs 
2021-09-18T00:55:07.474Z appoptics:patching patched zlib 
2021-09-18T00:55:07.501Z appoptics:patching patched mongodb-core 3.0.6
2021-09-18T00:55:07.509Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (230ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:13.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:13.858Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:13.858Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:13.859Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:13.913Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:13.952Z appoptics:patching patched crypto 
2021-09-18T00:55:13.971Z appoptics:patching patched https 
2021-09-18T00:55:13.971Z appoptics:patching patched http 
2021-09-18T00:55:14.007Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:14.008Z appoptics:patching patched fs 
2021-09-18T00:55:14.029Z appoptics:patching patched zlib 
2021-09-18T00:55:14.061Z appoptics:patching patched mongodb-core 3.0.7
2021-09-18T00:55:14.067Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (280ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:19.713Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:19.713Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:19.713Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:19.714Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:19.768Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:19.807Z appoptics:patching patched crypto 
2021-09-18T00:55:19.827Z appoptics:patching patched https 
2021-09-18T00:55:19.827Z appoptics:patching patched http 
2021-09-18T00:55:19.874Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:19.875Z appoptics:patching patched fs 
2021-09-18T00:55:19.889Z appoptics:patching patched zlib 
2021-09-18T00:55:19.917Z appoptics:patching patched mongodb-core 3.0.8
2021-09-18T00:55:19.925Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (235ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:25.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:25.997Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:25.997Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:25.998Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:26.052Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:26.091Z appoptics:patching patched crypto 
2021-09-18T00:55:26.111Z appoptics:patching patched https 
2021-09-18T00:55:26.111Z appoptics:patching patched http 
2021-09-18T00:55:26.147Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:26.147Z appoptics:patching patched fs 
2021-09-18T00:55:26.160Z appoptics:patching patched zlib 
2021-09-18T00:55:26.185Z appoptics:patching patched mongodb-core 3.0.9
2021-09-18T00:55:26.191Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (323ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:31.710Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:31.710Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:31.710Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:31.711Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:31.776Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:31.823Z appoptics:patching patched crypto 
2021-09-18T00:55:31.843Z appoptics:patching patched https 
2021-09-18T00:55:31.844Z appoptics:patching patched http 
2021-09-18T00:55:31.882Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:31.883Z appoptics:patching patched fs 
2021-09-18T00:55:31.894Z appoptics:patching patched zlib 
2021-09-18T00:55:31.919Z appoptics:patching patched mongodb-core 3.0.11
2021-09-18T00:55:31.925Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (77ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (335ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:38.131Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:38.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:38.131Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:38.132Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:38.187Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:38.225Z appoptics:patching patched crypto 
2021-09-18T00:55:38.245Z appoptics:patching patched https 
2021-09-18T00:55:38.245Z appoptics:patching patched http 
2021-09-18T00:55:38.282Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:38.283Z appoptics:patching patched fs 
2021-09-18T00:55:38.296Z appoptics:patching patched zlib 
2021-09-18T00:55:38.325Z appoptics:patching patched mongodb-core 3.1.0
2021-09-18T00:55:38.330Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (57ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (291ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 6 moderate, 7 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:44.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:44.728Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:44.728Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:44.729Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:44.798Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:44.840Z appoptics:patching patched crypto 
2021-09-18T00:55:44.862Z appoptics:patching patched https 
2021-09-18T00:55:44.862Z appoptics:patching patched http 
2021-09-18T00:55:44.911Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:44.913Z appoptics:patching patched fs 
2021-09-18T00:55:44.925Z appoptics:patching patched zlib 
2021-09-18T00:55:44.960Z appoptics:patching patched mongodb-core 3.1.1
2021-09-18T00:55:44.967Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes (38ms)
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (476ms)


changed 2 packages, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:50.790Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:50.791Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:50.791Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:50.791Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:50.846Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:50.884Z appoptics:patching patched crypto 
2021-09-18T00:55:50.904Z appoptics:patching patched https 
2021-09-18T00:55:50.904Z appoptics:patching patched http 
2021-09-18T00:55:50.941Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:50.942Z appoptics:patching patched fs 
2021-09-18T00:55:50.953Z appoptics:patching patched zlib 
2021-09-18T00:55:50.981Z appoptics:patching patched mongodb-core 3.1.2
2021-09-18T00:55:50.987Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (250ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:55:57.331Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:57.331Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:57.331Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:57.332Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:57.401Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:57.446Z appoptics:patching patched crypto 
2021-09-18T00:55:57.470Z appoptics:patching patched https 
2021-09-18T00:55:57.470Z appoptics:patching patched http 
2021-09-18T00:55:57.510Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:57.513Z appoptics:patching patched fs 
2021-09-18T00:55:57.530Z appoptics:patching patched zlib 
2021-09-18T00:55:57.576Z appoptics:patching patched mongodb-core 3.1.3
2021-09-18T00:55:57.586Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (246ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:03.090Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:03.090Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:03.090Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:03.091Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:03.150Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:03.190Z appoptics:patching patched crypto 
2021-09-18T00:56:03.209Z appoptics:patching patched https 
2021-09-18T00:56:03.210Z appoptics:patching patched http 
2021-09-18T00:56:03.243Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:03.245Z appoptics:patching patched fs 
2021-09-18T00:56:03.260Z appoptics:patching patched zlib 
2021-09-18T00:56:03.288Z appoptics:patching patched mongodb-core 3.1.4
2021-09-18T00:56:03.294Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (709ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:10.067Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:10.068Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:10.068Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:10.068Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:10.123Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:10.161Z appoptics:patching patched crypto 
2021-09-18T00:56:10.181Z appoptics:patching patched https 
2021-09-18T00:56:10.181Z appoptics:patching patched http 
2021-09-18T00:56:10.219Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:10.220Z appoptics:patching patched fs 
2021-09-18T00:56:10.232Z appoptics:patching patched zlib 
2021-09-18T00:56:10.261Z appoptics:patching patched mongodb-core 3.1.5
2021-09-18T00:56:10.266Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (230ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:16.278Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:16.279Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:16.279Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:16.279Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:16.333Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:16.372Z appoptics:patching patched crypto 
2021-09-18T00:56:16.391Z appoptics:patching patched https 
2021-09-18T00:56:16.392Z appoptics:patching patched http 
2021-09-18T00:56:16.424Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:16.426Z appoptics:patching patched fs 
2021-09-18T00:56:16.440Z appoptics:patching patched zlib 
2021-09-18T00:56:16.469Z appoptics:patching patched mongodb-core 3.1.6
2021-09-18T00:56:16.474Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (243ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:22.654Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:22.655Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:22.655Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:22.656Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:22.737Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:22.777Z appoptics:patching patched crypto 
2021-09-18T00:56:22.797Z appoptics:patching patched https 
2021-09-18T00:56:22.797Z appoptics:patching patched http 
2021-09-18T00:56:22.829Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:22.831Z appoptics:patching patched fs 
2021-09-18T00:56:22.846Z appoptics:patching patched zlib 
2021-09-18T00:56:22.875Z appoptics:patching patched mongodb-core 3.1.7
2021-09-18T00:56:22.880Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (242ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:28.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:28.417Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:28.417Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:28.418Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:28.472Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:28.511Z appoptics:patching patched crypto 
2021-09-18T00:56:28.530Z appoptics:patching patched https 
2021-09-18T00:56:28.530Z appoptics:patching patched http 
2021-09-18T00:56:28.562Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:28.565Z appoptics:patching patched fs 
2021-09-18T00:56:28.578Z appoptics:patching patched zlib 
2021-09-18T00:56:28.607Z appoptics:patching patched mongodb-core 3.1.8
2021-09-18T00:56:28.613Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (286ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:34.867Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:34.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:34.867Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:34.868Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:34.922Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:34.961Z appoptics:patching patched crypto 
2021-09-18T00:56:34.980Z appoptics:patching patched https 
2021-09-18T00:56:34.981Z appoptics:patching patched http 
2021-09-18T00:56:35.015Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:35.017Z appoptics:patching patched fs 
2021-09-18T00:56:35.031Z appoptics:patching patched zlib 
2021-09-18T00:56:35.060Z appoptics:patching patched mongodb-core 3.1.9
2021-09-18T00:56:35.065Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (266ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:40.819Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:40.819Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:40.820Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:40.820Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:40.875Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:40.914Z appoptics:patching patched crypto 
2021-09-18T00:56:40.933Z appoptics:patching patched https 
2021-09-18T00:56:40.934Z appoptics:patching patched http 
2021-09-18T00:56:40.966Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:40.968Z appoptics:patching patched fs 
2021-09-18T00:56:40.982Z appoptics:patching patched zlib 
2021-09-18T00:56:41.011Z appoptics:patching patched mongodb-core 3.1.10
2021-09-18T00:56:41.016Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (265ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:47.189Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:47.190Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:47.190Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:47.191Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:47.245Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:47.284Z appoptics:patching patched crypto 
2021-09-18T00:56:47.309Z appoptics:patching patched https 
2021-09-18T00:56:47.309Z appoptics:patching patched http 
2021-09-18T00:56:47.346Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:47.351Z appoptics:patching patched fs 
2021-09-18T00:56:47.363Z appoptics:patching patched zlib 
2021-09-18T00:56:47.393Z appoptics:patching patched mongodb-core 3.1.11
2021-09-18T00:56:47.398Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (266ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:52.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:52.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:52.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:52.990Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:53.044Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:53.083Z appoptics:patching patched crypto 
2021-09-18T00:56:53.102Z appoptics:patching patched https 
2021-09-18T00:56:53.102Z appoptics:patching patched http 
2021-09-18T00:56:53.133Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:53.136Z appoptics:patching patched fs 
2021-09-18T00:56:53.150Z appoptics:patching patched zlib 
2021-09-18T00:56:53.185Z appoptics:patching patched mongodb-core 3.2.0
2021-09-18T00:56:53.191Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (59ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (273ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:56:59.507Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:59.508Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:59.508Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:59.509Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:59.564Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:59.602Z appoptics:patching patched crypto 
2021-09-18T00:56:59.621Z appoptics:patching patched https 
2021-09-18T00:56:59.622Z appoptics:patching patched http 
2021-09-18T00:56:59.656Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:59.659Z appoptics:patching patched fs 
2021-09-18T00:56:59.671Z appoptics:patching patched zlib 
2021-09-18T00:56:59.706Z appoptics:patching patched mongodb-core 3.2.1
2021-09-18T00:56:59.712Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (329ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:05.381Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:05.382Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:05.382Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:05.383Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:05.437Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:05.476Z appoptics:patching patched crypto 
2021-09-18T00:57:05.495Z appoptics:patching patched https 
2021-09-18T00:57:05.495Z appoptics:patching patched http 
2021-09-18T00:57:05.530Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:05.531Z appoptics:patching patched fs 
2021-09-18T00:57:05.543Z appoptics:patching patched zlib 
2021-09-18T00:57:05.578Z appoptics:patching patched mongodb-core 3.2.2
2021-09-18T00:57:05.584Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (217ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:11.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:11.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:11.675Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:11.675Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:11.730Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:11.769Z appoptics:patching patched crypto 
2021-09-18T00:57:11.788Z appoptics:patching patched https 
2021-09-18T00:57:11.788Z appoptics:patching patched http 
2021-09-18T00:57:11.820Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:11.822Z appoptics:patching patched fs 
2021-09-18T00:57:11.837Z appoptics:patching patched zlib 
2021-09-18T00:57:11.872Z appoptics:patching patched mongodb-core 3.2.3
2021-09-18T00:57:11.878Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (313ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:17.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:17.492Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:17.492Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:17.493Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:17.549Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:17.588Z appoptics:patching patched crypto 
2021-09-18T00:57:17.622Z appoptics:patching patched https 
2021-09-18T00:57:17.623Z appoptics:patching patched http 
2021-09-18T00:57:17.671Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:17.671Z appoptics:patching patched fs 
2021-09-18T00:57:17.684Z appoptics:patching patched zlib 
2021-09-18T00:57:17.720Z appoptics:patching patched mongodb-core 3.2.4
2021-09-18T00:57:17.725Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (267ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:23.873Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:23.874Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:23.874Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:23.875Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:23.929Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:23.969Z appoptics:patching patched crypto 
2021-09-18T00:57:23.988Z appoptics:patching patched https 
2021-09-18T00:57:23.988Z appoptics:patching patched http 
2021-09-18T00:57:24.023Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:24.025Z appoptics:patching patched fs 
2021-09-18T00:57:24.047Z appoptics:patching patched zlib 
2021-09-18T00:57:24.088Z appoptics:patching patched mongodb-core 3.2.5
2021-09-18T00:57:24.093Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (228ms)


changed 1 package, and audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:29.598Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:29.599Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:29.599Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:29.600Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:29.654Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:29.701Z appoptics:patching patched crypto 
2021-09-18T00:57:29.723Z appoptics:patching patched https 
2021-09-18T00:57:29.724Z appoptics:patching patched http 
2021-09-18T00:57:29.757Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:29.760Z appoptics:patching patched fs 
2021-09-18T00:57:29.774Z appoptics:patching patched zlib 
2021-09-18T00:57:29.811Z appoptics:patching patched mongodb-core 3.2.6
2021-09-18T00:57:29.817Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (234ms)


changed 1 package, and audited 1098 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-18T00:57:36.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:57:36.048Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:57:36.048Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:57:36.049Z appoptics:debug using context provider: ace-context
2021-09-18T00:57:36.121Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:57:36.167Z appoptics:patching patched crypto 
2021-09-18T00:57:36.187Z appoptics:patching patched https 
2021-09-18T00:57:36.187Z appoptics:patching patched http 
2021-09-18T00:57:36.223Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:57:36.224Z appoptics:patching patched fs 
2021-09-18T00:57:36.236Z appoptics:patching patched zlib 
2021-09-18T00:57:36.272Z appoptics:patching patched mongodb-core 3.2.7
2021-09-18T00:57:36.277Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (58ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (275ms)


up to date, audited 1098 packages in 5s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 6 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
