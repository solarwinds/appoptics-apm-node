npm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/podium@3.4.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/vise@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/heavy@6.2.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/mimos@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/wreck@15.1.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/nigel@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
npm WARN deprecated @hapi/pez@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/teamwork@3.3.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/content@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/subtext@6.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/call@5.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@6.2.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/boom@7.4.11: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/b64@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/iron@5.1.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/shot@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/file@1.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/ammo@3.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/cryptiles@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/somever@2.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/accept@3.2.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/statehood@6.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bounce@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox@10.2.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@3.2.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@17.9.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'

added 36 packages, changed 28 packages, and audited 963 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.

up to date, audited 963 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:11.300Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:11.300Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:11.300Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:11.301Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:11.357Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:11.460Z appoptics:patching patched crypto 
2022-04-21T16:17:11.479Z appoptics:patching patched https 
2022-04-21T16:17:11.479Z appoptics:patching patched http 
2022-04-21T16:17:11.512Z appoptics:patching patched zlib 
2022-04-21T16:17:11.890Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:11.890Z appoptics:patching patched fs 
2022-04-21T16:17:11.927Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:17:11.927Z appoptics:patching patched @hapi/hapi 17.9.0
2022-04-21T16:17:11.978Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:17:11.981Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (77ms)
  10 failing

  1) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:217:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:265:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:337:12)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:350:44)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:367:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:374:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, removed 1 package, changed 2 packages, and audited 963 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:18.336Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:18.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:18.337Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:18.338Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:18.393Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:18.491Z appoptics:patching patched crypto 
2022-04-21T16:17:18.508Z appoptics:patching patched https 
2022-04-21T16:17:18.508Z appoptics:patching patched http 
2022-04-21T16:17:18.540Z appoptics:patching patched zlib 
2022-04-21T16:17:18.882Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:18.882Z appoptics:patching patched fs 
2022-04-21T16:17:18.918Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:17:18.918Z appoptics:patching patched @hapi/hapi 18.2.0
2022-04-21T16:17:18.968Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:17:18.972Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (70ms)
  10 failing

  1) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:217:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:265:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:337:12)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:350:44)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:367:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:374:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 963 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:24.381Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:24.382Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:24.382Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:24.383Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:24.438Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:24.546Z appoptics:patching patched crypto 
2022-04-21T16:17:24.576Z appoptics:patching patched https 
2022-04-21T16:17:24.577Z appoptics:patching patched http 
2022-04-21T16:17:24.609Z appoptics:patching patched zlib 
2022-04-21T16:17:25.027Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:25.027Z appoptics:patching patched fs 
2022-04-21T16:17:25.075Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:17:25.075Z appoptics:patching patched @hapi/hapi 18.3.0
2022-04-21T16:17:25.132Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:17:25.136Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (115ms)
  10 failing

  1) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:217:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:265:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:337:12)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:350:44)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:367:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:374:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 963 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:31.415Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:31.415Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:31.415Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:31.416Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:31.470Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:31.568Z appoptics:patching patched crypto 
2022-04-21T16:17:31.584Z appoptics:patching patched https 
2022-04-21T16:17:31.585Z appoptics:patching patched http 
2022-04-21T16:17:31.617Z appoptics:patching patched zlib 
2022-04-21T16:17:31.990Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:31.990Z appoptics:patching patched fs 
2022-04-21T16:17:32.025Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:17:32.025Z appoptics:patching patched @hapi/hapi 18.3.1
2022-04-21T16:17:32.075Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:17:32.078Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (70ms)
  10 failing

  1) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:217:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:265:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:337:12)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:350:44)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:367:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:374:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.3.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 22 packages, changed 2 packages, and audited 941 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:38.000Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:38.001Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:38.001Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:38.002Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:38.079Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:38.221Z appoptics:patching patched crypto 
2022-04-21T16:17:38.256Z appoptics:patching patched https 
2022-04-21T16:17:38.257Z appoptics:patching patched http 
2022-04-21T16:17:38.291Z appoptics:patching patched zlib 
2022-04-21T16:17:38.665Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:38.665Z appoptics:patching patched fs 
2022-04-21T16:17:38.674Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:17:38.674Z appoptics:patching patched @hapi/hapi 18.3.2
2022-04-21T16:17:38.721Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:17:38.724Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (113ms)
  10 failing

  1) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from get request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:162:28)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should trace render span:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:217:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should skip vision when disabled:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:154:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:265:26)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:337:12)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:350:44)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle an error in the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:367:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:135:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:387:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:374:45)
      at process.processImmediate (node:internal/timers:471:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 941 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:44.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:44.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:44.458Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:44.459Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:44.513Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:44.612Z appoptics:patching patched crypto 
2022-04-21T16:17:44.629Z appoptics:patching patched https 
2022-04-21T16:17:44.629Z appoptics:patching patched http 
2022-04-21T16:17:44.662Z appoptics:patching patched zlib 
2022-04-21T16:17:44.917Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:44.917Z appoptics:patching patched fs 
2022-04-21T16:17:44.932Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:17:44.932Z appoptics:patching patched @hapi/hapi 18.4.0
2022-04-21T16:17:44.977Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:17:44.980Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@18.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 941 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:56.624Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:56.625Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:56.625Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:56.625Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:56.680Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:56.778Z appoptics:patching patched crypto 
2022-04-21T16:17:56.794Z appoptics:patching patched https 
2022-04-21T16:17:56.795Z appoptics:patching patched http 
2022-04-21T16:17:56.826Z appoptics:patching patched zlib 
2022-04-21T16:17:57.080Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:57.080Z appoptics:patching patched fs 
2022-04-21T16:17:57.094Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:17:57.094Z appoptics:patching patched @hapi/hapi 18.4.1
2022-04-21T16:17:57.139Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:17:57.142Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/address@4.1.0: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/pinpoint@2.0.0: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/joi@17.1.1: Switch to 'npm install joi'
npm WARN deprecated @hapi/ammo@4.0.1: This version has been deprecated
npm WARN deprecated @hapi/boom@8.0.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/teamwork@4.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/formula@2.0.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/accept@4.0.1: This version has been deprecated
npm WARN deprecated @hapi/call@7.0.1: This version has been deprecated
npm WARN deprecated @hapi/hapi@19.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 4 packages, removed 10 packages, changed 32 packages, and audited 935 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

12 vulnerabilities (6 moderate, 6 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:08.998Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:08.998Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:08.999Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:08.999Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:09.077Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:09.185Z appoptics:patching patched crypto 
2022-04-21T16:18:09.211Z appoptics:patching patched https 
2022-04-21T16:18:09.212Z appoptics:patching patched http 
2022-04-21T16:18:09.247Z appoptics:patching patched zlib 
2022-04-21T16:18:09.429Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:09.429Z appoptics:patching patched fs 
2022-04-21T16:18:09.443Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:18:09.443Z appoptics:patching patched @hapi/hapi 19.0.0
2022-04-21T16:18:09.461Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:18:09.468Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@19.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 935 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

12 vulnerabilities (6 moderate, 6 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:21.282Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:21.283Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:21.283Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:21.284Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:21.344Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:21.443Z appoptics:patching patched crypto 
2022-04-21T16:18:21.459Z appoptics:patching patched https 
2022-04-21T16:18:21.459Z appoptics:patching patched http 
2022-04-21T16:18:21.493Z appoptics:patching patched zlib 
2022-04-21T16:18:21.668Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:21.668Z appoptics:patching patched fs 
2022-04-21T16:18:21.682Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:18:21.682Z appoptics:patching patched @hapi/hapi 19.0.1
2022-04-21T16:18:21.701Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:18:21.712Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@19.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 935 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

12 vulnerabilities (6 moderate, 6 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:33.588Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:33.589Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:33.589Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:33.590Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:33.668Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:33.818Z appoptics:patching patched crypto 
2022-04-21T16:18:33.853Z appoptics:patching patched https 
2022-04-21T16:18:33.853Z appoptics:patching patched http 
2022-04-21T16:18:33.887Z appoptics:patching patched zlib 
2022-04-21T16:18:34.082Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:34.082Z appoptics:patching patched fs 
2022-04-21T16:18:34.097Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:18:34.097Z appoptics:patching patched @hapi/hapi 19.0.2
2022-04-21T16:18:34.116Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:18:34.120Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@19.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 935 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

12 vulnerabilities (6 moderate, 6 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:46.079Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:46.080Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:46.080Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:46.081Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:46.150Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:46.265Z appoptics:patching patched crypto 
2022-04-21T16:18:46.286Z appoptics:patching patched https 
2022-04-21T16:18:46.287Z appoptics:patching patched http 
2022-04-21T16:18:46.345Z appoptics:patching patched zlib 
2022-04-21T16:18:46.561Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:46.561Z appoptics:patching patched fs 
2022-04-21T16:18:46.570Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:18:46.570Z appoptics:patching patched @hapi/hapi 19.0.3
2022-04-21T16:18:46.592Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:18:46.599Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@19.0.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 935 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

12 vulnerabilities (6 moderate, 6 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:58.643Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:58.644Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:58.644Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:58.645Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:58.707Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:58.809Z appoptics:patching patched crypto 
2022-04-21T16:18:58.826Z appoptics:patching patched https 
2022-04-21T16:18:58.827Z appoptics:patching patched http 
2022-04-21T16:18:58.858Z appoptics:patching patched zlib 
2022-04-21T16:18:59.012Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:59.012Z appoptics:patching patched fs 
2022-04-21T16:18:59.020Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:18:59.020Z appoptics:patching patched @hapi/hapi 19.0.4
2022-04-21T16:18:59.027Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:18:59.030Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@19.0.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 3 packages, changed 3 packages, and audited 932 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:10.947Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:10.948Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:10.948Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:10.948Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:11.002Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:11.100Z appoptics:patching patched crypto 
2022-04-21T16:19:11.116Z appoptics:patching patched https 
2022-04-21T16:19:11.116Z appoptics:patching patched http 
2022-04-21T16:19:11.148Z appoptics:patching patched zlib 
2022-04-21T16:19:11.288Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:11.288Z appoptics:patching patched fs 
2022-04-21T16:19:11.296Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:19:11.296Z appoptics:patching patched @hapi/hapi 19.0.5
2022-04-21T16:19:11.304Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:19:11.307Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@19.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 932 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (6 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:23.283Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:23.284Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:23.284Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:23.285Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:23.340Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:23.439Z appoptics:patching patched crypto 
2022-04-21T16:19:23.456Z appoptics:patching patched https 
2022-04-21T16:19:23.456Z appoptics:patching patched http 
2022-04-21T16:19:23.490Z appoptics:patching patched zlib 
2022-04-21T16:19:23.638Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:23.638Z appoptics:patching patched fs 
2022-04-21T16:19:23.646Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:19:23.646Z appoptics:patching patched @hapi/hapi 19.1.0
2022-04-21T16:19:23.656Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:19:23.659Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (66ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@19.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 932 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:35.968Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:35.969Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:35.969Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:35.969Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:36.024Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:36.123Z appoptics:patching patched crypto 
2022-04-21T16:19:36.140Z appoptics:patching patched https 
2022-04-21T16:19:36.140Z appoptics:patching patched http 
2022-04-21T16:19:36.172Z appoptics:patching patched zlib 
2022-04-21T16:19:36.311Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:36.312Z appoptics:patching patched fs 
2022-04-21T16:19:36.319Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:19:36.319Z appoptics:patching patched @hapi/hapi 19.1.1
2022-04-21T16:19:36.329Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:19:36.332Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)



npm WARN deprecated @hapi/hapi@19.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 932 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:48.764Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:48.764Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:48.764Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:48.765Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:48.820Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:48.922Z appoptics:patching patched crypto 
2022-04-21T16:19:48.938Z appoptics:patching patched https 
2022-04-21T16:19:48.939Z appoptics:patching patched http 
2022-04-21T16:19:48.972Z appoptics:patching patched zlib 
2022-04-21T16:19:49.114Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:49.115Z appoptics:patching patched fs 
2022-04-21T16:19:49.123Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:19:49.123Z appoptics:patching patched @hapi/hapi 19.2.0
2022-04-21T16:19:49.130Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:19:49.133Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)




removed 5 packages, changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:01.625Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:01.625Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:01.626Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:01.626Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:01.681Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:01.780Z appoptics:patching patched crypto 
2022-04-21T16:20:01.797Z appoptics:patching patched https 
2022-04-21T16:20:01.797Z appoptics:patching patched http 
2022-04-21T16:20:01.829Z appoptics:patching patched zlib 
2022-04-21T16:20:01.938Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:01.938Z appoptics:patching patched fs 
2022-04-21T16:20:01.946Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:20:01.946Z appoptics:patching patched @hapi/hapi 20.0.0
2022-04-21T16:20:01.952Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:20:01.955Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:14.016Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:14.016Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:14.016Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:14.017Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:14.072Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:14.170Z appoptics:patching patched crypto 
2022-04-21T16:20:14.186Z appoptics:patching patched https 
2022-04-21T16:20:14.187Z appoptics:patching patched http 
2022-04-21T16:20:14.220Z appoptics:patching patched zlib 
2022-04-21T16:20:14.367Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:14.367Z appoptics:patching patched fs 
2022-04-21T16:20:14.375Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:20:14.375Z appoptics:patching patched @hapi/hapi 20.0.1
2022-04-21T16:20:14.381Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:20:14.385Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:26.310Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:26.311Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:26.311Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:26.312Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:26.366Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:26.465Z appoptics:patching patched crypto 
2022-04-21T16:20:26.482Z appoptics:patching patched https 
2022-04-21T16:20:26.482Z appoptics:patching patched http 
2022-04-21T16:20:26.515Z appoptics:patching patched zlib 
2022-04-21T16:20:26.618Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:26.618Z appoptics:patching patched fs 
2022-04-21T16:20:26.626Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:20:26.626Z appoptics:patching patched @hapi/hapi 20.0.2
2022-04-21T16:20:26.632Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:20:26.636Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:38.872Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:38.873Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:38.873Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:38.874Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:38.929Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:39.032Z appoptics:patching patched crypto 
2022-04-21T16:20:39.047Z appoptics:patching patched https 
2022-04-21T16:20:39.048Z appoptics:patching patched http 
2022-04-21T16:20:39.081Z appoptics:patching patched zlib 
2022-04-21T16:20:39.180Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:39.180Z appoptics:patching patched fs 
2022-04-21T16:20:39.189Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:20:39.190Z appoptics:patching patched @hapi/hapi 20.0.3
2022-04-21T16:20:39.195Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:20:39.199Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:51.266Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:51.267Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:51.267Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:51.268Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:51.322Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:51.425Z appoptics:patching patched crypto 
2022-04-21T16:20:51.456Z appoptics:patching patched https 
2022-04-21T16:20:51.457Z appoptics:patching patched http 
2022-04-21T16:20:51.503Z appoptics:patching patched zlib 
2022-04-21T16:20:51.602Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:51.602Z appoptics:patching patched fs 
2022-04-21T16:20:51.610Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:20:51.611Z appoptics:patching patched @hapi/hapi 20.1.0
2022-04-21T16:20:51.617Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:20:51.620Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:03.515Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:03.515Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:03.515Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:03.516Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:03.570Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:03.668Z appoptics:patching patched crypto 
2022-04-21T16:21:03.684Z appoptics:patching patched https 
2022-04-21T16:21:03.685Z appoptics:patching patched http 
2022-04-21T16:21:03.716Z appoptics:patching patched zlib 
2022-04-21T16:21:03.819Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:03.820Z appoptics:patching patched fs 
2022-04-21T16:21:03.827Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:21:03.828Z appoptics:patching patched @hapi/hapi 20.1.1
2022-04-21T16:21:03.833Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:21:03.837Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  2) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)

  3) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:564:17)
      at process.processTimers (node:internal/timers:507:7)




changed 1 package, and audited 927 packages in 20s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:30.488Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:30.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:30.489Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:30.490Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:30.545Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:30.644Z appoptics:patching patched crypto 
2022-04-21T16:21:30.660Z appoptics:patching patched https 
2022-04-21T16:21:30.661Z appoptics:patching patched http 
2022-04-21T16:21:30.693Z appoptics:patching patched zlib 
2022-04-21T16:21:30.832Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:30.833Z appoptics:patching patched fs 
2022-04-21T16:21:30.841Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:21:30.841Z appoptics:patching patched @hapi/hapi 20.1.2
2022-04-21T16:21:30.854Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:21:30.858Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (82ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (228ms)


changed 2 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:37.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:37.107Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:37.107Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:37.108Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:37.184Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:37.283Z appoptics:patching patched crypto 
2022-04-21T16:21:37.299Z appoptics:patching patched https 
2022-04-21T16:21:37.300Z appoptics:patching patched http 
2022-04-21T16:21:37.333Z appoptics:patching patched zlib 
2022-04-21T16:21:37.421Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:37.422Z appoptics:patching patched fs 
2022-04-21T16:21:37.430Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:21:37.430Z appoptics:patching patched @hapi/hapi 20.1.3
2022-04-21T16:21:37.439Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:21:37.442Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (162ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:42.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:42.820Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:42.821Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:42.821Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:42.893Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:43.012Z appoptics:patching patched crypto 
2022-04-21T16:21:43.048Z appoptics:patching patched https 
2022-04-21T16:21:43.049Z appoptics:patching patched http 
2022-04-21T16:21:43.082Z appoptics:patching patched zlib 
2022-04-21T16:21:43.212Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:43.213Z appoptics:patching patched fs 
2022-04-21T16:21:43.229Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:21:43.229Z appoptics:patching patched @hapi/hapi 20.1.4
2022-04-21T16:21:43.239Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:21:43.243Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.4 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (194ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:49.478Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:49.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:49.479Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:49.480Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:49.534Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:49.633Z appoptics:patching patched crypto 
2022-04-21T16:21:49.650Z appoptics:patching patched https 
2022-04-21T16:21:49.650Z appoptics:patching patched http 
2022-04-21T16:21:49.683Z appoptics:patching patched zlib 
2022-04-21T16:21:49.772Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:49.772Z appoptics:patching patched fs 
2022-04-21T16:21:49.780Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:21:49.780Z appoptics:patching patched @hapi/hapi 20.1.5
2022-04-21T16:21:49.790Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:21:49.793Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.5 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (159ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:55.250Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:55.250Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:55.250Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:55.251Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:55.364Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:55.511Z appoptics:patching patched crypto 
2022-04-21T16:21:55.564Z appoptics:patching patched https 
2022-04-21T16:21:55.565Z appoptics:patching patched http 
2022-04-21T16:21:55.605Z appoptics:patching patched zlib 
2022-04-21T16:21:55.758Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:55.759Z appoptics:patching patched fs 
2022-04-21T16:21:55.793Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:21:55.793Z appoptics:patching patched @hapi/hapi 20.2.0
2022-04-21T16:21:55.804Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:21:55.809Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (72ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (253ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:01.733Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:01.734Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:01.734Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:01.734Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:01.789Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:01.885Z appoptics:patching patched crypto 
2022-04-21T16:22:01.912Z appoptics:patching patched https 
2022-04-21T16:22:01.912Z appoptics:patching patched http 
2022-04-21T16:22:01.940Z appoptics:patching patched zlib 
2022-04-21T16:22:02.032Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:02.044Z appoptics:patching patched fs 
2022-04-21T16:22:02.052Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:22:02.052Z appoptics:patching patched @hapi/hapi 20.2.1
2022-04-21T16:22:02.062Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:22:02.065Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.2.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (168ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:07.895Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:07.895Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:07.895Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:07.896Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:07.964Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:08.077Z appoptics:patching patched crypto 
2022-04-21T16:22:08.112Z appoptics:patching patched https 
2022-04-21T16:22:08.113Z appoptics:patching patched http 
2022-04-21T16:22:08.146Z appoptics:patching patched zlib 
2022-04-21T16:22:08.279Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:08.284Z appoptics:patching patched fs 
2022-04-21T16:22:08.292Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:22:08.292Z appoptics:patching patched @hapi/hapi 20.2.2
2022-04-21T16:22:08.299Z appoptics:patching patched @hapi/vision 6.1.0
2022-04-21T16:22:08.302Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.2.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (174ms)


up to date, audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
