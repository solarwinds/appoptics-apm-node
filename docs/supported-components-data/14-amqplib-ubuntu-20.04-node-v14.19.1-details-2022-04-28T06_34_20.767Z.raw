npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.2.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.0
added 1 package from 3 contributors, removed 6 packages, updated 3 packages and audited 913 packages in 5.575s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:34:27.689Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:34:27.690Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:34:27.690Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:34:27.690Z appoptics:debug using context provider: ace-context
2022-04-28T06:34:27.750Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:34:27.895Z appoptics:patching patched crypto 
2022-04-28T06:34:27.920Z appoptics:patching patched https 
2022-04-28T06:34:27.921Z appoptics:patching patched http 
2022-04-28T06:34:27.963Z appoptics:patching patched amqplib 0.2.0
2022-04-28T06:34:27.965Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:34:27.967Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.0
    ✔ UDP might lose a message
    promises
      1) "before all" hook for "should report send and consume in existing trace"
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      3) "before all" hook for "should report send and consume in existing trace"
      4) "after all" hook for "should include SourceTrace in consume external to traced publish"


  1 passing (4s)
  4 failing

  1) probes.amqplib 0.2.0
       promises
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  2) probes.amqplib 0.2.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:181:23)
      at processImmediate (internal/timers.js:464:21)
      at process.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.amqplib 0.2.0
       callbacks
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  4) probes.amqplib 0.2.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:211:23)
      at processImmediate (internal/timers.js:464:21)
      at process.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.2.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.1
updated 2 packages and audited 913 packages in 6.189s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:34:39.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:34:39.351Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:34:39.351Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:34:39.351Z appoptics:debug using context provider: ace-context
2022-04-28T06:34:39.412Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:34:39.571Z appoptics:patching patched crypto 
2022-04-28T06:34:39.589Z appoptics:patching patched https 
2022-04-28T06:34:39.589Z appoptics:patching patched http 
2022-04-28T06:34:39.648Z appoptics:patching patched amqplib 0.2.1
2022-04-28T06:34:39.649Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:34:39.652Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.1
    ✔ UDP might lose a message
    promises
(node:853) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (60ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (225ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.0
updated 1 package and audited 913 packages in 4.721s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:34:45.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:34:45.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:34:45.641Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:34:45.641Z appoptics:debug using context provider: ace-context
2022-04-28T06:34:45.704Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:34:45.871Z appoptics:patching patched crypto 
2022-04-28T06:34:45.889Z appoptics:patching patched https 
2022-04-28T06:34:45.889Z appoptics:patching patched http 
2022-04-28T06:34:45.950Z appoptics:patching patched amqplib 0.3.0
2022-04-28T06:34:45.951Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:34:45.953Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.0
    ✔ UDP might lose a message
    promises
(node:875) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (56ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (48ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (235ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11 || 0.12 || 1.0 || 1.1"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.1
updated 2 packages and audited 913 packages in 5.866s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:34:53.178Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:34:53.179Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:34:53.179Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:34:53.179Z appoptics:debug using context provider: ace-context
2022-04-28T06:34:53.244Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:34:53.395Z appoptics:patching patched crypto 
2022-04-28T06:34:53.421Z appoptics:patching patched https 
2022-04-28T06:34:53.422Z appoptics:patching patched http 
2022-04-28T06:34:53.499Z appoptics:patching patched amqplib 0.3.1
2022-04-28T06:34:53.501Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:34:53.503Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.1
    ✔ UDP might lose a message
    promises
(node:897) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (52ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (52ms)


  7 passing (216ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.2: wanted: {"node":">=0.8 <0.13 || ^1"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.2
updated 1 package and audited 913 packages in 4.312s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:34:59.649Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:34:59.649Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:34:59.649Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:34:59.649Z appoptics:debug using context provider: ace-context
2022-04-28T06:34:59.760Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:00.035Z appoptics:patching patched crypto 
2022-04-28T06:35:00.082Z appoptics:patching patched https 
2022-04-28T06:35:00.082Z appoptics:patching patched http 
2022-04-28T06:35:00.131Z appoptics:patching patched amqplib 0.3.2
2022-04-28T06:35:00.132Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:00.135Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.2
    ✔ UDP might lose a message
    promises
(node:919) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (57ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (223ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.0: wanted: {"node":">=0.8 <4 || ^4"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.0
updated 1 package and audited 913 packages in 4.349s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:05.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:05.694Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:05.694Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:05.694Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:05.757Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:05.938Z appoptics:patching patched crypto 
2022-04-28T06:35:05.956Z appoptics:patching patched https 
2022-04-28T06:35:05.956Z appoptics:patching patched http 
2022-04-28T06:35:06.004Z appoptics:patching patched amqplib 0.4.0
2022-04-28T06:35:06.006Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:06.008Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.0
    ✔ UDP might lose a message
    promises
(node:941) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish
      1) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (45ms)
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"


  7 passing (173ms)
  2 failing

  1) probes.amqplib 0.4.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (internal/streams/readable.js:555:12)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  2) probes.amqplib 0.4.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (internal/streams/readable.js:555:12)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.1: wanted: {"node":">=0.8 <5 || ^5"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.1
updated 1 package and audited 913 packages in 4.244s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:11.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:11.525Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:11.525Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:11.525Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:11.599Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:11.766Z appoptics:patching patched crypto 
2022-04-28T06:35:11.804Z appoptics:patching patched https 
2022-04-28T06:35:11.804Z appoptics:patching patched http 
2022-04-28T06:35:11.863Z appoptics:patching patched amqplib 0.4.1
2022-04-28T06:35:11.866Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:11.868Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.1
    ✔ UDP might lose a message
    promises
(node:963) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (296ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.2: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.2
updated 1 package and audited 913 packages in 4.592s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:17.856Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:17.856Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:17.856Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:17.857Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:17.925Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:18.104Z appoptics:patching patched crypto 
2022-04-28T06:35:18.123Z appoptics:patching patched https 
2022-04-28T06:35:18.123Z appoptics:patching patched http 
2022-04-28T06:35:18.182Z appoptics:patching patched amqplib 0.4.2
2022-04-28T06:35:18.183Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:18.186Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.2
    ✔ UDP might lose a message
    promises
(node:985) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (48ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (180ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.1: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.1
removed 1 package, updated 1 package and audited 913 packages in 4.802s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:24.557Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:24.558Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:24.558Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:24.558Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:24.622Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:24.763Z appoptics:patching patched crypto 
2022-04-28T06:35:24.782Z appoptics:patching patched https 
2022-04-28T06:35:24.783Z appoptics:patching patched http 
2022-04-28T06:35:24.840Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:35:24.843Z appoptics:patching patched amqplib 0.5.1
2022-04-28T06:35:24.845Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:24.847Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.1
    ✔ UDP might lose a message
    promises
(node:1007) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (225ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.2: wanted: {"node":">=0.8 <=9"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.2
updated 1 package and audited 913 packages in 4.179s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:30.234Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:30.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:30.235Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:30.235Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:30.295Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:30.439Z appoptics:patching patched crypto 
2022-04-28T06:35:30.457Z appoptics:patching patched https 
2022-04-28T06:35:30.457Z appoptics:patching patched http 
2022-04-28T06:35:30.515Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:35:30.518Z appoptics:patching patched amqplib 0.5.2
2022-04-28T06:35:30.520Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:30.522Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.2
    ✔ UDP might lose a message
    promises
(node:1029) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (59ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (47ms)


  7 passing (223ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.3: wanted: {"node":">=0.8 <=9"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.3
added 7 packages from 5 contributors, updated 3 packages and audited 920 packages in 5.204s

89 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (4 moderate, 3 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:37.017Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:37.018Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:37.018Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:37.018Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:37.083Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:37.231Z appoptics:patching patched crypto 
2022-04-28T06:35:37.247Z appoptics:patching patched https 
2022-04-28T06:35:37.248Z appoptics:patching patched http 
2022-04-28T06:35:37.307Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:35:37.309Z appoptics:patching patched amqplib 0.5.3
2022-04-28T06:35:37.311Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:37.313Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.3
    ✔ UDP might lose a message
    promises
(node:1051) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (44ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (222ms)

npm WARN deprecated amqplib@0.5.4: See github.com/squaremo/amqp.node/issues/534
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.4: wanted: {"node":">=0.8 <=12"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.4
updated 1 package and audited 920 packages in 4.719s

89 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (4 moderate, 3 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:43.451Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:43.452Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:43.452Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:43.452Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:43.526Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:43.678Z appoptics:patching patched crypto 
2022-04-28T06:35:43.697Z appoptics:patching patched https 
2022-04-28T06:35:43.697Z appoptics:patching patched http 

Error: Cannot find module './defs'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:902:15)
    at Function.Module._load (internal/modules/cjs/loader.js:746:27)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js:7:12)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js:11:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js:1:19)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.5: wanted: {"node":">=0.8 <=12"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.5
updated 1 package and audited 920 packages in 4.866s

89 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (4 moderate, 3 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:49.590Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:49.590Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:49.590Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:49.591Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:49.650Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:49.801Z appoptics:patching patched crypto 
2022-04-28T06:35:49.829Z appoptics:patching patched https 
2022-04-28T06:35:49.829Z appoptics:patching patched http 
2022-04-28T06:35:49.888Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:35:49.891Z appoptics:patching patched amqplib 0.5.5
2022-04-28T06:35:49.893Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:49.896Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.5
    ✔ UDP might lose a message
    promises
(node:1091) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (59ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (46ms)


  7 passing (229ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.6: wanted: {"node":">=0.8 <=12"} (current: {"node":"14.19.1","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.6
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.6
updated 1 package and audited 920 packages in 4.512s

89 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (4 moderate, 3 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:35:55.699Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:55.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:55.699Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:55.699Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:55.760Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:55.902Z appoptics:patching patched crypto 
2022-04-28T06:35:55.919Z appoptics:patching patched https 
2022-04-28T06:35:55.919Z appoptics:patching patched http 
2022-04-28T06:35:55.982Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:35:55.984Z appoptics:patching patched amqplib 0.5.6
2022-04-28T06:35:55.986Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:35:55.988Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.6
    ✔ UDP might lose a message
    promises
(node:1113) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (221ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.6.0
updated 1 package and audited 920 packages in 5.563s

89 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (4 moderate, 3 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:36:02.860Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:36:02.861Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:36:02.861Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:36:02.861Z appoptics:debug using context provider: ace-context
2022-04-28T06:36:02.923Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:36:03.072Z appoptics:patching patched crypto 
2022-04-28T06:36:03.090Z appoptics:patching patched https 
2022-04-28T06:36:03.091Z appoptics:patching patched http 
2022-04-28T06:36:03.208Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:36:03.210Z appoptics:patching patched amqplib 0.6.0
2022-04-28T06:36:03.212Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:36:03.219Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.6.0
    ✔ UDP might lose a message
    promises
(node:1135) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (55ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (47ms)


  7 passing (210ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.0
updated 1 package and audited 920 packages in 4.888s

89 packages are looking for funding
  run `npm fund` for details

found 8 vulnerabilities (4 moderate, 3 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:36:09.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:36:09.387Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:36:09.387Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:36:09.387Z appoptics:debug using context provider: ace-context
2022-04-28T06:36:09.460Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:36:09.634Z appoptics:patching patched crypto 
2022-04-28T06:36:09.653Z appoptics:patching patched https 
2022-04-28T06:36:09.654Z appoptics:patching patched http 
2022-04-28T06:36:09.725Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:36:09.728Z appoptics:patching patched amqplib 0.7.0
2022-04-28T06:36:09.729Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:36:09.732Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.0
    ✔ UDP might lose a message
    promises
(node:1157) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (45ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (53ms)


  7 passing (229ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.1
removed 1 package, updated 2 packages and audited 919 packages in 5.097s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:36:16.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:36:16.215Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:36:16.215Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:36:16.215Z appoptics:debug using context provider: ace-context
2022-04-28T06:36:16.276Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:36:16.423Z appoptics:patching patched crypto 
2022-04-28T06:36:16.441Z appoptics:patching patched https 
2022-04-28T06:36:16.441Z appoptics:patching patched http 
2022-04-28T06:36:16.509Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:36:16.511Z appoptics:patching patched amqplib 0.7.1
2022-04-28T06:36:16.513Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:36:16.515Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.1
    ✔ UDP might lose a message
    promises
(node:1179) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (51ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (52ms)


  7 passing (204ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 919 packages in 4.21s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-28T06:36:21.955Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:36:21.956Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:36:21.956Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:36:21.956Z appoptics:debug using context provider: ace-context
2022-04-28T06:36:22.016Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:36:22.158Z appoptics:patching patched crypto 
2022-04-28T06:36:22.180Z appoptics:patching patched https 
2022-04-28T06:36:22.180Z appoptics:patching patched http 
2022-04-28T06:36:22.244Z appoptics:patching patched bluebird 3.7.2
2022-04-28T06:36:22.246Z appoptics:patching patched amqplib 0.8.0
2022-04-28T06:36:22.248Z appoptics:patching patched amqplib/callback_api 
2022-04-28T06:36:22.250Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.8.0
    ✔ UDP might lose a message
    promises
(node:1201) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (52ms)


  7 passing (227ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 919 packages in 5.348s

89 packages are looking for funding
  run `npm fund` for details

found 2 high severity vulnerabilities
  run `npm audit fix` to fix them, or `npm audit` for details
