npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.0
updated 2 packages and audited 1094 packages in 3.745s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:49:53.562Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:49:53.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:49:53.563Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:49:53.564Z appoptics:debug using context provider: ace-context
2021-09-18T00:49:53.634Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:49:53.666Z appoptics:patching patched crypto 
2021-09-18T00:49:53.691Z appoptics:patching patched https 
2021-09-18T00:49:53.691Z appoptics:patching patched http 
2021-09-18T00:49:53.730Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:49:53.730Z appoptics:patching patched fs 
2021-09-18T00:49:53.743Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v12.22.6)
2021-09-18T00:49:53.749Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-09-18T00:49:53.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d3537c111a2e33f39a84b3fd9e887f3486218d-ce97ee4ea6af76f4-01 outer:exit 2b-e8d3537c111a2e33f39a84b3fd9e887f3486218d-e909a84843434a67-01
2021-09-18T00:49:53.891Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:49:53.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-e316261be91d8040080a7a774ee48a9586d03d37-55b573bcff09cac1-01 outer:exit 2b-e316261be91d8040080a7a774ee48a9586d03d37-7d94331e2743a395-01
2021-09-18T00:49:53.940Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:49:53.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfabca7c405f41e408fb762b4b9297238c095afe-6e567fb4de1035cb-01 outer:exit 2b-dfabca7c405f41e408fb762b4b9297238c095afe-b107ab80a4d90ae3-01
2021-09-18T00:49:53.945Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:49:53.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa7057ffc22cc42c0056cf1728834de727f60595-10f7db4dce34366e-01 outer:exit 2b-aa7057ffc22cc42c0056cf1728834de727f60595-bb989c347bc79d04-01
2021-09-18T00:49:53.948Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:49:53.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-e892177952aad65c647fa5c3ae718a273f5a45a9-0658541666c04975-01 outer:exit 2b-e892177952aad65c647fa5c3ae718a273f5a45a9-d068b3f5443944ef-01
2021-09-18T00:49:53.953Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:49:53.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec4eaa5b844d02de3550fd8723d2a4c3f7055417-d9784d57d3d161b1-01 outer:exit 2b-ec4eaa5b844d02de3550fd8723d2a4c3f7055417-3a0eb96f52ea1557-01
2021-09-18T00:49:53.987Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:49:53.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4a56506418e8409f4fbec31c86b3e599b905442-d85bede0e772de51-01 outer:exit 2b-a4a56506418e8409f4fbec31c86b3e599b905442-e063149452186a92-01
2021-09-18T00:49:53.990Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:49:53.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dc93d92bd60ca9f76aa48b83f58bc389c9add10-0f927108a5d12938-01 outer:exit 2b-1dc93d92bd60ca9f76aa48b83f58bc389c9add10-4f4b3aefdc73b917-01
2021-09-18T00:49:53.993Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:49:53.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbad367cfe605dff950a3f7e3b538d4542972652-08f65ded1bf72676-01 outer:exit 2b-dbad367cfe605dff950a3f7e3b538d4542972652-1a258056e3a99721-01
2021-09-18T00:49:53.995Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:49:53.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-9442dc6315e99db723800d94bae2c49d92a09884-ba2413d589aff81c-01 outer:exit 2b-9442dc6315e99db723800d94bae2c49d92a09884-1d2a115b94e38a91-01
2021-09-18T00:49:53.997Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:49:54.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-86aa23854d5417a05ef7e9d85db8c131ea6fd415-7afb5f6f53e8862d-01 outer:exit 2b-86aa23854d5417a05ef7e9d85db8c131ea6fd415-0a1f384d9313ce2c-01
2021-09-18T00:49:54.001Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:49:54.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0e5b198693cea733dd3a3ec8cc04f6a7a98cb68-4723e676b44e787e-01 outer:exit 2b-a0e5b198693cea733dd3a3ec8cc04f6a7a98cb68-0dce7b24007d35ae-01
2021-09-18T00:49:54.032Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:49:54.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fc1795ff7a0f2e8a0f07ed5e315e63cabde8a4c-ca01081a59d30d19-01 outer:exit 2b-5fc1795ff7a0f2e8a0f07ed5e315e63cabde8a4c-8c36833f42d9ad14-01
2021-09-18T00:49:54.049Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:49:54.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-593b7952e1ee0c45faaed91732d4a7213931f00b-f1d006675044fb4f-01 outer:exit 2b-593b7952e1ee0c45faaed91732d4a7213931f00b-f74c4828e58e0d1c-01
2021-09-18T00:49:54.131Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:49:54.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-fed7e066ebedd3b9218a4f3dbcb0593345092504-3c1de40f02f36e5a-01 outer:exit 2b-fed7e066ebedd3b9218a4f3dbcb0593345092504-8075c8c755fa46eb-01
2021-09-18T00:49:54.135Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:49:54.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b098d710311f9a9c265e8c0fd4bda5467f3b1c5-554beb12239a08c2-01 outer:exit 2b-3b098d710311f9a9c265e8c0fd4bda5467f3b1c5-2b96f8236dbbedba-01
2021-09-18T00:49:54.137Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:49:54.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a9f7506b841182225149de2857a4103260e2164-d4bb4794263dbfae-01 outer:exit 2b-3a9f7506b841182225149de2857a4103260e2164-8d66c024e76aa5d2-01
2021-09-18T00:49:54.142Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:49:54.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-16f9c8237cb0b9f3e2ba68037c99120ae699d707-6bf85403caec373e-01 outer:exit 2b-16f9c8237cb0b9f3e2ba68037c99120ae699d707-0c447ff0c07a2e91-01
2021-09-18T00:49:54.145Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:49:54.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcf150b76e2c8cd6a8d2aa94ccb57f199ffe4778-96265639b997e6fe-01 outer:exit 2b-dcf150b76e2c8cd6a8d2aa94ccb57f199ffe4778-c7b3a040a8e9c767-01
2021-09-18T00:49:54.148Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:49:54.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-8918eecc391201b6be87d44d454c86c48dd9315b-b346eac12c2be2db-01 outer:exit 2b-8918eecc391201b6be87d44d454c86c48dd9315b-67842b7d9e6fb483-01
2021-09-18T00:49:54.150Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:49:54.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-53484236d88d023bb92cd4a18b106d2c4b39228f-a2aa7e8da7f94bbc-01 outer:exit 2b-53484236d88d023bb92cd4a18b106d2c4b39228f-1f7cdf29587935b4-01
2021-09-18T00:49:54.152Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:49:54.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-346ad972b212344ee380b962e3793996a2f6d1f8-9f3b168ad22b8856-01 outer:exit 2b-346ad972b212344ee380b962e3793996a2f6d1f8-26fc33005d5a3f21-01
2021-09-18T00:49:54.154Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:49:54.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfd8f3e16a9b8907a2e176575ce233b1a57c1ce1-22011e8955034914-01 outer:exit 2b-dfd8f3e16a9b8907a2e176575ce233b1a57c1ce1-069786332a36bfdb-01
2021-09-18T00:49:54.157Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:49:54.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5d06525a1e9a81419a1172e4d589aef50122bc3-257d357b681c79d6-01 outer:exit 2b-e5d06525a1e9a81419a1172e4d589aef50122bc3-b60ac916d0332277-01
2021-09-18T00:49:54.173Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:49:54.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf72d08f5528de37a656b732977031e38922e5cc-ab345997ec52ab1c-01 outer:exit 2b-bf72d08f5528de37a656b732977031e38922e5cc-2c9cd94894fc18dd-01
2021-09-18T00:49:54.176Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:49:54.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed037af5d17afc31129aab97d0dab5cff97681ab-6cf05585fc5c2c3c-01 outer:exit 2b-ed037af5d17afc31129aab97d0dab5cff97681ab-db7dd1dbb128fbfd-01
2021-09-18T00:49:54.180Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:49:54.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7615432f2a352b6d5a75c5ab64dcebc6e5d407d-54fcbad8610312cf-01 outer:exit 2b-a7615432f2a352b6d5a75c5ab64dcebc6e5d407d-065656013148cc2e-01
2021-09-18T00:49:54.214Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:49:54.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-09b7c085706be3232388ce9b43f2c6491fe9224c-453b00dc4e2a3c42-01 outer:exit 2b-09b7c085706be3232388ce9b43f2c6491fe9224c-694f1ae3b0835655-01
2021-09-18T00:49:54.239Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:49:54.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-96413a70ffc4d429785d88fcbc77ca640935928c-9bb307523c8677a5-01 outer:exit 2b-96413a70ffc4d429785d88fcbc77ca640935928c-323f67fa08a08b92-01
2021-09-18T00:49:54.248Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:49:54.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-00452dc25ec451d6a1d526e9b3aceb511da2ec0e-63c9d54b2eaad430-01 outer:exit 2b-00452dc25ec451d6a1d526e9b3aceb511da2ec0e-78f502b8d6494767-01
2021-09-18T00:49:54.266Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:49:54.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-90d4b86cf8f19dad323788b195371f058819de3a-29ce9aefdd7b1dde-01 outer:exit 2b-90d4b86cf8f19dad323788b195371f058819de3a-b85a4826cdbad6e4-01
2021-09-18T00:49:54.269Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:49:54.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc8c08ab20d42b7c2fb6d3414a06fd3a5f1d6604-ba2b4e61bcbbf2f9-01 outer:exit 2b-dc8c08ab20d42b7c2fb6d3414a06fd3a5f1d6604-2f439e78168379ca-01
2021-09-18T00:49:54.272Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:49:54.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e6fdd1d04e77d1b96f0f3d3a196fd3d9e32ec69-d3aaf5175e14b9e6-01 outer:exit 2b-8e6fdd1d04e77d1b96f0f3d3a196fd3d9e32ec69-3d9f72915fb708b8-01
2021-09-18T00:49:54.279Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:49:54.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a19e679f07af11d535f8ff8a26c54cb57df6d5e-9f55a4aa71bd9926-01 outer:exit 2b-1a19e679f07af11d535f8ff8a26c54cb57df6d5e-22c4b24fbb3c1730-01
2021-09-18T00:49:54.286Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:49:54.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-00433970d284ae318b96a8c6469a91255b55fa1f-033f8cc4e405c229-01 outer:exit 2b-00433970d284ae318b96a8c6469a91255b55fa1f-b7dbc1d4f908d84c-01
2021-09-18T00:49:54.288Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:49:54.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-683c965954d64086711d5b9d14f61edefd668ee5-27362be05470b3ae-01 outer:exit 2b-683c965954d64086711d5b9d14f61edefd668ee5-2997a9751b0b1ac9-01
2021-09-18T00:49:54.290Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:49:54.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb1724b9b604a6030f7c3cc6070bb40f6115348f-1cdd8ef9945f1da0-01 outer:exit 2b-fb1724b9b604a6030f7c3cc6070bb40f6115348f-a0cf6469155949bf-01
2021-09-18T00:49:54.292Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:49:54.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-b045d6468c1a6aa5e78e595584211d7f2286d2c5-8e7b9661f98bf7ac-01 outer:exit 2b-b045d6468c1a6aa5e78e595584211d7f2286d2c5-1a6c3141967fcb6d-01
2021-09-18T00:49:54.293Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:49:54.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-18eca3b09718661890e21cb32068726de40eba9a-888ee3b20d93e7fe-01 outer:exit 2b-18eca3b09718661890e21cb32068726de40eba9a-3ffd39871478d930-01
2021-09-18T00:49:54.302Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:49:54.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed60f28d11d16da7200013caa54f47822d32f778-826336a95cc07412-01 outer:exit 2b-ed60f28d11d16da7200013caa54f47822d32f778-5351912c5dd828e6-01
2021-09-18T00:49:54.310Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:49:54.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c66f56d570861c49cb478686801156398573847-888345f20680e1cc-01 outer:exit 2b-9c66f56d570861c49cb478686801156398573847-26780e71c70bc3bc-01
2021-09-18T00:49:54.313Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:49:54.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-49a1627bd1cf74a74bd461aa8b4773cc59484af7-700c8212847604cd-01 outer:exit 2b-49a1627bd1cf74a74bd461aa8b4773cc59484af7-56d989e72b05c0be-01
2021-09-18T00:49:54.315Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:49:54.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-b117efa8b4cfc923ccd85aac16c85b4f1e4acbc3-db6237e15c788c00-01 outer:exit 2b-b117efa8b4cfc923ccd85aac16c85b4f1e4acbc3-982c14fb9aa45ed7-01
2021-09-18T00:49:54.359Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:49:54.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fe6fc7987a60a8bb6ab3793dbdbcbc3bc2b0d0a-6e43eb25388c8c97-01 outer:exit 2b-8fe6fc7987a60a8bb6ab3793dbdbcbc3bc2b0d0a-61e05b5c400172b2-01
2021-09-18T00:49:54.388Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (531ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.1
updated 1 package and audited 1094 packages in 4.831s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:00.262Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:00.263Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:00.263Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:00.263Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:00.340Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:00.383Z appoptics:patching patched crypto 
2021-09-18T00:50:00.402Z appoptics:patching patched https 
2021-09-18T00:50:00.402Z appoptics:patching patched http 
2021-09-18T00:50:00.463Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:00.463Z appoptics:patching patched fs 
2021-09-18T00:50:00.480Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v12.22.6)
2021-09-18T00:50:00.487Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-09-18T00:50:00.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ae059673fa4606417741fd4373ae5e035d18f8d-a763e70be0d52be9-01 outer:exit 2b-7ae059673fa4606417741fd4373ae5e035d18f8d-9e8cb1d6abf141fa-01
2021-09-18T00:50:00.674Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:00.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-17da344549aa612738cc325dabf590b4fa2712d4-6295ceb49ddd3598-01 outer:exit 2b-17da344549aa612738cc325dabf590b4fa2712d4-67b7c4118bdd389c-01
2021-09-18T00:50:00.730Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:00.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-31e4bee981dc35a0ed4b096feda51dc730c444b4-191ef798c46bc558-01 outer:exit 2b-31e4bee981dc35a0ed4b096feda51dc730c444b4-d111bda7d23a1571-01
2021-09-18T00:50:00.732Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:00.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-eef77c96b0a86f06a236128f8741aeb78d85df8e-1faba71567341d6e-01 outer:exit 2b-eef77c96b0a86f06a236128f8741aeb78d85df8e-4625a6b1d23ab033-01
2021-09-18T00:50:00.735Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:00.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-e79a431f5b65be08104dd950ae6fa321ffe5c6ff-e2d06a58f10b1520-01 outer:exit 2b-e79a431f5b65be08104dd950ae6fa321ffe5c6ff-060d37b667a2a5ce-01
2021-09-18T00:50:00.739Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:00.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d99969a77974f0b720b686039b232729a585da-07e0a4a1096616be-01 outer:exit 2b-e8d99969a77974f0b720b686039b232729a585da-e709f26e1bc229ac-01
2021-09-18T00:50:00.741Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:00.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1cfa693fad3a0601c5d2ea8e21643a429e02174-4688521372a6a9d7-01 outer:exit 2b-f1cfa693fad3a0601c5d2ea8e21643a429e02174-9fabcd98fa22e58b-01
2021-09-18T00:50:00.744Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:00.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-01ecce2cc06ea81381abce8dac65ea3603a54a6c-2aee4253c0f3f82f-01 outer:exit 2b-01ecce2cc06ea81381abce8dac65ea3603a54a6c-9f9b8e8fa918f603-01
2021-09-18T00:50:00.746Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:00.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-8faf7adeaea49b3517f4b2459ff12cde29ce1927-b443b9b0ca2d5536-01 outer:exit 2b-8faf7adeaea49b3517f4b2459ff12cde29ce1927-cc129eccd020c92a-01
2021-09-18T00:50:00.748Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:00.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-b16da4bab4baa1cff7a8b820a85bc68f164fcd7c-341f2c9be5961050-01 outer:exit 2b-b16da4bab4baa1cff7a8b820a85bc68f164fcd7c-d67887ce649291ae-01
2021-09-18T00:50:00.750Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:00.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0cde89501b1bfb33361f8b186f1cccd7bd68210-780418743ec678eb-01 outer:exit 2b-b0cde89501b1bfb33361f8b186f1cccd7bd68210-3db4d923dfa96599-01
2021-09-18T00:50:00.753Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:00.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a5469213adb42ecb1d3ea580ec6bccc83ca81f5-c41aaf3f1e23f88f-01 outer:exit 2b-1a5469213adb42ecb1d3ea580ec6bccc83ca81f5-d390ddc96b042303-01
2021-09-18T00:50:00.759Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:00.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-42e28c42397d1b0a826ad00f316039fd3afb56db-88df6e53f90277da-01 outer:exit 2b-42e28c42397d1b0a826ad00f316039fd3afb56db-d611480d21f5c07a-01
2021-09-18T00:50:00.771Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:00.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-b677be2a9a4cf6ed93f55a7b7cb7c1e3fc5db2d0-fe9a07dbc37b29ab-01 outer:exit 2b-b677be2a9a4cf6ed93f55a7b7cb7c1e3fc5db2d0-f5b912a05f4d99cf-01
2021-09-18T00:50:00.839Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:00.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8fceccf172f7bf5c6282a9a894fba13edca95fc-b3240737405b3c3e-01 outer:exit 2b-c8fceccf172f7bf5c6282a9a894fba13edca95fc-04f9c1e9afa65be2-01
2021-09-18T00:50:00.842Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:00.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f66e24a7aeb0d6128b2ff9c084afbd44445671f-ff29b569e5b2dd5b-01 outer:exit 2b-0f66e24a7aeb0d6128b2ff9c084afbd44445671f-aa92a1c9766d7210-01
2021-09-18T00:50:00.844Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:00.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-c44353f2a7ee425d4f1c003999cbe8ac1fdccf99-2c19f89d2a484059-01 outer:exit 2b-c44353f2a7ee425d4f1c003999cbe8ac1fdccf99-54eadcd9eb80eba5-01
2021-09-18T00:50:00.846Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:00.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-f118439d4b5c7213d33bc3cf382e8875018f90f6-da2b185a4807e6c0-01 outer:exit 2b-f118439d4b5c7213d33bc3cf382e8875018f90f6-cee3f6767d5f92c0-01
2021-09-18T00:50:00.848Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:00.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-486c4066c90c2d5d313ad7a03469feba3b9eee95-f2632c6c1e3423b7-01 outer:exit 2b-486c4066c90c2d5d313ad7a03469feba3b9eee95-f6ec570f41631b60-01
2021-09-18T00:50:00.850Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:00.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e950a6c4030b9e71f6d331aded7e795c2fc29bd-0971173530e52b31-01 outer:exit 2b-8e950a6c4030b9e71f6d331aded7e795c2fc29bd-06ab406e04a2e895-01
2021-09-18T00:50:00.851Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:00.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-19a38e3234d71e0738c1122aebd35c6cd4ac0350-a0a4d4a4fa62d48d-01 outer:exit 2b-19a38e3234d71e0738c1122aebd35c6cd4ac0350-f4690cc67cd5cdd9-01
2021-09-18T00:50:00.853Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:00.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9747e413a7a4984853daab51acdd9cfce909860-e47a3697f679da61-01 outer:exit 2b-a9747e413a7a4984853daab51acdd9cfce909860-556721d21948ca3d-01
2021-09-18T00:50:00.874Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:00.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-1149376ebefcb6d39902bed437b1f7b4ba733e6e-2f7e1a0e23a1b90a-01 outer:exit 2b-1149376ebefcb6d39902bed437b1f7b4ba733e6e-c6f70d3eaed8f2ba-01
2021-09-18T00:50:00.877Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:00.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-fced5de531fa7487ed6ef184b468d261d7a224a5-52bf502125e46b07-01 outer:exit 2b-fced5de531fa7487ed6ef184b468d261d7a224a5-6f98287b47253b07-01
2021-09-18T00:50:00.880Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:00.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-57a0a72af7703890c6ccdbd31d26aad60412c312-25cb3de5550dfb39-01 outer:exit 2b-57a0a72af7703890c6ccdbd31d26aad60412c312-94ca3297d277af97-01
2021-09-18T00:50:00.882Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:00.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e535737be26bb58b6ad1f960fe791355a5aa91c-7dd1becfccef59ee-01 outer:exit 2b-4e535737be26bb58b6ad1f960fe791355a5aa91c-09fc0dda4caf3db3-01
2021-09-18T00:50:00.884Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:00.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-4935a1486be7780dc44ae668be53130995afd7c1-6b70c10a23d09843-01 outer:exit 2b-4935a1486be7780dc44ae668be53130995afd7c1-37b5205f9fc6e5a2-01
2021-09-18T00:50:00.889Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:00.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-baa9ffcff0ba4f8252d30fbbfd7be62a1fa71d58-e7f667c7ea8aa5c3-01 outer:exit 2b-baa9ffcff0ba4f8252d30fbbfd7be62a1fa71d58-d9e8e23e951b497d-01
2021-09-18T00:50:00.893Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:00.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-f05e70153f117cef2e7de74ced75fa0f9a4576ca-e692a05c89a968ae-01 outer:exit 2b-f05e70153f117cef2e7de74ced75fa0f9a4576ca-30fafa4ee0cb5b19-01
2021-09-18T00:50:00.904Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:00.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-387a12aba177c408b2eb73bebae9f40fff33317c-647d994491346e8b-01 outer:exit 2b-387a12aba177c408b2eb73bebae9f40fff33317c-4a8c89ad3ade130a-01
2021-09-18T00:50:00.909Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:00.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-98104df535411fdd8166c3ad7de6e3bfb19789cf-dedd8f33e4781d86-01 outer:exit 2b-98104df535411fdd8166c3ad7de6e3bfb19789cf-498953e4ee7ef930-01
2021-09-18T00:50:00.911Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:00.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-055a328006f7a18fedfd794f0d99b425dd1d8c64-d71f0c75ba00225c-01 outer:exit 2b-055a328006f7a18fedfd794f0d99b425dd1d8c64-9712dc87b9237032-01
2021-09-18T00:50:00.914Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:00.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-f49109b4aed369e6e12ee5574ec1dc10834a08ec-9e4eb6c879f1b21b-01 outer:exit 2b-f49109b4aed369e6e12ee5574ec1dc10834a08ec-b09bb8f3ad8f92ef-01
2021-09-18T00:50:00.919Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:00.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfe8cb2fc4131baaa7e5de374ca0356fe62665a1-253909ee5157a9eb-01 outer:exit 2b-bfe8cb2fc4131baaa7e5de374ca0356fe62665a1-e953d716f124e2e5-01
2021-09-18T00:50:00.921Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:00.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-81e65217403bb7ac65cce7c3a96843f443006cff-bc0e733300df7db7-01 outer:exit 2b-81e65217403bb7ac65cce7c3a96843f443006cff-c4712b91d62007f8-01
2021-09-18T00:50:00.923Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:00.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-642003d7fc633687106d276a7f01f9b2934b7a87-fbb7fa5912d13d0a-01 outer:exit 2b-642003d7fc633687106d276a7f01f9b2934b7a87-adab3ff0d3327345-01
2021-09-18T00:50:00.924Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:00.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-122688ee4cf9999a5540503c8ba85fccbe979dea-6fab6013ba056a93-01 outer:exit 2b-122688ee4cf9999a5540503c8ba85fccbe979dea-2b9afd4bac9b5d91-01
2021-09-18T00:50:00.926Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:00.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbe14dbac3f11dd242550cee2dabe0fc8659797a-8951aaa81d48bc26-01 outer:exit 2b-cbe14dbac3f11dd242550cee2dabe0fc8659797a-af26d03679b403f4-01
2021-09-18T00:50:00.928Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:00.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-28e29e76d720edb8b53ea76eef2446f51697110f-50e6cd875a186fa6-01 outer:exit 2b-28e29e76d720edb8b53ea76eef2446f51697110f-954b45d96e5b3385-01
2021-09-18T00:50:00.935Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:00.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-28a6088521136d46562634bc6c7769442186b1c5-ee5907711841e2e9-01 outer:exit 2b-28a6088521136d46562634bc6c7769442186b1c5-d1f32173a51edda6-01
2021-09-18T00:50:00.942Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:00.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-e25690ab23a056d13f2fcd25b7269371c5c70ce1-280a66dc40599b04-01 outer:exit 2b-e25690ab23a056d13f2fcd25b7269371c5c70ce1-24636df2856161c4-01
2021-09-18T00:50:00.945Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:00.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-1573596dd00f93f9075d3b1dc184d6b7ba5fa3d3-848b947638efb8da-01 outer:exit 2b-1573596dd00f93f9075d3b1dc184d6b7ba5fa3d3-389ccbe96d4905ac-01
2021-09-18T00:50:00.947Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:00.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-28e951e7a6f61956c7cf46d911d185ed47840024-b458d8fd9f7fa5fd-01 outer:exit 2b-28e951e7a6f61956c7cf46d911d185ed47840024-00b77b82dc11b582-01
2021-09-18T00:50:00.949Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:00.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b32db19b1a70ab82ad7eadab84b52dad5d3e6ad-33ae6736f52504d2-01 outer:exit 2b-0b32db19b1a70ab82ad7eadab84b52dad5d3e6ad-cbddfc6f7ae8677c-01
2021-09-18T00:50:00.973Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (328ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.2
updated 1 package and audited 1094 packages in 5.666s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:07.753Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:07.794Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:07.794Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:07.795Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:07.862Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:07.936Z appoptics:patching patched crypto 
2021-09-18T00:50:07.956Z appoptics:patching patched https 
2021-09-18T00:50:07.956Z appoptics:patching patched http 
2021-09-18T00:50:08.014Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:08.014Z appoptics:patching patched fs 
2021-09-18T00:50:08.028Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v12.22.6)
2021-09-18T00:50:08.035Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-09-18T00:50:08.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-7867be7cef2e06da31663f2b456b728109844a9b-baba296224107fc2-01 outer:exit 2b-7867be7cef2e06da31663f2b456b728109844a9b-5e4f93c7d10d330a-01
2021-09-18T00:50:08.239Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:08.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-be0e0f1d649baf42f26025a4c8b2de8637c6cfc9-baf89a08b0be4c95-01 outer:exit 2b-be0e0f1d649baf42f26025a4c8b2de8637c6cfc9-9e5e17f2d4c625ae-01
2021-09-18T00:50:08.334Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:08.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f4c9f05cd168a46c65cdbcd00ec4e0c1ecc1145-64d4d021c7291dde-01 outer:exit 2b-8f4c9f05cd168a46c65cdbcd00ec4e0c1ecc1145-76322b91a8f43872-01
2021-09-18T00:50:08.337Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:08.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd8af6c6414d64fa68a9c386cd7d2dbb0473a069-d0709445f06220ce-01 outer:exit 2b-cd8af6c6414d64fa68a9c386cd7d2dbb0473a069-493d31540abf854c-01
2021-09-18T00:50:08.340Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:08.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa5d290672f9078845d7c4f10b453e21ee2891a2-447d4059d9ad121b-01 outer:exit 2b-aa5d290672f9078845d7c4f10b453e21ee2891a2-f1e13e4363a0eef6-01
2021-09-18T00:50:08.345Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:08.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-147221abd625841ba5dbe79e072c137dd71cd574-83d7547edcb19056-01 outer:exit 2b-147221abd625841ba5dbe79e072c137dd71cd574-4b6303987fb83c4f-01
2021-09-18T00:50:08.348Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:08.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cba89e5ef4deae36b1fe487a14fbf32140c9d71-66fe6fedc3b7e0fc-01 outer:exit 2b-3cba89e5ef4deae36b1fe487a14fbf32140c9d71-fc27df28a3e83155-01
2021-09-18T00:50:08.350Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:08.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfc0dc40b3e9e697ed7742755e2c755785aa08a8-00013bf3c5f4e563-01 outer:exit 2b-dfc0dc40b3e9e697ed7742755e2c755785aa08a8-c710e83b5880be70-01
2021-09-18T00:50:08.352Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:08.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2fd1984714dc144a485ec31b228db57924043d5-6566e4e1f68c6a27-01 outer:exit 2b-b2fd1984714dc144a485ec31b228db57924043d5-58b7e14ec69f8664-01
2021-09-18T00:50:08.355Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:08.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fe09cf3314078a71fa2a24c2788168f1f6eb7d1-fa3574f9f6b54a69-01 outer:exit 2b-7fe09cf3314078a71fa2a24c2788168f1f6eb7d1-b5aa689e63ddd038-01
2021-09-18T00:50:08.357Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:08.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-93753bc782c48394255c0ffe0370b3778ebe0777-41996bdea307748b-01 outer:exit 2b-93753bc782c48394255c0ffe0370b3778ebe0777-6623677552003168-01
2021-09-18T00:50:08.361Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:08.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-94836df0460a12d91180f1f1b2f84ca759a8dd0a-565ed7f0d7f0a22c-01 outer:exit 2b-94836df0460a12d91180f1f1b2f84ca759a8dd0a-0ce03adc68074a41-01
2021-09-18T00:50:08.366Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:08.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-952980ec297f32e8a481d10cf44185ac322d459f-46a640defef2c3f2-01 outer:exit 2b-952980ec297f32e8a481d10cf44185ac322d459f-f72ad2ae91bdb5c9-01
2021-09-18T00:50:08.379Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:08.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aa9e1692fa47165b36b614046e13030b32ce6ef-d76f67185443b6d8-01 outer:exit 2b-6aa9e1692fa47165b36b614046e13030b32ce6ef-e7da9b457b017e9d-01
2021-09-18T00:50:08.435Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:08.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7b56caeb9c7d291a2a9ce945c0ecd00fa76cfd4-53687c9f91a7a614-01 outer:exit 2b-f7b56caeb9c7d291a2a9ce945c0ecd00fa76cfd4-640c80246ed83a57-01
2021-09-18T00:50:08.438Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:08.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-408cef9151942121d933dd55cada304a48f8dba5-4fd149ea6beb4cf1-01 outer:exit 2b-408cef9151942121d933dd55cada304a48f8dba5-93da9f1cfe0cad34-01
2021-09-18T00:50:08.441Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:08.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e3e61bdc27c64b2fbca04275798f2ee86f93f68-d4f674df24241dc6-01 outer:exit 2b-8e3e61bdc27c64b2fbca04275798f2ee86f93f68-7cf7a77edcd459d9-01
2021-09-18T00:50:08.443Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:08.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-173b396ebb09c8a89a3ce91a0af3457fda9c41e0-6b6d5006f1d354fa-01 outer:exit 2b-173b396ebb09c8a89a3ce91a0af3457fda9c41e0-21e5103bdd048d4a-01
2021-09-18T00:50:08.445Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:08.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a28e77a41192889059808aea9630ba70bbbf263-ebf85317d0f21d54-01 outer:exit 2b-9a28e77a41192889059808aea9630ba70bbbf263-00184c693525abfa-01
2021-09-18T00:50:08.447Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:08.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf342d63fab5fe1004bac551642af8804ba28714-7275d51f4c42ea5e-01 outer:exit 2b-cf342d63fab5fe1004bac551642af8804ba28714-34d986355cc48e29-01
2021-09-18T00:50:08.449Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:08.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf875058efa47d2527844ed1823ff9bf06ef4fb9-0c8c7c339aadc536-01 outer:exit 2b-bf875058efa47d2527844ed1823ff9bf06ef4fb9-f2c6d5592e0544f0-01
2021-09-18T00:50:08.451Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:08.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-296d79b879fb023b9aaefc05125e54b6d272c641-eb1dff5fc4aeac86-01 outer:exit 2b-296d79b879fb023b9aaefc05125e54b6d272c641-14a36f58f446b436-01
2021-09-18T00:50:08.453Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:08.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb08e9bac048fff0cb2a20c749f01516072fdfaf-1c23b560fe50edd3-01 outer:exit 2b-cb08e9bac048fff0cb2a20c749f01516072fdfaf-0ed271296548b882-01
2021-09-18T00:50:08.456Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:08.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-33442d1f27b9b2bf8249c2528965ba9619228745-a49ff052f895c2e9-01 outer:exit 2b-33442d1f27b9b2bf8249c2528965ba9619228745-bf9204b5a9630391-01
2021-09-18T00:50:08.459Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:08.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-deb4746d1b8c6491744f55e0117943d628959304-fa3b2590d4cd2ddc-01 outer:exit 2b-deb4746d1b8c6491744f55e0117943d628959304-48b72cba3fd50002-01
2021-09-18T00:50:08.461Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:08.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-a85c1a144ed9c329716b9bfae1f52dc93e4b1bb8-77ae0bce820b511e-01 outer:exit 2b-a85c1a144ed9c329716b9bfae1f52dc93e4b1bb8-57a747d3baaa3ba1-01
2021-09-18T00:50:08.463Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:08.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-d848a7a526635c752f1cc7610ecf8daa65e4e34e-5ff39071e85425d4-01 outer:exit 2b-d848a7a526635c752f1cc7610ecf8daa65e4e34e-649c72616ab0d302-01
2021-09-18T00:50:08.487Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:08.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-703de003ff426dbad30c02da875a9faae007cb69-c598d1a06bc91068-01 outer:exit 2b-703de003ff426dbad30c02da875a9faae007cb69-acc9a97ba03d9c2e-01
2021-09-18T00:50:08.492Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:08.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c8b7bb737355daaf7da213a5fe8a17d12624076-936809bdee63b1b8-01 outer:exit 2b-7c8b7bb737355daaf7da213a5fe8a17d12624076-76769bc9fe160438-01
2021-09-18T00:50:08.500Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:08.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0b49104725fd61115bdc41a4a95a33bb889830f-4df4f3755beb96a5-01 outer:exit 2b-c0b49104725fd61115bdc41a4a95a33bb889830f-da216e7e1290dbc0-01
2021-09-18T00:50:08.505Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:08.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e12644e1904a3381e83a662dfb4a232345837e0-07abee9ae9a3403a-01 outer:exit 2b-2e12644e1904a3381e83a662dfb4a232345837e0-26c4b33b20e3d94f-01
2021-09-18T00:50:08.507Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:08.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-f31f9d9c524f18992d32d39b36d928a6b435e173-0aa8e3da55e37129-01 outer:exit 2b-f31f9d9c524f18992d32d39b36d928a6b435e173-eebe85c2001f9359-01
2021-09-18T00:50:08.509Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:08.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-69345c8a59e943cdd01bd14082a04326e90b351d-3cba5746bbbb5b24-01 outer:exit 2b-69345c8a59e943cdd01bd14082a04326e90b351d-39e053c5f1250fe3-01
2021-09-18T00:50:08.519Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:08.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-efcf74240d644405362bedab9962c5016efe637d-679f7e040ba53797-01 outer:exit 2b-efcf74240d644405362bedab9962c5016efe637d-b39420add3270432-01
2021-09-18T00:50:08.521Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:08.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf94d3eb27334bf63bbb1f8d21330a1a60e74dc5-2ae73fdea9fa67ed-01 outer:exit 2b-bf94d3eb27334bf63bbb1f8d21330a1a60e74dc5-38873a9fd1c0bdf7-01
2021-09-18T00:50:08.523Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:08.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-24e126b1b7826f0669dfb31e7af5e9fb7625acf3-2d073c8e5c40bae6-01 outer:exit 2b-24e126b1b7826f0669dfb31e7af5e9fb7625acf3-47a0708daeef1c68-01
2021-09-18T00:50:08.525Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:08.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3ac0a4200287598c2251291363c25678a197851-6c27b85378bd2a28-01 outer:exit 2b-b3ac0a4200287598c2251291363c25678a197851-c3bd118616734614-01
2021-09-18T00:50:08.526Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:08.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb65471d57914bfaf7476344ea5c2765f1dc5c80-1b218903e58a60b3-01 outer:exit 2b-eb65471d57914bfaf7476344ea5c2765f1dc5c80-7e4f18bcbd8fabff-01
2021-09-18T00:50:08.528Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:08.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-289dfbe8bcf7e3a51b909c6ffea9a9a8f0ed8e24-e4990d628ec0a54d-01 outer:exit 2b-289dfbe8bcf7e3a51b909c6ffea9a9a8f0ed8e24-222792d7a0a9bf43-01
2021-09-18T00:50:08.536Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:08.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-00c5ad1b88be19fb7412a0f1d889cee4e9b132b3-1466fabf23f40d6b-01 outer:exit 2b-00c5ad1b88be19fb7412a0f1d889cee4e9b132b3-ec0317a25d0bf477-01
2021-09-18T00:50:08.546Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:08.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-e564c52d35ddd08c0eb5d0c169e7e54b03d8e498-a98dc9f1bbdeef01-01 outer:exit 2b-e564c52d35ddd08c0eb5d0c169e7e54b03d8e498-d5095db72e240360-01
2021-09-18T00:50:08.549Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:08.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d2937b20d82876ab19ad8b90d30e104fa125651-180ea19ec5737bcc-01 outer:exit 2b-6d2937b20d82876ab19ad8b90d30e104fa125651-51fd4621e8999354-01
2021-09-18T00:50:08.552Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:08.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-0155ed4332bf0827dfaa82172bedf8fea4a7d016-295ecf7c9e9b6edb-01 outer:exit 2b-0155ed4332bf0827dfaa82172bedf8fea4a7d016-627f3a810b2e67b2-01
2021-09-18T00:50:08.554Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:08.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2ad5747cb76b3df932d74c037e20f698fa3740-4afa381a81cf43d0-01 outer:exit 2b-0c2ad5747cb76b3df932d74c037e20f698fa3740-e186ceb340f635a1-01
2021-09-18T00:50:08.579Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (420ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.3
updated 1 package and audited 1094 packages in 5.337s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:14.951Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:14.951Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:14.951Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:14.952Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:15.034Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:15.076Z appoptics:patching patched crypto 
2021-09-18T00:50:15.106Z appoptics:patching patched https 
2021-09-18T00:50:15.106Z appoptics:patching patched http 
2021-09-18T00:50:15.153Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:15.154Z appoptics:patching patched fs 
2021-09-18T00:50:15.167Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v12.22.6)
2021-09-18T00:50:15.173Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-09-18T00:50:15.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-92f769954f1ce8fec4dd105681e5024fb5c89c0d-4dce4ccbb2045b3c-01 outer:exit 2b-92f769954f1ce8fec4dd105681e5024fb5c89c0d-67f11d65b3a3c448-01
2021-09-18T00:50:15.370Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:15.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-639dd7161f5bc455fb12dad2b7a292487593ba58-dbe448d1516c8a41-01 outer:exit 2b-639dd7161f5bc455fb12dad2b7a292487593ba58-8e8e84dc6555e7b6-01
2021-09-18T00:50:15.449Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:15.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-4eab6b702169ae90733ebb2f373cf9a50fb44440-57bd807974dc1e41-01 outer:exit 2b-4eab6b702169ae90733ebb2f373cf9a50fb44440-1650e786a1db258f-01
2021-09-18T00:50:15.452Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:15.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d0bc526d1efca78c243cf7b2e270118448943b-812ffee11ef17155-01 outer:exit 2b-d1d0bc526d1efca78c243cf7b2e270118448943b-8527fb5144fff469-01
2021-09-18T00:50:15.455Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:15.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cf296dee3a0d2a56cbc5a203a36b767033e7857-0ebefca696661f4c-01 outer:exit 2b-0cf296dee3a0d2a56cbc5a203a36b767033e7857-7bac5cdf5f4fbfd6-01
2021-09-18T00:50:15.459Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:15.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-2290f2ecf013248d03ed83f5ea21fd9ef44a1c35-41ffabfe82941064-01 outer:exit 2b-2290f2ecf013248d03ed83f5ea21fd9ef44a1c35-ad98715187a8e5e4-01
2021-09-18T00:50:15.462Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:15.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3887be7052ad5ba6a7bd72b2a434ed83ab9e88b-b24cfd48434bc270-01 outer:exit 2b-d3887be7052ad5ba6a7bd72b2a434ed83ab9e88b-3e42237cb52ab01d-01
2021-09-18T00:50:15.464Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:15.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bcc697711849ea3672a3c1b2c6be5646e1bab9d-ae0e174aee2d156b-01 outer:exit 2b-8bcc697711849ea3672a3c1b2c6be5646e1bab9d-4a248b3726d4e03d-01
2021-09-18T00:50:15.466Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:15.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ae4947478d97371790255698cc7a4bc75e77776-313a45c643ba3e14-01 outer:exit 2b-6ae4947478d97371790255698cc7a4bc75e77776-24ad4712b5d4f270-01
2021-09-18T00:50:15.469Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:15.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa91089b08e75afb2797982ef2a449e87f2ec841-3d4432b327334790-01 outer:exit 2b-aa91089b08e75afb2797982ef2a449e87f2ec841-65b30b7accaa27c8-01
2021-09-18T00:50:15.471Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:15.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-76c9d0d1568408b78cc0d08681e4af2441ff8f37-22eb626d13be0d4f-01 outer:exit 2b-76c9d0d1568408b78cc0d08681e4af2441ff8f37-dca0682f4b5f0703-01
2021-09-18T00:50:15.474Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:15.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb2ed4f086e8e17173451aa232c371a6b1919c7b-6864a37d343abb4c-01 outer:exit 2b-fb2ed4f086e8e17173451aa232c371a6b1919c7b-437a4f95826b6544-01
2021-09-18T00:50:15.480Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:15.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9de20992927269a3f477aeb482bfdf8ef0d67a3-b399fc0d04c1667c-01 outer:exit 2b-d9de20992927269a3f477aeb482bfdf8ef0d67a3-04301d2bb58113de-01
2021-09-18T00:50:15.493Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:15.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd7c5eefba5d5bdf71da10ec5ef254d9e6ec4a06-c26beaeaad6da7e6-01 outer:exit 2b-dd7c5eefba5d5bdf71da10ec5ef254d9e6ec4a06-75753552558553d8-01
2021-09-18T00:50:15.525Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:15.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f78e17e912197b56c7c25cff3a4bbd98e0c1559-bf7b7a1e4d30ec57-01 outer:exit 2b-0f78e17e912197b56c7c25cff3a4bbd98e0c1559-f64b4d5c28d296e3-01
2021-09-18T00:50:15.527Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:15.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ead699770ef77be19437248af344b1a15b898b9-1f254e81fb01be65-01 outer:exit 2b-3ead699770ef77be19437248af344b1a15b898b9-2e44fb467df011c7-01
2021-09-18T00:50:15.529Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:15.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c33ffff409c0773fd91876289f8b7ae870520dc-0d823bebce220087-01 outer:exit 2b-6c33ffff409c0773fd91876289f8b7ae870520dc-585a58d127921202-01
2021-09-18T00:50:15.532Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:15.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cb17944468f85547b16259435375a32097ef818-3ee5eb34b6f7a4de-01 outer:exit 2b-5cb17944468f85547b16259435375a32097ef818-24b65c4ebf19aa36-01
2021-09-18T00:50:15.534Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:15.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-14f09d93a1e3a726ba96828b84dda3bccada0d6d-d774659deb1ddb48-01 outer:exit 2b-14f09d93a1e3a726ba96828b84dda3bccada0d6d-790bd022d01dfdae-01
2021-09-18T00:50:15.536Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:15.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-35956bde8d6b9491da33a4622a0586b9dd6475cc-c9cbb4c76686814b-01 outer:exit 2b-35956bde8d6b9491da33a4622a0586b9dd6475cc-d76125229d7ecc14-01
2021-09-18T00:50:15.537Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:15.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-7916526737318bf4ac6228a94abf6658ce11226e-8ad00ed36bd08c52-01 outer:exit 2b-7916526737318bf4ac6228a94abf6658ce11226e-61d8f823f49f229f-01
2021-09-18T00:50:15.543Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:15.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-942226e0c1252764d6a6f5edceae642a4608049e-a3fc93e1e48096eb-01 outer:exit 2b-942226e0c1252764d6a6f5edceae642a4608049e-afd654d608134646-01
2021-09-18T00:50:15.560Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:15.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bb7d67b29a0f012f921f229fb238190b79cfcd7-4139becf8b10d77c-01 outer:exit 2b-7bb7d67b29a0f012f921f229fb238190b79cfcd7-511791fe7f1e691d-01
2021-09-18T00:50:15.563Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:15.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-035c0bc0718e02f4a43bf4aff40d7b4ed4d2ccd5-f8a919a3db58cca0-01 outer:exit 2b-035c0bc0718e02f4a43bf4aff40d7b4ed4d2ccd5-a4be506bd66da904-01
2021-09-18T00:50:15.566Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:15.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-8012e8d5b0c3898a58eedd87c7064100edc3e2f2-9e3cb20c298082a9-01 outer:exit 2b-8012e8d5b0c3898a58eedd87c7064100edc3e2f2-d6a08eb3ff03a7b7-01
2021-09-18T00:50:15.568Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:15.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-f12433f78c36aa0d796f860e344d3b24e13db90d-85e2536278a10df7-01 outer:exit 2b-f12433f78c36aa0d796f860e344d3b24e13db90d-12ada340865923ab-01
2021-09-18T00:50:15.570Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:15.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-55feabdfb02d5441c7c6f0458d4c57ffc1b16437-2d7c498113251e5f-01 outer:exit 2b-55feabdfb02d5441c7c6f0458d4c57ffc1b16437-23945a46b2bc5235-01
2021-09-18T00:50:15.575Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:15.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-731379624d790a6fbee5d367f208d82026d43370-e7a11088911ea8f0-01 outer:exit 2b-731379624d790a6fbee5d367f208d82026d43370-ee18aa61a5e42811-01
2021-09-18T00:50:15.578Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:15.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b177c95e3643df68d4785430cdf9f3e8975a9a7-3518a39d603d44e7-01 outer:exit 2b-2b177c95e3643df68d4785430cdf9f3e8975a9a7-d174b9b5ded198f8-01
2021-09-18T00:50:15.589Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:15.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-06692bad9b89350eacadf75020e1fbb56f3b1a5e-63b77d4e638bf446-01 outer:exit 2b-06692bad9b89350eacadf75020e1fbb56f3b1a5e-eba4081d408f7b40-01
2021-09-18T00:50:15.595Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:15.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b16c1b11d4f7e307107d2e25c971ba03fa1431-7af487eea8f233bc-01 outer:exit 2b-91b16c1b11d4f7e307107d2e25c971ba03fa1431-c87d9e68dea6234a-01
2021-09-18T00:50:15.597Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:15.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-08e4dd08d0a7b112165e1b63c1c4379efd1c4692-7e7095a774211a21-01 outer:exit 2b-08e4dd08d0a7b112165e1b63c1c4379efd1c4692-382eba1bb789c1f9-01
2021-09-18T00:50:15.599Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:15.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a38f10c04a6cea3fb7e24fc4f6d8e83aff70b14-a2fdb2fcd282ec9a-01 outer:exit 2b-7a38f10c04a6cea3fb7e24fc4f6d8e83aff70b14-ba51527b8beb539e-01
2021-09-18T00:50:15.615Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:15.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-5676ece8e9eb269ccc682ebfe3755139052a78b0-b97b0a8288be90ab-01 outer:exit 2b-5676ece8e9eb269ccc682ebfe3755139052a78b0-34e7571a29b5d0b1-01
2021-09-18T00:50:15.618Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:15.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-35b102c8b1a356925db433869d57ccbefa02a3f3-aa42d9317c800b4a-01 outer:exit 2b-35b102c8b1a356925db433869d57ccbefa02a3f3-66d7b8ffc1723d37-01
2021-09-18T00:50:15.621Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:15.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-f71ad449e06c880e6e6921da450d459b71ee7137-f40352e407bff8cb-01 outer:exit 2b-f71ad449e06c880e6e6921da450d459b71ee7137-dbfb7f6a04498de4-01
2021-09-18T00:50:15.624Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:15.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-63e6f85b93696222eb5f048e9b875c43f3151162-275cb130cf9420e5-01 outer:exit 2b-63e6f85b93696222eb5f048e9b875c43f3151162-82eb728ac266e885-01
2021-09-18T00:50:15.626Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:15.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-32cff781735f3292ffd0ef4bcc45019f4a9912e8-89c820912fcdf8f3-01 outer:exit 2b-32cff781735f3292ffd0ef4bcc45019f4a9912e8-c7867d969c9182a1-01
2021-09-18T00:50:15.628Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:15.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-815411b0357f3734e3d998ba3a7132c0df6188fb-746df3c4af14748b-01 outer:exit 2b-815411b0357f3734e3d998ba3a7132c0df6188fb-762ea6b8f9ede4da-01
2021-09-18T00:50:15.636Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:15.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-739acc6e8b60c20c25069c388855465e3a853281-7be0e6d81791dec6-01 outer:exit 2b-739acc6e8b60c20c25069c388855465e3a853281-3b9379bd00d6eff3-01
2021-09-18T00:50:15.643Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:15.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-435025c5eaaab41a59e1836a0c7da1cadd8c1a7a-8901af0120a11b29-01 outer:exit 2b-435025c5eaaab41a59e1836a0c7da1cadd8c1a7a-69635811986e37f3-01
2021-09-18T00:50:15.645Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:15.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-121fc6eff2f2b0d3c58997a5be60f1803d1e6ebf-6e83757baf57ac95-01 outer:exit 2b-121fc6eff2f2b0d3c58997a5be60f1803d1e6ebf-31b5b9529cf5218b-01
2021-09-18T00:50:15.647Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:15.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-39f0594ffeef6a27550c16d4c3969ae3e0bf22e3-51495785abe07bdb-01 outer:exit 2b-39f0594ffeef6a27550c16d4c3969ae3e0bf22e3-818aed6f362dd9d7-01
2021-09-18T00:50:15.650Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:15.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b04db1d74fb58d9ba6d0b1344ea5778c419c73f-666cf2565c8aead8-01 outer:exit 2b-2b04db1d74fb58d9ba6d0b1344ea5778c419c73f-06cac6f506de456c-01
2021-09-18T00:50:15.675Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (345ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.4
updated 1 package and audited 1094 packages in 3.786s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:20.343Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:20.343Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:20.343Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:20.344Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:20.399Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:20.430Z appoptics:patching patched crypto 
2021-09-18T00:50:20.450Z appoptics:patching patched https 
2021-09-18T00:50:20.450Z appoptics:patching patched http 
2021-09-18T00:50:20.492Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:20.493Z appoptics:patching patched fs 
2021-09-18T00:50:20.505Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v12.22.6)
2021-09-18T00:50:20.511Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-09-18T00:50:20.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-97822caa7797571ff5dd406de4c27f0cc692f566-2df4edd009ee3a77-01 outer:exit 2b-97822caa7797571ff5dd406de4c27f0cc692f566-f9af8639415620ce-01
2021-09-18T00:50:20.651Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:20.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-c438230104865f21654def67ec4bb2146e08bf17-0056edf311372b09-01 outer:exit 2b-c438230104865f21654def67ec4bb2146e08bf17-97d2c40eba44e5a3-01
2021-09-18T00:50:20.685Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:20.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc05c3e217e27d37a533f26f9cd9f2fe3b51a11f-b071ddce74bd7a56-01 outer:exit 2b-bc05c3e217e27d37a533f26f9cd9f2fe3b51a11f-3e6482b696fab5c2-01
2021-09-18T00:50:20.688Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:20.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-08bb48d6428b70c7d2173ae424941ca3998fe6bd-43fb2c3186e64334-01 outer:exit 2b-08bb48d6428b70c7d2173ae424941ca3998fe6bd-ea5fb84b4e7c10c4-01
2021-09-18T00:50:20.690Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:20.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-218d0349e6eb11f47db8865c483e40e600d2cb4d-c4ba50032aaf4fe6-01 outer:exit 2b-218d0349e6eb11f47db8865c483e40e600d2cb4d-cdd09fdeadfe1831-01
2021-09-18T00:50:20.694Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:20.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e079a8556720b8ac7a3fe17b8aa240bf009fd0f-10db0bb4f04ae3e6-01 outer:exit 2b-5e079a8556720b8ac7a3fe17b8aa240bf009fd0f-d77e2e9abbd66e7e-01
2021-09-18T00:50:20.697Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:20.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d9e4cbd2112794b2beed56f2f62bd5e1c35d20f-59a12d55652c5b37-01 outer:exit 2b-7d9e4cbd2112794b2beed56f2f62bd5e1c35d20f-f7085b7059fdd93f-01
2021-09-18T00:50:20.699Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:20.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-1af40b22522121969a65f8bbb04a02f387cf59f1-baba59e9b651c3b9-01 outer:exit 2b-1af40b22522121969a65f8bbb04a02f387cf59f1-114f5eb68422130d-01
2021-09-18T00:50:20.701Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:20.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-82205a23c9d6be366d204c109dfb42182e041dc9-e7e1627a59ab6f77-01 outer:exit 2b-82205a23c9d6be366d204c109dfb42182e041dc9-9070c297826c8b0c-01
2021-09-18T00:50:20.703Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:20.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-41bbb2e98f8f6a8debec42df87df99f0d446d38a-277b9d760db7b13f-01 outer:exit 2b-41bbb2e98f8f6a8debec42df87df99f0d446d38a-527836b16f8ec04c-01
2021-09-18T00:50:20.706Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:20.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-c23fc178d8d95b1b299a2ef4ec8e54867888cf79-2f546546c9ff186f-01 outer:exit 2b-c23fc178d8d95b1b299a2ef4ec8e54867888cf79-d0ea0e914524ba81-01
2021-09-18T00:50:20.709Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:20.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-0002f4ad13a64c3f31a6f176d5a1ede788f7bff8-47f237798d1758c2-01 outer:exit 2b-0002f4ad13a64c3f31a6f176d5a1ede788f7bff8-656e153cb1840397-01
2021-09-18T00:50:20.714Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:20.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb51a83067ef3bcf0fddb58d875499ac02d61a45-f4c32638c3d980fb-01 outer:exit 2b-eb51a83067ef3bcf0fddb58d875499ac02d61a45-49fbc6e193dba4b3-01
2021-09-18T00:50:20.726Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:20.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-7917fe3ddc10c312ad6ca613597859193d26cf96-c038c10de5d26f68-01 outer:exit 2b-7917fe3ddc10c312ad6ca613597859193d26cf96-e95f8a1aea8c715e-01
2021-09-18T00:50:20.777Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:20.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-0173c58ee2aaf1f8165b52655b31f46578d0e3c5-685effba21cdbd60-01 outer:exit 2b-0173c58ee2aaf1f8165b52655b31f46578d0e3c5-00d590516f88c894-01
2021-09-18T00:50:20.783Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:20.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-c324157b2aa9deabcba6b80ab548a167149e9b8c-3eebabb42a268035-01 outer:exit 2b-c324157b2aa9deabcba6b80ab548a167149e9b8c-4ea61d1b561b69f6-01
2021-09-18T00:50:20.785Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:20.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcecf1fc0613230996a54c5ab52fb170c32de4d0-789dd28af391a5ba-01 outer:exit 2b-fcecf1fc0613230996a54c5ab52fb170c32de4d0-666da522dae776c6-01
2021-09-18T00:50:20.787Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:20.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-b61a954b8e80a2995d81108324e66f8d8e5c66cf-ec5501824eec821d-01 outer:exit 2b-b61a954b8e80a2995d81108324e66f8d8e5c66cf-a190455aefe9a148-01
2021-09-18T00:50:20.789Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:20.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-22880adfc360d1e2ec9a113545ee5369b404a05d-f134a68290f64b2b-01 outer:exit 2b-22880adfc360d1e2ec9a113545ee5369b404a05d-f68015c9d475d8f8-01
2021-09-18T00:50:20.791Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:20.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-f27cacde9aec94ce97580ac62fb96ab9fdc74db5-7932e3ce450850d1-01 outer:exit 2b-f27cacde9aec94ce97580ac62fb96ab9fdc74db5-0b76237ed5aa5f17-01
2021-09-18T00:50:20.792Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:20.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c564d28d4913e33deaf03ba8f6610da9713d2c7-0ac52547fd8d8526-01 outer:exit 2b-6c564d28d4913e33deaf03ba8f6610da9713d2c7-4d8886511986cd77-01
2021-09-18T00:50:20.794Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:20.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-d01026946f8218d219c7fa321212a44f2da2ecc4-b3f935ae5f1ab192-01 outer:exit 2b-d01026946f8218d219c7fa321212a44f2da2ecc4-d73e43b35e041ce9-01
2021-09-18T00:50:20.796Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:20.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-a81e799c3ff818711d7e7e1d876173d0ec7fd7f2-7935abebbdb3d4ec-01 outer:exit 2b-a81e799c3ff818711d7e7e1d876173d0ec7fd7f2-582265ec5eff5cdc-01
2021-09-18T00:50:20.802Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:20.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f7f21d2f89030307e26f1584fc30897260f6951-0600a94c9c73ae20-01 outer:exit 2b-9f7f21d2f89030307e26f1584fc30897260f6951-9679751c753d3814-01
2021-09-18T00:50:20.817Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:20.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-649ea32217605b4d21ab29d62e0b13766043edba-487a71d07dd6d1fa-01 outer:exit 2b-649ea32217605b4d21ab29d62e0b13766043edba-b7466bb94d280140-01
2021-09-18T00:50:20.822Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:20.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-696a072ad67653c11a60d62656ebc1cebb267fd1-195388bda70f7f97-01 outer:exit 2b-696a072ad67653c11a60d62656ebc1cebb267fd1-a673aafeb03ff754-01
2021-09-18T00:50:20.824Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:20.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-13041a1b49cbe8cd1c751f67974359d60ff30f69-f22a97629109c4b2-01 outer:exit 2b-13041a1b49cbe8cd1c751f67974359d60ff30f69-9890b57aa8db5038-01
2021-09-18T00:50:20.829Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:20.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8b0dd20ae5bead5a97dc0529ef05d10380d717b-78ae21bda389769a-01 outer:exit 2b-c8b0dd20ae5bead5a97dc0529ef05d10380d717b-18fbc04a2643eb9c-01
2021-09-18T00:50:20.833Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:20.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a15283385dbd8cb06ca7766f693090883747328-315bfa6c8d77e839-01 outer:exit 2b-9a15283385dbd8cb06ca7766f693090883747328-a3d8a56786c4f095-01
2021-09-18T00:50:20.841Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:20.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f42b3df4b0c1ab665223d870facc5ad39061f5a-9629ad963a9bfe43-01 outer:exit 2b-3f42b3df4b0c1ab665223d870facc5ad39061f5a-dc5a2fd67e115b7a-01
2021-09-18T00:50:20.847Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:20.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-16c3aa1ed5d9e18bd58d760209b89b703fb859ae-72ac51b0ed573045-01 outer:exit 2b-16c3aa1ed5d9e18bd58d760209b89b703fb859ae-0daa6f12057d0222-01
2021-09-18T00:50:20.849Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:20.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9a93903bedc87e6ee9aa37cb07c310d89ae35c6-b20058cfa86c7835-01 outer:exit 2b-e9a93903bedc87e6ee9aa37cb07c310d89ae35c6-7ae07831488be7fe-01
2021-09-18T00:50:20.851Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:20.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-a273d48d8ad3dee16b8c3a1b96ac91bb514a0786-89c0769770d2ba57-01 outer:exit 2b-a273d48d8ad3dee16b8c3a1b96ac91bb514a0786-5b13e021e80aeb29-01
2021-09-18T00:50:20.856Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:20.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-93d2dae6bc78ef399c6c57929e56be07f7de4744-83437c7f37deff31-01 outer:exit 2b-93d2dae6bc78ef399c6c57929e56be07f7de4744-378c704abc8521b8-01
2021-09-18T00:50:20.858Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:20.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-6adfa6e99cbbc1b1b0b55d0ea1913fcd0c6168be-6ac5edca8517ac96-01 outer:exit 2b-6adfa6e99cbbc1b1b0b55d0ea1913fcd0c6168be-dc7c35d862944e6a-01
2021-09-18T00:50:20.860Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:20.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-a73508dd4c2a80d89bd395dee95c34eca179632e-8716bc036ad70246-01 outer:exit 2b-a73508dd4c2a80d89bd395dee95c34eca179632e-a7334f41ca72bc4d-01
2021-09-18T00:50:20.861Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:20.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-bda9491d868f91ff5df6104849b3d1ca8eb4d82c-eeb40bd60482043f-01 outer:exit 2b-bda9491d868f91ff5df6104849b3d1ca8eb4d82c-ccca10baf32dd6f3-01
2021-09-18T00:50:20.863Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:20.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-b11f9b0d9257aeed5b9202518a2d8a61315c68f7-854cecd6ff4ab297-01 outer:exit 2b-b11f9b0d9257aeed5b9202518a2d8a61315c68f7-d90aa793a4b3e70c-01
2021-09-18T00:50:20.865Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:20.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-31fa6a6a1ce0977f8bee51e557dc075527c5de08-0548d71bedc06dca-01 outer:exit 2b-31fa6a6a1ce0977f8bee51e557dc075527c5de08-bfa6c039339bf30b-01
2021-09-18T00:50:20.875Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:20.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-e135b138eeca5780f3f3f35c5d505df9ea555f3a-f28d4edc2246122d-01 outer:exit 2b-e135b138eeca5780f3f3f35c5d505df9ea555f3a-c44693d9b200268b-01
2021-09-18T00:50:20.887Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:20.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-b17e0ce2bb6edab0a4a4f11bc4a9f06da15494e2-ad81cf220fcd12ac-01 outer:exit 2b-b17e0ce2bb6edab0a4a4f11bc4a9f06da15494e2-83b4e6c6a892e0e4-01
2021-09-18T00:50:20.889Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:20.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-53bd2fc8f955a5b3cf0979871b8d9442430c15fa-9cfbb19ce7b46940-01 outer:exit 2b-53bd2fc8f955a5b3cf0979871b8d9442430c15fa-65302b3a326e951b-01
2021-09-18T00:50:20.892Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:20.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d9db15a02ad62bee64c4a4df797ba6896cefa61-8df71bed5399d2a4-01 outer:exit 2b-0d9db15a02ad62bee64c4a4df797ba6896cefa61-f641d89b11507548-01
2021-09-18T00:50:20.894Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:20.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6aebfbe369999e58ab130afb2bbfdfb3e4f345b-be6e581b943fd9a1-01 outer:exit 2b-b6aebfbe369999e58ab130afb2bbfdfb3e4f345b-45b844b9a17ffb4e-01
2021-09-18T00:50:20.918Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (295ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.5
updated 1 package and audited 1094 packages in 5.059s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:26.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:26.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:26.821Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:26.822Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:26.878Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:26.907Z appoptics:patching patched crypto 
2021-09-18T00:50:26.927Z appoptics:patching patched https 
2021-09-18T00:50:26.928Z appoptics:patching patched http 
2021-09-18T00:50:26.966Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:26.966Z appoptics:patching patched fs 
2021-09-18T00:50:26.979Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v12.22.6)
2021-09-18T00:50:26.984Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-09-18T00:50:27.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-b37b4eafa581c6058fd1bbfb4af1e09017f5fec7-ba5ec1e6c095885a-01 outer:exit 2b-b37b4eafa581c6058fd1bbfb4af1e09017f5fec7-60596e342fc476f4-01
2021-09-18T00:50:27.123Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:27.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-f73dcad3fecc43f95d54ba5b26b3de4387d10824-87531f59750b59aa-01 outer:exit 2b-f73dcad3fecc43f95d54ba5b26b3de4387d10824-54cc5e967d651ecf-01
2021-09-18T00:50:27.185Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:27.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9c76391d66c7fbee616ef4f5220af8777c38fd1-bce5cf9669d3003f-01 outer:exit 2b-f9c76391d66c7fbee616ef4f5220af8777c38fd1-6991842c771a9d6b-01
2021-09-18T00:50:27.188Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:27.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ab02ca2193efab5df8b5f8e8559a254a8c519f-6099c23354ec4675-01 outer:exit 2b-b8ab02ca2193efab5df8b5f8e8559a254a8c519f-021db9b5ca41e743-01
2021-09-18T00:50:27.190Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:27.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-614124c1ea4acda782399f4ca96b5d6674b7cd85-69e3d3e378443eed-01 outer:exit 2b-614124c1ea4acda782399f4ca96b5d6674b7cd85-6f2786983b49d9e3-01
2021-09-18T00:50:27.194Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:27.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-2abbd8a5902243b6dacb54cc5a006b7fcefffdc2-9fdbfbc0c85c23f7-01 outer:exit 2b-2abbd8a5902243b6dacb54cc5a006b7fcefffdc2-edca6b891fd1754a-01
2021-09-18T00:50:27.197Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:27.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d92b75f87067061e0699511720d6f27c1bf0e95-3bd0c97fc061eb42-01 outer:exit 2b-9d92b75f87067061e0699511720d6f27c1bf0e95-663d6cd91b99db7f-01
2021-09-18T00:50:27.199Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:27.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-b45e1f42169339b2643e6c7bc80f2db0c3089114-b990169c1b667ff4-01 outer:exit 2b-b45e1f42169339b2643e6c7bc80f2db0c3089114-ba02784f6d2e5a26-01
2021-09-18T00:50:27.201Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:27.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c01d3063eef0dd7ae39c7f4df9e5e6041a3c73a-5e8ca78bbf1e0516-01 outer:exit 2b-7c01d3063eef0dd7ae39c7f4df9e5e6041a3c73a-fd66c918783a1675-01
2021-09-18T00:50:27.203Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:27.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-0726d52aa97c33a4d2afa06b376b8591f2f62515-c799f31c2c18202b-01 outer:exit 2b-0726d52aa97c33a4d2afa06b376b8591f2f62515-5b2e751d90b0eab3-01
2021-09-18T00:50:27.205Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:27.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-a161de4ee33ec4500cb474e620662f2db2851f5e-3a69fbd2fb86f9ba-01 outer:exit 2b-a161de4ee33ec4500cb474e620662f2db2851f5e-9dcb13cf2deb5022-01
2021-09-18T00:50:27.209Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:27.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9a29d32774f2a0c6ce390e429abc50a1a66d32b-e3588c733e6c9d02-01 outer:exit 2b-f9a29d32774f2a0c6ce390e429abc50a1a66d32b-a4c215f09e552e4c-01
2021-09-18T00:50:27.214Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:27.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1e82ba0c042b202b928b13f9360ecc330eda555-28f70fef50fe6783-01 outer:exit 2b-a1e82ba0c042b202b928b13f9360ecc330eda555-5de805cfc1acb3b2-01
2021-09-18T00:50:27.225Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:27.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-a775a3bd06b401c7c430d70a75e4510a3d2d3c02-34121218795253af-01 outer:exit 2b-a775a3bd06b401c7c430d70a75e4510a3d2d3c02-3ee0ad817a0227bc-01
2021-09-18T00:50:27.285Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:27.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-db39fbdee80337032f30715468a7c840cf377c7c-47f3e9966c189e0f-01 outer:exit 2b-db39fbdee80337032f30715468a7c840cf377c7c-8b684fdab905c3e8-01
2021-09-18T00:50:27.288Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:27.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-061993dc08c0af51edfef007c0d9a564b5670094-da586a81b4558dcd-01 outer:exit 2b-061993dc08c0af51edfef007c0d9a564b5670094-e0c63256c0f00ae7-01
2021-09-18T00:50:27.290Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:27.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-e07bd42a833b7223eaa5bcc7a8ebcc3675fb70bc-c182e1917e155f7b-01 outer:exit 2b-e07bd42a833b7223eaa5bcc7a8ebcc3675fb70bc-b5fd091a0f398bf4-01
2021-09-18T00:50:27.292Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:27.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6fd72c67558ab372dbc0d01004227757ea31eb4-75a3672366b3034d-01 outer:exit 2b-f6fd72c67558ab372dbc0d01004227757ea31eb4-daf690b876430298-01
2021-09-18T00:50:27.294Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:27.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bf9435751300895834b7f3d3dfdd73eda0fbabd-7d9996bf14095959-01 outer:exit 2b-2bf9435751300895834b7f3d3dfdd73eda0fbabd-565a5fa993e4f967-01
2021-09-18T00:50:27.297Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:27.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e8fd2ef8da4c3a6ea353e259da1334064789c86-084eb39fb1c12220-01 outer:exit 2b-4e8fd2ef8da4c3a6ea353e259da1334064789c86-1bcc3b95f85c81b9-01
2021-09-18T00:50:27.301Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:27.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-427ea2a301c69b07344c0f159e4818887b7f039f-4e027255119b88d0-01 outer:exit 2b-427ea2a301c69b07344c0f159e4818887b7f039f-8bb86fed1175c7ef-01
2021-09-18T00:50:27.303Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:27.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-45e777f566e8d35f4c3bb98097120d07128721b7-42873a276253de7e-01 outer:exit 2b-45e777f566e8d35f4c3bb98097120d07128721b7-f539f781f134d70f-01
2021-09-18T00:50:27.305Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:27.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f0efacb349c288a2451c9b39c7a58439f38152e-bb08aa4524555aec-01 outer:exit 2b-5f0efacb349c288a2451c9b39c7a58439f38152e-1c7cac2bc2fa51e8-01
2021-09-18T00:50:27.313Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:27.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-20cde3fc57ce399fbd4bc7c8d659105d147a4b0b-7ee1f20666fad6a0-01 outer:exit 2b-20cde3fc57ce399fbd4bc7c8d659105d147a4b0b-58944e19f5d28e89-01
2021-09-18T00:50:27.324Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:27.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a9aaff37c938b7790a311c2cc20320a1959ce3b-e4beb514ab567b73-01 outer:exit 2b-5a9aaff37c938b7790a311c2cc20320a1959ce3b-abccdc5bfb09bcdb-01
2021-09-18T00:50:27.329Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:27.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-9229cbc8af7f5509c7767a70a40146f9782567c6-8d56f09765e93c36-01 outer:exit 2b-9229cbc8af7f5509c7767a70a40146f9782567c6-b37af00fff6c6831-01
2021-09-18T00:50:27.343Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:27.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-f04d69e0c11122ae4182378e1426bd7e72a8629f-a2292d00b7d60329-01 outer:exit 2b-f04d69e0c11122ae4182378e1426bd7e72a8629f-fe097a7e37a51ef9-01
2021-09-18T00:50:27.349Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:27.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5ca065c62f47ec044eec1635c0c00f96f66f192-2ce8596b4f15a177-01 outer:exit 2b-a5ca065c62f47ec044eec1635c0c00f96f66f192-41452ff8e2f96272-01
2021-09-18T00:50:27.353Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:27.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-cad7202774763e636f24c6728932fa917e2c3173-1e531e621560b45c-01 outer:exit 2b-cad7202774763e636f24c6728932fa917e2c3173-da0f80005cb26095-01
2021-09-18T00:50:27.373Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:27.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-f72a8f23d06fb255c08e567056d24d92c030e0f8-c4639ac1258f7e77-01 outer:exit 2b-f72a8f23d06fb255c08e567056d24d92c030e0f8-d0e9860ff0cbb42a-01
2021-09-18T00:50:27.382Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:27.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7e49bee7dfe0bd9fe5a58825d5edee52275696a-e5e7666f922d01f3-01 outer:exit 2b-f7e49bee7dfe0bd9fe5a58825d5edee52275696a-49f3058f7d8975b9-01
2021-09-18T00:50:27.384Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:27.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aa8b5b30b31d346bbfc6ff8414478ca99265131-a922952ad24c18a7-01 outer:exit 2b-2aa8b5b30b31d346bbfc6ff8414478ca99265131-e780f0156ca0d87e-01
2021-09-18T00:50:27.386Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:27.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-19ae6e1a671f354aed306f86ce6c3a406b4dd20a-05241de5ee802f32-01 outer:exit 2b-19ae6e1a671f354aed306f86ce6c3a406b4dd20a-ecb3df0c396d08f5-01
2021-09-18T00:50:27.396Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:27.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eeb1fc72d769469cd55f54f9b1d6842ea422524-2587261bc23513c8-01 outer:exit 2b-3eeb1fc72d769469cd55f54f9b1d6842ea422524-1f39f132af6eed84-01
2021-09-18T00:50:27.401Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:27.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd02c38304e976f1d2a0748d0b11a90e62c71948-4d7f24e39d19f140-01 outer:exit 2b-bd02c38304e976f1d2a0748d0b11a90e62c71948-2c18111179664d05-01
2021-09-18T00:50:27.403Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:27.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-c60b86e17d9a1296fb772e075c083878c1957e39-314d2b50d3314e34-01 outer:exit 2b-c60b86e17d9a1296fb772e075c083878c1957e39-4664249480281768-01
2021-09-18T00:50:27.406Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:27.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9a451e51494f1a4fe46283c2564e75bc89afab8-bb5f8aa0dd41a692-01 outer:exit 2b-d9a451e51494f1a4fe46283c2564e75bc89afab8-2f8b1722f8be89b0-01
2021-09-18T00:50:27.408Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:27.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-78e419ecb7e0b198fc3ec6f14265df2a049a5934-8a294ce4b125242f-01 outer:exit 2b-78e419ecb7e0b198fc3ec6f14265df2a049a5934-262092c3c45a1b8b-01
2021-09-18T00:50:27.410Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:27.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f9d88dcd2ea1a08d8738a1c77216c327b369fbc-35c8a15bc47518ee-01 outer:exit 2b-6f9d88dcd2ea1a08d8738a1c77216c327b369fbc-401722b59003624c-01
2021-09-18T00:50:27.420Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:27.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-475e1923ce77c53dca7441bbf84600f9fd57b3f8-2171026944e62264-01 outer:exit 2b-475e1923ce77c53dca7441bbf84600f9fd57b3f8-bf4d0fdd9f23feb0-01
2021-09-18T00:50:27.426Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:27.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2f1004c5e9594a34c5e7cf1c5838330b65e8a62-42d135e6d75c306b-01 outer:exit 2b-e2f1004c5e9594a34c5e7cf1c5838330b65e8a62-7bb39c5d8a3db18f-01
2021-09-18T00:50:27.429Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:27.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-726d860fd6930be499eee3acbb0f40fa46e2c666-20ec10502bde4d07-01 outer:exit 2b-726d860fd6930be499eee3acbb0f40fa46e2c666-455d904db8966336-01
2021-09-18T00:50:27.431Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:27.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-0974223d296cbd8d9d5b8d1d551b3b37d8bb5b8f-3e649718c099fb83-01 outer:exit 2b-0974223d296cbd8d9d5b8d1d551b3b37d8bb5b8f-8af60f9ce0e922cf-01
2021-09-18T00:50:27.434Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:27.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-191051510c11aa52a5175121708d891f22d2ca22-a8e12e18de8b0825-01 outer:exit 2b-191051510c11aa52a5175121708d891f22d2ca22-034260074f6dfec4-01
2021-09-18T00:50:27.462Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (369ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.6
updated 1 package and audited 1094 packages in 3.662s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:31.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:31.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:31.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:31.989Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:32.044Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:32.072Z appoptics:patching patched crypto 
2021-09-18T00:50:32.098Z appoptics:patching patched https 
2021-09-18T00:50:32.098Z appoptics:patching patched http 
2021-09-18T00:50:32.135Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:32.135Z appoptics:patching patched fs 
2021-09-18T00:50:32.148Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v12.22.6)
2021-09-18T00:50:32.154Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-09-18T00:50:32.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-06ce02bb7a92b28f498fdbb2acf48da27eed42cd-77449335ea270c1f-01 outer:exit 2b-06ce02bb7a92b28f498fdbb2acf48da27eed42cd-440c79dbd515b49b-01
2021-09-18T00:50:32.317Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:32.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f2b7bf9063c51af61511bfeb5be3ec893916b4-d5765d4b58365ab7-01 outer:exit 2b-29f2b7bf9063c51af61511bfeb5be3ec893916b4-6a75660d6e861d4f-01
2021-09-18T00:50:32.379Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:32.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-617b8861b5a5f5e230dc272cef96384746575641-2a3025e3d1e7d64b-01 outer:exit 2b-617b8861b5a5f5e230dc272cef96384746575641-9c4345a207bf95eb-01
2021-09-18T00:50:32.382Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:32.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdb2d09a7cbafa342674c14e2bd959575fe1fa27-b1f0d6bcd3d54784-01 outer:exit 2b-bdb2d09a7cbafa342674c14e2bd959575fe1fa27-9538e2589e4160df-01
2021-09-18T00:50:32.384Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:32.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-245e983ef531e8795147d3a89e611c6a02c43004-bf7b6c1558a3873b-01 outer:exit 2b-245e983ef531e8795147d3a89e611c6a02c43004-1562e4dad433159c-01
2021-09-18T00:50:32.388Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:32.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-beed96688fb9ef930815411b5c2cd87fb6fc50f4-396c214d4ce509ad-01 outer:exit 2b-beed96688fb9ef930815411b5c2cd87fb6fc50f4-36c6914d237d9112-01
2021-09-18T00:50:32.391Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:32.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-eebdcbb25ceeb319e6ad9e62dbd2f0985fb0a6d1-0cc78aac963468e2-01 outer:exit 2b-eebdcbb25ceeb319e6ad9e62dbd2f0985fb0a6d1-a53587a3e6bc0772-01
2021-09-18T00:50:32.393Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:32.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c411d56b45db4465ee2e54a314e48b8145bbef-58827c116814ce25-01 outer:exit 2b-71c411d56b45db4465ee2e54a314e48b8145bbef-4df5abc6e2f9657d-01
2021-09-18T00:50:32.395Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:32.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-f187856f624ea4b701f2e5fef25fb1ffd7bb0e4e-8d5618d0629285dd-01 outer:exit 2b-f187856f624ea4b701f2e5fef25fb1ffd7bb0e4e-e39b8eaac79c5a1e-01
2021-09-18T00:50:32.397Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:32.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ced9e80edf78faaa60dfbc2b5b923d1177734e6-25cb9891a218b1c6-01 outer:exit 2b-0ced9e80edf78faaa60dfbc2b5b923d1177734e6-c0ade98c4142877b-01
2021-09-18T00:50:32.400Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:32.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-993a658d7b11c32368ad3787cddf14170d0bb267-75a5190a26e22102-01 outer:exit 2b-993a658d7b11c32368ad3787cddf14170d0bb267-cd9320bbfbb1f742-01
2021-09-18T00:50:32.403Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:32.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-9278225fb3ba7eaa5632bea41ef445df14d25a45-dad5c48901249cfd-01 outer:exit 2b-9278225fb3ba7eaa5632bea41ef445df14d25a45-d8a60119e7dee6aa-01
2021-09-18T00:50:32.408Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:32.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf65b717335a8302e62ece2d134bdcdda7ec5b77-53ff8e15f1b13070-01 outer:exit 2b-bf65b717335a8302e62ece2d134bdcdda7ec5b77-ae198283962f8e09-01
2021-09-18T00:50:32.423Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:32.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-46d079a613045427d6cd3e9639edc3029c55c96e-04f85aec71d80a0b-01 outer:exit 2b-46d079a613045427d6cd3e9639edc3029c55c96e-57b27d465f0579a8-01
2021-09-18T00:50:32.479Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:32.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7f9beeef3f5c0b3af87c439987405f46a61e170-ef813dbeaa05725b-01 outer:exit 2b-c7f9beeef3f5c0b3af87c439987405f46a61e170-40228fa64c3448e1-01
2021-09-18T00:50:32.482Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:32.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-da406a61146ae4cfa9ff4b093a05b0d0bbe70869-4cf13f19cca243de-01 outer:exit 2b-da406a61146ae4cfa9ff4b093a05b0d0bbe70869-2bb56f1480e7cc15-01
2021-09-18T00:50:32.484Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:32.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-47ed901ae9a340a16886289007c3223bfacea250-cdac676f0b2e2172-01 outer:exit 2b-47ed901ae9a340a16886289007c3223bfacea250-9acb8e2885d1db76-01
2021-09-18T00:50:32.486Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:32.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-85c670abf06d0e1b98634ff27410ec2db2bbe59b-7f7a6863fda1ca70-01 outer:exit 2b-85c670abf06d0e1b98634ff27410ec2db2bbe59b-4226e0b71b98755e-01
2021-09-18T00:50:32.488Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:32.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-f957b5a9dad9fb925d7ade9f0d1362587b97b6d6-aeb5737c7981d290-01 outer:exit 2b-f957b5a9dad9fb925d7ade9f0d1362587b97b6d6-891589bbd4bff0e9-01
2021-09-18T00:50:32.490Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:32.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-880e336ff1a3b48865660a47147b86a5cbc90ed3-88b9687c07a4002e-01 outer:exit 2b-880e336ff1a3b48865660a47147b86a5cbc90ed3-f819a9ed677ebe30-01
2021-09-18T00:50:32.492Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:32.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a1d073f92956f6db631ec0edbdeb2daf6394bdd-14f9a37088adfd6f-01 outer:exit 2b-6a1d073f92956f6db631ec0edbdeb2daf6394bdd-57d144873f46a0a2-01
2021-09-18T00:50:32.508Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:32.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-5737f853218c93bd03a474ae7397b3edf1a68fe5-d655cf03d94e0e46-01 outer:exit 2b-5737f853218c93bd03a474ae7397b3edf1a68fe5-dab8ad07bc1b9dab-01
2021-09-18T00:50:32.511Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:32.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-abe2ee3bf52d3aef2304905cd39d9c0d6b9b0a05-dec960e9b21f58c4-01 outer:exit 2b-abe2ee3bf52d3aef2304905cd39d9c0d6b9b0a05-0ff3ff248e0e9874-01
2021-09-18T00:50:32.517Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:32.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea272f74beb0c76c3ad6cb07d9d01c5a6cf21e1d-4c13e1d86b67cdbd-01 outer:exit 2b-ea272f74beb0c76c3ad6cb07d9d01c5a6cf21e1d-023c88a7e87bee39-01
2021-09-18T00:50:32.519Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:32.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-14373ffb2630fb8f5e4b0d403a10827d7f3d3c97-80359e6009626997-01 outer:exit 2b-14373ffb2630fb8f5e4b0d403a10827d7f3d3c97-616748037bf11f83-01
2021-09-18T00:50:32.524Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:32.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-262f5be1aaf91d2d1ea769d4b35074f56b53ff33-2c5664128fa2ac8f-01 outer:exit 2b-262f5be1aaf91d2d1ea769d4b35074f56b53ff33-0408a45c98cdbe3c-01
2021-09-18T00:50:32.526Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:32.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9f465c3c8c99d86b3a6428da2393e4693a96047-861a635d56d6b848-01 outer:exit 2b-b9f465c3c8c99d86b3a6428da2393e4693a96047-427a040a1bee8222-01
2021-09-18T00:50:32.532Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:32.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-67a18e6a62fed93fb4984102a0ccd3260f5cf07b-d37cdf137c396dc8-01 outer:exit 2b-67a18e6a62fed93fb4984102a0ccd3260f5cf07b-a37928fe7e31c85e-01
2021-09-18T00:50:32.535Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:32.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c2e7eb80c4e45848ea2ba879750d7780963209b-69c190760a5ca752-01 outer:exit 2b-2c2e7eb80c4e45848ea2ba879750d7780963209b-d22645c7c4d2a65b-01
2021-09-18T00:50:32.542Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:32.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6726d833dee9d3e3f72ded353fb2cb197530ba2-9a83032ffac711fd-01 outer:exit 2b-b6726d833dee9d3e3f72ded353fb2cb197530ba2-7644cd0962210c2b-01
2021-09-18T00:50:32.547Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:32.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fac28921b7317f0b4e5f8564d668df4e7ad9543-0012c386cfc17977-01 outer:exit 2b-7fac28921b7317f0b4e5f8564d668df4e7ad9543-0f9339f65d5d260e-01
2021-09-18T00:50:32.549Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:32.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c17680817725201097091fdbc673c85a6ff6aad-84fa37fa309bf2dc-01 outer:exit 2b-1c17680817725201097091fdbc673c85a6ff6aad-c2c601ac168f3ded-01
2021-09-18T00:50:32.551Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:32.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e1d9b24095cfe0c788d756e2ea7a38ab8f9ad52-aeaeb215933c0935-01 outer:exit 2b-0e1d9b24095cfe0c788d756e2ea7a38ab8f9ad52-44ab4dd672f1f153-01
2021-09-18T00:50:32.557Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:32.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-c14ad8edc1ae092cb23e655a5669ae90df121624-9797eb6901eb1637-01 outer:exit 2b-c14ad8edc1ae092cb23e655a5669ae90df121624-e293326bf0fca996-01
2021-09-18T00:50:32.559Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:32.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-e325d0e3a34446ad243b43caafc3f33311e9bf4c-6a19aced29072164-01 outer:exit 2b-e325d0e3a34446ad243b43caafc3f33311e9bf4c-a565ad936ec33a8f-01
2021-09-18T00:50:32.560Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:32.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ef2918a4161eb7a7bce9483cd47de141840dd8c-37c575274f45f8bc-01 outer:exit 2b-9ef2918a4161eb7a7bce9483cd47de141840dd8c-9b4373cd711d2402-01
2021-09-18T00:50:32.562Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:32.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c487ba271db049ce46878f7e78488996e468703-8dd676e5165cf4b3-01 outer:exit 2b-5c487ba271db049ce46878f7e78488996e468703-a51f3794f7a4e3f5-01
2021-09-18T00:50:32.564Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:32.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3392e863bbcfbcbf92f1325de1ac67f8fd59cb7-0f6479ffe80d8bf8-01 outer:exit 2b-b3392e863bbcfbcbf92f1325de1ac67f8fd59cb7-993070b37d339094-01
2021-09-18T00:50:32.566Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:32.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcbf46a6bd8a50f0376b36a6c2a7a517ca44c6a5-63ae5699909d09df-01 outer:exit 2b-bcbf46a6bd8a50f0376b36a6c2a7a517ca44c6a5-c15d392686e8866f-01
2021-09-18T00:50:32.572Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:32.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-1085c39495b07938fdf3ae5c74eaed3258cd2568-8c5d80b5fc182546-01 outer:exit 2b-1085c39495b07938fdf3ae5c74eaed3258cd2568-a12f19bb3919504c-01
2021-09-18T00:50:32.579Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:32.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-969ba3bbad1c1897db25c16455e5da1b33603192-3baf05b5ff08843b-01 outer:exit 2b-969ba3bbad1c1897db25c16455e5da1b33603192-9c90804ce9d1bf28-01
2021-09-18T00:50:32.581Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:32.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-eed9928bd82bb18320170d72e8c32bfd598f6f3b-ac23f645b8db5730-01 outer:exit 2b-eed9928bd82bb18320170d72e8c32bfd598f6f3b-2b31a6cbd0012d3c-01
2021-09-18T00:50:32.584Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:32.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d5a4ea1c0773ef38e6550c08119db88609bbc60-11c9445888d91b03-01 outer:exit 2b-8d5a4ea1c0773ef38e6550c08119db88609bbc60-610f4f870a6e506f-01
2021-09-18T00:50:32.586Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:32.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4ebfe2535f55656a987db472873fc98820a225-49d17f8799e2e11d-01 outer:exit 2b-de4ebfe2535f55656a987db472873fc98820a225-3cbf7169e76396e9-01
2021-09-18T00:50:32.610Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (323ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.7
updated 1 package and audited 1094 packages in 4.381s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:37.954Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:37.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:37.954Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:37.955Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:38.010Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:38.045Z appoptics:patching patched crypto 
2021-09-18T00:50:38.065Z appoptics:patching patched https 
2021-09-18T00:50:38.065Z appoptics:patching patched http 
2021-09-18T00:50:38.104Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:38.104Z appoptics:patching patched fs 
2021-09-18T00:50:38.117Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v12.22.6)
2021-09-18T00:50:38.123Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-09-18T00:50:38.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-53162732ef5fc940463344ed19b1f23334d7fd6c-f7cea25735e42eb4-01 outer:exit 2b-53162732ef5fc940463344ed19b1f23334d7fd6c-c58309a3b50b7110-01
2021-09-18T00:50:38.273Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:38.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-35031a31a6e735e439bf27280d9f86e76a7928a6-764385cf0cff4860-01 outer:exit 2b-35031a31a6e735e439bf27280d9f86e76a7928a6-d41696cb29eadf98-01
2021-09-18T00:50:38.340Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:38.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-987dbe3d6014c743c3e90cbc6a3a3bedeff7333f-c20be0af8b49b620-01 outer:exit 2b-987dbe3d6014c743c3e90cbc6a3a3bedeff7333f-fe5bc822de830ed9-01
2021-09-18T00:50:38.343Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:38.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-1047294c25a375d13ed75170f0723802bf98e898-6b3de1f0976b2aef-01 outer:exit 2b-1047294c25a375d13ed75170f0723802bf98e898-7eacbc3ddfcf48e7-01
2021-09-18T00:50:38.346Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:38.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-2adeac9b8ba2cf126ff6d5c7a64c2bf1a6a28fbd-46748fa0e8cf98c7-01 outer:exit 2b-2adeac9b8ba2cf126ff6d5c7a64c2bf1a6a28fbd-be9aef4f2db823ca-01
2021-09-18T00:50:38.350Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:38.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-52d5929a3655369a9393ae74f458e6b4ebd577b3-ff311576de963f0a-01 outer:exit 2b-52d5929a3655369a9393ae74f458e6b4ebd577b3-54fbe692be74c395-01
2021-09-18T00:50:38.353Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:38.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4b397488b513515232558f016c32b4093598687-83aa762606be0401-01 outer:exit 2b-c4b397488b513515232558f016c32b4093598687-55580fe272722579-01
2021-09-18T00:50:38.355Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:38.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-5260e8b1434de03bb71535aa5ae4a5411c1c90a9-ff29085de9fe6601-01 outer:exit 2b-5260e8b1434de03bb71535aa5ae4a5411c1c90a9-ff58ba60cf1f2a87-01
2021-09-18T00:50:38.357Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:38.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c9642751d8eff56d4b24887ebff7152a2df0310-ea68c7194e9e0e9a-01 outer:exit 2b-8c9642751d8eff56d4b24887ebff7152a2df0310-42b126209558adf6-01
2021-09-18T00:50:38.359Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:38.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c492b828bd549d41878157a87d5f62e142ae3c4-ce12a527fec40be2-01 outer:exit 2b-0c492b828bd549d41878157a87d5f62e142ae3c4-4380385c2c2e1277-01
2021-09-18T00:50:38.361Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:38.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-79c186d0520060eec9ed100f13e498b526eaccc5-5897719bdce1a2c2-01 outer:exit 2b-79c186d0520060eec9ed100f13e498b526eaccc5-48f7294914d2dbf4-01
2021-09-18T00:50:38.365Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:38.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-723666d0658c4ca0aa6d24ad4a541468769d4eca-714130ef3480336c-01 outer:exit 2b-723666d0658c4ca0aa6d24ad4a541468769d4eca-7da451a6ffda7d28-01
2021-09-18T00:50:38.370Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:38.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-004408fd09af78a96ede3ad131b9d8a8fedc0781-6b580db70b8ee6c9-01 outer:exit 2b-004408fd09af78a96ede3ad131b9d8a8fedc0781-6677747b7e53310e-01
2021-09-18T00:50:38.382Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:38.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-face3a0a36bed63b597d4b770aa3fcc626a4be3d-cb937d50fc43dc8a-01 outer:exit 2b-face3a0a36bed63b597d4b770aa3fcc626a4be3d-7726a8a9acfae6ed-01
2021-09-18T00:50:38.440Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:38.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-cac011589d5c863c29211ed189c902c2a3fa9a8b-64cce1559c78d261-01 outer:exit 2b-cac011589d5c863c29211ed189c902c2a3fa9a8b-abdabb036f53f74f-01
2021-09-18T00:50:38.442Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:38.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0d940edb9dabb840c25cfb2a289c35dff353ce1-5dcfeee37f8b9417-01 outer:exit 2b-a0d940edb9dabb840c25cfb2a289c35dff353ce1-1d8e8cdf5d7d3a42-01
2021-09-18T00:50:38.444Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:38.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-016dff829a1ca672ac6bc854c661b6c174887665-8920b6622a0db6e1-01 outer:exit 2b-016dff829a1ca672ac6bc854c661b6c174887665-129f71b99db91fb5-01
2021-09-18T00:50:38.446Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:38.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-339b3326f7b884a36384dd843d4ead75976d033f-6abce9dd0b3f89b3-01 outer:exit 2b-339b3326f7b884a36384dd843d4ead75976d033f-80b8b860879d54a5-01
2021-09-18T00:50:38.448Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:38.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-45fef0caee82247cb22764e8b90ae84ea864fcb7-1b8b3aac7724afd8-01 outer:exit 2b-45fef0caee82247cb22764e8b90ae84ea864fcb7-99623b641db48f1b-01
2021-09-18T00:50:38.450Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:38.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-5afaf4f10c54d89457585f10e3a144d239f6e832-b2e79693824f53d9-01 outer:exit 2b-5afaf4f10c54d89457585f10e3a144d239f6e832-84809a59473b7f25-01
2021-09-18T00:50:38.452Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:38.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-73c4f621e8e94c7c0f98cacfe9b0502b225af9f6-211f90dd8dfb0010-01 outer:exit 2b-73c4f621e8e94c7c0f98cacfe9b0502b225af9f6-88a7d0d960508287-01
2021-09-18T00:50:38.454Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:38.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-1269d28c9ccda7b551e0b72d7fab2753b78e7db6-647daf8f2db23586-01 outer:exit 2b-1269d28c9ccda7b551e0b72d7fab2753b78e7db6-597698655e6728b7-01
2021-09-18T00:50:38.455Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:38.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8b75876c6345d95f8dc50d03bbe644cef7f8e92-8e4b996de55ab0f9-01 outer:exit 2b-f8b75876c6345d95f8dc50d03bbe644cef7f8e92-b50da9e8e0035b3c-01
2021-09-18T00:50:38.462Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:38.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2ac0b29282c4d8965eecc7836bb79c8b2edab56-0969691a772de33a-01 outer:exit 2b-d2ac0b29282c4d8965eecc7836bb79c8b2edab56-ba9e88bc9f4526f0-01
2021-09-18T00:50:38.478Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:38.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-e115ec145776f611ca614826901aae68c6f16cc8-d1fe2dfa2f3748ca-01 outer:exit 2b-e115ec145776f611ca614826901aae68c6f16cc8-b69e5ae08a67ffa0-01
2021-09-18T00:50:38.480Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:38.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ba87bfb62e6edf672055fd4c4f312e29ee8e1a-1d201c51c25210d0-01 outer:exit 2b-d0ba87bfb62e6edf672055fd4c4f312e29ee8e1a-d18da2c5d36b5973-01
2021-09-18T00:50:38.483Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:38.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-51ed5bfc2c73b064699e9b688e3f52c10b1be3a7-3287097ea8f0500b-01 outer:exit 2b-51ed5bfc2c73b064699e9b688e3f52c10b1be3a7-3df8826bc52f120c-01
2021-09-18T00:50:38.488Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:38.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0bfcad2fa92e272d7f3f09642d1b30fbb1bf263-9be55e250629731a-01 outer:exit 2b-a0bfcad2fa92e272d7f3f09642d1b30fbb1bf263-00fb0756c759e8e4-01
2021-09-18T00:50:38.491Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:38.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce6af07baf0b2c659890d8ab373032cd2de0cbe1-932bcc54ba78a24c-01 outer:exit 2b-ce6af07baf0b2c659890d8ab373032cd2de0cbe1-a363a8467e8205ad-01
2021-09-18T00:50:38.499Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:38.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5cd946f3bd8842f73695ee3eef8fb8290651126-69dfe00c5f6edc00-01 outer:exit 2b-b5cd946f3bd8842f73695ee3eef8fb8290651126-2253e8f381d66d81-01
2021-09-18T00:50:38.505Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:38.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-9864c3bd23d7af19f0abf2992c9566689958dd6f-2ea23a8fc2eba136-01 outer:exit 2b-9864c3bd23d7af19f0abf2992c9566689958dd6f-0981e9bfd0621245-01
2021-09-18T00:50:38.507Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:38.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-2177b11f6c9a9a98e13d169fa7e9c07ce5f1f47d-02e3ff2d94cdbd06-01 outer:exit 2b-2177b11f6c9a9a98e13d169fa7e9c07ce5f1f47d-e0fe6cec531ae67b-01
2021-09-18T00:50:38.509Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:38.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-1149ba9ac7cfc42bc323bf8ed3f4f77715a09b4b-879e9d82a8cd2bab-01 outer:exit 2b-1149ba9ac7cfc42bc323bf8ed3f4f77715a09b4b-31b457471f864d0b-01
2021-09-18T00:50:38.514Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:38.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-78a85ea1222d8e9a359c4ea4cf58feda184f3b2b-a2de4084397cd1b7-01 outer:exit 2b-78a85ea1222d8e9a359c4ea4cf58feda184f3b2b-b0cb85439346dae8-01
2021-09-18T00:50:38.516Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:38.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf6fcd9352804ada1644ffe679e1a34efcc9c35b-60849fc260219af0-01 outer:exit 2b-cf6fcd9352804ada1644ffe679e1a34efcc9c35b-3a0e9eb8a0e8018b-01
2021-09-18T00:50:38.518Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:38.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e1f4eda8238ab723800acf85270dff12dc7e836-a5af17e8f801052b-01 outer:exit 2b-2e1f4eda8238ab723800acf85270dff12dc7e836-0cc86392c5ac391d-01
2021-09-18T00:50:38.520Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:38.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-53886b8d07fd1b9a04cf10ad2ea38e41556a6e1d-9c0a748bb4c2a454-01 outer:exit 2b-53886b8d07fd1b9a04cf10ad2ea38e41556a6e1d-204495b5357fb999-01
2021-09-18T00:50:38.521Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:38.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-600ca6a173e9dceefa5550d920e5c735580afa09-2f008c7bd44d503e-01 outer:exit 2b-600ca6a173e9dceefa5550d920e5c735580afa09-7dd40efabaa1aa70-01
2021-09-18T00:50:38.523Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:38.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-c58c66f6a88ecaae028d003a6e31a072daf6e4e0-4eecea063ab3af16-01 outer:exit 2b-c58c66f6a88ecaae028d003a6e31a072daf6e4e0-cd552e5544879226-01
2021-09-18T00:50:38.530Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:38.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4982706235adbdf8f10614584f468fc8fa49c65-7a1eadb03b4016d8-01 outer:exit 2b-a4982706235adbdf8f10614584f468fc8fa49c65-3b411c2786deee90-01
2021-09-18T00:50:38.537Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:38.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6ca362f96ba2ebf6146e1089c9355732f5973cd-3fe2133c16f8c1bb-01 outer:exit 2b-b6ca362f96ba2ebf6146e1089c9355732f5973cd-a74a90af2d7bd805-01
2021-09-18T00:50:38.539Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:38.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-6429aba40167d335f03f09cf929852127d9465e2-6a51e232b0dd2aff-01 outer:exit 2b-6429aba40167d335f03f09cf929852127d9465e2-1c527b81e89b411d-01
2021-09-18T00:50:38.542Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:38.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-9433425ae329682fb6b5626c9978ec9b47ba2349-93e0ddf29994414a-01 outer:exit 2b-9433425ae329682fb6b5626c9978ec9b47ba2349-689f7c4167c0a19e-01
2021-09-18T00:50:38.544Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:38.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-c712ea715eceb321aeb83294e07741b102a291d8-cc90d46d14cf0f8d-01 outer:exit 2b-c712ea715eceb321aeb83294e07741b102a291d8-4d147772307dcc39-01
2021-09-18T00:50:38.567Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (323ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.8
updated 1 package and audited 1094 packages in 3.744s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:43.189Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:43.190Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:43.190Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:43.190Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:43.246Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:43.275Z appoptics:patching patched crypto 
2021-09-18T00:50:43.294Z appoptics:patching patched https 
2021-09-18T00:50:43.294Z appoptics:patching patched http 
2021-09-18T00:50:43.336Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:43.337Z appoptics:patching patched fs 
2021-09-18T00:50:43.350Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v12.22.6)
2021-09-18T00:50:43.355Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-09-18T00:50:43.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-cddd29a9d96262566d5cf85ecae1a17758aa49ca-35c67ac29e17d61a-01 outer:exit 2b-cddd29a9d96262566d5cf85ecae1a17758aa49ca-ef989a5c0104b974-01
2021-09-18T00:50:43.493Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:43.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2423c84c670f081d4f577268648935d861f69f1-13d5473aed43778e-01 outer:exit 2b-c2423c84c670f081d4f577268648935d861f69f1-d108c02d9bce4545-01
2021-09-18T00:50:43.532Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:43.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-0372977820b3a4e7617be25f682f9f4b0b197053-12f1251f805b7aa8-01 outer:exit 2b-0372977820b3a4e7617be25f682f9f4b0b197053-873f455a98e0f4fa-01
2021-09-18T00:50:43.535Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:43.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-12087b45bdf4a44d3a09bdd320961b13f5cb7025-f8030667f84b54f9-01 outer:exit 2b-12087b45bdf4a44d3a09bdd320961b13f5cb7025-b38aac6380c041bc-01
2021-09-18T00:50:43.537Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:43.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc05fff54515b05c01156ef60331f9b9854cad40-6730e3d69f7c0683-01 outer:exit 2b-cc05fff54515b05c01156ef60331f9b9854cad40-32225db4f5550ae3-01
2021-09-18T00:50:43.541Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:43.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbdefa1cd2f2a8c2aa054cf1230c3ebee4bf8f47-8b97848d3410492c-01 outer:exit 2b-fbdefa1cd2f2a8c2aa054cf1230c3ebee4bf8f47-f796c4a3726a4a9d-01
2021-09-18T00:50:43.544Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:43.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddf3229b22d2096ac15109d9d7e53d1457998493-dd20119b6e4d9c08-01 outer:exit 2b-ddf3229b22d2096ac15109d9d7e53d1457998493-28cf3d399e9de114-01
2021-09-18T00:50:43.546Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:43.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba3ee76be1a23a638e5ae595f3ec62164270d6cd-82912e75779a4f6d-01 outer:exit 2b-ba3ee76be1a23a638e5ae595f3ec62164270d6cd-a5df70103c709699-01
2021-09-18T00:50:43.548Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:43.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d3c15fb10c10edff9dbe80424f4c5309a0b977d-f58b0386c1941d0b-01 outer:exit 2b-5d3c15fb10c10edff9dbe80424f4c5309a0b977d-81761aedeb193906-01
2021-09-18T00:50:43.550Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:43.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-12b4e555cf0423337d1543636ea73f7a82449ea8-095f599466db2be7-01 outer:exit 2b-12b4e555cf0423337d1543636ea73f7a82449ea8-8572c6f02e33fb4c-01
2021-09-18T00:50:43.553Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:43.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-07ecaca79b20ca0bd45a86b110715ca687d77337-0ae0606d00ec5070-01 outer:exit 2b-07ecaca79b20ca0bd45a86b110715ca687d77337-a102c6e3a100eb3f-01
2021-09-18T00:50:43.556Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:43.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3c4a598829beb28521a526d8fe8ef701b02aca0-a418c47ae1a89a4b-01 outer:exit 2b-b3c4a598829beb28521a526d8fe8ef701b02aca0-d48b0b89d368fb2a-01
2021-09-18T00:50:43.562Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:43.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-af8abba3ddf6e1273dd7523840b2ec6abf9ac12d-34532086fc6c7122-01 outer:exit 2b-af8abba3ddf6e1273dd7523840b2ec6abf9ac12d-4bde55a1de7c30e6-01
2021-09-18T00:50:43.574Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:43.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-38818568ba0b57e0e72568f88fd0255498e8663b-7463a04a4a5d50ba-01 outer:exit 2b-38818568ba0b57e0e72568f88fd0255498e8663b-ddab984d71143a3e-01
2021-09-18T00:50:43.632Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:43.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-34ea56d771330e12b522fa85bb6639b76c2c1aab-1196657353794a96-01 outer:exit 2b-34ea56d771330e12b522fa85bb6639b76c2c1aab-8503da63e78a5f83-01
2021-09-18T00:50:43.634Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:43.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-16624a8a017994f68305dba007b457613d9ddcf7-d50bc6dd0081d4e1-01 outer:exit 2b-16624a8a017994f68305dba007b457613d9ddcf7-0936e9ba6b4422b7-01
2021-09-18T00:50:43.636Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:43.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-d36d3ca949d3ae76137520bae44b75b6462ad001-ed9049583032d03c-01 outer:exit 2b-d36d3ca949d3ae76137520bae44b75b6462ad001-b5c2ce1cc3c18e83-01
2021-09-18T00:50:43.639Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:43.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-e537ca3eef8068dfb67dab5f73452fb4398bd63c-03f58ced08be0471-01 outer:exit 2b-e537ca3eef8068dfb67dab5f73452fb4398bd63c-c03f642ffb92704f-01
2021-09-18T00:50:43.641Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:43.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-a42c9d8aa7c147fd4538130bad7dc6251c4927ea-d2e0a610bdfac517-01 outer:exit 2b-a42c9d8aa7c147fd4538130bad7dc6251c4927ea-8a47b2ed7954b2e8-01
2021-09-18T00:50:43.642Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:43.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f264517213995e6537c760724d77b703c2d6f27-499a0ce36084eeab-01 outer:exit 2b-1f264517213995e6537c760724d77b703c2d6f27-dabf67cc234bf998-01
2021-09-18T00:50:43.644Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:43.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-794240598f715a82654b27b19dad94eb3bc553b8-acfcd1b51739323d-01 outer:exit 2b-794240598f715a82654b27b19dad94eb3bc553b8-cf62e2c65b6b95ce-01
2021-09-18T00:50:43.650Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:43.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-61942902a155ac2af40e3a8054c8a6290c0e186e-ec4b131658a19dce-01 outer:exit 2b-61942902a155ac2af40e3a8054c8a6290c0e186e-55bb4a6e3c5dbc51-01
2021-09-18T00:50:43.657Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:43.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-291707133698b5d4702181b2b5685b19ef343086-b4391f108c275738-01 outer:exit 2b-291707133698b5d4702181b2b5685b19ef343086-93fb89dc2b0b79fe-01
2021-09-18T00:50:43.669Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:43.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f1d692bc94acf7b60b8790952072b8d9695a3c9-8e5ebb28bab2a8c2-01 outer:exit 2b-2f1d692bc94acf7b60b8790952072b8d9695a3c9-c9deded169e051df-01
2021-09-18T00:50:43.672Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:43.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-04e694d05faa97f5f2629232f739d7ff8447e1b0-472f09f91791c2db-01 outer:exit 2b-04e694d05faa97f5f2629232f739d7ff8447e1b0-e596e7783c0373e6-01
2021-09-18T00:50:43.674Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:43.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c9bf03c6b1ac925ae7d538afe86106c060df163-7f2d59cf544b961b-01 outer:exit 2b-4c9bf03c6b1ac925ae7d538afe86106c060df163-6604161269cef85c-01
2021-09-18T00:50:43.676Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:43.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-d89c419df067df4bdbe46fce490b32d600856b70-2f700aa8f5d75868-01 outer:exit 2b-d89c419df067df4bdbe46fce490b32d600856b70-0913649fc4469e58-01
2021-09-18T00:50:43.681Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:43.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b9e4987fc1b1206bbc2f325a1a52d47c9213544-8fbca5867c61f6c7-01 outer:exit 2b-8b9e4987fc1b1206bbc2f325a1a52d47c9213544-07c9cd801ef1d19d-01
2021-09-18T00:50:43.685Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:43.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-33c0125d5ab6ae009d51c58de54b5198d8284343-4fa8e497e82e78be-01 outer:exit 2b-33c0125d5ab6ae009d51c58de54b5198d8284343-9f3c2909cf7eede3-01
2021-09-18T00:50:43.692Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:43.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-faafea97bf4905e5e9385e130f1e9a31a880aa0c-01fdea16de9fb853-01 outer:exit 2b-faafea97bf4905e5e9385e130f1e9a31a880aa0c-b946c968e71a5fe4-01
2021-09-18T00:50:43.697Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:43.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-64f1e9c365e893f63506af9c1fcc4d2ae286afe6-516916d6e459221d-01 outer:exit 2b-64f1e9c365e893f63506af9c1fcc4d2ae286afe6-dc457cb5f3e4ce64-01
2021-09-18T00:50:43.699Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:43.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-77f7205c9af5184e38cb1ba6d55010c9fdbfa909-f25a0b98a3b1e8d4-01 outer:exit 2b-77f7205c9af5184e38cb1ba6d55010c9fdbfa909-2faf3b6e29501047-01
2021-09-18T00:50:43.701Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:43.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-22311da15226b6580f75e6798b6197efd88a836d-e0846f236dbed4db-01 outer:exit 2b-22311da15226b6580f75e6798b6197efd88a836d-ae5ada7892490460-01
2021-09-18T00:50:43.707Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:43.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-78bcd6c0f88f2645e706743a5c85a0707800f76f-a9acf2917562da95-01 outer:exit 2b-78bcd6c0f88f2645e706743a5c85a0707800f76f-c738fe3dc543c578-01
2021-09-18T00:50:43.709Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:43.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf471c334ce81c3b10f24e8d13e0d53c12f58478-1f6ec96c11dc4c15-01 outer:exit 2b-bf471c334ce81c3b10f24e8d13e0d53c12f58478-f3eab3da551b5249-01
2021-09-18T00:50:43.710Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:43.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-880b1f3de1b522a26ca3c76020a76a78ddc17310-9944b5fa9d0dbea0-01 outer:exit 2b-880b1f3de1b522a26ca3c76020a76a78ddc17310-736a72d605addcfa-01
2021-09-18T00:50:43.712Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:43.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-5beaf26bdacb7137c548e58363779ddf395afa6d-5416ef968c951a20-01 outer:exit 2b-5beaf26bdacb7137c548e58363779ddf395afa6d-c9fa773f23a9efc1-01
2021-09-18T00:50:43.714Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:43.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef5973aa2467e24902e1e1a4bd7613e5e9f05e9-db2c9b75620f9a9e-01 outer:exit 2b-3ef5973aa2467e24902e1e1a4bd7613e5e9f05e9-453948ee0bbdf0be-01
2021-09-18T00:50:43.715Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:43.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-e441e06879fc2eb85e2fbea7e510cf9dfa0f28cf-221df1ecac46e679-01 outer:exit 2b-e441e06879fc2eb85e2fbea7e510cf9dfa0f28cf-7c93d52dd5dce73e-01
2021-09-18T00:50:43.723Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:43.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed873da29a2934a41d095ad3ac9f535ee9809df4-3e00174c666cb74f-01 outer:exit 2b-ed873da29a2934a41d095ad3ac9f535ee9809df4-b1cb214d37a4f79b-01
2021-09-18T00:50:43.730Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:43.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b56c2de35ba3c2d8ea36b0f253ea95b42f0c8c1-2b80a77f109d9e50-01 outer:exit 2b-5b56c2de35ba3c2d8ea36b0f253ea95b42f0c8c1-4d60dd533859ce32-01
2021-09-18T00:50:43.733Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:43.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-6821852c7a1e696b76d3d09f96589fbca71247d8-b11e82aa13bb4f7e-01 outer:exit 2b-6821852c7a1e696b76d3d09f96589fbca71247d8-d05e91bfb227a340-01
2021-09-18T00:50:43.735Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:43.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-6008a0778f42aed45fe505db06b0ba50211987be-c0418a1a1cb8ddd1-01 outer:exit 2b-6008a0778f42aed45fe505db06b0ba50211987be-f3b941415e301d39-01
2021-09-18T00:50:43.737Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:43.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-f65479899e41d0660b975bfe0c6f320ccf2c1e26-7301233c3fbf2aad-01 outer:exit 2b-f65479899e41d0660b975bfe0c6f320ccf2c1e26-d121eba26e60b153-01
2021-09-18T00:50:43.763Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (299ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.9
updated 1 package and audited 1094 packages in 5.703s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:50.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:50.308Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:50.308Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:50.309Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:50.363Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:50.391Z appoptics:patching patched crypto 
2021-09-18T00:50:50.413Z appoptics:patching patched https 
2021-09-18T00:50:50.414Z appoptics:patching patched http 
2021-09-18T00:50:50.454Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:50.455Z appoptics:patching patched fs 
2021-09-18T00:50:50.467Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v12.22.6)
2021-09-18T00:50:50.473Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-09-18T00:50:50.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d52a85bc00bc25dcad1f79e583fdddfff29b2e9-45cd3059ae0e6064-01 outer:exit 2b-6d52a85bc00bc25dcad1f79e583fdddfff29b2e9-ae7f4e857b88016c-01
2021-09-18T00:50:50.607Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:50.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-abf02edb888328c1d04e8e44cd250a65ebcf7c7c-4325f347a9e16900-01 outer:exit 2b-abf02edb888328c1d04e8e44cd250a65ebcf7c7c-f1b0bd24b5c4ab11-01
2021-09-18T00:50:50.688Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:50.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-61ccaead720bc3df07235325ce935e2560b55c6f-e6c04972c908d7ed-01 outer:exit 2b-61ccaead720bc3df07235325ce935e2560b55c6f-225e2db66ed8b74d-01
2021-09-18T00:50:50.691Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:50.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ac6be2520b921d1ff0ce9c027cb3de59fa5fefa-5462082bdead192f-01 outer:exit 2b-6ac6be2520b921d1ff0ce9c027cb3de59fa5fefa-6b78134601012ad2-01
2021-09-18T00:50:50.694Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:50.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-b69b3721f4d8e933b3ca760af11c8ceb59fc279a-d57d48b45db387a8-01 outer:exit 2b-b69b3721f4d8e933b3ca760af11c8ceb59fc279a-b651c365914af969-01
2021-09-18T00:50:50.698Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:50.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-97f17e228ab6abe18ef59762fc975bda72dd2af6-7e60ec662d3336ad-01 outer:exit 2b-97f17e228ab6abe18ef59762fc975bda72dd2af6-cc9faa76639602a8-01
2021-09-18T00:50:50.701Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:50.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-a13f00718b0bc7b9adb7d33bb9cd7af116a677b1-280ec4dbdc889e42-01 outer:exit 2b-a13f00718b0bc7b9adb7d33bb9cd7af116a677b1-27561c3593dee525-01
2021-09-18T00:50:50.704Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:50.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-d626f752e2049b384728d1360fd9bf6b46a5e5cb-3e2f5f52976f3d7f-01 outer:exit 2b-d626f752e2049b384728d1360fd9bf6b46a5e5cb-b91c648d7e4fabb3-01
2021-09-18T00:50:50.706Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:50.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-0be01f29319f0054e5490263301c6bfd3b7cebbc-f504c2b982c42b21-01 outer:exit 2b-0be01f29319f0054e5490263301c6bfd3b7cebbc-45fc444a1fd55fcb-01
2021-09-18T00:50:50.708Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:50.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-13e265c2e3656154d72c783ec747a9b9885d47fd-4260207dee962016-01 outer:exit 2b-13e265c2e3656154d72c783ec747a9b9885d47fd-b00f7a585c826b2c-01
2021-09-18T00:50:50.710Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:50.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-d518c0bf613daca5b6c3f545f4c4bb6903d63690-e63a57653a660ac6-01 outer:exit 2b-d518c0bf613daca5b6c3f545f4c4bb6903d63690-73b70376fe5bf188-01
2021-09-18T00:50:50.714Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:50.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-68a8cb8df2d950d32ad6a354d783277bf624af88-d1b80a43d0e5aca9-01 outer:exit 2b-68a8cb8df2d950d32ad6a354d783277bf624af88-ea8bc8a6f5007233-01
2021-09-18T00:50:50.719Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:50.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd31761b4bdda0489c33fe01aace97e7a84bedf7-d81adbd2a2bcc09c-01 outer:exit 2b-cd31761b4bdda0489c33fe01aace97e7a84bedf7-de457c74501f79dc-01
2021-09-18T00:50:50.731Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:50.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7ae193951c62909a15934082358979e0f0db79a-261a66cb2b1ffef3-01 outer:exit 2b-c7ae193951c62909a15934082358979e0f0db79a-1c0fc36cc6264ce6-01
2021-09-18T00:50:50.788Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:50.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-cada00a31c5d7181aa858da144a51b189475e68d-51652c5872ab85c5-01 outer:exit 2b-cada00a31c5d7181aa858da144a51b189475e68d-0b4dba619d3d526d-01
2021-09-18T00:50:50.791Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:50.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-fed04c04ac2b4975a015e54f59aba0dc7602e519-c311efcc1028e033-01 outer:exit 2b-fed04c04ac2b4975a015e54f59aba0dc7602e519-f07b6816c25ac6dc-01
2021-09-18T00:50:50.793Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:50.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-88e89d72197f621e9b9e5c4752105b3481b0491b-210f6c4de557acea-01 outer:exit 2b-88e89d72197f621e9b9e5c4752105b3481b0491b-48c396d0291808ad-01
2021-09-18T00:50:50.795Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:50.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-5672809b6eada57d439f5b57aa936b3c0e37ffe6-1e97eb1b29109bf7-01 outer:exit 2b-5672809b6eada57d439f5b57aa936b3c0e37ffe6-19b422718ba6958d-01
2021-09-18T00:50:50.798Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:50.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-9419e334955b5357aa6aa23d6517b2029a9ee260-96c6977cfc3a9b14-01 outer:exit 2b-9419e334955b5357aa6aa23d6517b2029a9ee260-8609c4975bb7084c-01
2021-09-18T00:50:50.799Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:50.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac0986c15447815d9f25bc1e4bace3dbc341759e-c5865701cffe3332-01 outer:exit 2b-ac0986c15447815d9f25bc1e4bace3dbc341759e-d0a0ed25fbc70a6d-01
2021-09-18T00:50:50.801Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:50.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcaf0c4617e67e4e01c7b01fb8b240ea8882f9ab-91c90c22956328fd-01 outer:exit 2b-fcaf0c4617e67e4e01c7b01fb8b240ea8882f9ab-235c103426e0eeff-01
2021-09-18T00:50:50.803Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:50.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8f8ab47811624e26c8ee63fd1219686bc36dae2-648b73e296e8f5a6-01 outer:exit 2b-f8f8ab47811624e26c8ee63fd1219686bc36dae2-86f4d82752760cbf-01
2021-09-18T00:50:50.809Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:50.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-3842c87b7a0f0deae1570a1d5ba4b841bbc3aaf5-73561f2ed7e80b94-01 outer:exit 2b-3842c87b7a0f0deae1570a1d5ba4b841bbc3aaf5-f30c2d8cffca870d-01
2021-09-18T00:50:50.816Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:50.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0fac3e974c81374b091602f857d9b5a581b84e6-eea165d02d3295ad-01 outer:exit 2b-e0fac3e974c81374b091602f857d9b5a581b84e6-fc6e42597282a93b-01
2021-09-18T00:50:50.818Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:50.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4d072d4023e1b7f06e8c53e0b9c71c0cbf9071e-9792d192febd0b11-01 outer:exit 2b-e4d072d4023e1b7f06e8c53e0b9c71c0cbf9071e-a10067875695a79d-01
2021-09-18T00:50:50.821Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:50.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ffb65207b7e2349c265c1c9edf35ce80587916b-5548a1b1b2ace858-01 outer:exit 2b-6ffb65207b7e2349c265c1c9edf35ce80587916b-d41860b15d2157fa-01
2021-09-18T00:50:50.823Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:50.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-50a9435467a5cf3b0e078bbab35a338a53118525-17553393f659ca05-01 outer:exit 2b-50a9435467a5cf3b0e078bbab35a338a53118525-aa7d8e0a42574c18-01
2021-09-18T00:50:50.833Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:50.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-13dea6fbcf309d35e32562af0144431fa8045243-203f872e1a04c1a5-01 outer:exit 2b-13dea6fbcf309d35e32562af0144431fa8045243-9dbb4c6b80c3d82e-01
2021-09-18T00:50:50.841Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:50.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8fa6bc8dbf203df3a160b122d0db8cc6c91919-e6a9b01ec1bda4ed-01 outer:exit 2b-dd8fa6bc8dbf203df3a160b122d0db8cc6c91919-8d2bde54d5e23fb6-01
2021-09-18T00:50:50.850Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:50.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-54d7d490249d8ba5e76b68e2ff1896fce58f6ad7-1a9c2ee4dd211a54-01 outer:exit 2b-54d7d490249d8ba5e76b68e2ff1896fce58f6ad7-47a652fe25254b55-01
2021-09-18T00:50:50.855Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:50.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-850e42c2df1b92784509cfd6c92e2b3d5fa172e2-ee281ee366431a9c-01 outer:exit 2b-850e42c2df1b92784509cfd6c92e2b3d5fa172e2-bdee7ffe56b5459a-01
2021-09-18T00:50:50.857Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:50.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-47127a44db65b55a8b47e7f199e22f6bdb50ccfe-3427d0f7fe8bdcbc-01 outer:exit 2b-47127a44db65b55a8b47e7f199e22f6bdb50ccfe-cbdbab3e4e28edb4-01
2021-09-18T00:50:50.860Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:50.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-e172586e49122bf4519bf054bd7fae83e79fcbf6-74ec58e09459ec7b-01 outer:exit 2b-e172586e49122bf4519bf054bd7fae83e79fcbf6-4258da59fdfd222c-01
2021-09-18T00:50:50.866Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:50.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0dfe07639f1233cca4586a50a329c5a8d06ac6c-f646351dbb486638-01 outer:exit 2b-f0dfe07639f1233cca4586a50a329c5a8d06ac6c-4bdef9515882a8aa-01
2021-09-18T00:50:50.867Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:50.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-533036249377be7180785347356043afd1d00f2d-8643f40161c09416-01 outer:exit 2b-533036249377be7180785347356043afd1d00f2d-b359d7ab9393557c-01
2021-09-18T00:50:50.869Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:50.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d69333005ad4536cddc35772d658098f339bc04-dc8943ee0b9cc8cc-01 outer:exit 2b-9d69333005ad4536cddc35772d658098f339bc04-1ddcb111c7effc90-01
2021-09-18T00:50:50.871Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:50.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf2c9bb40d8aaaeb82f7bd8c5eb131be7ba10d68-311125170b69297d-01 outer:exit 2b-bf2c9bb40d8aaaeb82f7bd8c5eb131be7ba10d68-a820c424c148281f-01
2021-09-18T00:50:50.873Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:50.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9499cd818869c739842c8fae0dab70780d0efe-c34407ed7263c7d4-01 outer:exit 2b-dd9499cd818869c739842c8fae0dab70780d0efe-e475459fb609e396-01
2021-09-18T00:50:50.874Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:50.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2c832d65d43ce9d0a48cbde736ead4db067d6bf-00ed549d3b028f43-01 outer:exit 2b-c2c832d65d43ce9d0a48cbde736ead4db067d6bf-38e1dc1100903f82-01
2021-09-18T00:50:50.882Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:50.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff1bbeedb895381819fcd9e542f3d77aefe7f3a2-65702f06c03f9c08-01 outer:exit 2b-ff1bbeedb895381819fcd9e542f3d77aefe7f3a2-93a6b515b3e75ebc-01
2021-09-18T00:50:50.888Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:50.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb62b80592260c9d2de1e23fd7dabbcc4d90f5c8-fe235bfdace2dba4-01 outer:exit 2b-fb62b80592260c9d2de1e23fd7dabbcc4d90f5c8-e95dc3a04c1c30fc-01
2021-09-18T00:50:50.891Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:50.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c46b2a93d847f25e5966312cdc5d1fae4209a7-025d3384fb1e96d6-01 outer:exit 2b-36c46b2a93d847f25e5966312cdc5d1fae4209a7-041345f0b6fd6a18-01
2021-09-18T00:50:50.893Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:50.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fc091dc52dcaba09fc10c95816cc3b5273ddd67-0e18b5edacd02872-01 outer:exit 2b-2fc091dc52dcaba09fc10c95816cc3b5273ddd67-062f22d4fc65550f-01
2021-09-18T00:50:50.895Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:50.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-d70c96c47a7cb8a393ef42756821f18c4f26507a-38c8d9725dafce7c-01 outer:exit 2b-d70c96c47a7cb8a393ef42756821f18c4f26507a-9721249237d1846e-01
2021-09-18T00:50:50.919Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (340ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.10
updated 1 package and audited 1094 packages in 3.798s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:50:55.572Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:50:55.572Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:50:55.572Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:50:55.573Z appoptics:debug using context provider: ace-context
2021-09-18T00:50:55.629Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:50:55.657Z appoptics:patching patched crypto 
2021-09-18T00:50:55.677Z appoptics:patching patched https 
2021-09-18T00:50:55.677Z appoptics:patching patched http 
2021-09-18T00:50:55.717Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:50:55.717Z appoptics:patching patched fs 
2021-09-18T00:50:55.730Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v12.22.6)
2021-09-18T00:50:55.736Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-09-18T00:50:55.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-20885a04443ebe8c18c4aec97b33237eb1d40bf4-a323dbf839979cef-01 outer:exit 2b-20885a04443ebe8c18c4aec97b33237eb1d40bf4-39e8b3b16afd38aa-01
2021-09-18T00:50:55.872Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:50:55.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c4d606e0ad2f1d65652368519843a1b295e5240-3fdb308f1626d14b-01 outer:exit 2b-6c4d606e0ad2f1d65652368519843a1b295e5240-01f1fcac0f001708-01
2021-09-18T00:50:55.930Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:50:55.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a79860d5e5c876ae3408de13a046e3065acad0-c07fb0ecba9c7931-01 outer:exit 2b-a2a79860d5e5c876ae3408de13a046e3065acad0-2afc13fceebd09a6-01
2021-09-18T00:50:55.933Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:50:55.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-7111931cdb5be59c6e6c0567bfcf3226e95f7c80-e5c88d73523f726e-01 outer:exit 2b-7111931cdb5be59c6e6c0567bfcf3226e95f7c80-a2075634e9e25226-01
2021-09-18T00:50:55.935Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:50:55.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-655cdd2ec6aa85a547f70df0cba82621e1ffc334-85e1ad0ca09944f4-01 outer:exit 2b-655cdd2ec6aa85a547f70df0cba82621e1ffc334-48aa7c0daee25f77-01
2021-09-18T00:50:55.939Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:50:55.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f22b90f356fa6074bdefbb888b879d366e5b36b-fa0ebb9a4f9f4774-01 outer:exit 2b-9f22b90f356fa6074bdefbb888b879d366e5b36b-5a4379fac6b0242f-01
2021-09-18T00:50:55.942Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:50:55.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-b80628a83db7dc525d313a7e5c930e60c53d1357-fed7af2cc10ce8d3-01 outer:exit 2b-b80628a83db7dc525d313a7e5c930e60c53d1357-dedc60ad5aa99a4d-01
2021-09-18T00:50:55.944Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:50:55.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-69ae26d84d9bfcb7396abb147fb3bd359b9956af-6f2a1f5dfc40bc99-01 outer:exit 2b-69ae26d84d9bfcb7396abb147fb3bd359b9956af-5299e25dc817e817-01
2021-09-18T00:50:55.946Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:50:55.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4fcce59e8cc7cff7c3423f35a97cf0bab4ed85-93b54561f39a46c3-01 outer:exit 2b-de4fcce59e8cc7cff7c3423f35a97cf0bab4ed85-4de88f5550417258-01
2021-09-18T00:50:55.948Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:50:55.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-26e06c3b45631a14f89c339670b6aa529e202ea6-1295f260d6361599-01 outer:exit 2b-26e06c3b45631a14f89c339670b6aa529e202ea6-4e7944b3e48997c4-01
2021-09-18T00:50:55.950Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:50:55.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-14db81b9a88aab756e9c64b3d80f0f2498fa0685-d28d877f0cf73286-01 outer:exit 2b-14db81b9a88aab756e9c64b3d80f0f2498fa0685-4337a46326ebd4c5-01
2021-09-18T00:50:55.954Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:50:55.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d19252bb1cc51c24ef6a15f4535a178bead4283-0c499e00850dd56c-01 outer:exit 2b-7d19252bb1cc51c24ef6a15f4535a178bead4283-2a03969460b6bebc-01
2021-09-18T00:50:55.959Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:50:55.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-17fb7019b4c2758f5a1bd4d8e5dcacf76e5ddd1a-4518fef03d029901-01 outer:exit 2b-17fb7019b4c2758f5a1bd4d8e5dcacf76e5ddd1a-cf02a9f12f968a28-01
2021-09-18T00:50:55.972Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:50:56.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-861a407f7bf5e118c7387ebe7a0567c90e3cc518-ca747dc47b291bc6-01 outer:exit 2b-861a407f7bf5e118c7387ebe7a0567c90e3cc518-37bff14c2b0d496e-01
2021-09-18T00:50:56.040Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:50:56.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1002b7738e8b137b02125fb7be46a3a241be732-a3c6df63e4e05ba0-01 outer:exit 2b-d1002b7738e8b137b02125fb7be46a3a241be732-3176230dbeb2d88f-01
2021-09-18T00:50:56.043Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:50:56.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5bc85687e94bf0738fb13926e8a32ffcf74c410-ceed72a3acb16768-01 outer:exit 2b-f5bc85687e94bf0738fb13926e8a32ffcf74c410-b92f5e22706e5552-01
2021-09-18T00:50:56.045Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:50:56.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba23d7390250fa8a0d9023ce8016b06f7dce36d7-bdebe309f35db6d5-01 outer:exit 2b-ba23d7390250fa8a0d9023ce8016b06f7dce36d7-a9fd5b424b48a628-01
2021-09-18T00:50:56.047Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:50:56.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7390a67161e092d0a5e5c50c4e68fcfb6063954-92277653fec9f757-01 outer:exit 2b-f7390a67161e092d0a5e5c50c4e68fcfb6063954-aa07b43070fa9f26-01
2021-09-18T00:50:56.049Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:50:56.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fa4224bfda541e95a3a8d7a81e6c2b2c7c7325d-9c5c80ac363bc4c1-01 outer:exit 2b-4fa4224bfda541e95a3a8d7a81e6c2b2c7c7325d-ce78987a6feac4cf-01
2021-09-18T00:50:56.051Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:50:56.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6af55807dadc28b09bc7aa039dafff23d374e85-5564bfe14ec3717f-01 outer:exit 2b-a6af55807dadc28b09bc7aa039dafff23d374e85-4088be0755f02d4d-01
2021-09-18T00:50:56.053Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:50:56.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-27c2a475f51369686f89b3e5a735e67601dcfdeb-78dcecd36bd97338-01 outer:exit 2b-27c2a475f51369686f89b3e5a735e67601dcfdeb-fe542283415e2089-01
2021-09-18T00:50:56.068Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:50:56.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-14b876f220aae7ad3086622ab77b66ca3c47fd56-749a82e42d18b9fc-01 outer:exit 2b-14b876f220aae7ad3086622ab77b66ca3c47fd56-98a585ce76a51a72-01
2021-09-18T00:50:56.072Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:50:56.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-458f190098d92f2574dc1d08c96ea4bb5a16d637-d44b6d42d8c3e888-01 outer:exit 2b-458f190098d92f2574dc1d08c96ea4bb5a16d637-5e29c3f440708a73-01
2021-09-18T00:50:56.077Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:50:56.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-5740a972576d46dabe1c46a16b7ce12186f3da3e-01a407baf1841fbb-01 outer:exit 2b-5740a972576d46dabe1c46a16b7ce12186f3da3e-6ba5580544345167-01
2021-09-18T00:50:56.080Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:50:56.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead6b89267c2ae97a128ba6b09ad1e85970760ba-4881e1e53a854c90-01 outer:exit 2b-ead6b89267c2ae97a128ba6b09ad1e85970760ba-04c6473fd66fd736-01
2021-09-18T00:50:56.082Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:50:56.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4bc163107d065af64ccd0052aa7c86eef2f6f81-f59a018731adbbc1-01 outer:exit 2b-d4bc163107d065af64ccd0052aa7c86eef2f6f81-a285c68a51de071e-01
2021-09-18T00:50:56.084Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:50:56.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfdcf3c1b13d7905f0058cab7d3eb0980d2532f4-260cf112390ee7ca-01 outer:exit 2b-dfdcf3c1b13d7905f0058cab7d3eb0980d2532f4-11aedb2d2849904d-01
2021-09-18T00:50:56.089Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:50:56.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c382e40dbb76637538081434e67bd8ea0a75eb-4df10023c25e1ed6-01 outer:exit 2b-a7c382e40dbb76637538081434e67bd8ea0a75eb-2c79b8a4030818b8-01
2021-09-18T00:50:56.094Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:50:56.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe55593cf1aab165ae18253ca3afa9f551eaf21e-f92b6dd2eae4008d-01 outer:exit 2b-fe55593cf1aab165ae18253ca3afa9f551eaf21e-6e1b1664062426e0-01
2021-09-18T00:50:56.099Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:50:56.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-a38dfd6876a1500568acc35d52aaf410a1cb2b72-d12f26319a35996e-01 outer:exit 2b-a38dfd6876a1500568acc35d52aaf410a1cb2b72-623f001cf6915fad-01
2021-09-18T00:50:56.105Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:50:56.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-e72862e911cfc678814b42e402c5979069bde617-0f54f796352a53fc-01 outer:exit 2b-e72862e911cfc678814b42e402c5979069bde617-fcde28d1c3e1732c-01
2021-09-18T00:50:56.106Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:50:56.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-62d2e7c334b432a48fb96154a28f954967430101-7bb013c3c0f4426c-01 outer:exit 2b-62d2e7c334b432a48fb96154a28f954967430101-4c12551e0ff105fa-01
2021-09-18T00:50:56.109Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:50:56.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7d6486e384704b314fc1bd80c865bd8c597414d-36018f2fb94ec0ea-01 outer:exit 2b-e7d6486e384704b314fc1bd80c865bd8c597414d-e51aa530e64254f7-01
2021-09-18T00:50:56.115Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:50:56.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-414b08cd856824ed4d155208f63d957748f77cee-619fbfd2b28db9f7-01 outer:exit 2b-414b08cd856824ed4d155208f63d957748f77cee-002cc21793cfd347-01
2021-09-18T00:50:56.116Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:50:56.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-32f6dc82c88aa80a19434af3564975774f3a00dc-7eff15aec6a02748-01 outer:exit 2b-32f6dc82c88aa80a19434af3564975774f3a00dc-01c7edcf26b533d8-01
2021-09-18T00:50:56.118Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:50:56.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-f05a919c515144b95353f87d7aaeca45664669fb-0a4b34fe99cbeb22-01 outer:exit 2b-f05a919c515144b95353f87d7aaeca45664669fb-8de72837e740e615-01
2021-09-18T00:50:56.120Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:50:56.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-968e598a1cc8efb27dc31dbdc5afd06d1cc45815-d264ea63df4c6b1d-01 outer:exit 2b-968e598a1cc8efb27dc31dbdc5afd06d1cc45815-5d82f9050b68d558-01
2021-09-18T00:50:56.122Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:50:56.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-73e0ee9f37d3654d15420572e07c23d1e184da93-4b9db0e3d5c53ffb-01 outer:exit 2b-73e0ee9f37d3654d15420572e07c23d1e184da93-56000664b79fc65e-01
2021-09-18T00:50:56.123Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:50:56.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a90871927ea2528ed04b4d7d987ff90057e693d-4e5b2f79c66d7d47-01 outer:exit 2b-4a90871927ea2528ed04b4d7d987ff90057e693d-ec2a92ab49d106b9-01
2021-09-18T00:50:56.131Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:50:56.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cc4bc16a72e72454891d19c8ebf6a9c5e30702a-a35bfac97515c29e-01 outer:exit 2b-9cc4bc16a72e72454891d19c8ebf6a9c5e30702a-26bad0a537f4dc60-01
2021-09-18T00:50:56.137Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:50:56.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f2a44392003c2c9cac4a7451c9dccd8e8c03f43-95808f7b87f4c1c3-01 outer:exit 2b-6f2a44392003c2c9cac4a7451c9dccd8e8c03f43-25de4913a675bba1-01
2021-09-18T00:50:56.139Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:50:56.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-2905c01a5d864373238924756d89e6b26b63e1b1-c210af3158014d28-01 outer:exit 2b-2905c01a5d864373238924756d89e6b26b63e1b1-bdd275a604338bfd-01
2021-09-18T00:50:56.142Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:50:56.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcde08a3bf50a8ecdf07c2340529839fb9271e1e-54a9fd7c9087c7e5-01 outer:exit 2b-bcde08a3bf50a8ecdf07c2340529839fb9271e1e-781f0963fb7cf513-01
2021-09-18T00:50:56.144Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:50:56.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-0607ede9dfdf7e36e12f3d14de49debb6bdc2284-99b01c8655ca37f6-01 outer:exit 2b-0607ede9dfdf7e36e12f3d14de49debb6bdc2284-444418e1590bc3c7-01
2021-09-18T00:50:56.168Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (325ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.11
updated 1 package and audited 1094 packages in 4.232s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:01.311Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:01.312Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:01.312Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:01.313Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:01.368Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:01.396Z appoptics:patching patched crypto 
2021-09-18T00:51:01.422Z appoptics:patching patched https 
2021-09-18T00:51:01.422Z appoptics:patching patched http 
2021-09-18T00:51:01.459Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:01.459Z appoptics:patching patched fs 
2021-09-18T00:51:01.472Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v12.22.6)
2021-09-18T00:51:01.477Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-09-18T00:51:01.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e48114d4cba875937f2df468a9c4a56edd66ab0-96b0f72971cf7452-01 outer:exit 2b-4e48114d4cba875937f2df468a9c4a56edd66ab0-51daec0392e3d111-01
2021-09-18T00:51:01.614Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:01.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-68020b9c03ef9edf2251629fa896ecf43eaf656e-45add60d5a93f65d-01 outer:exit 2b-68020b9c03ef9edf2251629fa896ecf43eaf656e-5177352d839048f1-01
2021-09-18T00:51:01.696Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:01.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-db380de1d151818251a9e5eada00baa686df21ef-f04acb8a759a53fe-01 outer:exit 2b-db380de1d151818251a9e5eada00baa686df21ef-bbda361ebfe3938d-01
2021-09-18T00:51:01.698Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:01.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe15f58bc8694356df45c833f5036cd0ec6ea6ed-843c9ac45c250680-01 outer:exit 2b-fe15f58bc8694356df45c833f5036cd0ec6ea6ed-1d25033cf1eb2ebe-01
2021-09-18T00:51:01.701Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:01.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-c54b8224cc55d27fea7e3354ec31b22e40eff035-6a281bcbf8105652-01 outer:exit 2b-c54b8224cc55d27fea7e3354ec31b22e40eff035-93660048bc0c49dd-01
2021-09-18T00:51:01.705Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:01.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb056a434ea5b879495a41fe6bd4f8f0ccb6d39-d08ef28634315394-01 outer:exit 2b-7eb056a434ea5b879495a41fe6bd4f8f0ccb6d39-c3120eee983f0635-01
2021-09-18T00:51:01.708Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:01.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-d203275690d2156cafdc7a24fc8dd6076e3d8a24-c7ca484419fd4d3d-01 outer:exit 2b-d203275690d2156cafdc7a24fc8dd6076e3d8a24-8939779c462ab6f9-01
2021-09-18T00:51:01.710Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:01.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-3001638bd6ed1219eb1e01108069e5d14c626fab-481d6992a56264cf-01 outer:exit 2b-3001638bd6ed1219eb1e01108069e5d14c626fab-5a8845560f76a615-01
2021-09-18T00:51:01.712Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:01.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ca7480cc9524e0fe52b2f1714e3885216c1b0f2-48cde9d2bafb4ce2-01 outer:exit 2b-4ca7480cc9524e0fe52b2f1714e3885216c1b0f2-a9f3062b2cfa6a9d-01
2021-09-18T00:51:01.714Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:01.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-756bb908181c2f419400aae1169584f88c895fe4-8b00466e8afa6211-01 outer:exit 2b-756bb908181c2f419400aae1169584f88c895fe4-1272b1528cd67c83-01
2021-09-18T00:51:01.717Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:01.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-12321ed7d5d592813589845e4b578f54d97ca20b-133911b6c955c21e-01 outer:exit 2b-12321ed7d5d592813589845e4b578f54d97ca20b-0bfad3309f050dd9-01
2021-09-18T00:51:01.720Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:01.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-da37d5b129d712287f96ff460b76859991813807-0dd8de8cd415a496-01 outer:exit 2b-da37d5b129d712287f96ff460b76859991813807-fd17bf5efa077a24-01
2021-09-18T00:51:01.726Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:01.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5cc68950d5c5cd04a55e5a9f02ebafef8226c37-f3150c46de3b6edb-01 outer:exit 2b-e5cc68950d5c5cd04a55e5a9f02ebafef8226c37-178b7684ecb98357-01
2021-09-18T00:51:01.739Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:01.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-18e06214f1a948a702c7460867eb5806232582f0-c9bacd7bc47d9036-01 outer:exit 2b-18e06214f1a948a702c7460867eb5806232582f0-2c25ec7ab7199147-01
2021-09-18T00:51:01.776Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:01.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-26a1bc18f208e75c9cf4b1b4caf29d0528a3014b-08061dddba7ce838-01 outer:exit 2b-26a1bc18f208e75c9cf4b1b4caf29d0528a3014b-ceb01fd0760b5306-01
2021-09-18T00:51:01.779Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:01.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f128d6aab6d76e355a3377ff9e1d4440c8b4c3d-d3cd1a743d217cfc-01 outer:exit 2b-8f128d6aab6d76e355a3377ff9e1d4440c8b4c3d-505f26d201ba13dd-01
2021-09-18T00:51:01.781Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:01.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-dad58794dc3645532078e6f8f06422184185633a-aaa69443b02d2ce7-01 outer:exit 2b-dad58794dc3645532078e6f8f06422184185633a-e4a4f0658667f051-01
2021-09-18T00:51:01.783Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:01.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-caefee36ffa050d9de2bcec898982ad6a747ae1e-d23fa1ca829425bf-01 outer:exit 2b-caefee36ffa050d9de2bcec898982ad6a747ae1e-707c323c9410c723-01
2021-09-18T00:51:01.785Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:01.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b2ee7bd3e2faa504811130f9e9867e54cfcb3bf-f3bca33e02debb87-01 outer:exit 2b-2b2ee7bd3e2faa504811130f9e9867e54cfcb3bf-58bfeb85d4a67d3f-01
2021-09-18T00:51:01.787Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:01.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c0e077540a2d0a4a9ec51d23dfb3aa535b3df28-0f905ab546fdab4e-01 outer:exit 2b-7c0e077540a2d0a4a9ec51d23dfb3aa535b3df28-8ffb751ee627fb41-01
2021-09-18T00:51:01.789Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:01.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-154d5c1c75559f8195651c7bd57d4968b66eb275-7b60fdadbac2eb9d-01 outer:exit 2b-154d5c1c75559f8195651c7bd57d4968b66eb275-46713f95eba46473-01
2021-09-18T00:51:01.790Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:01.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-e433f00aef3a7503318245df08580459b4a172b5-546fb69df72ee361-01 outer:exit 2b-e433f00aef3a7503318245df08580459b4a172b5-7de5e9c088fa2bbd-01
2021-09-18T00:51:01.804Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:01.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a90aec8fb0f0c10d92333d4e1bb9f0ef4ee0b89-2056e3a8bec8d62f-01 outer:exit 2b-0a90aec8fb0f0c10d92333d4e1bb9f0ef4ee0b89-562062d69a59f785-01
2021-09-18T00:51:01.812Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:01.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-402cb23d264b2880da405667d9a110f1700d2128-1662dde8b9d8160f-01 outer:exit 2b-402cb23d264b2880da405667d9a110f1700d2128-22b5e4ee774aa3b6-01
2021-09-18T00:51:01.815Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:01.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad9f02879b2091cfe4b1e4b16b7b3dbc6d97d523-86a668b277892be7-01 outer:exit 2b-ad9f02879b2091cfe4b1e4b16b7b3dbc6d97d523-d68d34187e3186f1-01
2021-09-18T00:51:01.817Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:01.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-27b7e0c0f005baa84392717f989476114e8002b5-ce8effc78a6d75c0-01 outer:exit 2b-27b7e0c0f005baa84392717f989476114e8002b5-ecbd20796df8d8a2-01
2021-09-18T00:51:01.819Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:01.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e68a053d364d5b632625d47ac739ee4daced5bb-7c9b595e86ef66d2-01 outer:exit 2b-3e68a053d364d5b632625d47ac739ee4daced5bb-5528d756fcf271d0-01
2021-09-18T00:51:01.824Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:01.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bd2daad9034ba9c081977ba5bc6a1bec13798db-ee6f191174e8dbdd-01 outer:exit 2b-0bd2daad9034ba9c081977ba5bc6a1bec13798db-daeecae7d6819e19-01
2021-09-18T00:51:01.828Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:01.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fdbaa8bff7ab59793c5a38725b03e0438fbfc82-0b3d1bb239a7da98-01 outer:exit 2b-9fdbaa8bff7ab59793c5a38725b03e0438fbfc82-40b1d592aca36b21-01
2021-09-18T00:51:01.834Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:01.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec69bbdead8c5ec2938a5306bb1021644e7c8bfa-227858fe46e77c68-01 outer:exit 2b-ec69bbdead8c5ec2938a5306bb1021644e7c8bfa-94d9ca1290261a94-01
2021-09-18T00:51:01.840Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:01.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be4504ec9d18d5781a1ad588519a288edadbacf-d7942350db91ba29-01 outer:exit 2b-6be4504ec9d18d5781a1ad588519a288edadbacf-271ad8ae12e08ea8-01
2021-09-18T00:51:01.842Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:01.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fc064ce08e167efdf5418c1a6c7610afdc9a22e-2752c988111926fb-01 outer:exit 2b-4fc064ce08e167efdf5418c1a6c7610afdc9a22e-4f299388195c0e9f-01
2021-09-18T00:51:01.844Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:01.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba3fe25fe817d5c00d8ec690c68619d60dac759d-3bb0f46e76b7be45-01 outer:exit 2b-ba3fe25fe817d5c00d8ec690c68619d60dac759d-9b238a903d9faaa7-01
2021-09-18T00:51:01.850Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:01.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b349811b5337f2073fc7202f7705c27b6320ece-6ddb7545b729f389-01 outer:exit 2b-4b349811b5337f2073fc7202f7705c27b6320ece-f2d020ec47068fc9-01
2021-09-18T00:51:01.852Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:01.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e67e4fda3b582fbc95fe33381e9b5185c5051aa-f8b67ff27f564f36-01 outer:exit 2b-6e67e4fda3b582fbc95fe33381e9b5185c5051aa-8990023c3503309c-01
2021-09-18T00:51:01.854Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:01.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0abf261c8c5182398e2a4fb2e56e46268f58d65-f1f0b1284ea80293-01 outer:exit 2b-e0abf261c8c5182398e2a4fb2e56e46268f58d65-3f35d9982845918f-01
2021-09-18T00:51:01.855Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:01.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-c08501fdf7a6bf7f441cf1bd8da9ded466050dec-6d5c2203f3c5e2ea-01 outer:exit 2b-c08501fdf7a6bf7f441cf1bd8da9ded466050dec-4a8a147e62c758f5-01
2021-09-18T00:51:01.857Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:01.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fef671c3979decac327d32c8bc9e5dbabaf5eed-289f850d3195122a-01 outer:exit 2b-9fef671c3979decac327d32c8bc9e5dbabaf5eed-a69ea2164e903f26-01
2021-09-18T00:51:01.859Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:01.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfd3494731c850924f86b1f2af09d22511013422-a753db43516f775c-01 outer:exit 2b-cfd3494731c850924f86b1f2af09d22511013422-62e6e629c5e8f4b7-01
2021-09-18T00:51:01.867Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:01.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-682750d18cff7343fee1536696bfb9c933be3faa-ea5e0557ade90b45-01 outer:exit 2b-682750d18cff7343fee1536696bfb9c933be3faa-8a5a7496b248c648-01
2021-09-18T00:51:01.876Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:01.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-7987ce88da3e71fb056556accf29efd62bf53b58-8b0cc16635edea70-01 outer:exit 2b-7987ce88da3e71fb056556accf29efd62bf53b58-d8c5857f87848a04-01
2021-09-18T00:51:01.878Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:01.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-553c7e2492a180fa9b6a29f204aa94122652b14a-a4b1c0047e355d74-01 outer:exit 2b-553c7e2492a180fa9b6a29f204aa94122652b14a-d1ad0ec90f66f40e-01
2021-09-18T00:51:01.880Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:01.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-54de49056d52bdf3f5f368b67a3bb123e3e39850-f02c15ccc6ee666a-01 outer:exit 2b-54de49056d52bdf3f5f368b67a3bb123e3e39850-7c4ab92478e1e35b-01
2021-09-18T00:51:01.883Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:01.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9f8cc38f3126398fb635767094f526dbe6f948b-90874c10e60ca389-01 outer:exit 2b-d9f8cc38f3126398fb635767094f526dbe6f948b-b8d5887b36e240e9-01
2021-09-18T00:51:01.907Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (322ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.12
updated 1 package and audited 1094 packages in 3.835s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:06.617Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:06.618Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:06.618Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:06.618Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:06.674Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:06.703Z appoptics:patching patched crypto 
2021-09-18T00:51:06.723Z appoptics:patching patched https 
2021-09-18T00:51:06.723Z appoptics:patching patched http 
2021-09-18T00:51:06.762Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:06.763Z appoptics:patching patched fs 
2021-09-18T00:51:06.776Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v12.22.6)
2021-09-18T00:51:06.781Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-09-18T00:51:06.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7780bfdda85b00a27df306b86bd82a6f9c307e3-0f5b24694c264651-01 outer:exit 2b-f7780bfdda85b00a27df306b86bd82a6f9c307e3-d035b4d368dd29de-01
2021-09-18T00:51:06.918Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:06.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-b908635d224a93b212d41b4d4e96762157ed8590-b6f926a6af2ebe29-01 outer:exit 2b-b908635d224a93b212d41b4d4e96762157ed8590-66b4e0fa304ee468-01
2021-09-18T00:51:06.955Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:06.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ef9fd0b76e0e9d910eaacc1f31b39de51c2beb1-111e3db4f6038955-01 outer:exit 2b-6ef9fd0b76e0e9d910eaacc1f31b39de51c2beb1-b84cfa8e7276d48f-01
2021-09-18T00:51:06.958Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:06.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-795edfed73838efa5e3fe5e1af0c05ae5b8b3f64-b8b6f511d9e3f651-01 outer:exit 2b-795edfed73838efa5e3fe5e1af0c05ae5b8b3f64-8d71b73002a8e214-01
2021-09-18T00:51:06.961Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:06.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-c34c85e932cc73b6106beae44ee34c2bb3f446c2-ae03d4b05053eae2-01 outer:exit 2b-c34c85e932cc73b6106beae44ee34c2bb3f446c2-edfb92bebab43d89-01
2021-09-18T00:51:06.964Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:06.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-488f8867e37ed812a01fa7c9e36c86cd4329ad3f-e716673ed24971f9-01 outer:exit 2b-488f8867e37ed812a01fa7c9e36c86cd4329ad3f-dd2acbadbd8b83a9-01
2021-09-18T00:51:06.967Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:06.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-f70e3afb95c491c22ba7650222458aa4337be548-7d4be4b8cfc4b5df-01 outer:exit 2b-f70e3afb95c491c22ba7650222458aa4337be548-5a892ad65495d952-01
2021-09-18T00:51:06.969Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:06.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c5b353421e41579f0b4c8999335f7289535df61-e66301325e0ad98b-01 outer:exit 2b-7c5b353421e41579f0b4c8999335f7289535df61-de01b9c879b426ea-01
2021-09-18T00:51:06.971Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:06.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-dea02a4dba23d413e04f28b05312da47d8cb262b-8426a32709a32fa5-01 outer:exit 2b-dea02a4dba23d413e04f28b05312da47d8cb262b-ec831f03d0dd054e-01
2021-09-18T00:51:06.973Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:06.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-59be79fd9c762e325302a52522bf7bbd98f03d98-993dd562ca6caa81-01 outer:exit 2b-59be79fd9c762e325302a52522bf7bbd98f03d98-11672ee0deb144f4-01
2021-09-18T00:51:06.976Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:06.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0dafa7dde004311c934dad4e009fddf0b4fd3fa-3401921a3ffbeb62-01 outer:exit 2b-d0dafa7dde004311c934dad4e009fddf0b4fd3fa-ce0cb76e425a53c1-01
2021-09-18T00:51:06.979Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:06.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-be55e6d81214e1fb908c721eb668a5cc5f4c9a8d-2b9d7d16fbbebe4c-01 outer:exit 2b-be55e6d81214e1fb908c721eb668a5cc5f4c9a8d-5417ebfb74780553-01
2021-09-18T00:51:06.995Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:07.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ae392bcb8dc4199e9289f106508b93fc8737ac5-d81fd572c72b76b3-01 outer:exit 2b-5ae392bcb8dc4199e9289f106508b93fc8737ac5-cb0edf979ab6707e-01
2021-09-18T00:51:07.007Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:07.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ec436a9e52c75df0e1b704515b41c1f275c49fe-2c81f15af32ffb30-01 outer:exit 2b-0ec436a9e52c75df0e1b704515b41c1f275c49fe-8cebf69aaa16ff67-01
2021-09-18T00:51:07.087Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:07.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-5978e3b9f6203a2e5ea2922c45a1c56542a3ce30-fb613a40745b1b44-01 outer:exit 2b-5978e3b9f6203a2e5ea2922c45a1c56542a3ce30-09a3628738ac1f94-01
2021-09-18T00:51:07.090Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:07.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-86bbeece80cf6c0ad0043cf4022caabf19495ce8-df71ca749f14b831-01 outer:exit 2b-86bbeece80cf6c0ad0043cf4022caabf19495ce8-4e620fbcf343ccb8-01
2021-09-18T00:51:07.092Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:07.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c531c6fd294ead154c2f107eafe1ddd47a053a1-49b8a5ce9ef44a63-01 outer:exit 2b-7c531c6fd294ead154c2f107eafe1ddd47a053a1-1b2593bd8c5423e0-01
2021-09-18T00:51:07.094Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:07.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-057567abd20d3c039e06665a5e15a0d4e820ed2d-780d8d2395f75f65-01 outer:exit 2b-057567abd20d3c039e06665a5e15a0d4e820ed2d-0ba1f4bdbbcdb262-01
2021-09-18T00:51:07.096Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:07.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-147a009231e0c987f433e07483f4ce444dc4e132-c4e484a678fe698d-01 outer:exit 2b-147a009231e0c987f433e07483f4ce444dc4e132-e0baabe85720a1b7-01
2021-09-18T00:51:07.098Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:07.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5643c019a169456965e8e61869c1b3bc42a0fe7-a4f315d90fc3a73e-01 outer:exit 2b-c5643c019a169456965e8e61869c1b3bc42a0fe7-714760143ee5791a-01
2021-09-18T00:51:07.100Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:07.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e39a590a9d36d30cd3200e11ac05103bafeb67d-15092802c8fa1414-01 outer:exit 2b-7e39a590a9d36d30cd3200e11ac05103bafeb67d-3646e3f62d72c934-01
2021-09-18T00:51:07.102Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:07.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-6329970eb5050ee34fe7f1017ed8155df1157b18-af4b5098bea83199-01 outer:exit 2b-6329970eb5050ee34fe7f1017ed8155df1157b18-0b0d57355f7d33a4-01
2021-09-18T00:51:07.108Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:07.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-d32b3c8724c651aa99cc924bb029d44087a3addb-ad7c97e20c82af17-01 outer:exit 2b-d32b3c8724c651aa99cc924bb029d44087a3addb-59c6b7fcfb2961f7-01
2021-09-18T00:51:07.113Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:07.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-a38a3604ef52111b2a597b872b29ee490485b711-0073cf0149d01a47-01 outer:exit 2b-a38a3604ef52111b2a597b872b29ee490485b711-b6fe91afd1da0ba3-01
2021-09-18T00:51:07.130Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:07.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-11194713f34a464ce83eda2c5f3e61dcfcad7ff0-b33d3714d8152e3a-01 outer:exit 2b-11194713f34a464ce83eda2c5f3e61dcfcad7ff0-51060c3c84751b0a-01
2021-09-18T00:51:07.132Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:07.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-54075b9b0c4f5b3e2f3d99768e37e8b367c2ac63-77638cf7eadc0988-01 outer:exit 2b-54075b9b0c4f5b3e2f3d99768e37e8b367c2ac63-fb5f56cb9d369191-01
2021-09-18T00:51:07.134Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:07.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-343f765df3f195136ce23c9dbe23bb1cbe38a7bc-eccfd0108618ff0d-01 outer:exit 2b-343f765df3f195136ce23c9dbe23bb1cbe38a7bc-af7aab2bd01da699-01
2021-09-18T00:51:07.151Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:07.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5d2f32b327df2a79079a72f1b551d684b6dc252-615daa18303b65e1-01 outer:exit 2b-d5d2f32b327df2a79079a72f1b551d684b6dc252-1f7907d2209a2ad7-01
2021-09-18T00:51:07.168Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:07.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbba81e6951628df04fa1f51b10a0bf8d811dcff-a27b49f090bbafea-01 outer:exit 2b-dbba81e6951628df04fa1f51b10a0bf8d811dcff-4f52f99564ef41ab-01
2021-09-18T00:51:07.174Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:07.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-10ee5c62027871611916cd28e06513cfff3793cb-9beb204e932e2d52-01 outer:exit 2b-10ee5c62027871611916cd28e06513cfff3793cb-39b35fd12b83f474-01
2021-09-18T00:51:07.180Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:07.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf65bd79dbbb2226e7eb9f7c9766540d764bca5e-6283d57ab2ff04f6-01 outer:exit 2b-bf65bd79dbbb2226e7eb9f7c9766540d764bca5e-936ce47e6bfec78a-01
2021-09-18T00:51:07.182Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:07.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-52815650fdff7ed425c4b103acbf8e210b92140c-f156f3b19873f2b0-01 outer:exit 2b-52815650fdff7ed425c4b103acbf8e210b92140c-40470665aeb87b61-01
2021-09-18T00:51:07.184Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:07.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-0abdba349a7458db536be1d2545d49ce0eeb5750-64fb5324b424de60-01 outer:exit 2b-0abdba349a7458db536be1d2545d49ce0eeb5750-b28a90eff9fc78b7-01
2021-09-18T00:51:07.190Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:07.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb0bde1d6736c5c4754c96d444ccffc125fa00e1-eedb38e2819af68c-01 outer:exit 2b-eb0bde1d6736c5c4754c96d444ccffc125fa00e1-d10c3bd3948e6669-01
2021-09-18T00:51:07.191Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:07.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe3d8efca55caff09af8afd03c3974e23fbfbecd-345b6355a128db1d-01 outer:exit 2b-fe3d8efca55caff09af8afd03c3974e23fbfbecd-d7d3348e8695c30b-01
2021-09-18T00:51:07.193Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:07.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-d52d81c31636712d8ee70a1d89d8dd5236b4dfde-87cd76e5b19e813f-01 outer:exit 2b-d52d81c31636712d8ee70a1d89d8dd5236b4dfde-59a18fb6103f5208-01
2021-09-18T00:51:07.195Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:07.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb98ec1818affa0b7973a11e164b481d7523bd97-6bec865664811c4c-01 outer:exit 2b-bb98ec1818affa0b7973a11e164b481d7523bd97-4a4d397678d92818-01
2021-09-18T00:51:07.197Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:07.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-0843782be93d373d145eee93856d2cf5261f6e4b-11c8bb92c42fb40a-01 outer:exit 2b-0843782be93d373d145eee93856d2cf5261f6e4b-a7ea56e89b53fe28-01
2021-09-18T00:51:07.198Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:07.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-b29fdff425f007a39a0e2ec5ff2f4ff1fedd0ede-ec6664f96be2e493-01 outer:exit 2b-b29fdff425f007a39a0e2ec5ff2f4ff1fedd0ede-055a7fc323cc971a-01
2021-09-18T00:51:07.206Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:07.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4e1c1b3b56a2f9854390b9680afa8964e3f5b66-75a02170772dbee5-01 outer:exit 2b-a4e1c1b3b56a2f9854390b9680afa8964e3f5b66-6a3f7b9671ad2ca0-01
2021-09-18T00:51:07.214Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:07.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4148079d2aaacd3e41412c04a2e9d169952dde7-12ab3518a52b81a8-01 outer:exit 2b-c4148079d2aaacd3e41412c04a2e9d169952dde7-64db61500d9d2c52-01
2021-09-18T00:51:07.216Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:07.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-91bce089ddeb573651e5e883f006f8d21db65495-d555707286ef78bf-01 outer:exit 2b-91bce089ddeb573651e5e883f006f8d21db65495-ae0f746553162b85-01
2021-09-18T00:51:07.218Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:07.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-dff180d709729149db9d34f6e74b5e8b931bb6d8-5b6a3ce8defb40cb-01 outer:exit 2b-dff180d709729149db9d34f6e74b5e8b931bb6d8-236a9a9463e71e29-01
2021-09-18T00:51:07.232Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:07.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-1380aed270f006c34c3ee9d4093b807236a0820e-a3ba9827877cadc2-01 outer:exit 2b-1380aed270f006c34c3ee9d4093b807236a0820e-1f9970ec400ee8f5-01
2021-09-18T00:51:07.256Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (367ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.13
updated 1 package and audited 1094 packages in 4.184s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:12.465Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:12.465Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:12.465Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:12.466Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:12.538Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:12.570Z appoptics:patching patched crypto 
2021-09-18T00:51:12.589Z appoptics:patching patched https 
2021-09-18T00:51:12.589Z appoptics:patching patched http 
2021-09-18T00:51:12.655Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:12.656Z appoptics:patching patched fs 
2021-09-18T00:51:12.670Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v12.22.6)
2021-09-18T00:51:12.676Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-09-18T00:51:12.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e77bb94d6533dfb6009502539f3730d5ffcb3ce-25d40249afb87654-01 outer:exit 2b-0e77bb94d6533dfb6009502539f3730d5ffcb3ce-0ef0e0a88d500362-01
2021-09-18T00:51:12.901Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:12.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-539d4e4afd593f9b8eaa52cb3d5928288361a7ca-214265b5a9600ee7-01 outer:exit 2b-539d4e4afd593f9b8eaa52cb3d5928288361a7ca-f1b024e93ace16a4-01
2021-09-18T00:51:12.943Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:12.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-043b5fed750cf5722c83ca69ca99b2b1ee437d0f-701e8799394fb15a-01 outer:exit 2b-043b5fed750cf5722c83ca69ca99b2b1ee437d0f-8b3bbc11b9b9a725-01
2021-09-18T00:51:12.945Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:12.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-633af4d2581d2f338e744d3d4506d83ec5c20371-a52fe4332db9fb30-01 outer:exit 2b-633af4d2581d2f338e744d3d4506d83ec5c20371-1d5be2b60faac5d6-01
2021-09-18T00:51:12.953Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:12.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f15608d3173ef69352696f1f72b0e29ef31a2f0-e68bed3f0cb0fcd5-01 outer:exit 2b-2f15608d3173ef69352696f1f72b0e29ef31a2f0-38bfc5d65e8916f5-01
2021-09-18T00:51:12.958Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:12.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9727637c65378c354d6b53dfc7d7b088d26399b-c15ffea2881315f5-01 outer:exit 2b-e9727637c65378c354d6b53dfc7d7b088d26399b-4dc0af7be0b637e7-01
2021-09-18T00:51:12.961Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:12.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-3631cad21e71727893e1b88d1cf84a8fb73ea307-534edcb8622c82b3-01 outer:exit 2b-3631cad21e71727893e1b88d1cf84a8fb73ea307-87bf96f060f3cc71-01
2021-09-18T00:51:12.963Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:12.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-53b55dca0279ff49a26a3393c5cc9152aa14165b-7382ac7401641086-01 outer:exit 2b-53b55dca0279ff49a26a3393c5cc9152aa14165b-235cff9ea51240c1-01
2021-09-18T00:51:12.965Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:12.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b8e91c628c0e5f29226d457f445ee892fe3c8f0-19c92e628316c7a3-01 outer:exit 2b-8b8e91c628c0e5f29226d457f445ee892fe3c8f0-2d06c3e0ad419968-01
2021-09-18T00:51:12.967Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:12.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-00bc485a7ad7effbbee3f10790e4c212fdc43e67-3c826c66254922a2-01 outer:exit 2b-00bc485a7ad7effbbee3f10790e4c212fdc43e67-7931e06d72f981b6-01
2021-09-18T00:51:12.970Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:12.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-9004515f3c809628e1648175b3527d880b1e351a-851404971760c0e2-01 outer:exit 2b-9004515f3c809628e1648175b3527d880b1e351a-8ccedacf824dd838-01
2021-09-18T00:51:12.975Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:12.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-119bc9b1d95beca6e7148af458f95f12a7e41efa-8f903f49259e5abc-01 outer:exit 2b-119bc9b1d95beca6e7148af458f95f12a7e41efa-df5f1627bfe3c02b-01
2021-09-18T00:51:12.982Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:12.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-47b9d7d172cbbd300ee166c3ebc108638f63a343-a713b897f7bcf1af-01 outer:exit 2b-47b9d7d172cbbd300ee166c3ebc108638f63a343-eac3638406901c72-01
2021-09-18T00:51:12.994Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:13.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4a2b669f312fd5dfc77380c2eeca88aad8be73-993577f4a0ad4a4f-01 outer:exit 2b-5d4a2b669f312fd5dfc77380c2eeca88aad8be73-a9d035ba61066757-01
2021-09-18T00:51:13.047Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:13.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-40d444a5b229deec740617e5abc78e40e19d383d-8ed2f7174ac1e32d-01 outer:exit 2b-40d444a5b229deec740617e5abc78e40e19d383d-cbb63b9b11bd2d30-01
2021-09-18T00:51:13.049Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:13.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f8d06ad3b444e768edacd673925c0bdbabbe27f-ebe090ad593ca60f-01 outer:exit 2b-8f8d06ad3b444e768edacd673925c0bdbabbe27f-b9c580f1e56c2c9c-01
2021-09-18T00:51:13.052Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:13.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ccfd44ca1f3dbc08ae94e8b837766357561e2d6-e8b0626b9fd1e7c9-01 outer:exit 2b-0ccfd44ca1f3dbc08ae94e8b837766357561e2d6-9937fef00cc84877-01
2021-09-18T00:51:13.055Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:13.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dbbbd273da030fbd75987bc0cac6e7c60622722-33b4ff3bf586ffda-01 outer:exit 2b-3dbbbd273da030fbd75987bc0cac6e7c60622722-8ec8fa236a399f2e-01
2021-09-18T00:51:13.057Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:13.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e5ebc5703665f8f868e597a981dff5b5dd1768e-3f85704c9ec875c6-01 outer:exit 2b-9e5ebc5703665f8f868e597a981dff5b5dd1768e-aa48295cc2471609-01
2021-09-18T00:51:13.059Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:13.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-54ac9b51cff109936ee15af56bce89d5c12f1264-6caef98a4c1e90af-01 outer:exit 2b-54ac9b51cff109936ee15af56bce89d5c12f1264-75ff25380a761a84-01
2021-09-18T00:51:13.062Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:13.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-546c866c63f39acf081eb1eb7a1205e7bca46e5b-2f4aadcd780bbc4b-01 outer:exit 2b-546c866c63f39acf081eb1eb7a1205e7bca46e5b-1a2e6bdad2222db3-01
2021-09-18T00:51:13.088Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:13.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-e191c6ceae3bfa58e18468ca0067080be0634791-fc831afb2344937a-01 outer:exit 2b-e191c6ceae3bfa58e18468ca0067080be0634791-54dc26775546410c-01
2021-09-18T00:51:13.090Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:13.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-935e3ee5dc32115f52b6d9dfc853029833678e81-5683bedaf91101cd-01 outer:exit 2b-935e3ee5dc32115f52b6d9dfc853029833678e81-0779bb39f894b8e4-01
2021-09-18T00:51:13.093Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:13.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad102f97dfe6dc6c8c00a2035985d3c7d1247cb9-5b7f5c3f843c7f6a-01 outer:exit 2b-ad102f97dfe6dc6c8c00a2035985d3c7d1247cb9-9765c412e339dd6f-01
2021-09-18T00:51:13.096Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:13.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8003a4ec464c195112e03e49b0c2becefc774cf-d1c07dc4e8bccb97-01 outer:exit 2b-b8003a4ec464c195112e03e49b0c2becefc774cf-96c281b7aaf0a053-01
2021-09-18T00:51:13.098Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:13.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba1be66a6941155b9691debf905a413207ef6044-640958febe26a872-01 outer:exit 2b-ba1be66a6941155b9691debf905a413207ef6044-79eea9b1f0d96a37-01
2021-09-18T00:51:13.100Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:13.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-f63ecf2487fb3f8863f416138060efc27f776147-85a7b32e3b51e82f-01 outer:exit 2b-f63ecf2487fb3f8863f416138060efc27f776147-6bf2611a9f96d161-01
2021-09-18T00:51:13.108Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:13.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-201093b15277a897ebd1ffc7f50a202a3102d981-423cd9acbf3c181f-01 outer:exit 2b-201093b15277a897ebd1ffc7f50a202a3102d981-ad1dc9908bb4bf3a-01
2021-09-18T00:51:13.115Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:13.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-138e0efd579297e4b9846cf10fb38859f937aa7e-4198b5e42410e957-01 outer:exit 2b-138e0efd579297e4b9846cf10fb38859f937aa7e-2c679f373a05d98f-01
2021-09-18T00:51:13.126Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:13.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb5ef43f32f244323004edad13d240525c764707-139978ce84ee5d78-01 outer:exit 2b-bb5ef43f32f244323004edad13d240525c764707-d00c0c6df2444a5b-01
2021-09-18T00:51:13.131Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:13.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-897e076dffb258c18a01785f4e9df4f8ea2a5363-ecd111cd49d1414c-01 outer:exit 2b-897e076dffb258c18a01785f4e9df4f8ea2a5363-f5bd0ae5d6bd14f2-01
2021-09-18T00:51:13.134Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:13.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-609b562a7a6e024feaf1b2153b6be6059ae26c29-b93a3330a962abc0-01 outer:exit 2b-609b562a7a6e024feaf1b2153b6be6059ae26c29-be0b195efb33e765-01
2021-09-18T00:51:13.136Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:13.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-fabef0c85661c826d1ff37494fa5234ab939cb6c-bfd7b066de49e225-01 outer:exit 2b-fabef0c85661c826d1ff37494fa5234ab939cb6c-93758623559ebc14-01
2021-09-18T00:51:13.141Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:13.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-4abdaa4dc0342372e438473823567637053ed98e-b04a972fdbed6d0c-01 outer:exit 2b-4abdaa4dc0342372e438473823567637053ed98e-8156ee201d7fafbc-01
2021-09-18T00:51:13.143Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:13.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-6352d706f884205220eda444d095d1713a248ae5-c38c7c538d335386-01 outer:exit 2b-6352d706f884205220eda444d095d1713a248ae5-4259830862005ea1-01
2021-09-18T00:51:13.145Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:13.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-33d6fd59abb3db3b30e2f2047d90ccbfe3a9de93-400b94363f147089-01 outer:exit 2b-33d6fd59abb3db3b30e2f2047d90ccbfe3a9de93-e4cb9614db5c08dc-01
2021-09-18T00:51:13.146Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:13.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0ebcf3dca1c6d13a20820222c79efa486efcfc1-577dc68807eeb41e-01 outer:exit 2b-a0ebcf3dca1c6d13a20820222c79efa486efcfc1-13212008af8e527b-01
2021-09-18T00:51:13.148Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:13.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6044041b0481a524207a4d38ccdd448a7563397-c8ea61ef8bdcb4f4-01 outer:exit 2b-f6044041b0481a524207a4d38ccdd448a7563397-cdbc168746c2869f-01
2021-09-18T00:51:13.150Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:13.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-baeabb49f59101fa0325b5e03ae3b2b40815bd5c-aa7e4f72a3b7a419-01 outer:exit 2b-baeabb49f59101fa0325b5e03ae3b2b40815bd5c-94ee91de31b9bf3e-01
2021-09-18T00:51:13.157Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:13.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-f243e2f5c79bb0ef490b7f909c5b8b7de70e936d-8e41fbf2566db4fd-01 outer:exit 2b-f243e2f5c79bb0ef490b7f909c5b8b7de70e936d-b63810a15e3a39b5-01
2021-09-18T00:51:13.163Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:13.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1ed24516e21704fb521b7c2220df0df65df6ebd-ebf13caf15f9d055-01 outer:exit 2b-f1ed24516e21704fb521b7c2220df0df65df6ebd-c68258b3a6f95b24-01
2021-09-18T00:51:13.167Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:13.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-bda3abc10203e7997ff3d53500b681c836d11f52-2454dcd37fd8c2c7-01 outer:exit 2b-bda3abc10203e7997ff3d53500b681c836d11f52-d5310f9b2dfa2012-01
2021-09-18T00:51:13.169Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:13.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb09513e46ec1ddc19061dcda987961c7653ea48-b60f4064d29c3e37-01 outer:exit 2b-fb09513e46ec1ddc19061dcda987961c7653ea48-c7047b93a4117e2f-01
2021-09-18T00:51:13.171Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:13.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-9388a9f4f39d622235a69718f1ae8bc53951beaa-6540420db1ab2df1-01 outer:exit 2b-9388a9f4f39d622235a69718f1ae8bc53951beaa-ab5ac4885913a676-01
2021-09-18T00:51:13.195Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (334ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.14
updated 1 package and audited 1094 packages in 3.733s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:17.772Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:17.773Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:17.773Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:17.773Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:17.827Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:17.857Z appoptics:patching patched crypto 
2021-09-18T00:51:17.878Z appoptics:patching patched https 
2021-09-18T00:51:17.878Z appoptics:patching patched http 
2021-09-18T00:51:17.919Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:17.919Z appoptics:patching patched fs 
2021-09-18T00:51:17.932Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v12.22.6)
2021-09-18T00:51:17.937Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-09-18T00:51:18.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-43eb1869329c135a5d9bac42c57dc1614880fbdc-dc62613c1edbef78-01 outer:exit 2b-43eb1869329c135a5d9bac42c57dc1614880fbdc-c191f4cedcdec7da-01
2021-09-18T00:51:18.087Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:18.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-950a148acbd577c84ec72ef90a65afca89ea5700-801f4ce503f2bafb-01 outer:exit 2b-950a148acbd577c84ec72ef90a65afca89ea5700-be994733e87cf421-01
2021-09-18T00:51:18.145Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:18.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-758b9763b636c271660761c25121d648e5a71590-c89fbfe41e9478ad-01 outer:exit 2b-758b9763b636c271660761c25121d648e5a71590-41ac35af4fc19131-01
2021-09-18T00:51:18.149Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:18.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-5655fa724441997268c1a4e8a35ceeb47d301b60-b789ca81f48f5367-01 outer:exit 2b-5655fa724441997268c1a4e8a35ceeb47d301b60-a8c5a95d3f4c5476-01
2021-09-18T00:51:18.153Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:18.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-51025bdb4348efb86d8d895fdb005759dc02d08c-4b68d48f66ed27a4-01 outer:exit 2b-51025bdb4348efb86d8d895fdb005759dc02d08c-b2e5efe71d2b6064-01
2021-09-18T00:51:18.160Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:18.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-144e86add51e1e59ba9dcbbe30e06b431e1adbd3-034a3ef6eced360e-01 outer:exit 2b-144e86add51e1e59ba9dcbbe30e06b431e1adbd3-efbedcb76cec0519-01
2021-09-18T00:51:18.164Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:18.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-28bf87eadf8af1e87a24e91cd157fa67f4bb039b-62c259474bd4245f-01 outer:exit 2b-28bf87eadf8af1e87a24e91cd157fa67f4bb039b-baa1106c71ee1715-01
2021-09-18T00:51:18.174Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:18.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-793c6e50abce388e2a1c994e8d9a185a6356ab33-5b8e5b780dfd8fbe-01 outer:exit 2b-793c6e50abce388e2a1c994e8d9a185a6356ab33-f76e10d853791ca8-01
2021-09-18T00:51:18.180Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:18.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-586de8a67c84a0d5e1b53953ecfecb5f70c6af4b-0421b93c92d6cb12-01 outer:exit 2b-586de8a67c84a0d5e1b53953ecfecb5f70c6af4b-4675490d901d2870-01
2021-09-18T00:51:18.183Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:18.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdcea9658d60a8b7a63b90716d36eccf3d0a00af-1231da92e8dd3d18-01 outer:exit 2b-fdcea9658d60a8b7a63b90716d36eccf3d0a00af-98b68fcf1fd4de26-01
2021-09-18T00:51:18.185Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:18.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae0fb05554493df0e1f594bc55c96bab70145163-3e313b10f2cc3d32-01 outer:exit 2b-ae0fb05554493df0e1f594bc55c96bab70145163-97249059038c774b-01
2021-09-18T00:51:18.189Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:18.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed3c1fd04100ae2b1ba497bd968e3b76e6a13398-bd2791a9a7c542c1-01 outer:exit 2b-ed3c1fd04100ae2b1ba497bd968e3b76e6a13398-ee50a5ed33a8cfcb-01
2021-09-18T00:51:18.194Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:18.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb07bd0e084db5d08322c1cabbcbc44601f85d74-48e614a5034d5b89-01 outer:exit 2b-cb07bd0e084db5d08322c1cabbcbc44601f85d74-503db95df0ba44f8-01
2021-09-18T00:51:18.209Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:18.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ea058fb1a61831556f41f1636965d4279670a0d-9df79fe7d15d3c24-01 outer:exit 2b-6ea058fb1a61831556f41f1636965d4279670a0d-7f0d4ce723c0e029-01
2021-09-18T00:51:18.234Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:18.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bfa95758210afa8b4103b283ecec0ee4bd17fde-2ed665ab32209130-01 outer:exit 2b-4bfa95758210afa8b4103b283ecec0ee4bd17fde-576a0062647c4027-01
2021-09-18T00:51:18.237Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:18.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9a923e704e735e6514f7d958df0d80efa2d4df2-dae595b83942faed-01 outer:exit 2b-f9a923e704e735e6514f7d958df0d80efa2d4df2-e7ba434b33ac7173-01
2021-09-18T00:51:18.239Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:18.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b6826d8f16ca8d19467b06cb39669247ae90120-896af83e3d2df425-01 outer:exit 2b-7b6826d8f16ca8d19467b06cb39669247ae90120-809a5151ce16c20b-01
2021-09-18T00:51:18.242Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:18.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcec43786ffedb320d78ecbbd764850b3cc95698-37b396ffa28dcc2d-01 outer:exit 2b-fcec43786ffedb320d78ecbbd764850b3cc95698-75a56ecdf30fc838-01
2021-09-18T00:51:18.244Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:18.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-3311a696c98b523547874d68d93f696954642713-2d21384a83482acc-01 outer:exit 2b-3311a696c98b523547874d68d93f696954642713-d589a9206de53ac3-01
2021-09-18T00:51:18.246Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:18.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e349c40732ca9a52000aab93c1ac7e24ca6888a-8e37899babd9c56b-01 outer:exit 2b-9e349c40732ca9a52000aab93c1ac7e24ca6888a-d3748ecf52245eef-01
2021-09-18T00:51:18.248Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:18.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ce22df13dcdf13acea59c9ddae38d390e945be5-366fb343853d0821-01 outer:exit 2b-9ce22df13dcdf13acea59c9ddae38d390e945be5-c3770d1a45c49fb4-01
2021-09-18T00:51:18.250Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:18.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-70b61b71098f3045ee827cca14aedd41b1e8367d-8147bec1fc582c10-01 outer:exit 2b-70b61b71098f3045ee827cca14aedd41b1e8367d-dc85627bcf07abec-01
2021-09-18T00:51:18.258Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:18.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-e53b06a3cb9b83f020e55886241de9cc4dbf95b2-0665e733cbe091af-01 outer:exit 2b-e53b06a3cb9b83f020e55886241de9cc4dbf95b2-e6b56202414640fc-01
2021-09-18T00:51:18.262Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:18.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ba5a162ad3d77ca178093a18bc0d635303be520-99570de6700771e9-01 outer:exit 2b-1ba5a162ad3d77ca178093a18bc0d635303be520-ea3eeef15771f59a-01
2021-09-18T00:51:18.266Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:18.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-af2a3a6815cc37766a86117013d751a7fd9ed76d-51abf3e65a4c48f2-01 outer:exit 2b-af2a3a6815cc37766a86117013d751a7fd9ed76d-7663a506e9679f0b-01
2021-09-18T00:51:18.269Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:18.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f456da2321672a6a39e445c0232367c627904b3-a2d537fdd11e8bae-01 outer:exit 2b-7f456da2321672a6a39e445c0232367c627904b3-b7f7e4a6b441b1c6-01
2021-09-18T00:51:18.272Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:18.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8af2bf0f6c7609b69a1b184dd7c46dedb7b7a4a-470d57d902e422ce-01 outer:exit 2b-e8af2bf0f6c7609b69a1b184dd7c46dedb7b7a4a-08d71aa74a0d0316-01
2021-09-18T00:51:18.278Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:18.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-e95488c2e52472bef94450b195c01c6fd4822064-76501352872fcbeb-01 outer:exit 2b-e95488c2e52472bef94450b195c01c6fd4822064-5093a0d4d17ee8e7-01
2021-09-18T00:51:18.283Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:18.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cfea51a8c7aac1ffee1930e6025006cb2d174e4-f82e10976868d71b-01 outer:exit 2b-8cfea51a8c7aac1ffee1930e6025006cb2d174e4-e2ef4edb2a967ee5-01
2021-09-18T00:51:18.304Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:18.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfeb0602c0eb3569f90183971f9151e6a61a2a5b-2a7143cfde3cd4de-01 outer:exit 2b-dfeb0602c0eb3569f90183971f9151e6a61a2a5b-a11e9a19b40adde0-01
2021-09-18T00:51:18.310Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:18.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d6d914f2f28a017b00af44096b5dbef53d947fb-fef10d9f05bdccf1-01 outer:exit 2b-7d6d914f2f28a017b00af44096b5dbef53d947fb-5d4d2dd138ed1f35-01
2021-09-18T00:51:18.312Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:18.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-eabb5eb29815a313a317e31f9e768ebc5b2c0f8e-14d4651531232086-01 outer:exit 2b-eabb5eb29815a313a317e31f9e768ebc5b2c0f8e-0b088fc4fa818e9d-01
2021-09-18T00:51:18.315Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:18.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-75aee177e464d4ae12a93473df0f359e4281ab58-d5a29772f4ed4164-01 outer:exit 2b-75aee177e464d4ae12a93473df0f359e4281ab58-043a5baebbba5952-01
2021-09-18T00:51:18.320Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:18.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-0899b27905f8873d16c09b6872186248e5d8f90d-e3dcec0f4bdabbf1-01 outer:exit 2b-0899b27905f8873d16c09b6872186248e5d8f90d-6614499218f061d0-01
2021-09-18T00:51:18.322Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:18.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-93f99213150fc079f229c311b35e441610c0acce-0e46681e126ab02e-01 outer:exit 2b-93f99213150fc079f229c311b35e441610c0acce-c84334253ee23613-01
2021-09-18T00:51:18.324Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:18.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-0407cbef3fd3fb740bb6d254495fe8a24395d58c-d9667e2532c193ce-01 outer:exit 2b-0407cbef3fd3fb740bb6d254495fe8a24395d58c-140fb67a9001c685-01
2021-09-18T00:51:18.325Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:18.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfefed52c87dda54697037a577bbac3e7ae4cccb-5795eaf13bffcfea-01 outer:exit 2b-cfefed52c87dda54697037a577bbac3e7ae4cccb-8716f56c6959c182-01
2021-09-18T00:51:18.327Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:18.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2b95182630a94d95acfcfda8b94a06e8e3b67e9-dea4daa19f7bcb2b-01 outer:exit 2b-c2b95182630a94d95acfcfda8b94a06e8e3b67e9-16fb63a3094a23e5-01
2021-09-18T00:51:18.329Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:18.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6209ae139691eadbecbbf86f0f79dc518860296-5f4ee0ec1f09eecd-01 outer:exit 2b-e6209ae139691eadbecbbf86f0f79dc518860296-af6abfe25ad55fec-01
2021-09-18T00:51:18.336Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:18.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-48545df545127374c2fc656f8cef026e0141d168-f541d5991a9d0813-01 outer:exit 2b-48545df545127374c2fc656f8cef026e0141d168-6bf26495aada024a-01
2021-09-18T00:51:18.343Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:18.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4f97082028e092f636d27dc0e445bc432d58f2b-864dea57d3ddbbe7-01 outer:exit 2b-a4f97082028e092f636d27dc0e445bc432d58f2b-39d5e14bad138ba0-01
2021-09-18T00:51:18.346Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:18.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8e465a91ca7827a43d8873f7621f5caeb479efe-8f63158962f5d914-01 outer:exit 2b-c8e465a91ca7827a43d8873f7621f5caeb479efe-8f4f323b877f865a-01
2021-09-18T00:51:18.348Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:18.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-434b653fef75f86f0a6c20cf158e8b1ebef037c0-a6e1d6352d161e3e-01 outer:exit 2b-434b653fef75f86f0a6c20cf158e8b1ebef037c0-3a707b9c3da5a760-01
2021-09-18T00:51:18.350Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:18.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0b92b9243cda55aaa936b914605a72fefb3e0c6-04cdaeeb40063d37-01 outer:exit 2b-f0b92b9243cda55aaa936b914605a72fefb3e0c6-e15111ed7bc625ce-01
2021-09-18T00:51:18.374Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (329ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.0
updated 2 packages and audited 1094 packages in 3.948s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:23.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:23.360Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:23.360Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:23.360Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:23.421Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:23.455Z appoptics:patching patched crypto 
2021-09-18T00:51:23.482Z appoptics:patching patched https 
2021-09-18T00:51:23.482Z appoptics:patching patched http 
2021-09-18T00:51:23.526Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:23.526Z appoptics:patching patched fs 
2021-09-18T00:51:23.550Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v12.22.6)
2021-09-18T00:51:23.556Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-09-18T00:51:23.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-5156bd91ce8f13e6927d9297c068a29f39008654-4f73a55026ae3c58-01 outer:exit 2b-5156bd91ce8f13e6927d9297c068a29f39008654-2639e56b65309167-01
2021-09-18T00:51:23.731Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:23.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-4559513827dc0b6bade46ada2f8761b8ff3357f6-8cbc0afa764fd841-01 outer:exit 2b-4559513827dc0b6bade46ada2f8761b8ff3357f6-d03f0d8759fef5a3-01
2021-09-18T00:51:23.791Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:23.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7059675778b08641dccb634c1f23568d25dc217-a1d13c01ec0603cf-01 outer:exit 2b-b7059675778b08641dccb634c1f23568d25dc217-0f1c878c632d83cd-01
2021-09-18T00:51:23.794Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:23.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-ada91d44beb44201274e344ecc46fe20b63bfb8b-1aecde030032078e-01 outer:exit 2b-ada91d44beb44201274e344ecc46fe20b63bfb8b-bdbe66ffae624ef3-01
2021-09-18T00:51:23.797Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:23.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cf63ef1999c0a69efed4d7993180b51c441a565-faf47bfdc1fdeefb-01 outer:exit 2b-3cf63ef1999c0a69efed4d7993180b51c441a565-6f6a947c33baff61-01
2021-09-18T00:51:23.804Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:23.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17572487b5e5d3d7173a0b53c38644681218e7b-bf5df1e0df7247d5-01 outer:exit 2b-c17572487b5e5d3d7173a0b53c38644681218e7b-49d81a41d580adfd-01
2021-09-18T00:51:23.808Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:23.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-49099eda10a582bee5bde632766e9ea0f3946d7c-597a50ed74e52f68-01 outer:exit 2b-49099eda10a582bee5bde632766e9ea0f3946d7c-ab1e281cc91fc9f1-01
2021-09-18T00:51:23.811Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:23.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b9a53b27e52755435182960a0fcc74d3bcede45-448aeb4908a9c90f-01 outer:exit 2b-4b9a53b27e52755435182960a0fcc74d3bcede45-f1886f07e363ca41-01
2021-09-18T00:51:23.814Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:23.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-52147f15f4dd9b84da948c952dda2ebfefc975a6-8c0169016a02c39f-01 outer:exit 2b-52147f15f4dd9b84da948c952dda2ebfefc975a6-1ac5808bbca695f7-01
2021-09-18T00:51:23.817Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:23.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ffb498bd4ef83f4ac758f9aced843c168e2e49-13dadfe45ce7c54a-01 outer:exit 2b-c8ffb498bd4ef83f4ac758f9aced843c168e2e49-d81a0a31ca65e1ef-01
2021-09-18T00:51:23.822Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:23.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-2819232c99706ab1597840fe0deb498e58567fca-d758df59977080bd-01 outer:exit 2b-2819232c99706ab1597840fe0deb498e58567fca-b9290b56baa05e7d-01
2021-09-18T00:51:23.826Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:23.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-083a65efcd17c7798b995daa351f03eca3b68433-aa806187dabdf5ed-01 outer:exit 2b-083a65efcd17c7798b995daa351f03eca3b68433-af9aa264c6470cbf-01
2021-09-18T00:51:23.832Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:23.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4d01ec08fb5a63ce615ee3df99c7650f2a20187-8cba923f70d2c537-01 outer:exit 2b-f4d01ec08fb5a63ce615ee3df99c7650f2a20187-f928e2c04ee410a9-01
2021-09-18T00:51:23.846Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:23.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4f2bd2da4fb60affb4860130cb5044cff2bc2a8-d8740ace1addd0d2-01 outer:exit 2b-f4f2bd2da4fb60affb4860130cb5044cff2bc2a8-ec86857c07e8603b-01
2021-09-18T00:51:23.889Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:23.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b9fada5475e8e40421f3df734148bb834ee518-0caafe9c532ee83e-01 outer:exit 2b-58b9fada5475e8e40421f3df734148bb834ee518-8aa70ae708aad99f-01
2021-09-18T00:51:23.892Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:23.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-06368349d67d9c078f008d67bf789820e3504699-b4a2213a583fdddd-01 outer:exit 2b-06368349d67d9c078f008d67bf789820e3504699-17338c8acd114e05-01
2021-09-18T00:51:23.894Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:23.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-e438efa2a011f3f5ac49fd1877dba725a15bc17f-2e846ae7ca97218b-01 outer:exit 2b-e438efa2a011f3f5ac49fd1877dba725a15bc17f-7d166913712015a4-01
2021-09-18T00:51:23.899Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:23.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f23097b221b129c53b60e34566e9efec8ec81b8-55771bcf1cb89b84-01 outer:exit 2b-4f23097b221b129c53b60e34566e9efec8ec81b8-af87c1491ef00b55-01
2021-09-18T00:51:23.902Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:23.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c3d5e9de887222e01adb39d0319b6113528eaba-929e9baf276acb6a-01 outer:exit 2b-0c3d5e9de887222e01adb39d0319b6113528eaba-14c2d71470008ac7-01
2021-09-18T00:51:23.932Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:23.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b5458490a35f9603b590557a03db3a0653b2971-e7e348ce06b2750b-01 outer:exit 2b-1b5458490a35f9603b590557a03db3a0653b2971-d82e9cb99f2873ed-01
2021-09-18T00:51:23.944Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:23.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-3905654daeb8d96e7cbcc133a72a315f0317b34d-a2906df9b0ec5037-01 outer:exit 2b-3905654daeb8d96e7cbcc133a72a315f0317b34d-2684475076ef6490-01
2021-09-18T00:51:23.946Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:23.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-fade97828e0a2ae96801ffaf72c44967119fcf6c-e036c66462b00498-01 outer:exit 2b-fade97828e0a2ae96801ffaf72c44967119fcf6c-556de7758c266389-01
2021-09-18T00:51:23.948Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:23.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ed7b9b6c45ed1ef086bd287d6abc3ee994efc4-8fa32a4312a427df-01 outer:exit 2b-e1ed7b9b6c45ed1ef086bd287d6abc3ee994efc4-6a677bd51ba2adaf-01
2021-09-18T00:51:23.951Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:23.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff83ef1ae53832b361756f7151af79bf8b02a398-fa9d590be2967501-01 outer:exit 2b-ff83ef1ae53832b361756f7151af79bf8b02a398-1d6813ca2fa6b2cc-01
2021-09-18T00:51:23.953Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:23.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cc0bc85755f65eaf8aed51ddf92d543eff81aa7-33909b36c3dfdc43-01 outer:exit 2b-3cc0bc85755f65eaf8aed51ddf92d543eff81aa7-9f7444b7480efac0-01
2021-09-18T00:51:23.955Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:23.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d7ef7db9a34975258f3d18f5070fdd155560a74-79478b7ab945a014-01 outer:exit 2b-0d7ef7db9a34975258f3d18f5070fdd155560a74-1b7e45a37789061d-01
2021-09-18T00:51:23.958Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:23.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec5178dc82b24d69a0bd215b8614997b242ab401-86d887b00662ba64-01 outer:exit 2b-ec5178dc82b24d69a0bd215b8614997b242ab401-acffd5aa205741dc-01
2021-09-18T00:51:23.963Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:23.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-791bf766466e0525eef64c79cc9ce647fa0f2cee-fa75c414ad4fe67c-01 outer:exit 2b-791bf766466e0525eef64c79cc9ce647fa0f2cee-a1f9d2edc94b4b74-01
2021-09-18T00:51:23.967Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:23.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cbdc70110ee0c82084ac5e399362152d883c57a-c5017f260ecc83a4-01 outer:exit 2b-6cbdc70110ee0c82084ac5e399362152d883c57a-bb559f05175dcc36-01
2021-09-18T00:51:23.977Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:23.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-fae15966112264a91f61d05f9a78fc6a0c4e41f3-7398c889526e7526-01 outer:exit 2b-fae15966112264a91f61d05f9a78fc6a0c4e41f3-f4ae38970253264a-01
2021-09-18T00:51:23.983Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:23.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-62a4c99c3ca519595b121250a9e21709b89dcc99-d2150effea97bc9d-01 outer:exit 2b-62a4c99c3ca519595b121250a9e21709b89dcc99-f65850bce1c8b660-01
2021-09-18T00:51:23.985Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:23.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-ded1f1be81ac41d3cbb1ef335c82a2f9c5a0528f-6d9e7ffc48d42343-01 outer:exit 2b-ded1f1be81ac41d3cbb1ef335c82a2f9c5a0528f-5d8f349a94772552-01
2021-09-18T00:51:23.988Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:23.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-aed2cd0832340fc091c1986cc06d3109cac09d83-cfeba59acfc889ed-01 outer:exit 2b-aed2cd0832340fc091c1986cc06d3109cac09d83-069e885546fdca4a-01
2021-09-18T00:51:23.993Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:23.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1986f6da04534f2fe1b1342509d945c83b13aa2-9dbe34fbd1e4ce3a-01 outer:exit 2b-c1986f6da04534f2fe1b1342509d945c83b13aa2-ec3ab3f1d94342f6-01
2021-09-18T00:51:23.995Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:23.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dfd245ecc4c361f8a6cb095da0702c4f09a308d-a6aca0e16e53a78a-01 outer:exit 2b-3dfd245ecc4c361f8a6cb095da0702c4f09a308d-cb6b292a25409825-01
2021-09-18T00:51:23.997Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:23.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6dfaf18ba3ff8024a64f7afd19bd8c64fd7cfee-0b3d604fdafe3920-01 outer:exit 2b-c6dfaf18ba3ff8024a64f7afd19bd8c64fd7cfee-0e0262f72e2a7db5-01
2021-09-18T00:51:23.999Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:24.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-e35f35f287f906edf843607d459fcbdbea252b80-7ce86ac54f36dd8b-01 outer:exit 2b-e35f35f287f906edf843607d459fcbdbea252b80-acf31a7782240e5a-01
2021-09-18T00:51:24.001Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:24.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd9bffd4ff9be3e03236dbe155d41844b8193826-75ab254097719b9e-01 outer:exit 2b-fd9bffd4ff9be3e03236dbe155d41844b8193826-a510c6aa27127077-01
2021-09-18T00:51:24.003Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:24.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-12f56e416d598644a65a6e203562ebf59ca9566e-695f7f11db2b0c14-01 outer:exit 2b-12f56e416d598644a65a6e203562ebf59ca9566e-4d7ad690e9525674-01
2021-09-18T00:51:24.013Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:24.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-12a2bf205da06ca0c531a2cca46c4bedbf97e780-2efd024efdea1212-01 outer:exit 2b-12a2bf205da06ca0c531a2cca46c4bedbf97e780-aa059fa68b6841ed-01
2021-09-18T00:51:24.021Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:24.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-1505fd4a37430315490cec70a4dbfb395e5d4df7-3855ea8abef2b2d9-01 outer:exit 2b-1505fd4a37430315490cec70a4dbfb395e5d4df7-fb50c5f590cddd29-01
2021-09-18T00:51:24.024Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:24.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-206208206e21ba7ced9ddc7f8fed0466a89fbecc-7a687729145fc3d6-01 outer:exit 2b-206208206e21ba7ced9ddc7f8fed0466a89fbecc-ed05a93d5e9c39cb-01
2021-09-18T00:51:24.026Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:24.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f3b0beb4cc52941e6d809eb5f55373c46bccd76-d6e0f42041c5d2ba-01 outer:exit 2b-3f3b0beb4cc52941e6d809eb5f55373c46bccd76-4b11e9cabd868611-01
2021-09-18T00:51:24.029Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:24.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-8195b94b4298adbb4eed11b79ea467517d9f47e8-226aadefb3ebe212-01 outer:exit 2b-8195b94b4298adbb4eed11b79ea467517d9f47e8-1c4be0f12908a139-01
2021-09-18T00:51:24.056Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (359ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.1
updated 1 package and audited 1094 packages in 4.748s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:29.726Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:29.727Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:29.727Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:29.727Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:29.784Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:29.813Z appoptics:patching patched crypto 
2021-09-18T00:51:29.834Z appoptics:patching patched https 
2021-09-18T00:51:29.834Z appoptics:patching patched http 
2021-09-18T00:51:29.868Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:29.868Z appoptics:patching patched fs 
2021-09-18T00:51:29.891Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v12.22.6)
2021-09-18T00:51:29.896Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-09-18T00:51:30.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9a25b0aa920997dfee6b7633166bac5cc977ad2-399c53540e5f3416-01 outer:exit 2b-b9a25b0aa920997dfee6b7633166bac5cc977ad2-4e5e4767f2f02b9d-01
2021-09-18T00:51:30.034Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:30.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-8beb0edc88b5fedc588536db7b587887d7554871-5da39222d4396ed5-01 outer:exit 2b-8beb0edc88b5fedc588536db7b587887d7554871-85765b0fe6a97c49-01
2021-09-18T00:51:30.092Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:30.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-225c8482b083080262b315a90fd9f751ce29ef78-1bd3969d49e936d8-01 outer:exit 2b-225c8482b083080262b315a90fd9f751ce29ef78-046f5be65f37ca40-01
2021-09-18T00:51:30.095Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:30.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a60699a5652759ce419eb420bccd06aa1676a79-d8f71eca9a564705-01 outer:exit 2b-8a60699a5652759ce419eb420bccd06aa1676a79-605dfeb79307543b-01
2021-09-18T00:51:30.098Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:30.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8286b7f7007f079bd421851a96d7116799d2747-54ff48c2984eac08-01 outer:exit 2b-f8286b7f7007f079bd421851a96d7116799d2747-3ef24ebb0e50d51c-01
2021-09-18T00:51:30.102Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:30.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-356875f15c08f5b9b61fbb5ad0258a599164156a-4edc292b05077150-01 outer:exit 2b-356875f15c08f5b9b61fbb5ad0258a599164156a-2c82f1d469e20b05-01
2021-09-18T00:51:30.104Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:30.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f34e16ab435caa0ca2c06b60f93e29584cf5bce-47b895388aa363dd-01 outer:exit 2b-5f34e16ab435caa0ca2c06b60f93e29584cf5bce-4ae8fd596f5e0e35-01
2021-09-18T00:51:30.107Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:30.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-726a0cca38c08df247b94c4a583fbf634db92b55-e83817ec4e868e95-01 outer:exit 2b-726a0cca38c08df247b94c4a583fbf634db92b55-b2ebf8077dd35786-01
2021-09-18T00:51:30.109Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:30.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-7127bcbe683be29f73b703c1ef8145ddaab7beb4-ebb2476aaa31a31c-01 outer:exit 2b-7127bcbe683be29f73b703c1ef8145ddaab7beb4-4a47310e0cbaafde-01
2021-09-18T00:51:30.111Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:30.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bf2f39361d3c1885e5a52af57be6e15c39ed855-59202c7ade214ab5-01 outer:exit 2b-0bf2f39361d3c1885e5a52af57be6e15c39ed855-2f8aab8b394f77c1-01
2021-09-18T00:51:30.113Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:30.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-af79c6fc8e7a4c9b0aa89980c5286f34b345d2c2-cc652b4b300f809e-01 outer:exit 2b-af79c6fc8e7a4c9b0aa89980c5286f34b345d2c2-bb15e9a446f8fd82-01
2021-09-18T00:51:30.117Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:30.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8db38c3c5c53db46f09906f02b203fdf5bfb581-3a89a471e891f95c-01 outer:exit 2b-f8db38c3c5c53db46f09906f02b203fdf5bfb581-4773a14313b31c6d-01
2021-09-18T00:51:30.122Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:30.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-208b48b71fe2c580c3a49bd23c1014e6969688fe-3980c5681fe02a86-01 outer:exit 2b-208b48b71fe2c580c3a49bd23c1014e6969688fe-d179d0fb95790f3e-01
2021-09-18T00:51:30.133Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:30.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-324fc550f6e5487b04b1f6a8e8a35619fcc3bf7f-9321c1f19b07172f-01 outer:exit 2b-324fc550f6e5487b04b1f6a8e8a35619fcc3bf7f-9cad466e065856c3-01
2021-09-18T00:51:30.192Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:30.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-844b1429cf73c66a5b267b7fc5120aee15b784b0-8d301a3790770544-01 outer:exit 2b-844b1429cf73c66a5b267b7fc5120aee15b784b0-62f999422f2dd373-01
2021-09-18T00:51:30.194Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:30.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6a5c9706348306e1d4a5acb0a8a780663179f36-a42b5baffb859f51-01 outer:exit 2b-d6a5c9706348306e1d4a5acb0a8a780663179f36-6d98ae92ab338567-01
2021-09-18T00:51:30.196Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:30.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-9efdfb86a6764a83d20321a6a46a8681b72dd7f2-9d8054259ee139da-01 outer:exit 2b-9efdfb86a6764a83d20321a6a46a8681b72dd7f2-dbf69bd26c1d265f-01
2021-09-18T00:51:30.199Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:30.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-41661ae1a4b3c35dfa4b45a7ed028b00c0b5a962-f48cb89813cadf4c-01 outer:exit 2b-41661ae1a4b3c35dfa4b45a7ed028b00c0b5a962-b7ae1e497c80fb92-01
2021-09-18T00:51:30.219Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:30.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee002f92773f06e96addcbbe46ca7d8596400628-44e59b3dbd03ebf3-01 outer:exit 2b-ee002f92773f06e96addcbbe46ca7d8596400628-e2f059b1c899e69b-01
2021-09-18T00:51:30.221Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:30.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ae6ee119b0c3d240540d03fd53261eb2c928244-872c94caf3a55aee-01 outer:exit 2b-5ae6ee119b0c3d240540d03fd53261eb2c928244-8785597997490aa1-01
2021-09-18T00:51:30.223Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:30.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-915cd8e5a6a28af36fdd75c82c86a5ce4072d073-f23105d73b035d83-01 outer:exit 2b-915cd8e5a6a28af36fdd75c82c86a5ce4072d073-d506a0501dfecb6c-01
2021-09-18T00:51:30.225Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:30.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-46d6ad485492ad4db4999faf7f1fb861c255b380-8cfb4f1e4ae0ffda-01 outer:exit 2b-46d6ad485492ad4db4999faf7f1fb861c255b380-35dfccda79f95a2a-01
2021-09-18T00:51:30.226Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:30.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0504ef452cd474e5ad4724780c46cd9063135dd-5853569c5ccd55d1-01 outer:exit 2b-e0504ef452cd474e5ad4724780c46cd9063135dd-afdf14c09f3c8439-01
2021-09-18T00:51:30.229Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:30.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-65946abd42ae91194e13efb26ca527637d4df1f0-bd4545709084cfdc-01 outer:exit 2b-65946abd42ae91194e13efb26ca527637d4df1f0-1697cb6e6c459abb-01
2021-09-18T00:51:30.231Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:30.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-26a9a9229beb07842862d03cc1f1bf5f1d9517bc-e79a8f5602da4731-01 outer:exit 2b-26a9a9229beb07842862d03cc1f1bf5f1d9517bc-2f17cb04559ced92-01
2021-09-18T00:51:30.233Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:30.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ac2b86118ea4cb315a9771fcd30902d0ddcb6ce-ed969685f6eaa74f-01 outer:exit 2b-9ac2b86118ea4cb315a9771fcd30902d0ddcb6ce-72c1d8823251bcc6-01
2021-09-18T00:51:30.236Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:30.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-69173c6a001cf1ce9df53903dc7fa91c9d7c2995-a553de2bcd9328c9-01 outer:exit 2b-69173c6a001cf1ce9df53903dc7fa91c9d7c2995-3154274ddad7c2d3-01
2021-09-18T00:51:30.242Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:30.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c7befb8c526b6b6d5140844acb7ec3b81ce5d3c-4f17a192bbc080f5-01 outer:exit 2b-5c7befb8c526b6b6d5140844acb7ec3b81ce5d3c-975ee11601221171-01
2021-09-18T00:51:30.245Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:30.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b4fead66197a9df3ae3e2e489fb29c2538b24ba-c55ba66286058fa3-01 outer:exit 2b-0b4fead66197a9df3ae3e2e489fb29c2538b24ba-604cea49aa893fc9-01
2021-09-18T00:51:30.252Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:30.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-21439acaafd42fc61e13c7c63890aa895c54a6ca-91f46e3dcab54ec7-01 outer:exit 2b-21439acaafd42fc61e13c7c63890aa895c54a6ca-a9f26f7ae13b082d-01
2021-09-18T00:51:30.257Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:30.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a0d50480c8df222d7c505cf8864bb37e3261422-6fab32dea073c99e-01 outer:exit 2b-6a0d50480c8df222d7c505cf8864bb37e3261422-8fad29d8111682b6-01
2021-09-18T00:51:30.259Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:30.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-43bae994b7838f99b5d59bc65619689ca6bfe13d-1f4dbc33b5e87966-01 outer:exit 2b-43bae994b7838f99b5d59bc65619689ca6bfe13d-fc75934d0b4dd55c-01
2021-09-18T00:51:30.261Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:30.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4a1e2b429dd1951631cae5a8d5c7316f999724a-86e3128ff3f6ece7-01 outer:exit 2b-b4a1e2b429dd1951631cae5a8d5c7316f999724a-73bccad39524c3d5-01
2021-09-18T00:51:30.267Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:30.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2437d3be2e4f6ff6a252b06739d782a97d31ee5-ffbeb73f56de8003-01 outer:exit 2b-e2437d3be2e4f6ff6a252b06739d782a97d31ee5-fde12bf97feb49f6-01
2021-09-18T00:51:30.268Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:30.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aa9949850f527390c200732b52a2fe4783ef43b-fc9d133c17e30fcd-01 outer:exit 2b-6aa9949850f527390c200732b52a2fe4783ef43b-500a8ecb42a694c1-01
2021-09-18T00:51:30.270Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:30.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1bf655cbdb67b32504b9f477df1014d7610225d-92b26a802378c518-01 outer:exit 2b-b1bf655cbdb67b32504b9f477df1014d7610225d-c106910aa01b0598-01
2021-09-18T00:51:30.272Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:30.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-945df537c044bfa1cd7bdca3f0eadb6671178150-474ec873d48f163c-01 outer:exit 2b-945df537c044bfa1cd7bdca3f0eadb6671178150-ddff4993a1d50d93-01
2021-09-18T00:51:30.274Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:30.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-b82d42fb4f0020ab541dbd44956fea317ef62e64-349905669b5c932e-01 outer:exit 2b-b82d42fb4f0020ab541dbd44956fea317ef62e64-61dbcef39dc4ace1-01
2021-09-18T00:51:30.275Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:30.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-788a84d12917d9565cf47d70bfcdc78d0c626809-04661b7435a1b4ca-01 outer:exit 2b-788a84d12917d9565cf47d70bfcdc78d0c626809-605b7edabe528fe9-01
2021-09-18T00:51:30.283Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:30.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-26203765414229aa2ed48baea547f361764afa27-330aef837fc95451-01 outer:exit 2b-26203765414229aa2ed48baea547f361764afa27-ed297db9eb2021bd-01
2021-09-18T00:51:30.289Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:30.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-165ebec813cfbcaeab1c97b116261eb5bd44431d-d29f34054a4d4df7-01 outer:exit 2b-165ebec813cfbcaeab1c97b116261eb5bd44431d-0d5dc38a776e6e67-01
2021-09-18T00:51:30.292Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:30.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-039b429cd9c3efa46176ad03f385323667e0cbf1-15fbb50c811e5864-01 outer:exit 2b-039b429cd9c3efa46176ad03f385323667e0cbf1-52eb72420e6f6274-01
2021-09-18T00:51:30.294Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:30.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef0b6f6ece3ab49b828607778d3419c85a00e4b5-58251808135cd4f5-01 outer:exit 2b-ef0b6f6ece3ab49b828607778d3419c85a00e4b5-a2e20fd862323dda-01
2021-09-18T00:51:30.296Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:30.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b1a30ae37cd833894982996f335f0788e5701ce-7bdc550ca2385db5-01 outer:exit 2b-8b1a30ae37cd833894982996f335f0788e5701ce-580e80ced5e8945d-01
2021-09-18T00:51:30.320Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (315ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.2
updated 1 package and audited 1094 packages in 4.049s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:35.382Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:35.383Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:35.383Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:35.383Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:35.477Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:35.525Z appoptics:patching patched crypto 
2021-09-18T00:51:35.549Z appoptics:patching patched https 
2021-09-18T00:51:35.549Z appoptics:patching patched http 
2021-09-18T00:51:35.610Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:35.610Z appoptics:patching patched fs 
2021-09-18T00:51:35.652Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v12.22.6)
2021-09-18T00:51:35.660Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-09-18T00:51:35.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-12312109e9c27667e920207254413885ffa91c37-29ebd06e2fbb0125-01 outer:exit 2b-12312109e9c27667e920207254413885ffa91c37-89a3aa2a04237bd4-01
2021-09-18T00:51:35.913Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:35.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-606e4a60fd6f4ef59b6866ec5547fd525e197754-4b8f4dbf345d4e96-01 outer:exit 2b-606e4a60fd6f4ef59b6866ec5547fd525e197754-4522e25e222a86dd-01
2021-09-18T00:51:35.985Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:35.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fb59282e1ea8b2a3024b4e0f8377c18b1cb2bf3-8c21ca90468d862e-01 outer:exit 2b-3fb59282e1ea8b2a3024b4e0f8377c18b1cb2bf3-ef586be183b80e49-01
2021-09-18T00:51:35.990Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:35.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-f25b6dd23c06500adfa9d571e3c521b8710bfeba-a86b938ea4e54365-01 outer:exit 2b-f25b6dd23c06500adfa9d571e3c521b8710bfeba-cf70194f95d2fe76-01
2021-09-18T00:51:35.992Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:36.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-168e9158ca841cde50870d8349a94dbda45051b2-8671e9aa52dcbc3c-01 outer:exit 2b-168e9158ca841cde50870d8349a94dbda45051b2-228fbcc38819445b-01
2021-09-18T00:51:36.000Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:36.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-861859769abb859ae4a5427137f3e07433eaedab-f7454b4558bdc3a2-01 outer:exit 2b-861859769abb859ae4a5427137f3e07433eaedab-3478ded241d16681-01
2021-09-18T00:51:36.003Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:36.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-b23343af9a1b63e608c1812f15663806e976078f-cc4d66e64382ecda-01 outer:exit 2b-b23343af9a1b63e608c1812f15663806e976078f-d8bd1e9028a89469-01
2021-09-18T00:51:36.008Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:36.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cd5ae9ee72f3539c5c486345dddf8eef9fb6003-d7aeddb73a41dafd-01 outer:exit 2b-3cd5ae9ee72f3539c5c486345dddf8eef9fb6003-9b22fa9e7113a1a9-01
2021-09-18T00:51:36.010Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:36.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-5223c04d4b51495cccdbb8da3696e83dd9b6c93d-3c1d395604176805-01 outer:exit 2b-5223c04d4b51495cccdbb8da3696e83dd9b6c93d-61a202c0505338d1-01
2021-09-18T00:51:36.016Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:36.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-485679f9f2689aeb1da0a2f165fa71b360ffb244-a4d56fe3c9350aef-01 outer:exit 2b-485679f9f2689aeb1da0a2f165fa71b360ffb244-dc5b421c03358db1-01
2021-09-18T00:51:36.020Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:36.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a89ccbbca949b7edce2f043aca8ea00a476fdc4-c26fd66da9f4c054-01 outer:exit 2b-9a89ccbbca949b7edce2f043aca8ea00a476fdc4-a5fb93ef8660da8c-01
2021-09-18T00:51:36.025Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:36.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-724947bcc39f38e72aa77274d6a9fd4bbd5af76e-8eded55a12e3b90b-01 outer:exit 2b-724947bcc39f38e72aa77274d6a9fd4bbd5af76e-f8b560b599f8228c-01
2021-09-18T00:51:36.030Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:36.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee9a9dae8146763fc4d5a98455a22e94a9ec951b-5862d4d0bd94ac2f-01 outer:exit 2b-ee9a9dae8146763fc4d5a98455a22e94a9ec951b-4292cd72e4f277c8-01
2021-09-18T00:51:36.045Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:36.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-3215514f5f837545454b4d3d8231ce5e73a51d5b-b1c521115ce77332-01 outer:exit 2b-3215514f5f837545454b4d3d8231ce5e73a51d5b-23bb9c26154ce680-01
2021-09-18T00:51:36.085Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:36.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ba68a1eb6c999b98cbb02a010e0a48703b95b71-6b0d9c2f435edab0-01 outer:exit 2b-7ba68a1eb6c999b98cbb02a010e0a48703b95b71-cc921f6847987b98-01
2021-09-18T00:51:36.088Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:36.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebd028674b3f2a8e4f016e05b4401aa61b70da9d-e6d827987c40e6d1-01 outer:exit 2b-ebd028674b3f2a8e4f016e05b4401aa61b70da9d-d38d497292c25380-01
2021-09-18T00:51:36.090Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:36.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-347ace6ed87cc3436f574cb9bf34aaa19ae22a43-44fb1e43ecd600f0-01 outer:exit 2b-347ace6ed87cc3436f574cb9bf34aaa19ae22a43-7aad4c90d38a6218-01
2021-09-18T00:51:36.093Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:36.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-52c7476c6217be5e02d8eb4eff596c0dd01cb3e5-09ca7aeb97b760e4-01 outer:exit 2b-52c7476c6217be5e02d8eb4eff596c0dd01cb3e5-b4d32c2e8efed690-01
2021-09-18T00:51:36.096Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:36.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0f07558699f516fc174065b956361411ab3da98-f1bc3b61b39a5539-01 outer:exit 2b-e0f07558699f516fc174065b956361411ab3da98-5fae61e9916e3424-01
2021-09-18T00:51:36.098Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:36.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-d68944741f6c6d9ccd4e98196e85ea5dca161d6b-cf6777f63102eeac-01 outer:exit 2b-d68944741f6c6d9ccd4e98196e85ea5dca161d6b-560ee5a1056fa648-01
2021-09-18T00:51:36.100Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:36.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebc87953f9e2411f37d3ccb437636c81e344416b-007e8c0743ce93e6-01 outer:exit 2b-ebc87953f9e2411f37d3ccb437636c81e344416b-2bdf7af182b5b595-01
2021-09-18T00:51:36.102Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:36.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd138335b7977f109115302fd224ea5eb01a84cd-ce5fe61f1daa514c-01 outer:exit 2b-cd138335b7977f109115302fd224ea5eb01a84cd-3a51b348ed2e217e-01
2021-09-18T00:51:36.104Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:36.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3f9868526a8620510b81432b7b75c65af0e431e-32e040e3abd53604-01 outer:exit 2b-d3f9868526a8620510b81432b7b75c65af0e431e-a4683e65f6fe148a-01
2021-09-18T00:51:36.112Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:36.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-21bb04338442c79f35d5e016ffe5b0b60b9d8b98-da7cc2f98f178ec6-01 outer:exit 2b-21bb04338442c79f35d5e016ffe5b0b60b9d8b98-22576b8a6853237f-01
2021-09-18T00:51:36.115Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:36.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-446c2e4c34f25b2eae529574162915894c0a0b60-1318d09615686b3d-01 outer:exit 2b-446c2e4c34f25b2eae529574162915894c0a0b60-dca6c4e4f1fc80ac-01
2021-09-18T00:51:36.118Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:36.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-97e2b3f14707f67a3ee2434b961d1bbefa65501b-38955c2b6ed727fd-01 outer:exit 2b-97e2b3f14707f67a3ee2434b961d1bbefa65501b-9de2c2021687df65-01
2021-09-18T00:51:36.121Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:36.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-30bf31d8a01d21e1e50c6b158cdf79323aa60181-6176b22a7e85cfea-01 outer:exit 2b-30bf31d8a01d21e1e50c6b158cdf79323aa60181-18730d62160250a6-01
2021-09-18T00:51:36.127Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:36.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bb30613c46e8c9199cebf28c329ceae9e10f9b3-fe00962d7c044874-01 outer:exit 2b-0bb30613c46e8c9199cebf28c329ceae9e10f9b3-ce839cc41dd9062b-01
2021-09-18T00:51:36.132Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:36.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1ac7373a515eded552ee12f262bf45d2db3a548-ee441653918678ca-01 outer:exit 2b-c1ac7373a515eded552ee12f262bf45d2db3a548-725150568118aa6b-01
2021-09-18T00:51:36.140Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:36.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea6afa1b0c9058e41d904f9fa9d257ef1f745c38-2d3364e6673536c5-01 outer:exit 2b-ea6afa1b0c9058e41d904f9fa9d257ef1f745c38-418859994a7967f6-01
2021-09-18T00:51:36.145Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:36.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-8103f22fb8f0065d84edca1ef4c161e37e55e7d4-5f11c7845a171c90-01 outer:exit 2b-8103f22fb8f0065d84edca1ef4c161e37e55e7d4-5120d9a630f93d61-01
2021-09-18T00:51:36.148Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:36.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-710e5a3f9f80f4b7481b8cd3d33f4ecc013df88f-e9ad1585999595f0-01 outer:exit 2b-710e5a3f9f80f4b7481b8cd3d33f4ecc013df88f-136a4228b55d3a81-01
2021-09-18T00:51:36.151Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:36.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1faaf8cca41973d3c7647fbc2a8085973acf2db-94b859bd18965b42-01 outer:exit 2b-c1faaf8cca41973d3c7647fbc2a8085973acf2db-38a7731f0e9483ab-01
2021-09-18T00:51:36.172Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:36.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-20f22ea84eb6af03072e9453b8a8ca5546bb1034-f389f90e282ab60e-01 outer:exit 2b-20f22ea84eb6af03072e9453b8a8ca5546bb1034-dd9df09874cdae04-01
2021-09-18T00:51:36.176Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:36.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e05103d2dc171a7a3332d375196a1714a8ecea9-7d13310ef500ac21-01 outer:exit 2b-9e05103d2dc171a7a3332d375196a1714a8ecea9-f7aaaf31d9834507-01
2021-09-18T00:51:36.179Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:36.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-6257cf5f6b820c1d8c420821aef3ebbeb0a15bff-5f26144745bc407d-01 outer:exit 2b-6257cf5f6b820c1d8c420821aef3ebbeb0a15bff-91396db024b1e9a3-01
2021-09-18T00:51:36.181Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:36.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c6fb19a76174d6efb875126aaf04cdf320aa8e9-186e5b9cef58978a-01 outer:exit 2b-3c6fb19a76174d6efb875126aaf04cdf320aa8e9-b961b7ceacd98d92-01
2021-09-18T00:51:36.185Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:36.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b42e17df41b2d58aa8fcbbe2acadc167436c661-e3b328e858ce5e08-01 outer:exit 2b-7b42e17df41b2d58aa8fcbbe2acadc167436c661-432e7bac895bf583-01
2021-09-18T00:51:36.188Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:36.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a4e5ca820b430df3d567dc9db334c73a4f845f-e3d25b6c1249d04b-01 outer:exit 2b-44a4e5ca820b430df3d567dc9db334c73a4f845f-3f8d7d9368773f01-01
2021-09-18T00:51:36.201Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:36.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-e39a159475ed3eb760cdb70f68787cc2bb2cbb9f-5dc191892a51f79c-01 outer:exit 2b-e39a159475ed3eb760cdb70f68787cc2bb2cbb9f-ae4c93d8f7b6559a-01
2021-09-18T00:51:36.207Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:36.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e9f9ba91c58b762e124565409f517f058513c1c-0c6827ae6e9c81f6-01 outer:exit 2b-2e9f9ba91c58b762e124565409f517f058513c1c-b66dd6274fd30774-01
2021-09-18T00:51:36.210Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:36.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c4052c9cd3d58cf03fbd0e256d256cf9af2cfae-96661e148650a5a7-01 outer:exit 2b-5c4052c9cd3d58cf03fbd0e256d256cf9af2cfae-5f74e2309c5825ba-01
2021-09-18T00:51:36.215Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:36.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-f251d8b107f3a9ef95ba1fdfbb77dded34c5146b-d3a1b3dfac5311ae-01 outer:exit 2b-f251d8b107f3a9ef95ba1fdfbb77dded34c5146b-dd0bd32c617f6f28-01
2021-09-18T00:51:36.217Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:36.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-27e6a34c40afb150af8b7e03e61e9b5514ed3d18-7975fab0d6ff5133-01 outer:exit 2b-27e6a34c40afb150af8b7e03e61e9b5514ed3d18-e2d43c2beb746f43-01
2021-09-18T00:51:36.246Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (406ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.3
updated 1 package and audited 1094 packages in 3.803s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:40.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:40.997Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:40.997Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:40.997Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:41.054Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:41.083Z appoptics:patching patched crypto 
2021-09-18T00:51:41.105Z appoptics:patching patched https 
2021-09-18T00:51:41.106Z appoptics:patching patched http 
2021-09-18T00:51:41.139Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:41.139Z appoptics:patching patched fs 
2021-09-18T00:51:41.162Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v12.22.6)
2021-09-18T00:51:41.167Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-09-18T00:51:41.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-92714c9411550964461ff8566d79e1d6bd5359c9-8dc56ab662937f12-01 outer:exit 2b-92714c9411550964461ff8566d79e1d6bd5359c9-b1f693668b395e35-01
2021-09-18T00:51:41.303Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:41.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-84d96e58d99cd4a8e63234e707a96fd42068a7ac-3968eeccbbc99e6a-01 outer:exit 2b-84d96e58d99cd4a8e63234e707a96fd42068a7ac-3d1007d2fe6a14cd-01
2021-09-18T00:51:41.333Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:41.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c22466b2e57e4782abc2775ed8bfcc91a73f58a-95ff77e0315f3666-01 outer:exit 2b-1c22466b2e57e4782abc2775ed8bfcc91a73f58a-35d5f1768b269b6c-01
2021-09-18T00:51:41.336Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:41.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-8831ecd11371606af84d04897eafccf4889a70b8-e5042428d4f8c29e-01 outer:exit 2b-8831ecd11371606af84d04897eafccf4889a70b8-96554a99268cd0a4-01
2021-09-18T00:51:41.338Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:41.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-f75c1f94452e3c1d19315cacd07715c7917ae213-dd089a4c86eba09f-01 outer:exit 2b-f75c1f94452e3c1d19315cacd07715c7917ae213-a88edc13d55a63f2-01
2021-09-18T00:51:41.342Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:41.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c34ccc18ff569710b899f0cdf8b4fafdf30d746-6bf0cfe864dd8eec-01 outer:exit 2b-7c34ccc18ff569710b899f0cdf8b4fafdf30d746-5aee8ec749e36109-01
2021-09-18T00:51:41.345Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:41.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-554f9209beb99719ca6d5df56191d5eb45348f25-08105c12e1222f94-01 outer:exit 2b-554f9209beb99719ca6d5df56191d5eb45348f25-61acef2140bdab59-01
2021-09-18T00:51:41.347Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:41.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c43b451975782395e4134a16b17318495d3174f-483dac1d4a96331b-01 outer:exit 2b-5c43b451975782395e4134a16b17318495d3174f-50241a7a5d84a0cf-01
2021-09-18T00:51:41.349Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:41.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6307086f61ce5cf3f3e19b70d124c5e9e263eb9-b7d442c9630bb6d7-01 outer:exit 2b-c6307086f61ce5cf3f3e19b70d124c5e9e263eb9-b5fcf042515be078-01
2021-09-18T00:51:41.351Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:41.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-8806c040f41a7253a6b8265aade64b862b0b2256-8cc9f040ae753435-01 outer:exit 2b-8806c040f41a7253a6b8265aade64b862b0b2256-ae09dfdc017ce19e-01
2021-09-18T00:51:41.353Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:41.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-b51868a5d3317dcc197f942ef9bf3c41813ab1dc-86df43bde1c617f1-01 outer:exit 2b-b51868a5d3317dcc197f942ef9bf3c41813ab1dc-6b2649cddbd4af73-01
2021-09-18T00:51:41.357Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:41.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-233207e31e103c7d84c44b38e08ffd0ef44be024-c8448fb55de73d61-01 outer:exit 2b-233207e31e103c7d84c44b38e08ffd0ef44be024-67d5fb97797f6f18-01
2021-09-18T00:51:41.362Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:41.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5bcc9647aca51200efdf76de4393b86df5f6e7e-4bb94ce7431daa31-01 outer:exit 2b-b5bcc9647aca51200efdf76de4393b86df5f6e7e-e937fc8cbfe7517d-01
2021-09-18T00:51:41.375Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:41.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-173667c3f5e194547aaa5190c37f10a770d7fa65-2a18e3d3bdfa134c-01 outer:exit 2b-173667c3f5e194547aaa5190c37f10a770d7fa65-64427205525580bf-01
2021-09-18T00:51:41.434Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:41.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7217eb603a7e54f2bab8f154d167baac8bf13aa-34e4f7fe2ec2b435-01 outer:exit 2b-b7217eb603a7e54f2bab8f154d167baac8bf13aa-ccfd017d44ca89a4-01
2021-09-18T00:51:41.436Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:41.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5b23f720b1fc2fd6c9f9c7e03b87e4bf3a93d8-450927869db3ed43-01 outer:exit 2b-6a5b23f720b1fc2fd6c9f9c7e03b87e4bf3a93d8-c49fdba1437097e4-01
2021-09-18T00:51:41.443Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:41.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-886fa29a9cf0048b72fc60ea5c983b8dcee55da1-0797b578da35fa99-01 outer:exit 2b-886fa29a9cf0048b72fc60ea5c983b8dcee55da1-f6fdd7145b943128-01
2021-09-18T00:51:41.456Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:41.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-10e1fceeacebcbc8dcf423782297a8733aa3d6ed-dad155e9511fd53a-01 outer:exit 2b-10e1fceeacebcbc8dcf423782297a8733aa3d6ed-6925103d3aa51460-01
2021-09-18T00:51:41.461Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:41.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6462fbfe6155a863daf155959a2b2146a19c4b9-eea26d5d7ff684a8-01 outer:exit 2b-a6462fbfe6155a863daf155959a2b2146a19c4b9-50846a143532498c-01
2021-09-18T00:51:41.463Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:41.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb02e22dd7faca9a174f696c49fb649012b8532e-16087b7744174282-01 outer:exit 2b-eb02e22dd7faca9a174f696c49fb649012b8532e-24ac6bad36440b70-01
2021-09-18T00:51:41.465Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:41.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b4c6ea3f00ce3ca50dc236dab6739a4d03adb4-543180b1e1ce434f-01 outer:exit 2b-45b4c6ea3f00ce3ca50dc236dab6739a4d03adb4-6ba12988be6c606f-01
2021-09-18T00:51:41.467Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:41.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-e35117bb58d93be5714a217542d9dbda5e4108e9-616619138b1970c1-01 outer:exit 2b-e35117bb58d93be5714a217542d9dbda5e4108e9-cf39f8c7dfbd9b47-01
2021-09-18T00:51:41.469Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:41.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2a03257d8f4d17826bf699ceddf49c061eef24b-34d7aac46ca32136-01 outer:exit 2b-c2a03257d8f4d17826bf699ceddf49c061eef24b-a0ba511ff7eed94d-01
2021-09-18T00:51:41.471Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:41.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4b873704fd8b984508b33fcccc2ab2ca791e83c-abab4746cf7d74b1-01 outer:exit 2b-f4b873704fd8b984508b33fcccc2ab2ca791e83c-356ba2a1cd45a467-01
2021-09-18T00:51:41.473Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:41.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-e54566b4efcbdf38bfbce3222f22e072d1f2b778-609da4cc653df0dc-01 outer:exit 2b-e54566b4efcbdf38bfbce3222f22e072d1f2b778-cf1d556950e40625-01
2021-09-18T00:51:41.475Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:41.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-8497a718e6de6a81e8c4fc25d52060e0dfac566c-72d6d37a56b17e1a-01 outer:exit 2b-8497a718e6de6a81e8c4fc25d52060e0dfac566c-8d5f69778f1c2ba8-01
2021-09-18T00:51:41.478Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:41.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff3a6eefc4da1a3b9329d8a9d7551f62b898fcd5-4748d88fa14e32e3-01 outer:exit 2b-ff3a6eefc4da1a3b9329d8a9d7551f62b898fcd5-7ed9467fb2b6957c-01
2021-09-18T00:51:41.483Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:41.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd1c3ad3c077afcffcfda038ac6846ad41170167-f806adb2d39d7d52-01 outer:exit 2b-bd1c3ad3c077afcffcfda038ac6846ad41170167-ff7118ccc3fc36d7-01
2021-09-18T00:51:41.487Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:41.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-939c655febd094f8858b9b3be7f31d6f760d2a32-42f9480cc9aeece7-01 outer:exit 2b-939c655febd094f8858b9b3be7f31d6f760d2a32-4a884ab9ddf6fa4c-01
2021-09-18T00:51:41.494Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:41.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4e7457f198a8fa8c193f6aba7b6de9bf3c26b6e-57d8d6cc05484ebf-01 outer:exit 2b-d4e7457f198a8fa8c193f6aba7b6de9bf3c26b6e-8c9e76c853a9cdd0-01
2021-09-18T00:51:41.499Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:41.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-019872464101be6c1e2adcf9de1cae4943ad315f-2666741e3965743d-01 outer:exit 2b-019872464101be6c1e2adcf9de1cae4943ad315f-3bbd3c9ff39b8b62-01
2021-09-18T00:51:41.501Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:41.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-fce79a6871a130e595338e41ca71e2eea8d93a9a-1e35f58a408ec499-01 outer:exit 2b-fce79a6871a130e595338e41ca71e2eea8d93a9a-ec7fbace2174fa77-01
2021-09-18T00:51:41.503Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:41.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f1d41a83d0f5134d1bef2eacad0e51b8180b768-884e0750a29b347b-01 outer:exit 2b-9f1d41a83d0f5134d1bef2eacad0e51b8180b768-6eecc65dc005e09e-01
2021-09-18T00:51:41.509Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:41.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9917b010fd376791f0987f61936f861a19de173-775a948a1d86fc5a-01 outer:exit 2b-a9917b010fd376791f0987f61936f861a19de173-62c0dc8cbd26017c-01
2021-09-18T00:51:41.511Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:41.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-05c53773473d218266a93d88f8f48fc620924745-d948453c3aac1888-01 outer:exit 2b-05c53773473d218266a93d88f8f48fc620924745-e20f16c5f242ce34-01
2021-09-18T00:51:41.512Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:41.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-bedb7807ab54217891b8c1cb67227a724d474074-9b7134f0be620965-01 outer:exit 2b-bedb7807ab54217891b8c1cb67227a724d474074-dbe3d0d4618b66b4-01
2021-09-18T00:51:41.514Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:41.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-142e45312124e129a53e9ae46cf9de35b201824d-87a0878a93b6ac30-01 outer:exit 2b-142e45312124e129a53e9ae46cf9de35b201824d-a0bac1a695323b81-01
2021-09-18T00:51:41.516Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:41.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-b313f7210e48bad6baac06790d148ccd163b6546-dbf175888ee9f4b1-01 outer:exit 2b-b313f7210e48bad6baac06790d148ccd163b6546-836f00f76b1bee36-01
2021-09-18T00:51:41.517Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:41.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-f26ae862ca6147d75616c3ead2e32798eb363408-74a831cb033bac60-01 outer:exit 2b-f26ae862ca6147d75616c3ead2e32798eb363408-b9484b173342154b-01
2021-09-18T00:51:41.525Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:41.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d62e6205e805f2f98df41502c63681fb6811e5c-15918e164c99d59b-01 outer:exit 2b-4d62e6205e805f2f98df41502c63681fb6811e5c-f657253871a5e983-01
2021-09-18T00:51:41.531Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:41.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2fcc3be5a9f242a5837007024a00d0235dcf1ca-983587c788f89195-01 outer:exit 2b-d2fcc3be5a9f242a5837007024a00d0235dcf1ca-c5e08fa3adc8c35f-01
2021-09-18T00:51:41.534Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:41.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6953ff089e6d348e68d5e27ca76f5a3c732d2b4-8db78a3004402853-01 outer:exit 2b-c6953ff089e6d348e68d5e27ca76f5a3c732d2b4-8434766c9e48fb36-01
2021-09-18T00:51:41.536Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:41.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e75717f9ff50aeb335dc179c622100e98071ce4-e38b448bb531d758-01 outer:exit 2b-9e75717f9ff50aeb335dc179c622100e98071ce4-83b0ee8f3547d404-01
2021-09-18T00:51:41.538Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:41.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-15b60324152f3bb01c877fd486fb9b827b3ea3a7-052e2c375aeef29c-01 outer:exit 2b-15b60324152f3bb01c877fd486fb9b827b3ea3a7-e9b44cb3b0ec7b41-01
2021-09-18T00:51:41.561Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (287ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.4
updated 1 package and audited 1094 packages in 3.966s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:46.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:46.433Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:46.433Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:46.434Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:46.489Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:46.518Z appoptics:patching patched crypto 
2021-09-18T00:51:46.533Z appoptics:patching patched https 
2021-09-18T00:51:46.533Z appoptics:patching patched http 
2021-09-18T00:51:46.575Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:46.576Z appoptics:patching patched fs 
2021-09-18T00:51:46.598Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v12.22.6)
2021-09-18T00:51:46.604Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-09-18T00:51:46.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8be3e6cb1d1c07c00572fbe4a59fb9b341c1d0d-01c11e72691913d3-01 outer:exit 2b-c8be3e6cb1d1c07c00572fbe4a59fb9b341c1d0d-5b050dc0eb0a3ff5-01
2021-09-18T00:51:46.755Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:46.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b12bf2e3199b7b90b2e8926256ce579b66b9ac0-1382cc4f71e2248b-01 outer:exit 2b-9b12bf2e3199b7b90b2e8926256ce579b66b9ac0-998180ede2cc5081-01
2021-09-18T00:51:46.786Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:46.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-d114df6b20a0529ac86dd05fd04134bcb64b2c9c-0be388287925f127-01 outer:exit 2b-d114df6b20a0529ac86dd05fd04134bcb64b2c9c-13366fec9818e696-01
2021-09-18T00:51:46.792Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:46.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-7416be1e60fa26fc07965fe20a39132b1238b512-d74d34a709a3fbb9-01 outer:exit 2b-7416be1e60fa26fc07965fe20a39132b1238b512-af440ff0f128229e-01
2021-09-18T00:51:46.795Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:46.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceae24894784eab0b40637fdb6933c1716e96109-ffbd34231fc77455-01 outer:exit 2b-ceae24894784eab0b40637fdb6933c1716e96109-b9090a976794cd96-01
2021-09-18T00:51:46.801Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:46.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f686a4142add17105b1b068c6fc667737703c8b-685f3813f834c67d-01 outer:exit 2b-6f686a4142add17105b1b068c6fc667737703c8b-9f82a79b4584382d-01
2021-09-18T00:51:46.804Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:46.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-299c5f7a7eca12e0471151b8705777bc70f52620-bda9f52c2130204c-01 outer:exit 2b-299c5f7a7eca12e0471151b8705777bc70f52620-d98a6ab675bdbafb-01
2021-09-18T00:51:46.807Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:46.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f717e6a85cad14a548853b34aa66d95464f89c8-8f5f15834d9e9b71-01 outer:exit 2b-7f717e6a85cad14a548853b34aa66d95464f89c8-b05ab61c76d092a6-01
2021-09-18T00:51:46.809Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:46.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8a2504031aa9cbc16da153542326dada4d436ed-d2e186db4b7b532c-01 outer:exit 2b-a8a2504031aa9cbc16da153542326dada4d436ed-2e3cc79e2cbc9d73-01
2021-09-18T00:51:46.811Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:46.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eb8f03c126899db0a8c51be67a91bc0a571b1fc-f3a95a36aa30d0ac-01 outer:exit 2b-1eb8f03c126899db0a8c51be67a91bc0a571b1fc-0a960447f4f50289-01
2021-09-18T00:51:46.813Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:46.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-f44870b45f65627e676e13c4a7fc1054925909fb-13194ea95e27ed31-01 outer:exit 2b-f44870b45f65627e676e13c4a7fc1054925909fb-5e8fc9633fc4d203-01
2021-09-18T00:51:46.817Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:46.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b938375d867d033a9d9f515fce150597812901-6e072e9a95914e0f-01 outer:exit 2b-a2b938375d867d033a9d9f515fce150597812901-446c49231b626ce3-01
2021-09-18T00:51:46.822Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:46.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-688f64f4a1d3d03a6e686c772620ca00ce1278fe-a4928358bfe3b866-01 outer:exit 2b-688f64f4a1d3d03a6e686c772620ca00ce1278fe-bcf2b1255bb411d0-01
2021-09-18T00:51:46.835Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:46.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-8861a178174c5ce5bd60391aa0fd106b0fa5e587-ca6767b61dd14650-01 outer:exit 2b-8861a178174c5ce5bd60391aa0fd106b0fa5e587-f68782d9aa7af249-01
2021-09-18T00:51:46.876Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:46.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cb67d91433def4e77a0c955f91491b28b16cded-019d792b7e72599f-01 outer:exit 2b-2cb67d91433def4e77a0c955f91491b28b16cded-de02bb475d146ff4-01
2021-09-18T00:51:46.878Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:46.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a3708d5433b0dda748339a3ce8bd0d3fc27fad3-b6331f04d942a575-01 outer:exit 2b-3a3708d5433b0dda748339a3ce8bd0d3fc27fad3-9c0f5aff2241ec7f-01
2021-09-18T00:51:46.884Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:46.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-b41e8351072c1fe80fdc9617a6afd82ffda39b29-5d19f6936fe7b298-01 outer:exit 2b-b41e8351072c1fe80fdc9617a6afd82ffda39b29-487c0b736050ae52-01
2021-09-18T00:51:46.895Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:46.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-6413b47dc5c872b4212799e61ce15cabb95cf9e2-13f1925e7c61ce0a-01 outer:exit 2b-6413b47dc5c872b4212799e61ce15cabb95cf9e2-de9a688baa382dd2-01
2021-09-18T00:51:46.898Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:46.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3c804217d8bb8f2d71048fe4a884d7be239d83b-dda435187db663c0-01 outer:exit 2b-b3c804217d8bb8f2d71048fe4a884d7be239d83b-68c7a9b9fa8bd2c5-01
2021-09-18T00:51:46.902Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:46.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e5ce6620eae36f0316080d22b35d993d51da61d-f739eaf00d5bf8a5-01 outer:exit 2b-0e5ce6620eae36f0316080d22b35d993d51da61d-f65c00e7a4bb05a2-01
2021-09-18T00:51:46.908Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:46.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-15af6a929f5eb4da4370c8548b9a0da7b40a1088-dbd62dde5b5ffe13-01 outer:exit 2b-15af6a929f5eb4da4370c8548b9a0da7b40a1088-98da5f81072a59ee-01
2021-09-18T00:51:46.911Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:46.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-794579a9491b104613dbf67383dae30ecc46bb31-05625f6e809dae92-01 outer:exit 2b-794579a9491b104613dbf67383dae30ecc46bb31-ff5079f576325db4-01
2021-09-18T00:51:46.913Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:46.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-c74933a4e701a6a62aee904bc4c809ba7e1afc1f-7c0a928b8b8546f8-01 outer:exit 2b-c74933a4e701a6a62aee904bc4c809ba7e1afc1f-a34d31c2b7e39884-01
2021-09-18T00:51:46.924Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:46.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-631a17d021e4cb632441a3b632b9e0abf96fe69b-1f5bfeb5fd300f35-01 outer:exit 2b-631a17d021e4cb632441a3b632b9e0abf96fe69b-9dc7bf16653066c1-01
2021-09-18T00:51:46.939Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:46.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-4633001fcfd13d7f30111d44097b82b9ce25e276-7bc06ff4e87e0625-01 outer:exit 2b-4633001fcfd13d7f30111d44097b82b9ce25e276-684c80e5f2c2a14b-01
2021-09-18T00:51:46.944Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:46.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-97a95b1c8627de634853e6c82e8d58bda86e39c5-a1a02a91ffbfd4ee-01 outer:exit 2b-97a95b1c8627de634853e6c82e8d58bda86e39c5-09bf5d6808feb8ab-01
2021-09-18T00:51:46.949Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:46.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-625faecfc69f7a37b7ed7fe93a9cacbe7dac2ff9-c06fff38ad4bfcd9-01 outer:exit 2b-625faecfc69f7a37b7ed7fe93a9cacbe7dac2ff9-d0c2944e0e5486ae-01
2021-09-18T00:51:46.958Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:46.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c03b1f562606deb280fc635e68524381eb04572-c928bd005c8a5de4-01 outer:exit 2b-9c03b1f562606deb280fc635e68524381eb04572-23092b83b1bf5b87-01
2021-09-18T00:51:46.962Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:46.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f1adb27dd013c7abe7f4ac32ca1ee3d59789865-2d1843d34edb9a93-01 outer:exit 2b-7f1adb27dd013c7abe7f4ac32ca1ee3d59789865-38951cacb35a6d0b-01
2021-09-18T00:51:46.969Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:46.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7d9e4271ce66ae771b699d57765e20a50ba5711-20ec5e004a7d5290-01 outer:exit 2b-d7d9e4271ce66ae771b699d57765e20a50ba5711-e4c2b9b90b42cdfe-01
2021-09-18T00:51:46.974Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:46.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f88183eec53d5b391fc21b6197d103d5b31fa6f-f2dbb9d38edb765e-01 outer:exit 2b-9f88183eec53d5b391fc21b6197d103d5b31fa6f-7cee9e2180ed4b9d-01
2021-09-18T00:51:46.976Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:46.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-c87ae5fcbab06e6eafeda0133910c42a4a726c27-ab47fc41be1ccedf-01 outer:exit 2b-c87ae5fcbab06e6eafeda0133910c42a4a726c27-56343910298bcd8b-01
2021-09-18T00:51:46.979Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:46.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-a68ac621b60e08a8ec2ffb8bc131f7e0ddbdbb49-782eb8b90742aa78-01 outer:exit 2b-a68ac621b60e08a8ec2ffb8bc131f7e0ddbdbb49-958e8808bad62735-01
2021-09-18T00:51:46.985Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:46.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-24b137a892c860d0b867c74c80131f12cd349534-ddec76823bc6849f-01 outer:exit 2b-24b137a892c860d0b867c74c80131f12cd349534-57d58319206ca62e-01
2021-09-18T00:51:46.986Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:46.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9c9aab867c82319df1c0b7dd8ae69b6cc07a28-b2bf4d6bc1ed4a9d-01 outer:exit 2b-dd9c9aab867c82319df1c0b7dd8ae69b6cc07a28-6d4de891dd2e61d1-01
2021-09-18T00:51:46.988Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:46.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e5a9b9386c097be3d03bb424fde8d356a77654a-b40a2734288cf016-01 outer:exit 2b-6e5a9b9386c097be3d03bb424fde8d356a77654a-97df27765091b02d-01
2021-09-18T00:51:46.990Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:46.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbc0ce660289ec007b917a9d7f6467f5c876d0a5-a776a15d6f65ccf4-01 outer:exit 2b-cbc0ce660289ec007b917a9d7f6467f5c876d0a5-d90397401bda3484-01
2021-09-18T00:51:46.992Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:46.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-acf5c1453421479b58b222c019f0db68781f4a17-4ca7ffbbe0a406b3-01 outer:exit 2b-acf5c1453421479b58b222c019f0db68781f4a17-bf354d88b84f66d2-01
2021-09-18T00:51:46.994Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:47.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-d68d9a0d56c4166d0487ccd70978a4fa4420bb45-0e46acf63f4a052b-01 outer:exit 2b-d68d9a0d56c4166d0487ccd70978a4fa4420bb45-87da6bc6dc2e9253-01
2021-09-18T00:51:47.004Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:47.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-25edf4d1acd352696b05c17638243c46040ea821-94a7e24e1ecfb768-01 outer:exit 2b-25edf4d1acd352696b05c17638243c46040ea821-8c52181161bfe292-01
2021-09-18T00:51:47.013Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:47.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b66f543855b06712964ae43291c3472cacd0381-fb2b41f4bdecb239-01 outer:exit 2b-5b66f543855b06712964ae43291c3472cacd0381-5cd271fe1118585f-01
2021-09-18T00:51:47.015Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:47.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-721d6efdc29c28410ed90b5b338fe64bd0182f4c-a75112253471c60e-01 outer:exit 2b-721d6efdc29c28410ed90b5b338fe64bd0182f4c-a5e79092ddb9cf17-01
2021-09-18T00:51:47.018Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:47.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-26c74d9d1630065346da0053022d18f27f3a939f-a1f7b7d8cde15eed-01 outer:exit 2b-26c74d9d1630065346da0053022d18f27f3a939f-df9ab599436d7e9b-01
2021-09-18T00:51:47.020Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:47.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4bfc86d9825902c63abda8019af46bcb80b08e-00971a360c094ebd-01 outer:exit 2b-5d4bfc86d9825902c63abda8019af46bcb80b08e-201b7e6bfd85c530-01
2021-09-18T00:51:47.045Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (320ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.5
updated 1 package and audited 1094 packages in 4.884s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:52.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:52.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:52.991Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:52.991Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:53.060Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:53.101Z appoptics:patching patched crypto 
2021-09-18T00:51:53.128Z appoptics:patching patched https 
2021-09-18T00:51:53.128Z appoptics:patching patched http 
2021-09-18T00:51:53.172Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:53.173Z appoptics:patching patched fs 
2021-09-18T00:51:53.196Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v12.22.6)
2021-09-18T00:51:53.201Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-09-18T00:51:53.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdbc96c34a401bc49b4565a59c155c13d7b1e20d-d45840a006cd5fd1-01 outer:exit 2b-fdbc96c34a401bc49b4565a59c155c13d7b1e20d-7fbbf140e6548bcb-01
2021-09-18T00:51:53.407Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:53.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee15019299ce01ab574079f37838afe5f53d394d-88900ae51d9a9e40-01 outer:exit 2b-ee15019299ce01ab574079f37838afe5f53d394d-2cdd9aa66e374353-01
2021-09-18T00:51:53.495Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:53.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-de481b3f619174c714b177756eb6669f2f07f8d5-1ccd98080fd963df-01 outer:exit 2b-de481b3f619174c714b177756eb6669f2f07f8d5-0f359cef78b80620-01
2021-09-18T00:51:53.498Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:53.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3900f8f282e610d600948b1f985a631f3fe24e0-2de6ff5acd6b1ccc-01 outer:exit 2b-a3900f8f282e610d600948b1f985a631f3fe24e0-4e8f9abf4b417521-01
2021-09-18T00:51:53.501Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:53.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1730ea5c72a56d0bfbc3909137d471ec31e1faa-53abcda9796ebddd-01 outer:exit 2b-d1730ea5c72a56d0bfbc3909137d471ec31e1faa-9c9c8488f71b25ec-01
2021-09-18T00:51:53.505Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:53.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-41ba9cd3208c7716f36367ec2e4d783ea3228ed8-ab518fdc765c700a-01 outer:exit 2b-41ba9cd3208c7716f36367ec2e4d783ea3228ed8-c12cb8c1812d8ed3-01
2021-09-18T00:51:53.508Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:53.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b860e18ffa34ed64f3a968fe270c6cd2bc428d8-093eee06ce9d89f1-01 outer:exit 2b-3b860e18ffa34ed64f3a968fe270c6cd2bc428d8-4b42b0114f2aa705-01
2021-09-18T00:51:53.510Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:53.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9e25134844e9980e8d6e79af1eb8190b1113bf8-db5a11cc2aa7b650-01 outer:exit 2b-e9e25134844e9980e8d6e79af1eb8190b1113bf8-a5ca16c87503c051-01
2021-09-18T00:51:53.512Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:53.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bc66c516c49af5d085ef3320d010889d3755332-c7316b9596fd6a90-01 outer:exit 2b-2bc66c516c49af5d085ef3320d010889d3755332-64252d6a48f65836-01
2021-09-18T00:51:53.514Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:53.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecc6f427f3b898d0b64e4a7c8e30b0c3bfca9e02-3d5a21aecdedb38a-01 outer:exit 2b-ecc6f427f3b898d0b64e4a7c8e30b0c3bfca9e02-f4f1fa3c86e250e0-01
2021-09-18T00:51:53.516Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:53.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4d2ba26fc275af186a1f51ffa595b884fb04d3d-c2a0c5c29958e7e0-01 outer:exit 2b-c4d2ba26fc275af186a1f51ffa595b884fb04d3d-2344cdee0ec3e07d-01
2021-09-18T00:51:53.524Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:53.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-126efa38ce66f2b75a73f14aa11609c301fc88e2-d82c554141d569f2-01 outer:exit 2b-126efa38ce66f2b75a73f14aa11609c301fc88e2-98ab107230448237-01
2021-09-18T00:51:53.530Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:53.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bb2d45cd7f5d9002a2b8f7bf850ec1fdb87d1c7-c28acb7ee1e443e0-01 outer:exit 2b-7bb2d45cd7f5d9002a2b8f7bf850ec1fdb87d1c7-c3af58fe06f047d6-01
2021-09-18T00:51:53.553Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:53.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93763b7824fdbda2962e162397828862943eb6a-6692ba43cbc0f27e-01 outer:exit 2b-a93763b7824fdbda2962e162397828862943eb6a-955f51b46cd76ab1-01
2021-09-18T00:51:53.594Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:53.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-425b5794bef790904d60b099f0dfddc0002ce8e7-df1fa326351ceeb6-01 outer:exit 2b-425b5794bef790904d60b099f0dfddc0002ce8e7-10d126e5cc1200a4-01
2021-09-18T00:51:53.596Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:53.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-a22e88fbbe3cbbbd608cba6d75ffe618bd001f1e-b0f3177cf9f25865-01 outer:exit 2b-a22e88fbbe3cbbbd608cba6d75ffe618bd001f1e-b4eab4f09ce58ac9-01
2021-09-18T00:51:53.598Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:53.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-e34105c9f32ba63fb4a8bf9db624575dc1ccd84a-e12060807ac94488-01 outer:exit 2b-e34105c9f32ba63fb4a8bf9db624575dc1ccd84a-8d822c501ea61c66-01
2021-09-18T00:51:53.632Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:53.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-aacec16750aa31bb65fa25e36c3cc0506b7ae124-de1f12311af79595-01 outer:exit 2b-aacec16750aa31bb65fa25e36c3cc0506b7ae124-3750a63786c760f2-01
2021-09-18T00:51:53.641Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:53.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fac7b7788ed2033ce4b5c4a73861562f9d16a17-d57c56f110e0392c-01 outer:exit 2b-3fac7b7788ed2033ce4b5c4a73861562f9d16a17-33d378507a2f6bba-01
2021-09-18T00:51:53.643Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:53.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-66b99cec5c89f19afea35108a68a41a867ca90ad-1bebecd88007701e-01 outer:exit 2b-66b99cec5c89f19afea35108a68a41a867ca90ad-d3662164e3c43d2d-01
2021-09-18T00:51:53.645Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:53.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-7565953942d13c33b1ddf62d53d3ed3bf9347425-478ab8248301bab2-01 outer:exit 2b-7565953942d13c33b1ddf62d53d3ed3bf9347425-339478246b38bad0-01
2021-09-18T00:51:53.647Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:53.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f52ffc6ad03bf18147bb8b0268cf683e5bc275-9356bc914c1ff283-01 outer:exit 2b-17f52ffc6ad03bf18147bb8b0268cf683e5bc275-9d31c271cc639163-01
2021-09-18T00:51:53.649Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:53.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1df7c395dfce11a61c7d530001ba911b8c83645-133aa4f0c99e5856-01 outer:exit 2b-c1df7c395dfce11a61c7d530001ba911b8c83645-f54315fead1ef26d-01
2021-09-18T00:51:53.652Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:53.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-90d29eac27478f6e512564406e61236896a0ebe4-a994362f7e2f837e-01 outer:exit 2b-90d29eac27478f6e512564406e61236896a0ebe4-bf35afe9d16d5f32-01
2021-09-18T00:51:53.655Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:53.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-07ce099893245419ccbf84a1a89ac7a52c258c9c-e92159684f2eac12-01 outer:exit 2b-07ce099893245419ccbf84a1a89ac7a52c258c9c-f2b8a1c884db492b-01
2021-09-18T00:51:53.660Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:53.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-e79eba0469ac997f71b8b4c947e98b54ad193c29-d8b69f5f79034397-01 outer:exit 2b-e79eba0469ac997f71b8b4c947e98b54ad193c29-b676527e2005747c-01
2021-09-18T00:51:53.664Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:53.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5241e654acdc2a0a2d0ef377ac4b8b8503babe2-efe3f8907171e54f-01 outer:exit 2b-f5241e654acdc2a0a2d0ef377ac4b8b8503babe2-e1cb0c69d8c2447c-01
2021-09-18T00:51:53.669Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:53.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-906df37e1506df6fdf835cf164fbcc098b9e1f25-16e4d6e7e6252f3a-01 outer:exit 2b-906df37e1506df6fdf835cf164fbcc098b9e1f25-87fc6550fac40056-01
2021-09-18T00:51:53.673Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:53.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-05f3bd97f585fa84390246e9dc3be34916f5cb10-2111e4a78bcd712d-01 outer:exit 2b-05f3bd97f585fa84390246e9dc3be34916f5cb10-86eeebc85ba4e3d3-01
2021-09-18T00:51:53.679Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:53.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-9607246ef72cfd18da8f36e9ad58f35cb4ddcc9e-6dd9f97315a4ff4e-01 outer:exit 2b-9607246ef72cfd18da8f36e9ad58f35cb4ddcc9e-87f7284e25f0a68d-01
2021-09-18T00:51:53.684Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:53.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-343ab0acb687ad3a666809fbc91553e257d98376-287d9c4eb58315ea-01 outer:exit 2b-343ab0acb687ad3a666809fbc91553e257d98376-e7d300f13b1a4572-01
2021-09-18T00:51:53.686Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:53.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1c48d4886b76fbe4f592fa877e2b36f57d482fd-962583486db3f21a-01 outer:exit 2b-f1c48d4886b76fbe4f592fa877e2b36f57d482fd-8ceb9a738f6d5e37-01
2021-09-18T00:51:53.689Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:53.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1fc5e2e7f3b6ec2de71b4c15552e4cca155a8e2-a07667e8de0afcfa-01 outer:exit 2b-c1fc5e2e7f3b6ec2de71b4c15552e4cca155a8e2-bd9f7ec3261c59f0-01
2021-09-18T00:51:53.695Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:53.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b2d842f14a58a72fce8ee3b7a3561136e05c4f8-a5cad851ba84ad51-01 outer:exit 2b-0b2d842f14a58a72fce8ee3b7a3561136e05c4f8-5d9a0a025f19b8a6-01
2021-09-18T00:51:53.697Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:53.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-b380e43c62890830e5714bd649a9606196d1c668-4659190aaaca6e1d-01 outer:exit 2b-b380e43c62890830e5714bd649a9606196d1c668-d2c2ee95b5836ddf-01
2021-09-18T00:51:53.699Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:53.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-e71eaedd092abc7f17d36c3383ed16e9b8cf82e9-cb0446c9f22b3f90-01 outer:exit 2b-e71eaedd092abc7f17d36c3383ed16e9b8cf82e9-37593dac161d4478-01
2021-09-18T00:51:53.700Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:53.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-31c174087a1056f8cd1f2a82ffef742761ccc216-26814d4fb0d990e4-01 outer:exit 2b-31c174087a1056f8cd1f2a82ffef742761ccc216-d6063a83c036e2b4-01
2021-09-18T00:51:53.702Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:53.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-227433b497414660679986ee674bad216aaf7fc5-b0e5acf11922c39c-01 outer:exit 2b-227433b497414660679986ee674bad216aaf7fc5-71fca565d962ddcd-01
2021-09-18T00:51:53.704Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:53.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ab4fcb4223ba89b965105f71b4d5519baf8734-86ecaedc7f7c8cf2-01 outer:exit 2b-27ab4fcb4223ba89b965105f71b4d5519baf8734-e255d3a4e01aed5f-01
2021-09-18T00:51:53.711Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:53.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f9824844b59dda1cca5019837d5e08138afd35c-4773342528d8caf3-01 outer:exit 2b-5f9824844b59dda1cca5019837d5e08138afd35c-2af7db670d2d0a20-01
2021-09-18T00:51:53.718Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:53.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bde21f67993d4b65ad39d6f7c7a42631cb223e1-821afcafdc786a0e-01 outer:exit 2b-1bde21f67993d4b65ad39d6f7c7a42631cb223e1-a98fdc263e04500f-01
2021-09-18T00:51:53.721Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:53.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-278f7254a5191951545f2934c76088f2d29ba58f-16f92a7443681822-01 outer:exit 2b-278f7254a5191951545f2934c76088f2d29ba58f-b604d776d9d3292e-01
2021-09-18T00:51:53.723Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:53.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d7f788f6929d8ba3dbe6e96aefcb54efdd511d0-dd5b388e07b52f8f-01 outer:exit 2b-0d7f788f6929d8ba3dbe6e96aefcb54efdd511d0-3f9902fcfe8ffbce-01
2021-09-18T00:51:53.725Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:53.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fafdf0cc202b3d6441efc6c9444ea4a3dd74d28-875569fb2523f799-01 outer:exit 2b-8fafdf0cc202b3d6441efc6c9444ea4a3dd74d28-46ffbfb9b968c0cc-01
2021-09-18T00:51:53.749Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (401ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.6
updated 1 package and audited 1094 packages in 3.766s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:51:58.365Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:51:58.365Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:51:58.365Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:51:58.366Z appoptics:debug using context provider: ace-context
2021-09-18T00:51:58.421Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:51:58.451Z appoptics:patching patched crypto 
2021-09-18T00:51:58.482Z appoptics:patching patched https 
2021-09-18T00:51:58.482Z appoptics:patching patched http 
2021-09-18T00:51:58.517Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:51:58.518Z appoptics:patching patched fs 
2021-09-18T00:51:58.543Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v12.22.6)
2021-09-18T00:51:58.549Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-09-18T00:51:58.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eda9b48ba36d8adade64677952d258ac5c4b53d-9f779918c2890f46-01 outer:exit 2b-6eda9b48ba36d8adade64677952d258ac5c4b53d-2e3a851db161c342-01
2021-09-18T00:51:58.707Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:51:58.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f97f9c06ce66c0f8827efb4886289d865968ac8-0c2fec3175ef44ff-01 outer:exit 2b-6f97f9c06ce66c0f8827efb4886289d865968ac8-1f617e4061ae55cf-01
2021-09-18T00:51:58.750Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:51:58.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f05858fe4b955c6f53e25454b257a8c3a4b4850-154baf1bbae31f18-01 outer:exit 2b-1f05858fe4b955c6f53e25454b257a8c3a4b4850-5bf4929f59c0071f-01
2021-09-18T00:51:58.754Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:51:58.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac67a14996af302afe6699c729b2f8efc3a3bd6e-4266d2fb360fcdfe-01 outer:exit 2b-ac67a14996af302afe6699c729b2f8efc3a3bd6e-d60d98173c15f54b-01
2021-09-18T00:51:58.757Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:51:58.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a13a0e47dc02b6860caea74b8934b077a669438-4b766e7de0a35767-01 outer:exit 2b-3a13a0e47dc02b6860caea74b8934b077a669438-ef5655f63255c95d-01
2021-09-18T00:51:58.769Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:51:58.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6aa9d70fad55af6057182348e7532563f478107-d3d23ef662e2db90-01 outer:exit 2b-d6aa9d70fad55af6057182348e7532563f478107-f877a95dbe2f9639-01
2021-09-18T00:51:58.776Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:51:58.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-195f16c7e3b8c5a8509aea53d33a82b932a69830-6efe503055f37ecf-01 outer:exit 2b-195f16c7e3b8c5a8509aea53d33a82b932a69830-892f21ec674dcc65-01
2021-09-18T00:51:58.786Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:51:58.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3143a4045f278984b39a6ffc8d11d2553e2d790-e436b80b9170b520-01 outer:exit 2b-e3143a4045f278984b39a6ffc8d11d2553e2d790-1e92fb8c5cc6aa57-01
2021-09-18T00:51:58.788Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:51:58.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-17101958e128faf47b0d9fabaabfac00b8828822-23082e02520052cb-01 outer:exit 2b-17101958e128faf47b0d9fabaabfac00b8828822-4b11c001ade90c7c-01
2021-09-18T00:51:58.791Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:51:58.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-80ba5a6bd08ee67523e5864876cad11153950c7e-317c925d3cff74cf-01 outer:exit 2b-80ba5a6bd08ee67523e5864876cad11153950c7e-04245a38072bd680-01
2021-09-18T00:51:58.797Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:51:58.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-650fd50eb781d80ca325b328e746188af8dced6d-75410504d163d755-01 outer:exit 2b-650fd50eb781d80ca325b328e746188af8dced6d-f99553d6fdd848e5-01
2021-09-18T00:51:58.801Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:51:58.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-b692859b333f4c56eb030b7649dc780d67d21b42-ceb9a2f311bc9f8a-01 outer:exit 2b-b692859b333f4c56eb030b7649dc780d67d21b42-d023ffc293dd2b36-01
2021-09-18T00:51:58.806Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:51:58.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bb50d0875bfbce1e0360f5fd15b75e0300a0e37-f02eec1dc0f4dabb-01 outer:exit 2b-8bb50d0875bfbce1e0360f5fd15b75e0300a0e37-6318a2f464e70df3-01
2021-09-18T00:51:58.837Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:51:58.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-9affbc2f3090a93ce99f4dedb9de779473f0e1f2-3df43078ba0ccf8b-01 outer:exit 2b-9affbc2f3090a93ce99f4dedb9de779473f0e1f2-fc54fccb8b8e6544-01
2021-09-18T00:51:58.881Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:51:58.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2a2537767fa9e0807dd30802b85386abe6a0c51-913e2f62389d798d-01 outer:exit 2b-b2a2537767fa9e0807dd30802b85386abe6a0c51-8b3c0d6f05646277-01
2021-09-18T00:51:58.885Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:51:58.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca3f72182ce7b53083fac35048ebebb021d90179-b776c450dc2b15e2-01 outer:exit 2b-ca3f72182ce7b53083fac35048ebebb021d90179-b45b22cfb4e69e33-01
2021-09-18T00:51:58.887Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:51:58.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-3520eca370da9a6bf8c22b5b6f4498fd12252036-8f92da939707b3e7-01 outer:exit 2b-3520eca370da9a6bf8c22b5b6f4498fd12252036-fd34b14099387c6e-01
2021-09-18T00:51:58.988Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:51:58.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe3ae9f6df1f6624023cff5d2d5f4c4db61d6f83-c95ac8e58cd0ac5b-01 outer:exit 2b-fe3ae9f6df1f6624023cff5d2d5f4c4db61d6f83-102717a9ea2ca638-01
2021-09-18T00:51:58.995Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:51:59.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-72663f3d9a309ad08e20587a53b0ad3764f20f8f-068f4a1572845f9a-01 outer:exit 2b-72663f3d9a309ad08e20587a53b0ad3764f20f8f-a2862e9fd7873327-01
2021-09-18T00:51:59.004Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:51:59.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-cecc2dc14558eabf22867e7a1662c20677c1f31c-b3947d71af6dbb6b-01 outer:exit 2b-cecc2dc14558eabf22867e7a1662c20677c1f31c-c3efdcef5e1c4758-01
2021-09-18T00:51:59.011Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:51:59.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dff9c5e3b07f649d6d207f4bf779c299bfee82c-ec6f0bfc5d9cc1f1-01 outer:exit 2b-8dff9c5e3b07f649d6d207f4bf779c299bfee82c-c64848d57008b5ef-01
2021-09-18T00:51:59.016Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:51:59.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd1361e85e1605b03e665d06eb9e4016d0c7a3c3-a808248dd6d489ca-01 outer:exit 2b-fd1361e85e1605b03e665d06eb9e4016d0c7a3c3-09e9c8f8ca3a6255-01
2021-09-18T00:51:59.019Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:51:59.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8a25ee9d85cfc6814180ac0a2b9f3a9178ed30f-892de1d6fc9f5755-01 outer:exit 2b-a8a25ee9d85cfc6814180ac0a2b9f3a9178ed30f-e271a2cad3529876-01
2021-09-18T00:51:59.025Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:51:59.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-925fbb2d6b6fb5bc11d2789cd38740fd5c6af221-ba56a843e32eb815-01 outer:exit 2b-925fbb2d6b6fb5bc11d2789cd38740fd5c6af221-ece48f67a64e2860-01
2021-09-18T00:51:59.034Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:51:59.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d18f8fbe1c354c690f2d3e90431df4f197f4916-34fe8d5764db36c5-01 outer:exit 2b-1d18f8fbe1c354c690f2d3e90431df4f197f4916-7793a8571b5ed5b0-01
2021-09-18T00:51:59.036Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:51:59.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-f59a935b1c3814c2023cb3f5e574d149072f54c9-b2d5c7c9c0d2a6bf-01 outer:exit 2b-f59a935b1c3814c2023cb3f5e574d149072f54c9-c1692ee29a436413-01
2021-09-18T00:51:59.040Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:51:59.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a8b7d50352c368799607a854a182eed5b691b45-21ee12b3acfd46ac-01 outer:exit 2b-3a8b7d50352c368799607a854a182eed5b691b45-35c73ff6a0682448-01
2021-09-18T00:51:59.048Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:51:59.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-192556a7b48e3828e12ad874c15e702c826a89df-e3f7b8a32540b287-01 outer:exit 2b-192556a7b48e3828e12ad874c15e702c826a89df-4892a301f486a6f7-01
2021-09-18T00:51:59.052Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:51:59.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-f60e389c041c4ce53b36ff19531bba2975e79e36-dce0d93ec0725d68-01 outer:exit 2b-f60e389c041c4ce53b36ff19531bba2975e79e36-99b1236279a3e7bb-01
2021-09-18T00:51:59.061Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:51:59.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ce534c4447da03244d7801f8fcc6f8568488071-f9aa2220c3d6f9cf-01 outer:exit 2b-2ce534c4447da03244d7801f8fcc6f8568488071-7ce0a6a5cef6f602-01
2021-09-18T00:51:59.068Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:51:59.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2d9df30e183351571bf2eb1e9372d158727e5f5-d10ec6a48a1d21af-01 outer:exit 2b-c2d9df30e183351571bf2eb1e9372d158727e5f5-3d4fb4e04ceb344d-01
2021-09-18T00:51:59.070Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:51:59.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-44bfd17ec896ce522fef03d3bfe5251e162245eb-7cc56869a716db85-01 outer:exit 2b-44bfd17ec896ce522fef03d3bfe5251e162245eb-1dd50cf71a37c7ef-01
2021-09-18T00:51:59.073Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:51:59.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f74690c5ebc86145708be4daa2825d24fca7fe1-c6d67ea4d85032e9-01 outer:exit 2b-9f74690c5ebc86145708be4daa2825d24fca7fe1-38d6900e91579b28-01
2021-09-18T00:51:59.081Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:51:59.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2b2611d6043e5aa912ed64cb02b97157a43e02d-14b314ad0a98acd6-01 outer:exit 2b-d2b2611d6043e5aa912ed64cb02b97157a43e02d-70535059d714f897-01
2021-09-18T00:51:59.083Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:51:59.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ce1b981c083c750fb3d25047309cec7c503280f-a16e5b36ce2e2a81-01 outer:exit 2b-2ce1b981c083c750fb3d25047309cec7c503280f-dcff87c4048ef01e-01
2021-09-18T00:51:59.085Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:51:59.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-d712ec019d216392ef31498ef0aec98cf1f28d6a-058a583f52cc9adb-01 outer:exit 2b-d712ec019d216392ef31498ef0aec98cf1f28d6a-00c66abdb291647e-01
2021-09-18T00:51:59.087Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:51:59.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5f3e13a1e045b5cfb304df0d446be2f4ef00f8-97e5ae891d118264-01 outer:exit 2b-6a5f3e13a1e045b5cfb304df0d446be2f4ef00f8-51d8628e2f32ea04-01
2021-09-18T00:51:59.091Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:51:59.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-204eb568e5a81a17a6c09057a838e21435adbaf7-9df287af8ed886b9-01 outer:exit 2b-204eb568e5a81a17a6c09057a838e21435adbaf7-116041af80821dd4-01
2021-09-18T00:51:59.094Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:51:59.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-329fb351d19b6b86ac200f12566dbf4a7df4abd4-3c086de2bc6e1e28-01 outer:exit 2b-329fb351d19b6b86ac200f12566dbf4a7df4abd4-fed7077f41968176-01
2021-09-18T00:51:59.103Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:51:59.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-416e0a4df6173706cec9bbb659b7751fe1a3d2ab-b1b37b4aef4fb3e8-01 outer:exit 2b-416e0a4df6173706cec9bbb659b7751fe1a3d2ab-8765290c31863c7a-01
2021-09-18T00:51:59.111Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:51:59.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a4ec8be03f62c3adf7483ec6127206740a2b287-64cbace1b00101d3-01 outer:exit 2b-4a4ec8be03f62c3adf7483ec6127206740a2b287-4e12c8c2a613edfc-01
2021-09-18T00:51:59.114Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:51:59.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-eddc256085392e1e1cb3079fb6950532f55a6b2a-784b1fe9ee6c3cec-01 outer:exit 2b-eddc256085392e1e1cb3079fb6950532f55a6b2a-8c4b2fc0e8d32525-01
2021-09-18T00:51:59.116Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:51:59.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae9497ad7e59849cb0af173af9913108933f94a3-4433238919a69a34-01 outer:exit 2b-ae9497ad7e59849cb0af173af9913108933f94a3-04e591a0b8aaa802-01
2021-09-18T00:51:59.120Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:51:59.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-256dfaafbf7e99f096417f03a6a97d53193ae89f-ca71c60dd6a0819f-01 outer:exit 2b-256dfaafbf7e99f096417f03a6a97d53193ae89f-cdcf923499ea76bd-01
2021-09-18T00:51:59.152Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (478ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.7
updated 1 package and audited 1094 packages in 4.027s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:04.305Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:04.305Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:04.305Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:04.306Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:04.364Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:04.392Z appoptics:patching patched crypto 
2021-09-18T00:52:04.408Z appoptics:patching patched https 
2021-09-18T00:52:04.409Z appoptics:patching patched http 
2021-09-18T00:52:04.451Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:04.452Z appoptics:patching patched fs 
2021-09-18T00:52:04.474Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v12.22.6)
2021-09-18T00:52:04.479Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-09-18T00:52:04.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-754b0a3764c95a57ebdb5689b6ce1b1b11ca4721-8364c3121b429359-01 outer:exit 2b-754b0a3764c95a57ebdb5689b6ce1b1b11ca4721-c958b2d3b20d0a0b-01
2021-09-18T00:52:04.618Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:04.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-de9907f4b8d37e983213886e4a00c31a2b54331a-e935bf64da52f097-01 outer:exit 2b-de9907f4b8d37e983213886e4a00c31a2b54331a-4a6370bf90b34439-01
2021-09-18T00:52:04.653Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:04.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecc882504a158e78b792a3595641de289989f152-8b7520f4a92b09ce-01 outer:exit 2b-ecc882504a158e78b792a3595641de289989f152-ce0b74b80ee23cf8-01
2021-09-18T00:52:04.656Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:04.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f8a0f6a6588d50c4c3f13ded26f85327abffc4a-e53b85728e85925e-01 outer:exit 2b-3f8a0f6a6588d50c4c3f13ded26f85327abffc4a-fa45c806618b49fe-01
2021-09-18T00:52:04.658Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:04.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb3f8768a8e775daf4919b1442b939e2b8ba4840-819bc36afaf6cd64-01 outer:exit 2b-eb3f8768a8e775daf4919b1442b939e2b8ba4840-d116a0b8956379b2-01
2021-09-18T00:52:04.662Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:04.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fa34fa8f68a6333a07c8ea6bd4826622efc3ef1-c3a12c41c7d0e61a-01 outer:exit 2b-9fa34fa8f68a6333a07c8ea6bd4826622efc3ef1-18b72eb32f0195b5-01
2021-09-18T00:52:04.665Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:04.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-278b00c50c976078b194da88ff3a3e3c8d9d5695-793d61232ba6708e-01 outer:exit 2b-278b00c50c976078b194da88ff3a3e3c8d9d5695-72a01f9044b24729-01
2021-09-18T00:52:04.667Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:04.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-972856a87cbb43337695028bc8006eeab59ccce2-e08d2c37a6312f99-01 outer:exit 2b-972856a87cbb43337695028bc8006eeab59ccce2-92d61792baaae968-01
2021-09-18T00:52:04.669Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:04.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dc013c8ffc07f58029097c3a207763a8982b822-f200d7859434d230-01 outer:exit 2b-7dc013c8ffc07f58029097c3a207763a8982b822-a4426505906f4d8c-01
2021-09-18T00:52:04.671Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:04.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef3015f74eee66397bda13ec2d7818610a3624c-64d2a9ef2767912c-01 outer:exit 2b-3ef3015f74eee66397bda13ec2d7818610a3624c-8e411bc97eb54e49-01
2021-09-18T00:52:04.674Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:04.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf45e5aad87d0570f2132d10c03e7e8fb13f8385-6f6f3b188e3ce2a1-01 outer:exit 2b-cf45e5aad87d0570f2132d10c03e7e8fb13f8385-dfeacbc56e616ed2-01
2021-09-18T00:52:04.677Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:04.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-23cd9b8a99f573f830aa937c688397520f85d78f-2b9693bf54250cc0-01 outer:exit 2b-23cd9b8a99f573f830aa937c688397520f85d78f-bb7978c3872bb2f5-01
2021-09-18T00:52:04.683Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:04.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-3874da2bd1b5d6ba5af28593d4b146a14099ae06-dc27b887adc20c4b-01 outer:exit 2b-3874da2bd1b5d6ba5af28593d4b146a14099ae06-0a71ff92f956da61-01
2021-09-18T00:52:04.695Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:04.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-08ca7ae80062a9fba9125ea4a3bf4c4ddb381909-b2ad4f746c471833-01 outer:exit 2b-08ca7ae80062a9fba9125ea4a3bf4c4ddb381909-ed69a90d623c11a0-01
2021-09-18T00:52:04.753Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:04.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad9ca6c6ba60bb710d05e39693f69b76aaa9ad29-e9a6004229227b11-01 outer:exit 2b-ad9ca6c6ba60bb710d05e39693f69b76aaa9ad29-e47556aac2dbc6a6-01
2021-09-18T00:52:04.756Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:04.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4bd6dc67422f0c4bb3ce232e1d2bcaed4e78e86-35037159adb97e62-01 outer:exit 2b-f4bd6dc67422f0c4bb3ce232e1d2bcaed4e78e86-b4ac0df4eeb2a781-01
2021-09-18T00:52:04.758Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:04.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-a118908a5175b4eeca32a1e0941d938976bb4e0c-acb1d51f40fe559a-01 outer:exit 2b-a118908a5175b4eeca32a1e0941d938976bb4e0c-cd00177ae43f691e-01
2021-09-18T00:52:04.761Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:04.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-b166d277dd554fe674c92988bbec0206211804d0-81600a219befa431-01 outer:exit 2b-b166d277dd554fe674c92988bbec0206211804d0-0e1e62398cf3e29c-01
2021-09-18T00:52:04.767Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:04.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-65b4f83ed72244aabbd8f4341c59f739927cb575-6ffae48ccfb3c8ae-01 outer:exit 2b-65b4f83ed72244aabbd8f4341c59f739927cb575-419e1220f22622a1-01
2021-09-18T00:52:04.783Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:04.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f7afa1592e78f8b7bd6683c1497a6ed50402db4-10472f9ad8d9f3cb-01 outer:exit 2b-9f7afa1592e78f8b7bd6683c1497a6ed50402db4-a2da2984fe37511a-01
2021-09-18T00:52:04.785Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:04.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2852f0a72cdd69b98b0552758c6b018aea39fd6-3cf758b981eaba77-01 outer:exit 2b-c2852f0a72cdd69b98b0552758c6b018aea39fd6-82412bb93f72130d-01
2021-09-18T00:52:04.787Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:04.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-627939c9cd92a194af17c3a1aa19f97f50e609be-355c201ed152b6ce-01 outer:exit 2b-627939c9cd92a194af17c3a1aa19f97f50e609be-fde35dfdc7d40087-01
2021-09-18T00:52:04.789Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:04.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-23a87629d59e0ca275c7ee3933323ec7c4ee7e83-84a06ab121ac8fe8-01 outer:exit 2b-23a87629d59e0ca275c7ee3933323ec7c4ee7e83-1b3a09e9b15879e6-01
2021-09-18T00:52:04.792Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:04.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-efda30f64960c512e8542c986877f155230234fb-35b03858f477e69c-01 outer:exit 2b-efda30f64960c512e8542c986877f155230234fb-ae7bc7876644fcc0-01
2021-09-18T00:52:04.794Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:04.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-4604274e6e5f52805937f8f8eda8265fb2602f50-5acd1b6d0e9f5d46-01 outer:exit 2b-4604274e6e5f52805937f8f8eda8265fb2602f50-47407d5ad57621b2-01
2021-09-18T00:52:04.796Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:04.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-809a6790df74ab3310724b328b397ab0c46a2d39-e72eab2503d76da7-01 outer:exit 2b-809a6790df74ab3310724b328b397ab0c46a2d39-00ef0a88feadb1fe-01
2021-09-18T00:52:04.799Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:04.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-d059d6cbab5b4d2007f95cba9c6449ac64be0159-5641117e8a662adf-01 outer:exit 2b-d059d6cbab5b4d2007f95cba9c6449ac64be0159-8da848ae0bfd14dd-01
2021-09-18T00:52:04.804Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:04.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-636ab44f274d46c4bdd1a7188974fef5b658cf29-232d1c5e4b91a7d0-01 outer:exit 2b-636ab44f274d46c4bdd1a7188974fef5b658cf29-35a84a32faa9f9c7-01
2021-09-18T00:52:04.808Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:04.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-58504b6f9294df4be783e6dcdef74c141b0b003c-a9aba49a86b2c17c-01 outer:exit 2b-58504b6f9294df4be783e6dcdef74c141b0b003c-91b895f8461d67d4-01
2021-09-18T00:52:04.814Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:04.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-5828134d9bba9daaebb73db6154a671f5afd6ba8-b74feb85ad3ffb09-01 outer:exit 2b-5828134d9bba9daaebb73db6154a671f5afd6ba8-4de260d9bef1e4bf-01
2021-09-18T00:52:04.820Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:04.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-288c401e00167f43f44e713bcbd51c92fef2be6e-76e98c33c3cd8939-01 outer:exit 2b-288c401e00167f43f44e713bcbd51c92fef2be6e-25f9e9324418d277-01
2021-09-18T00:52:04.822Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:04.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-e54a8759837366ddf0117d75b4b86824dfe138d1-be49550d79537292-01 outer:exit 2b-e54a8759837366ddf0117d75b4b86824dfe138d1-a7cebec48dab8aa4-01
2021-09-18T00:52:04.824Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:04.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb27f4acfc2e9f361d070fb78d33d03bdcf089e8-a49c049def962ed4-01 outer:exit 2b-bb27f4acfc2e9f361d070fb78d33d03bdcf089e8-4620983d53cf8dc4-01
2021-09-18T00:52:04.829Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:04.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d3063d0c0a9df9959d2ea9aac134bbac72a5ab2-7940ff913daf80aa-01 outer:exit 2b-4d3063d0c0a9df9959d2ea9aac134bbac72a5ab2-9b1fb3867b1f885c-01
2021-09-18T00:52:04.831Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:04.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f3e3ae5ed2427d84ba0e4e14da7e47e68a58c04-50aa50d930e75d66-01 outer:exit 2b-1f3e3ae5ed2427d84ba0e4e14da7e47e68a58c04-e8e7be83c41774d6-01
2021-09-18T00:52:04.833Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:04.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-52355ff0289a63d08b4454551ed5c8d965981b35-7c0c6833acd3fb8a-01 outer:exit 2b-52355ff0289a63d08b4454551ed5c8d965981b35-e0a78c6abd88b95f-01
2021-09-18T00:52:04.835Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:04.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-930206803ca21278f647fe910614bf7db28f06af-6b9bf6ad3a74d1d0-01 outer:exit 2b-930206803ca21278f647fe910614bf7db28f06af-cb220268faa44fe0-01
2021-09-18T00:52:04.836Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:04.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-8928df9ffb10aef534ddd44a07632742795c9554-e6fd99391ba6a15b-01 outer:exit 2b-8928df9ffb10aef534ddd44a07632742795c9554-4c4bc2181f2f8644-01
2021-09-18T00:52:04.838Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:04.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec42bed88713d2a747936d6e282e8043e8c76749-282c3ed630dfb9ed-01 outer:exit 2b-ec42bed88713d2a747936d6e282e8043e8c76749-3d1bfb9273c3e5b2-01
2021-09-18T00:52:04.849Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:04.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-5291872f3aacdba8faad10271988e0b4a4884bb9-b9863a0e9f2e351c-01 outer:exit 2b-5291872f3aacdba8faad10271988e0b4a4884bb9-2d2e72aaf868d31f-01
2021-09-18T00:52:04.855Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:04.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d8191756140ae9b76f3836732bb4d951439b662-942bc9da37193d0a-01 outer:exit 2b-1d8191756140ae9b76f3836732bb4d951439b662-c64cdb52182af579-01
2021-09-18T00:52:04.858Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:04.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b1d8d73c3a0d4b4b4bea25e1f169d5d05ccb991-9219658d9cf9e2da-01 outer:exit 2b-5b1d8d73c3a0d4b4b4bea25e1f169d5d05ccb991-7a851917adf74072-01
2021-09-18T00:52:04.860Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:04.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-d81b3a698dff608eea1236249422e45b3c704f3a-b9308b9e0f10ca6f-01 outer:exit 2b-d81b3a698dff608eea1236249422e45b3c704f3a-afd54d37eeb1c87f-01
2021-09-18T00:52:04.862Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:04.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfc23b5f5948061c5c0b02022372e9361818e4f2-72b00982643d984f-01 outer:exit 2b-bfc23b5f5948061c5c0b02022372e9361818e4f2-ca938d669d9ab08c-01
2021-09-18T00:52:04.885Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (297ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.8
updated 1 package and audited 1094 packages in 3.73s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:09.556Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:09.556Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:09.556Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:09.557Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:09.612Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:09.641Z appoptics:patching patched crypto 
2021-09-18T00:52:09.666Z appoptics:patching patched https 
2021-09-18T00:52:09.666Z appoptics:patching patched http 
2021-09-18T00:52:09.697Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:09.698Z appoptics:patching patched fs 
2021-09-18T00:52:09.720Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v12.22.6)
2021-09-18T00:52:09.725Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-09-18T00:52:09.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-dab6642222a34a01dfa5bb9ef5eb1c4c021864b3-ee40e8aaca175085-01 outer:exit 2b-dab6642222a34a01dfa5bb9ef5eb1c4c021864b3-be50a6263d78ab68-01
2021-09-18T00:52:09.865Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:09.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb2178d7cff5e301e2fa628cb10a1f07c0b1814-4c316bbd6ff8c830-01 outer:exit 2b-9cb2178d7cff5e301e2fa628cb10a1f07c0b1814-a3722cdd493ed26c-01
2021-09-18T00:52:09.896Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:09.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-63c360bf9992aa2ff217a34605a909def6237ffd-c42c3ee5d0601d16-01 outer:exit 2b-63c360bf9992aa2ff217a34605a909def6237ffd-36d53bb20ed12a62-01
2021-09-18T00:52:09.898Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:09.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-36a9958add55271530bf789179c7717054ea9365-ff2c11330a0b47a5-01 outer:exit 2b-36a9958add55271530bf789179c7717054ea9365-15292dbb96d7f317-01
2021-09-18T00:52:09.901Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:09.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ad0ac6649ca3a266a1865c2537af946fdf0bd7-0bb16889f4e6ffd7-01 outer:exit 2b-d7ad0ac6649ca3a266a1865c2537af946fdf0bd7-49adfc9a56a1d8df-01
2021-09-18T00:52:09.905Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:09.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72a1ecee3ee09ca8ee3887f49ae04cf36815aa8-210e1435b086d8c8-01 outer:exit 2b-a72a1ecee3ee09ca8ee3887f49ae04cf36815aa8-4ba865e03760e66c-01
2021-09-18T00:52:09.908Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:09.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-584669d269e25cd0465d09fee33bcaa2d7279c46-2c618bfb3d6e8f4f-01 outer:exit 2b-584669d269e25cd0465d09fee33bcaa2d7279c46-08e2f2b648330682-01
2021-09-18T00:52:09.910Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:09.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-76e9bdd1cbf5ee9ec10d65f4bfb43029d8bbdf8b-5f618b8b2ad052fb-01 outer:exit 2b-76e9bdd1cbf5ee9ec10d65f4bfb43029d8bbdf8b-927acb87702b996b-01
2021-09-18T00:52:09.912Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:09.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-039b66e356987ff29b08e8ce8bbc6fb659407b7f-8bf45960e4a71c97-01 outer:exit 2b-039b66e356987ff29b08e8ce8bbc6fb659407b7f-f5c2501965e59531-01
2021-09-18T00:52:09.914Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:09.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a5fa84c13dfb7318614eb1948e508916f995c06-4c4e07b2da32b87c-01 outer:exit 2b-8a5fa84c13dfb7318614eb1948e508916f995c06-1456441add2ad798-01
2021-09-18T00:52:09.916Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:09.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-d17b104c21a9e99ec75f688d1e30a5e70dfd8977-17e017b93bb97a49-01 outer:exit 2b-d17b104c21a9e99ec75f688d1e30a5e70dfd8977-5fa0f7d5524082ce-01
2021-09-18T00:52:09.920Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:09.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-c154767c7e4f55d2ee4e860f66ae2dfefeec8437-86405ec6023fb776-01 outer:exit 2b-c154767c7e4f55d2ee4e860f66ae2dfefeec8437-826000d12c504c60-01
2021-09-18T00:52:09.925Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:09.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-25efd36fc301be8224f319bcba25aae15e200594-8904dbd05bb9ad34-01 outer:exit 2b-25efd36fc301be8224f319bcba25aae15e200594-cca6ca783eecf320-01
2021-09-18T00:52:09.938Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:09.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a3a07c9b84f821f8d0a13f7d99fa0500b36a61d-8ffd7d08cd00ded7-01 outer:exit 2b-5a3a07c9b84f821f8d0a13f7d99fa0500b36a61d-9445f784ec3d2423-01
2021-09-18T00:52:09.996Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:09.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-a08b8921c0dde2ed15b4de247adfcc4a30fd1021-2816f888856d81e0-01 outer:exit 2b-a08b8921c0dde2ed15b4de247adfcc4a30fd1021-4de329b26bfeb944-01
2021-09-18T00:52:09.998Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:10.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-387551f7ba13d15184e8b7bff753d42975542ea5-4e85a73c39e5ebbb-01 outer:exit 2b-387551f7ba13d15184e8b7bff753d42975542ea5-8a737f0250a98676-01
2021-09-18T00:52:10.001Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:10.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-00a830ccc13b5f6f34fb76147a156a581b4c318a-3d44ce1c54f90607-01 outer:exit 2b-00a830ccc13b5f6f34fb76147a156a581b4c318a-14b914f9adfc2210-01
2021-09-18T00:52:10.016Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:10.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f48c3ba5850aa6651f39d11ebfc498ee6f845f8-b22dc7ed61f50ff1-01 outer:exit 2b-6f48c3ba5850aa6651f39d11ebfc498ee6f845f8-06f3b6727954d45b-01
2021-09-18T00:52:10.021Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:10.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-f59e7624eeac26a6cb25a4041bd60e2ade8e15c4-a68959de566c6690-01 outer:exit 2b-f59e7624eeac26a6cb25a4041bd60e2ade8e15c4-7d36a71b4108c967-01
2021-09-18T00:52:10.023Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:10.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd2fbff7a6cd3d80a0ecf7e1333ade829e6fc0e-d378d3e775d6723d-01 outer:exit 2b-bfd2fbff7a6cd3d80a0ecf7e1333ade829e6fc0e-1114c3b983a90714-01
2021-09-18T00:52:10.028Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:10.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cffb288a438c4292954ceed74d4e0ac70b2c49c-cca18e4b07c66d27-01 outer:exit 2b-3cffb288a438c4292954ceed74d4e0ac70b2c49c-35b5da8749206978-01
2021-09-18T00:52:10.030Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:10.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-707b4e177ce4c010718a8b6bf8fba6fe67a1e8ef-b49d3095793bb8b2-01 outer:exit 2b-707b4e177ce4c010718a8b6bf8fba6fe67a1e8ef-ae5849a4b98fe85c-01
2021-09-18T00:52:10.031Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:10.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aa9e67d32367c8b1fda119a47ebd7237348e014-5639bcf2b946bf49-01 outer:exit 2b-6aa9e67d32367c8b1fda119a47ebd7237348e014-a288059b13db76c3-01
2021-09-18T00:52:10.034Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:10.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c69033362c0617bf7f11898b4cd2fdaaa2810d7-e907c888ad3b5ce5-01 outer:exit 2b-7c69033362c0617bf7f11898b4cd2fdaaa2810d7-691e1fd558f1e8d1-01
2021-09-18T00:52:10.037Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:10.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-d715285c6b96347d3c9b27bfbadcce8cd8093b30-7dc63eff9d90ad4b-01 outer:exit 2b-d715285c6b96347d3c9b27bfbadcce8cd8093b30-f452bd0059b76228-01
2021-09-18T00:52:10.039Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:10.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-89ff0a083a5d1be07d27d0e92b04008d0495d0da-326a72dfd3b73fa9-01 outer:exit 2b-89ff0a083a5d1be07d27d0e92b04008d0495d0da-23b710f7ce23cf73-01
2021-09-18T00:52:10.041Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:10.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a84c0b7c0c160e3ee06b866bf13fc5561d81d5-9cc752f9a237926c-01 outer:exit 2b-f3a84c0b7c0c160e3ee06b866bf13fc5561d81d5-c47d748d4b9db93c-01
2021-09-18T00:52:10.047Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:10.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b393fe25239c74dd66bb7872b8db03f3a154bb-117240275dcc4310-01 outer:exit 2b-a0b393fe25239c74dd66bb7872b8db03f3a154bb-535138d64449f5a6-01
2021-09-18T00:52:10.051Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:10.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b3d4d24bcbc037022f52d3afeede739c00a3833-bcf4b854a67a29e0-01 outer:exit 2b-9b3d4d24bcbc037022f52d3afeede739c00a3833-8b1fd9c9f3f36def-01
2021-09-18T00:52:10.058Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:10.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a5de19495a308a3f47f6792a4931c7364cf6f2c-296569e6146fbc51-01 outer:exit 2b-2a5de19495a308a3f47f6792a4931c7364cf6f2c-892f98f6c7381059-01
2021-09-18T00:52:10.063Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:10.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c63b45249b82d5650db77255ba4c5adb65ff937-8af4a5944f3c74c1-01 outer:exit 2b-1c63b45249b82d5650db77255ba4c5adb65ff937-9d52ba3675197ed2-01
2021-09-18T00:52:10.065Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:10.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-173d21371398ce8d95ac191f37e43d58e3b5cc29-4e5d2f9eed9a92ac-01 outer:exit 2b-173d21371398ce8d95ac191f37e43d58e3b5cc29-6bca100acf4914ba-01
2021-09-18T00:52:10.067Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:10.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-31d3a0e82fab8ba4c9633b3341bc2195a93f8883-be5cef8beecf50f6-01 outer:exit 2b-31d3a0e82fab8ba4c9633b3341bc2195a93f8883-81b5d9817c695c63-01
2021-09-18T00:52:10.073Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:10.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab1c323a5a12112a6ef46f4dad7a00db5093c2df-099764754b038fbb-01 outer:exit 2b-ab1c323a5a12112a6ef46f4dad7a00db5093c2df-c8d30342d4a0802e-01
2021-09-18T00:52:10.074Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:10.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-538ec76547dae6394a1ac0729954597bd2850f03-1d56c1c7fb2e13f5-01 outer:exit 2b-538ec76547dae6394a1ac0729954597bd2850f03-b1860458d7509958-01
2021-09-18T00:52:10.076Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:10.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4adf89b3d3baf9f5aa8faf19fe06008c3a8ea50-8171b4f64cbb18bd-01 outer:exit 2b-b4adf89b3d3baf9f5aa8faf19fe06008c3a8ea50-1d6fdd486414e55e-01
2021-09-18T00:52:10.078Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:10.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-c907d2dbf56865192ec1a3091465529799fc6c4e-bb3f4f08b66f4551-01 outer:exit 2b-c907d2dbf56865192ec1a3091465529799fc6c4e-3c955a8c50221701-01
2021-09-18T00:52:10.079Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:10.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-385cfc34d31abda8fe268ab3113b28c055752cc2-3071c6d8abe22151-01 outer:exit 2b-385cfc34d31abda8fe268ab3113b28c055752cc2-08120d00de444130-01
2021-09-18T00:52:10.081Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:10.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-28d27a685fd55fab02878b5dd3adde3a39e14b4d-6e7f3eb3c0fded0c-01 outer:exit 2b-28d27a685fd55fab02878b5dd3adde3a39e14b4d-ad9c3a8e4d05579e-01
2021-09-18T00:52:10.088Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:10.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-271f57a7346a829104c80c003f4e38138dfeb31b-a265f99c2a60068e-01 outer:exit 2b-271f57a7346a829104c80c003f4e38138dfeb31b-e49d74aa7443ea01-01
2021-09-18T00:52:10.105Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:10.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdb64ea8a78ad0db107857e7356469c31cf3ede8-7b7343e41025bcd4-01 outer:exit 2b-cdb64ea8a78ad0db107857e7356469c31cf3ede8-eb5849c1fe5811e3-01
2021-09-18T00:52:10.108Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:10.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d24b7429cd85ae3527320e8e76c7da21cde0652-7ea646f49cff6477-01 outer:exit 2b-5d24b7429cd85ae3527320e8e76c7da21cde0652-c3c1829dacf9f204-01
2021-09-18T00:52:10.111Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:10.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa2c29317117cbbc2ce728765d4f9d45414c1a16-3df9c70ae9fec3b5-01 outer:exit 2b-fa2c29317117cbbc2ce728765d4f9d45414c1a16-1e9e729c340afd0a-01
2021-09-18T00:52:10.114Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:10.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-c708ae2e24366d7fa4810f8566cd9cc041cc55c5-369c3faa71477f50-01 outer:exit 2b-c708ae2e24366d7fa4810f8566cd9cc041cc55c5-32c0f305532e8bf2-01
2021-09-18T00:52:10.138Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.9
updated 1 package and audited 1094 packages in 5.005s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:15.996Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:15.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:15.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:15.997Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:16.058Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:16.087Z appoptics:patching patched crypto 
2021-09-18T00:52:16.109Z appoptics:patching patched https 
2021-09-18T00:52:16.110Z appoptics:patching patched http 
2021-09-18T00:52:16.151Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:16.151Z appoptics:patching patched fs 
2021-09-18T00:52:16.174Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v12.22.6)
2021-09-18T00:52:16.179Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-09-18T00:52:16.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-be0ce21e1472c741f8757421fa8652524bf89510-718d5ee7e5ac0d3c-01 outer:exit 2b-be0ce21e1472c741f8757421fa8652524bf89510-001fb63ea2345a99-01
2021-09-18T00:52:16.333Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:16.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-31fc785ce101cbba2590862acc6b180fcf69ddec-277323b44539babd-01 outer:exit 2b-31fc785ce101cbba2590862acc6b180fcf69ddec-fc3e99bd162be9d5-01
2021-09-18T00:52:16.388Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:16.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cc27998ca643a1b221cb54c8773e351dc379d59-f1a4358e3fdd2965-01 outer:exit 2b-5cc27998ca643a1b221cb54c8773e351dc379d59-e64569a39c496707-01
2021-09-18T00:52:16.391Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:16.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2c3043c4909f3d3bda603705356014431b6cac9-ece52ffa86de321d-01 outer:exit 2b-e2c3043c4909f3d3bda603705356014431b6cac9-394488ca9fa41aa7-01
2021-09-18T00:52:16.394Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:16.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-561e96083393ca03f07e3227aab83f5836470581-7897a3685d4a377c-01 outer:exit 2b-561e96083393ca03f07e3227aab83f5836470581-99fca91df9270a5c-01
2021-09-18T00:52:16.398Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:16.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee387c9a2fb40d68c90b54d555a241c66b58d7a5-f81d8cd19a75dbdf-01 outer:exit 2b-ee387c9a2fb40d68c90b54d555a241c66b58d7a5-890c60fd3fb8048e-01
2021-09-18T00:52:16.400Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:16.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-49901574b9fea5f772a4dcd3b5a672f8db86e358-90863ae9c0ce7dae-01 outer:exit 2b-49901574b9fea5f772a4dcd3b5a672f8db86e358-19a8c482a3b8c5c4-01
2021-09-18T00:52:16.403Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:16.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-530e1847ecc3b83f0031ddc3539124eea661892c-9716de979538a420-01 outer:exit 2b-530e1847ecc3b83f0031ddc3539124eea661892c-9abf43c5d9ec53e7-01
2021-09-18T00:52:16.405Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:16.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-deec134dd60674a13149da6ffbd432b4fa7dfec9-deb39e454f6a3394-01 outer:exit 2b-deec134dd60674a13149da6ffbd432b4fa7dfec9-24aea2bfe41ba8b0-01
2021-09-18T00:52:16.409Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:16.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-135948345867e0e74cde933b0a5838d1d35fed16-d9fcfe82fa827fe0-01 outer:exit 2b-135948345867e0e74cde933b0a5838d1d35fed16-3b21ed9898ce281c-01
2021-09-18T00:52:16.411Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:16.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-04b3107607de5ba102c234e046a9365af6544d26-6b322fa7af55bb94-01 outer:exit 2b-04b3107607de5ba102c234e046a9365af6544d26-035637a57a535c03-01
2021-09-18T00:52:16.414Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:16.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f76c4e111c5114d9e2eb474e1b59da525aea303-7a9a65979fbd68da-01 outer:exit 2b-8f76c4e111c5114d9e2eb474e1b59da525aea303-f6906e12bf9d4d65-01
2021-09-18T00:52:16.439Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:16.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-69b04fed4ae167a8e2fdb05f97b3bd77e75cfeef-67f95ef23821fceb-01 outer:exit 2b-69b04fed4ae167a8e2fdb05f97b3bd77e75cfeef-d2ffac02d5a03b39-01
2021-09-18T00:52:16.462Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:16.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ecb8b79585ad8c0de62e4291ea53e20093b9003-2b5190a67a786c2d-01 outer:exit 2b-6ecb8b79585ad8c0de62e4291ea53e20093b9003-8452c88f1c23b1e7-01
2021-09-18T00:52:16.488Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:16.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-ded4c9582eb5532b11c77bb37455fe669c1d7baf-69575558c022802e-01 outer:exit 2b-ded4c9582eb5532b11c77bb37455fe669c1d7baf-48d9d847df6ac313-01
2021-09-18T00:52:16.491Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:16.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4da82103953f9b4f48c7fc8dfd4267ce83fd812-e9dc246186256c78-01 outer:exit 2b-d4da82103953f9b4f48c7fc8dfd4267ce83fd812-45436c93fdc9462b-01
2021-09-18T00:52:16.493Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:16.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-84a299920defa1d0873a97db8064839273c0c941-406ff2a2fb7f775c-01 outer:exit 2b-84a299920defa1d0873a97db8064839273c0c941-c17fa8fd1171f875-01
2021-09-18T00:52:16.496Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:16.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-63366be8d2035acd90bee3eaa168c3ef7856f16e-4bad0eb805d40144-01 outer:exit 2b-63366be8d2035acd90bee3eaa168c3ef7856f16e-9679c650a2a0299b-01
2021-09-18T00:52:16.505Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:16.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-f52d08551839d13e495efc039d1f2c2d0a07e61a-c5f072d6e39be590-01 outer:exit 2b-f52d08551839d13e495efc039d1f2c2d0a07e61a-d6b79909ce4386fb-01
2021-09-18T00:52:16.510Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:16.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ee065fcdbb36a21a48b21935f5a2102addee9d-fcb452b5e53b2b95-01 outer:exit 2b-27ee065fcdbb36a21a48b21935f5a2102addee9d-f72a278ab55e2428-01
2021-09-18T00:52:16.512Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:16.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fa8455d023e6bf3937fc3ef5b2f6a32e35ab2d9-a697dc6c5678dddd-01 outer:exit 2b-2fa8455d023e6bf3937fc3ef5b2f6a32e35ab2d9-2e39a87f7c91c44e-01
2021-09-18T00:52:16.527Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:16.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ff04ce98417c740a34a7051f294fd414611c3c0-6ee702bf20e579f9-01 outer:exit 2b-5ff04ce98417c740a34a7051f294fd414611c3c0-77a249e30673f843-01
2021-09-18T00:52:16.529Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:16.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ffe5e52e9c202b9d2176c4c021905320d721277-9e8bb0baf7ef3eb9-01 outer:exit 2b-8ffe5e52e9c202b9d2176c4c021905320d721277-f6ccd6fb886c83b7-01
2021-09-18T00:52:16.532Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:16.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-d027a32ce751ca651f424a24f7c348fbf0dcb99e-eac3660ad128b40e-01 outer:exit 2b-d027a32ce751ca651f424a24f7c348fbf0dcb99e-8904ad80b40e2df7-01
2021-09-18T00:52:16.535Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:16.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-64f63d9319b20924e3a8c0643889cda68febacf6-10964f4c470a3892-01 outer:exit 2b-64f63d9319b20924e3a8c0643889cda68febacf6-4da708dcb3667cb4-01
2021-09-18T00:52:16.537Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:16.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-36a3ae2a53f083a645362286bdecfdd5d2b899fb-e2009ac5e55cd116-01 outer:exit 2b-36a3ae2a53f083a645362286bdecfdd5d2b899fb-de0e5337acd691df-01
2021-09-18T00:52:16.539Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:16.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-0daf662bec22554d5a20f348d347b01becc6a03c-970e7aa17a4e51d0-01 outer:exit 2b-0daf662bec22554d5a20f348d347b01becc6a03c-e3ef7afe6b48ba2e-01
2021-09-18T00:52:16.556Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:16.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-3673d8ff557d5884508542b2c59a7f909fa3bda3-b559853792100b2d-01 outer:exit 2b-3673d8ff557d5884508542b2c59a7f909fa3bda3-a0d4180724175252-01
2021-09-18T00:52:16.571Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:16.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cb8ea45184cfa800d45ac32e669d5ff312fa3fa-86b208fa757c702c-01 outer:exit 2b-7cb8ea45184cfa800d45ac32e669d5ff312fa3fa-0f32d0dae7592856-01
2021-09-18T00:52:16.578Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:16.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3d9d635140ae0c4ee1c1d790c2f28c96728def0-6899e101f76fcf48-01 outer:exit 2b-e3d9d635140ae0c4ee1c1d790c2f28c96728def0-731be7041e9fce42-01
2021-09-18T00:52:16.584Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:16.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec17f851dc7cba5b9e15136b4f9a9dfd0f56c336-ab01f96b9b63a04d-01 outer:exit 2b-ec17f851dc7cba5b9e15136b4f9a9dfd0f56c336-7defbe2bba5c59d2-01
2021-09-18T00:52:16.586Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:16.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d356fd8209b91b59f04dd7186d2aea59e27a1aa-7c62644a6ef7245f-01 outer:exit 2b-9d356fd8209b91b59f04dd7186d2aea59e27a1aa-e541134e14e244d2-01
2021-09-18T00:52:16.589Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:16.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dd6380b649e8d5d3c4db74c37059cd6cca427d0-c9b949ae38e00f2a-01 outer:exit 2b-9dd6380b649e8d5d3c4db74c37059cd6cca427d0-1032c9602ece33e7-01
2021-09-18T00:52:16.594Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:16.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b95dc510304956578752e7f3867ed04e375d65a-1e4bf375d2255839-01 outer:exit 2b-3b95dc510304956578752e7f3867ed04e375d65a-29d529d64437a5dd-01
2021-09-18T00:52:16.596Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:16.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe2217d59765bf262eb36470c8a1803118d57901-b02f4623079c4414-01 outer:exit 2b-fe2217d59765bf262eb36470c8a1803118d57901-ccb6e6e4b805cf9b-01
2021-09-18T00:52:16.598Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:16.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-13cbdf9342b86de9419fcc2be499eb82a474eec5-f3c04295188b47a3-01 outer:exit 2b-13cbdf9342b86de9419fcc2be499eb82a474eec5-d2538f0ebbb86ffb-01
2021-09-18T00:52:16.599Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:16.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b833f0e3d51441d1fba8b9a0c47a2239f5a6ea7-58cecbcf190a5c5e-01 outer:exit 2b-9b833f0e3d51441d1fba8b9a0c47a2239f5a6ea7-ba9ff1b9cbf8c19e-01
2021-09-18T00:52:16.601Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:16.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c27d1aa784f2d74717a78a88b8857fc84a8dcad-a8feb25ff59c2b4e-01 outer:exit 2b-4c27d1aa784f2d74717a78a88b8857fc84a8dcad-02ae82b6e7ffb1b5-01
2021-09-18T00:52:16.603Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:16.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-89b7669da4cf59f455eca45d429f55fa1024d3c4-221685c18b7d2443-01 outer:exit 2b-89b7669da4cf59f455eca45d429f55fa1024d3c4-3890201e4ef07a2f-01
2021-09-18T00:52:16.610Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:16.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-852d1a79d562cb4aa48ee0c7bdbb01f41809e3de-eeded20025a07ec8-01 outer:exit 2b-852d1a79d562cb4aa48ee0c7bdbb01f41809e3de-45a1db9dd25f32d9-01
2021-09-18T00:52:16.617Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:16.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-87094144d9a323e1ab68903b30f93864542a4b50-84c345879b7651be-01 outer:exit 2b-87094144d9a323e1ab68903b30f93864542a4b50-b68f29d7fe7d9f30-01
2021-09-18T00:52:16.620Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:16.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d5e76026482970002c5b2c30936dd0633328ea-a4eeebb20aa189ac-01 outer:exit 2b-d1d5e76026482970002c5b2c30936dd0633328ea-09bf273a156249de-01
2021-09-18T00:52:16.622Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:16.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-7064cc8d6921d3416d78ce790f7f710f7bf826f2-02368ab393731399-01 outer:exit 2b-7064cc8d6921d3416d78ce790f7f710f7bf826f2-a91885f6abd2ac31-01
2021-09-18T00:52:16.635Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:16.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-76667f0073e6194f0e25b5a06fe4d697e196b4d2-0dec9616d069c592-01 outer:exit 2b-76667f0073e6194f0e25b5a06fe4d697e196b4d2-c873750f591f7800-01
2021-09-18T00:52:16.659Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (356ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.10
updated 1 package and audited 1094 packages in 3.72s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:21.228Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:21.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:21.229Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:21.229Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:21.286Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:21.314Z appoptics:patching patched crypto 
2021-09-18T00:52:21.336Z appoptics:patching patched https 
2021-09-18T00:52:21.337Z appoptics:patching patched http 
2021-09-18T00:52:21.369Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:21.369Z appoptics:patching patched fs 
2021-09-18T00:52:21.391Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v12.22.6)
2021-09-18T00:52:21.396Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-09-18T00:52:21.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-329bb23b2d6fe62276839b893af541799c3c81a4-34785ee255fc09c9-01 outer:exit 2b-329bb23b2d6fe62276839b893af541799c3c81a4-9b549bc5ea434c34-01
2021-09-18T00:52:21.533Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:21.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f4fa5d0f033412bb0c629ae3cb27cc42f8d7ea9-72765e63da609f8a-01 outer:exit 2b-2f4fa5d0f033412bb0c629ae3cb27cc42f8d7ea9-c1bf779531b24384-01
2021-09-18T00:52:21.587Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:21.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b6b1e678abdf0c818e33224e0148dc73cd488ca-ad0d9ed42542c77f-01 outer:exit 2b-9b6b1e678abdf0c818e33224e0148dc73cd488ca-e69b86998d6c0f8d-01
2021-09-18T00:52:21.590Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:21.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-16d8aa44372cbc6462a73b46f5e8bedc44b11158-9da14bbfb68c3c0f-01 outer:exit 2b-16d8aa44372cbc6462a73b46f5e8bedc44b11158-fc7c14d0b8c2f2ab-01
2021-09-18T00:52:21.593Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:21.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-c045897855a9d7e980f6e8cba388ba172e852088-8efe49e5556d3811-01 outer:exit 2b-c045897855a9d7e980f6e8cba388ba172e852088-a7bab0d3fff1c837-01
2021-09-18T00:52:21.597Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:21.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d64c3aff3b4be2f458d8ea284eec282b8427e8c-bb316f5c67b96abd-01 outer:exit 2b-7d64c3aff3b4be2f458d8ea284eec282b8427e8c-21cf5aad1a7ba884-01
2021-09-18T00:52:21.599Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:21.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-f83fb0475e5f4ca57b752be82a49cb2bd8ec454f-34d5746abff0f973-01 outer:exit 2b-f83fb0475e5f4ca57b752be82a49cb2bd8ec454f-174b0492fe683e02-01
2021-09-18T00:52:21.602Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:21.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ccd8660cd9a2ee5d5a7b1928dd87d2a41957ac-1587a9958c9f78e4-01 outer:exit 2b-a1ccd8660cd9a2ee5d5a7b1928dd87d2a41957ac-29bdb356ffcce449-01
2021-09-18T00:52:21.604Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:21.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b6764228cdec5563614a51b7772d47f06de86c-c1f685dd07dfc3af-01 outer:exit 2b-c6b6764228cdec5563614a51b7772d47f06de86c-ae5f64ca272c25fe-01
2021-09-18T00:52:21.606Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:21.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-b04a51b23bc492ff1709b7bd506449ad9d94faf5-0543b19a9dfc6beb-01 outer:exit 2b-b04a51b23bc492ff1709b7bd506449ad9d94faf5-2e017f7eeb5e1261-01
2021-09-18T00:52:21.608Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:21.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c0fdf6500037f3f7c28f1f10f11f89969884feb-8603288fc36f6883-01 outer:exit 2b-6c0fdf6500037f3f7c28f1f10f11f89969884feb-5544ba21bc7540f8-01
2021-09-18T00:52:21.612Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:21.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa1a1e2e6fba0256fffbf7837b21c26908bcb7de-237f986a5b5588dc-01 outer:exit 2b-fa1a1e2e6fba0256fffbf7837b21c26908bcb7de-d7b470aca91beba7-01
2021-09-18T00:52:21.617Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:21.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cb2ecfc7f3b8fd969146364480cc37b2b234735-649093c7006510ff-01 outer:exit 2b-4cb2ecfc7f3b8fd969146364480cc37b2b234735-97898b8f074bab43-01
2021-09-18T00:52:21.630Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:21.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-740c3dc2da9aff451ac21fbee7e18d2e2934078e-4632c21fdde6262d-01 outer:exit 2b-740c3dc2da9aff451ac21fbee7e18d2e2934078e-f1640768d00e982e-01
2021-09-18T00:52:21.688Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:21.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-f901dd0be497cb3af131d1a303be4cf1f0fed54f-21db438bd0d2ccb0-01 outer:exit 2b-f901dd0be497cb3af131d1a303be4cf1f0fed54f-743fae7b401a2d7b-01
2021-09-18T00:52:21.691Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:21.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccce3d846f82138bca60baa545944bdcefaffca5-92e4a26fc8fc50fc-01 outer:exit 2b-ccce3d846f82138bca60baa545944bdcefaffca5-d6ddc759875c1283-01
2021-09-18T00:52:21.693Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:21.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-24e45eed8c9e3513fb41018e520da01011af0c85-8cca18c4f56727a7-01 outer:exit 2b-24e45eed8c9e3513fb41018e520da01011af0c85-2a1d70ee228d9fc1-01
2021-09-18T00:52:21.695Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:21.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-d253a08a7cf74468a7775e0af7d6851e66a5cdca-860561194d348378-01 outer:exit 2b-d253a08a7cf74468a7775e0af7d6851e66a5cdca-978b448d2cc56c28-01
2021-09-18T00:52:21.702Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:21.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-54c2f789d8ce9ef642b087bf5da3d2da6621a633-3a8219bb4a79c00d-01 outer:exit 2b-54c2f789d8ce9ef642b087bf5da3d2da6621a633-1f0100907f5b8cca-01
2021-09-18T00:52:21.718Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:21.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-e47f74e22ac156d3e9282e163b6d627b0dd3db86-610fdfb678546173-01 outer:exit 2b-e47f74e22ac156d3e9282e163b6d627b0dd3db86-89a5670149b785eb-01
2021-09-18T00:52:21.720Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:21.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-6667e56190ba5787ca5c7f82c3e5a0bc2d48ab31-352a98a5c4bd6b42-01 outer:exit 2b-6667e56190ba5787ca5c7f82c3e5a0bc2d48ab31-b8bdb4c2f8894dfb-01
2021-09-18T00:52:21.722Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:21.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-160d62e8caad1af532a3650a947e31a27284a6aa-4b1f7dae7f51df5c-01 outer:exit 2b-160d62e8caad1af532a3650a947e31a27284a6aa-2c81f6b169e64605-01
2021-09-18T00:52:21.724Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:21.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-19bafea0fb4a6a7bc1f2556fcc681f1954cf2ab4-3f7c04d9f199bfe5-01 outer:exit 2b-19bafea0fb4a6a7bc1f2556fcc681f1954cf2ab4-ab254dd0b3ed00a6-01
2021-09-18T00:52:21.726Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:21.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b4375798a33e80e91c886f1dea0f412cb238a00-963528d3eeefe44f-01 outer:exit 2b-7b4375798a33e80e91c886f1dea0f412cb238a00-e1bd574e8dd41820-01
2021-09-18T00:52:21.729Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:21.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cef08f542d4194012da21c140fefbe8eb689d49-c7cc3cb1567d11f0-01 outer:exit 2b-8cef08f542d4194012da21c140fefbe8eb689d49-dadd43a15bbf0ad0-01
2021-09-18T00:52:21.731Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:21.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-43a37ac6cb706f8f0ccc6870babbd7d3a97e840b-612bf8f03fc5a933-01 outer:exit 2b-43a37ac6cb706f8f0ccc6870babbd7d3a97e840b-26cef19de0a5ef18-01
2021-09-18T00:52:21.734Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:21.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1691c0dc3a6b7908a5545aa8d74a3c53afc1eb7-565b7efebc952472-01 outer:exit 2b-d1691c0dc3a6b7908a5545aa8d74a3c53afc1eb7-aa808d701992af58-01
2021-09-18T00:52:21.740Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:21.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-a07c6e686b990239ed555f5181fcd16de2a40e2d-6c6134b8bd72b00d-01 outer:exit 2b-a07c6e686b990239ed555f5181fcd16de2a40e2d-ddd2ac9163c77650-01
2021-09-18T00:52:21.743Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:21.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ed718e69493d4f2633cb3ade9115f8007386127-5a425b955f455181-01 outer:exit 2b-0ed718e69493d4f2633cb3ade9115f8007386127-b5e46fe914f774b8-01
2021-09-18T00:52:21.751Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:21.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ba597cfb1a7d8d467e0b1e33210a477a10720d6-2a7a2b5c0e5f1f31-01 outer:exit 2b-6ba597cfb1a7d8d467e0b1e33210a477a10720d6-507e3944e5d757f3-01
2021-09-18T00:52:21.756Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:21.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-68f97fd0a09ef0fdf95c4d168633a0a4d20a96cc-353eaee58dae8c98-01 outer:exit 2b-68f97fd0a09ef0fdf95c4d168633a0a4d20a96cc-9ee25bf52aa0601a-01
2021-09-18T00:52:21.758Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:21.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8b6485d5e8fa89d028783e9997616303fda3710-c0c2e9ba773c8183-01 outer:exit 2b-a8b6485d5e8fa89d028783e9997616303fda3710-f879ac7e842071c5-01
2021-09-18T00:52:21.760Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:21.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-11889ac928b60449e3d69342bb29f8973d2b67f1-2030df34d158af14-01 outer:exit 2b-11889ac928b60449e3d69342bb29f8973d2b67f1-3e8145d3ec30f18e-01
2021-09-18T00:52:21.767Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:21.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc1693aa965661ce17058e700055d1d45b967456-8440c86e1f2d7e7f-01 outer:exit 2b-bc1693aa965661ce17058e700055d1d45b967456-eb5f9d0c48664684-01
2021-09-18T00:52:21.768Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:21.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b4d1e458720df25be93704bccefb082b08226d5-5773f6c23c9da7c8-01 outer:exit 2b-3b4d1e458720df25be93704bccefb082b08226d5-c42fce1ac1634f18-01
2021-09-18T00:52:21.770Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:21.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc87cd2a461345aa31ac82b3231e46658248321b-60789b4d73b0c940-01 outer:exit 2b-dc87cd2a461345aa31ac82b3231e46658248321b-60bc87bf803aca7b-01
2021-09-18T00:52:21.772Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:21.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9d94c0ddad64549cebf30fda09c8dc8a980069d-dc4e720461589178-01 outer:exit 2b-d9d94c0ddad64549cebf30fda09c8dc8a980069d-bfca228f40ba5f72-01
2021-09-18T00:52:21.774Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:21.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-c90241586e962ef17bcddfcfd41129673ce56bcf-0cc6505366a49000-01 outer:exit 2b-c90241586e962ef17bcddfcfd41129673ce56bcf-2c460930289c96f5-01
2021-09-18T00:52:21.776Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:21.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb6a7e5f07d9d7f97d98ae3780fb63085bee2e7-28594af038b47118-01 outer:exit 2b-5bb6a7e5f07d9d7f97d98ae3780fb63085bee2e7-bf99d0d4dca37691-01
2021-09-18T00:52:21.783Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:21.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-037d0d312acea57f94b6b926753fc509fe7b7553-8edb081993b43ca3-01 outer:exit 2b-037d0d312acea57f94b6b926753fc509fe7b7553-cc2716713b744d74-01
2021-09-18T00:52:21.791Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:21.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e897a5d45ff4c397bd1e180ef74d5b91e4a73ba-bf06ee1bb5ab86e3-01 outer:exit 2b-2e897a5d45ff4c397bd1e180ef74d5b91e4a73ba-97a3c64db16706e7-01
2021-09-18T00:52:21.793Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:21.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-bec8cee5cfc03166583273a3a79b012811bfe3ea-6cafcf179b93dcb2-01 outer:exit 2b-bec8cee5cfc03166583273a3a79b012811bfe3ea-36503b479e1474dc-01
2021-09-18T00:52:21.795Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:21.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-26685ba2adaa902ef6f0e63671f939d15aa2d64f-c17e15fcb8dd9b75-01 outer:exit 2b-26685ba2adaa902ef6f0e63671f939d15aa2d64f-9df8e6c0bc5330fb-01
2021-09-18T00:52:21.798Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:21.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93c3170f2e628080f61503b32115163c86c47da-3cbf08aa46f6ffc3-01 outer:exit 2b-a93c3170f2e628080f61503b32115163c86c47da-f462f838167f3d91-01
2021-09-18T00:52:21.821Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (317ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.11
updated 1 package and audited 1094 packages in 4.736s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:27.414Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:27.415Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:27.415Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:27.415Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:27.471Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:27.499Z appoptics:patching patched crypto 
2021-09-18T00:52:27.515Z appoptics:patching patched https 
2021-09-18T00:52:27.515Z appoptics:patching patched http 
2021-09-18T00:52:27.555Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:27.555Z appoptics:patching patched fs 
2021-09-18T00:52:27.577Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v12.22.6)
2021-09-18T00:52:27.582Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-09-18T00:52:27.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-82f428b623f5605e344820b4abd3ff53451cdb8a-bcd3f9af76547509-01 outer:exit 2b-82f428b623f5605e344820b4abd3ff53451cdb8a-f68b27a5fd92784d-01
2021-09-18T00:52:27.719Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:27.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcd50ed3fdfd00662c16b66870d4893431458055-05687e9b2f33b81f-01 outer:exit 2b-fcd50ed3fdfd00662c16b66870d4893431458055-8f0803f65ee0fdcc-01
2021-09-18T00:52:27.796Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:27.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0b5e73811f009bbaeeff29b84228ba838d6a89b-d56d11439c7094f1-01 outer:exit 2b-b0b5e73811f009bbaeeff29b84228ba838d6a89b-c438feacd7f852b0-01
2021-09-18T00:52:27.799Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:27.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-563147ea4ded19d2ad3996e56affc37c419171b1-4eb5774cb3f9821a-01 outer:exit 2b-563147ea4ded19d2ad3996e56affc37c419171b1-bb1b18886da386b2-01
2021-09-18T00:52:27.802Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:27.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfef98ae9741148b0c4851252a30c31bb29f8efa-0891c8a754e41b09-01 outer:exit 2b-bfef98ae9741148b0c4851252a30c31bb29f8efa-897f1d5b151cbb65-01
2021-09-18T00:52:27.806Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:27.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdaaf7151f146a276131643fdc9f842313bde438-4d64a73325e0e21e-01 outer:exit 2b-bdaaf7151f146a276131643fdc9f842313bde438-af8454886ec179ba-01
2021-09-18T00:52:27.808Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:27.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-f333713bfcb9f639dedb3b451c55ddbd14fa82f7-07e4b1e54629e9f4-01 outer:exit 2b-f333713bfcb9f639dedb3b451c55ddbd14fa82f7-d20c88572dc51ae2-01
2021-09-18T00:52:27.810Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:27.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be6e1d9d574c0066b8ca642f1ad2c8875e7fc3c-b99e809bfc22605d-01 outer:exit 2b-6be6e1d9d574c0066b8ca642f1ad2c8875e7fc3c-de8634eba0cb2136-01
2021-09-18T00:52:27.813Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:27.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f5632004e0722e5a0f3282d6594fb22ab6c72e0-3dbc3f82bd105842-01 outer:exit 2b-1f5632004e0722e5a0f3282d6594fb22ab6c72e0-e441c7c07b5a830c-01
2021-09-18T00:52:27.815Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:27.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-4067f3a3bd4848e76c7017864cc7ac46c1dd5f33-a16c4c8acc909280-01 outer:exit 2b-4067f3a3bd4848e76c7017864cc7ac46c1dd5f33-7dc78cece9b34419-01
2021-09-18T00:52:27.817Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:27.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-b84e4d43197a203a06214ff528429cbc57cc9a5d-a513b50d367332c0-01 outer:exit 2b-b84e4d43197a203a06214ff528429cbc57cc9a5d-a5140ae84b2fe17a-01
2021-09-18T00:52:27.821Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:27.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eddd20ac6588b23add229c34de0794a89b6e3af-f3558985f18d9893-01 outer:exit 2b-5eddd20ac6588b23add229c34de0794a89b6e3af-ac0b6e355de26f53-01
2021-09-18T00:52:27.826Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:27.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb0bb080379d419c054827ee2ae6e146f8ce9852-7490e9ff0622e486-01 outer:exit 2b-bb0bb080379d419c054827ee2ae6e146f8ce9852-9ae4f0aabf4e06ab-01
2021-09-18T00:52:27.837Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:27.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-389b601df1cf8afbd98ef98834e39afec619bc9e-dcd2acee8b591721-01 outer:exit 2b-389b601df1cf8afbd98ef98834e39afec619bc9e-1631bea469d11455-01
2021-09-18T00:52:27.896Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:27.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b7e089f161fbdce8c8f25e3feddf7e29b0f7003-31605f13f0af6b3e-01 outer:exit 2b-8b7e089f161fbdce8c8f25e3feddf7e29b0f7003-c50257e0664b8913-01
2021-09-18T00:52:27.898Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:27.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-331b59128948416eb179e55376deba36d8e03d3c-eb0c7c3c0ddba68d-01 outer:exit 2b-331b59128948416eb179e55376deba36d8e03d3c-2f30b813ddda30bd-01
2021-09-18T00:52:27.900Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:27.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3107dbd67201de3c76d5a93fc95110af9ee5568-8864292f92aa294c-01 outer:exit 2b-c3107dbd67201de3c76d5a93fc95110af9ee5568-5a0c6fe38dde7696-01
2021-09-18T00:52:27.903Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:27.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c8ce65ed46f74a1ad87d44800082179d4ac7d6d-eb5e1e7d8166d323-01 outer:exit 2b-5c8ce65ed46f74a1ad87d44800082179d4ac7d6d-29dfe21bd99a13ae-01
2021-09-18T00:52:27.905Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:27.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-0539ec3e6a604444e6108b04e9c4375cf9a42764-8ffcf59698152211-01 outer:exit 2b-0539ec3e6a604444e6108b04e9c4375cf9a42764-19a945d42d98ac6d-01
2021-09-18T00:52:27.907Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:27.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccf7fcb4ffea23d9555f4c3cc17d94d0aa64d443-11c8e702cd318d23-01 outer:exit 2b-ccf7fcb4ffea23d9555f4c3cc17d94d0aa64d443-cd1ae8c2aff941ed-01
2021-09-18T00:52:27.921Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:27.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebe2f420dc5bddd60f38ca818eaa7edab9904a12-775e380fb7928fdd-01 outer:exit 2b-ebe2f420dc5bddd60f38ca818eaa7edab9904a12-ec7288eb8a1f4f8b-01
2021-09-18T00:52:27.930Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:27.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8e76875d6ec36608e3c5177f008f543dcf396f9-78948330c643fd25-01 outer:exit 2b-b8e76875d6ec36608e3c5177f008f543dcf396f9-5f099fa16b2f2e94-01
2021-09-18T00:52:27.932Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:27.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-4837d4fe62fecf336fd38da98f06e71f64245238-8948878fdd3b6d06-01 outer:exit 2b-4837d4fe62fecf336fd38da98f06e71f64245238-8f295ec37cb8164b-01
2021-09-18T00:52:27.935Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:27.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9854fec8f389dca467851399e2ab3070b75dab2-fecbed581bc71163-01 outer:exit 2b-d9854fec8f389dca467851399e2ab3070b75dab2-7b8fe03dafd2fa1c-01
2021-09-18T00:52:27.937Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:27.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2488d5ae6be286c8e6dbd561b7e8ef9264836bb-bdecc5df27586897-01 outer:exit 2b-c2488d5ae6be286c8e6dbd561b7e8ef9264836bb-2cc13f40fdc2c644-01
2021-09-18T00:52:27.940Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:27.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fbec4ab7a166def942ff14cc7a95de23a78bfee-230bbcfa9d53662d-01 outer:exit 2b-0fbec4ab7a166def942ff14cc7a95de23a78bfee-f70004d47c4f346b-01
2021-09-18T00:52:27.942Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:27.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dd948f2963cbdf48ed05147281b9c3cb4b56f06-8c012b9b58509184-01 outer:exit 2b-9dd948f2963cbdf48ed05147281b9c3cb4b56f06-41ceda0dda2632d4-01
2021-09-18T00:52:27.948Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:27.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-76ff53e02e4011bd8e55fe385852ddea2a62488c-2579b791e43ccaa8-01 outer:exit 2b-76ff53e02e4011bd8e55fe385852ddea2a62488c-ea12b8d712e99cbd-01
2021-09-18T00:52:27.951Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:27.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-f80a8ff2f4f489c7af265d6097acca4b2ecdb257-be4599406fb2bfc2-01 outer:exit 2b-f80a8ff2f4f489c7af265d6097acca4b2ecdb257-e96f684cff512e74-01
2021-09-18T00:52:27.958Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:27.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-517cef0c20c6bbd0b2978c55d18240ec983a9e06-a620816790aaffad-01 outer:exit 2b-517cef0c20c6bbd0b2978c55d18240ec983a9e06-5d7551de25fece99-01
2021-09-18T00:52:27.963Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:27.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-0601b71a9d69c4908396dd9ca01d50474173af60-8fde0b96e868d51f-01 outer:exit 2b-0601b71a9d69c4908396dd9ca01d50474173af60-b807bc70c4385bd6-01
2021-09-18T00:52:27.965Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:27.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-2539d783e2b67d843efc34611d02178c6770b2ca-8e17190ecc6a4489-01 outer:exit 2b-2539d783e2b67d843efc34611d02178c6770b2ca-b5666dc49d8540a3-01
2021-09-18T00:52:27.968Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:27.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd20dfb388d19f91ce4bd17eea83239892a3a7ed-e7539fc03c5ca753-01 outer:exit 2b-dd20dfb388d19f91ce4bd17eea83239892a3a7ed-d41bc483c9bd6093-01
2021-09-18T00:52:27.977Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:27.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-da727c6129ea23c2f695918935e52f1bbe7da640-934897219e7dab64-01 outer:exit 2b-da727c6129ea23c2f695918935e52f1bbe7da640-a0ba1aeaa8c29601-01
2021-09-18T00:52:27.979Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:27.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-568f12c920b4469eb2b930ea6ad6367f74ca1f6d-d4b2f6265e07ef1c-01 outer:exit 2b-568f12c920b4469eb2b930ea6ad6367f74ca1f6d-902258c29d3bbf87-01
2021-09-18T00:52:27.981Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:27.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-88574de0967e99a130eed442bfc9b36303816a21-9f47c797269c7d03-01 outer:exit 2b-88574de0967e99a130eed442bfc9b36303816a21-e18c21fa6c84c676-01
2021-09-18T00:52:27.983Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:27.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecb29f2135346b081d6d3799ae64cdb24c366b87-16a9494c97d25bcf-01 outer:exit 2b-ecb29f2135346b081d6d3799ae64cdb24c366b87-f6f328a14c39f36f-01
2021-09-18T00:52:27.985Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:27.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-13e0ad8632502bf5defe81349c7199f809895c6d-834d8ddb1eae3843-01 outer:exit 2b-13e0ad8632502bf5defe81349c7199f809895c6d-82e2d8ba3e4fd97b-01
2021-09-18T00:52:27.986Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:27.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-475f477a0ab48f8a023f9c148f53f35664b9fe98-5995d0fab0ccc111-01 outer:exit 2b-475f477a0ab48f8a023f9c148f53f35664b9fe98-d58ad0a255ed8247-01
2021-09-18T00:52:27.994Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:28.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc7bf315c15760b3723157480f1a573c7db57e35-27ca1a4e39028d8a-01 outer:exit 2b-bc7bf315c15760b3723157480f1a573c7db57e35-40591482dbba8cc2-01
2021-09-18T00:52:28.001Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:28.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-820e76c78ae9f305e7c975253d623e50e133e33e-b9cfefed6b3c6f02-01 outer:exit 2b-820e76c78ae9f305e7c975253d623e50e133e33e-280597cd7febd3fa-01
2021-09-18T00:52:28.004Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:28.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aa5972fb1f621e54c910d4bb31d44d0f2099a93-840571022a9afee3-01 outer:exit 2b-2aa5972fb1f621e54c910d4bb31d44d0f2099a93-8dd2d1c8bebc19c7-01
2021-09-18T00:52:28.006Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:28.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-111d9aa8e46123b209aeb4909e7fb45f428a8f5a-e79229fd45d650f2-01 outer:exit 2b-111d9aa8e46123b209aeb4909e7fb45f428a8f5a-4c06e6519e53df41-01
2021-09-18T00:52:28.008Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:28.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-adc0783de609492da3db834cb45ee4690729be3d-7adcb9c70deff75e-01 outer:exit 2b-adc0783de609492da3db834cb45ee4690729be3d-d34da345ec9761a4-01
2021-09-18T00:52:28.031Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (344ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.12
updated 1 package and audited 1094 packages in 3.713s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:32.587Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:32.587Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:32.587Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:32.588Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:32.643Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:32.673Z appoptics:patching patched crypto 
2021-09-18T00:52:32.693Z appoptics:patching patched https 
2021-09-18T00:52:32.693Z appoptics:patching patched http 
2021-09-18T00:52:32.726Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:32.726Z appoptics:patching patched fs 
2021-09-18T00:52:32.750Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v12.22.6)
2021-09-18T00:52:32.755Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-09-18T00:52:32.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4c0a5b2a5683e3cfcd7f43778c78271b5499601-a8a9129e337ede85-01 outer:exit 2b-f4c0a5b2a5683e3cfcd7f43778c78271b5499601-f6ea78ffde2e8c14-01
2021-09-18T00:52:32.892Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:32.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-7afb65939f454f2610e9ca2383d593d26e5cd3b9-8d96dd29261bba43-01 outer:exit 2b-7afb65939f454f2610e9ca2383d593d26e5cd3b9-bf81b42598a3d434-01
2021-09-18T00:52:32.927Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:32.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-83cc11a14ca7e7103bdb8702615fc176fb06cc46-ca1df63f89b23966-01 outer:exit 2b-83cc11a14ca7e7103bdb8702615fc176fb06cc46-0abbb5ada04c0d99-01
2021-09-18T00:52:32.930Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:32.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3841387ba615f58534316b728ca9dfe3d2c30ad-77567a80ccabbabe-01 outer:exit 2b-d3841387ba615f58534316b728ca9dfe3d2c30ad-266ba431b23b6a0b-01
2021-09-18T00:52:32.932Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:32.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-cae3028de8c9d1903f39ee6b07060c8011cbdd09-f7a1f1a3705aa518-01 outer:exit 2b-cae3028de8c9d1903f39ee6b07060c8011cbdd09-e1c8aa8779c38bb7-01
2021-09-18T00:52:32.936Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:32.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-904d3c4af11c18537d9cc98d91d12dbb50ddc472-6c856c8813471884-01 outer:exit 2b-904d3c4af11c18537d9cc98d91d12dbb50ddc472-57f97d82463e32e8-01
2021-09-18T00:52:32.939Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:32.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebb254790f584fabc7e40c0e1bb45f87e5ade8c7-4f3b5c145c9be5b7-01 outer:exit 2b-ebb254790f584fabc7e40c0e1bb45f87e5ade8c7-3e0f780488954697-01
2021-09-18T00:52:32.941Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:32.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-76e25f24a832b2754cca674856953db23ebbdc9c-c8932c66516073e4-01 outer:exit 2b-76e25f24a832b2754cca674856953db23ebbdc9c-4259876d74157165-01
2021-09-18T00:52:32.943Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:32.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-b97d56fef55ff61ed3fa867d8362d08fc2daa610-5ef3fac1d411e310-01 outer:exit 2b-b97d56fef55ff61ed3fa867d8362d08fc2daa610-355b5a8eba901e8b-01
2021-09-18T00:52:32.945Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:32.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f36e6db6e62a2dcf932cca5ae0464e52feecae3-246562cbb91b8221-01 outer:exit 2b-7f36e6db6e62a2dcf932cca5ae0464e52feecae3-6904d625c48c09d1-01
2021-09-18T00:52:32.948Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:32.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-869f554ecba767ef50f8e02a2aade6d41d7e57be-d3dd2df9741cbc3a-01 outer:exit 2b-869f554ecba767ef50f8e02a2aade6d41d7e57be-aaedbee500b116c1-01
2021-09-18T00:52:32.951Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:32.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e7921eb72eadd9719e0b5000818b6a51b76d14c-61d1e1ee2b16bd4a-01 outer:exit 2b-7e7921eb72eadd9719e0b5000818b6a51b76d14c-071f958077999bc9-01
2021-09-18T00:52:32.957Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:32.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-088bd7f8b4c8d8a0dbd1346feea0de152842a94a-9fe020dd0cba45f9-01 outer:exit 2b-088bd7f8b4c8d8a0dbd1346feea0de152842a94a-8f566379ffc5f22f-01
2021-09-18T00:52:32.982Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:33.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb0df76c48d511c638719ee4a0f27f7828b58090-0ab5e4c6725166f8-01 outer:exit 2b-fb0df76c48d511c638719ee4a0f27f7828b58090-5b6bff46c8ceadaa-01
2021-09-18T00:52:33.028Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:33.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e257c9185f3351e18f312a890c8a216f8c43bc5-c3fce2c8a3098efc-01 outer:exit 2b-5e257c9185f3351e18f312a890c8a216f8c43bc5-01d61974a11f8899-01
2021-09-18T00:52:33.037Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:33.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-88d9fa4dadbec2517eb0cf2e791b5c05ac9732bb-633e4f90f356d33b-01 outer:exit 2b-88d9fa4dadbec2517eb0cf2e791b5c05ac9732bb-c06e6ce95a04b591-01
2021-09-18T00:52:33.039Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:33.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bcc87509dfb3b42477433b469975b606dd6937b-fc1f60079a5b5598-01 outer:exit 2b-9bcc87509dfb3b42477433b469975b606dd6937b-c22acd04dba25b63-01
2021-09-18T00:52:33.042Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:33.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-a961c3b9a37dd17ab8f7db44de666f2890f6999d-7e8d49fd612f5d6c-01 outer:exit 2b-a961c3b9a37dd17ab8f7db44de666f2890f6999d-c54435df8ca519cf-01
2021-09-18T00:52:33.044Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:33.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0e5d94994adfd911fc1a6d50bf12a0a680572a9-9cb9ee9b09be0442-01 outer:exit 2b-a0e5d94994adfd911fc1a6d50bf12a0a680572a9-47f80db5ee75517e-01
2021-09-18T00:52:33.071Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:33.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-85d72d04d832b07f297c66d36fcd22aa2bfcd8da-cf411365cf670715-01 outer:exit 2b-85d72d04d832b07f297c66d36fcd22aa2bfcd8da-8a761ab49539b903-01
2021-09-18T00:52:33.074Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:33.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-1273a5ed038bc9a549db0478e49c8ae1cff2d476-1938ea8a86de59db-01 outer:exit 2b-1273a5ed038bc9a549db0478e49c8ae1cff2d476-eb860f4a2f6ad544-01
2021-09-18T00:52:33.075Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:33.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a9e461346983ded2a1720948a8edefb4066c9ff-9d1102301c17cd76-01 outer:exit 2b-3a9e461346983ded2a1720948a8edefb4066c9ff-d670a4d0e8dd9afc-01
2021-09-18T00:52:33.077Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:33.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1d9afeef080e2a9fa9855566b1ea6e7e8374c28-a97e5f0a050085a0-01 outer:exit 2b-e1d9afeef080e2a9fa9855566b1ea6e7e8374c28-01f64d0784aa6100-01
2021-09-18T00:52:33.080Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:33.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f58c1e59606fb3de7e188cf764e86048e9b3111-9e73fe98c69c4423-01 outer:exit 2b-9f58c1e59606fb3de7e188cf764e86048e9b3111-9a622a4525a1245f-01
2021-09-18T00:52:33.082Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:33.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-58e37f82d3ca0962393c3b8e956fb40a3bf1be19-4314428ed85f254d-01 outer:exit 2b-58e37f82d3ca0962393c3b8e956fb40a3bf1be19-c36b3058069f0781-01
2021-09-18T00:52:33.084Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:33.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-69343b714d2b267eeaa5838ff8dbc3ee49748c31-73afc138e86891ea-01 outer:exit 2b-69343b714d2b267eeaa5838ff8dbc3ee49748c31-72e5efea46a4b317-01
2021-09-18T00:52:33.087Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:33.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-edb6dc76e8f24b9e374d67b5f46dfa381d38f26c-380679f0f6d40073-01 outer:exit 2b-edb6dc76e8f24b9e374d67b5f46dfa381d38f26c-10b46d7c553ff1e8-01
2021-09-18T00:52:33.092Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:33.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-23861a4b20aadb5c9fdfc4af3bbfc6ef1d7ef06c-54d82caae02e66a9-01 outer:exit 2b-23861a4b20aadb5c9fdfc4af3bbfc6ef1d7ef06c-b3602e2c9e12699b-01
2021-09-18T00:52:33.096Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:33.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-9100bdd54d187ce9c64c26cf4b8efe31c934a518-713c4d8d63dff2c0-01 outer:exit 2b-9100bdd54d187ce9c64c26cf4b8efe31c934a518-fc064d0e0ecbb038-01
2021-09-18T00:52:33.103Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:33.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c7426836f5ac70c216c4fa1eee8e77944e42327-ccad0c5459cfaf53-01 outer:exit 2b-7c7426836f5ac70c216c4fa1eee8e77944e42327-e9dd6c35a66bc339-01
2021-09-18T00:52:33.108Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:33.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-0299371ccc0c4ac9d7e687c9986ef45c07dc8289-bb9eb92a3530a82d-01 outer:exit 2b-0299371ccc0c4ac9d7e687c9986ef45c07dc8289-f64b3a580f0abdad-01
2021-09-18T00:52:33.110Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:33.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-851c00bb6fe952b895e74926c88a3b9ed34a0360-ab98e6ae2cd8013e-01 outer:exit 2b-851c00bb6fe952b895e74926c88a3b9ed34a0360-6efed30631df0c7b-01
2021-09-18T00:52:33.112Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:33.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a0ea38ccb6618e906e4500fccc6af23eb71f17c-c7c06a263b2c0a9b-01 outer:exit 2b-2a0ea38ccb6618e906e4500fccc6af23eb71f17c-47c3289e838c531c-01
2021-09-18T00:52:33.119Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:33.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc1c8324b57394c751c4f5bdb69de5b5c9724442-553744a024b522a3-01 outer:exit 2b-bc1c8324b57394c751c4f5bdb69de5b5c9724442-3028fc7546ba4d82-01
2021-09-18T00:52:33.121Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:33.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c632f438bab7fb69942b003e5ccf090e90aaae8-0a654349425cb880-01 outer:exit 2b-8c632f438bab7fb69942b003e5ccf090e90aaae8-f5ab0926c336c818-01
2021-09-18T00:52:33.122Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:33.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b8db8a976d3ac28d6de1004f9e8c33f67d4ac50-df093d9cceb06bdf-01 outer:exit 2b-4b8db8a976d3ac28d6de1004f9e8c33f67d4ac50-34d8697a2e1257ba-01
2021-09-18T00:52:33.124Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:33.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-faadd31177dbede6024622e192a69dfd18fd7bd7-6d32a6ac8ab52815-01 outer:exit 2b-faadd31177dbede6024622e192a69dfd18fd7bd7-10507ce3b09ffa69-01
2021-09-18T00:52:33.126Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:33.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd169f2a098256bfbd7eb76270fe7091305d00d5-7a2c2ac59cf59d01-01 outer:exit 2b-bd169f2a098256bfbd7eb76270fe7091305d00d5-ee22b687f0993f64-01
2021-09-18T00:52:33.128Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:33.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-27a3b600eec5a461caf5b3c1bd433d07842c2bd3-44647dec9afd3cb5-01 outer:exit 2b-27a3b600eec5a461caf5b3c1bd433d07842c2bd3-06705426236f2713-01
2021-09-18T00:52:33.134Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:33.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-4942d29082b8c1b92540a69d562854948ca266a1-15948784023a6a15-01 outer:exit 2b-4942d29082b8c1b92540a69d562854948ca266a1-d3f4e854eec33002-01
2021-09-18T00:52:33.141Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:33.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0a367405a7d613816e1562393275564235b6567-79cbb902059f93ab-01 outer:exit 2b-e0a367405a7d613816e1562393275564235b6567-7bcf2c04260605aa-01
2021-09-18T00:52:33.144Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:33.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1d37a00d01f551ee0eda65de31c6376f67eccd0-13057c11fc1a315c-01 outer:exit 2b-a1d37a00d01f551ee0eda65de31c6376f67eccd0-506feb206f8c776f-01
2021-09-18T00:52:33.146Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:33.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f394c40005ddcdb2ca07526df3faa440723669-f5c26b73398f1b29-01 outer:exit 2b-f7f394c40005ddcdb2ca07526df3faa440723669-18c671d8951d8e03-01
2021-09-18T00:52:33.148Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:33.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd8fd128dc5fcefaa98fb4ef28889f22b75cc929-2143c2b1f80da00b-01 outer:exit 2b-fd8fd128dc5fcefaa98fb4ef28889f22b75cc929-f68e2370ba8e5f95-01
2021-09-18T00:52:33.172Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (310ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.13
updated 1 package and audited 1094 packages in 4.812s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:38.832Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:38.833Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:38.833Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:38.833Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:38.889Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:38.917Z appoptics:patching patched crypto 
2021-09-18T00:52:38.933Z appoptics:patching patched https 
2021-09-18T00:52:38.940Z appoptics:patching patched http 
2021-09-18T00:52:38.973Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:38.973Z appoptics:patching patched fs 
2021-09-18T00:52:38.996Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v12.22.6)
2021-09-18T00:52:39.002Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-09-18T00:52:39.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-e659f636d826cf66118b6890f649e1fda158f939-d7731659d86a93c8-01 outer:exit 2b-e659f636d826cf66118b6890f649e1fda158f939-a8444aba42fc6ba6-01
2021-09-18T00:52:39.142Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:39.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-c215cc59346536e68243e7dd3721c9c05de5d25e-f5c95a9e7ba02d53-01 outer:exit 2b-c215cc59346536e68243e7dd3721c9c05de5d25e-1c5fa0c8a231496c-01
2021-09-18T00:52:39.198Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:39.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-694193d40bea8a5db65f7094a77d9e9f0af5f9e2-720716d97372fab6-01 outer:exit 2b-694193d40bea8a5db65f7094a77d9e9f0af5f9e2-14fe9dcb3b923107-01
2021-09-18T00:52:39.201Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:39.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec5ffc13ec76c5703befb3fd935c2f289dfb8418-aa5a7722f666c439-01 outer:exit 2b-ec5ffc13ec76c5703befb3fd935c2f289dfb8418-ba55cfeca1a0a54d-01
2021-09-18T00:52:39.203Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:39.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-809cbd4b54fcec48cd6b108fddf496b9c5517ce9-bc1179fe26137671-01 outer:exit 2b-809cbd4b54fcec48cd6b108fddf496b9c5517ce9-70d1ad2ea215559a-01
2021-09-18T00:52:39.207Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:39.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-457ff6e2da97c3e7d74eec6bf92356429af793ee-93dd3e3f986d29e6-01 outer:exit 2b-457ff6e2da97c3e7d74eec6bf92356429af793ee-b3324cc8d5b37da9-01
2021-09-18T00:52:39.210Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:39.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9d3cf49ed8059dac726a3316d84e300e6dbbb7e-df905a8e7985b1cd-01 outer:exit 2b-e9d3cf49ed8059dac726a3316d84e300e6dbbb7e-095f8cc169b86c28-01
2021-09-18T00:52:39.213Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:39.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-906f78127570e19d4227b811c083a0680ee61d85-ca91b5c85474fe5c-01 outer:exit 2b-906f78127570e19d4227b811c083a0680ee61d85-79c81e6fcdf3ec25-01
2021-09-18T00:52:39.215Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:39.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5f76f122951f64fccc9cb0ab84a9b8fee7fbf5c-bbc9a8aac5df7c50-01 outer:exit 2b-d5f76f122951f64fccc9cb0ab84a9b8fee7fbf5c-770456cef0962d9f-01
2021-09-18T00:52:39.217Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:39.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab1727e276a5b4ca0280cfe62068abf52265265f-c2e07e37b223e2e6-01 outer:exit 2b-ab1727e276a5b4ca0280cfe62068abf52265265f-94d6db80214fd918-01
2021-09-18T00:52:39.219Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:39.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-743f6b9ec714dedccc95243b1153aec36739fdad-b5858f4b88dc9e8b-01 outer:exit 2b-743f6b9ec714dedccc95243b1153aec36739fdad-fe0beba852edc493-01
2021-09-18T00:52:39.222Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:39.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-99fed51844843f4416fab93ef9df4e498c17c846-3cd4d15fec8ef66c-01 outer:exit 2b-99fed51844843f4416fab93ef9df4e498c17c846-215e7f18ce75548d-01
2021-09-18T00:52:39.228Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:39.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dbb778e2e7825bdc5b67dfd4fd598b32ee0b06e-d77f5d5f82282241-01 outer:exit 2b-6dbb778e2e7825bdc5b67dfd4fd598b32ee0b06e-58c4177368d5ba94-01
2021-09-18T00:52:39.241Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:39.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d019e3b24a9b6d0f3e06cf1547a79f86bdbdc40-0265bdf3c54b7799-01 outer:exit 2b-2d019e3b24a9b6d0f3e06cf1547a79f86bdbdc40-147527ae63826003-01
2021-09-18T00:52:39.277Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:39.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a4824ec0c122894437f38f362205f8372409f2-f6806f8282a95d0b-01 outer:exit 2b-c0a4824ec0c122894437f38f362205f8372409f2-66a77ab24f6596a2-01
2021-09-18T00:52:39.279Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:39.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-145bfa5dad82a102e625bbe351a2b89fa341c659-e22a5b4faa8536c6-01 outer:exit 2b-145bfa5dad82a102e625bbe351a2b89fa341c659-4bb111b34d1cc9f3-01
2021-09-18T00:52:39.281Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:39.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-cffef90d60c75421125440b38403d79f9bf727d2-977f20bdb0497592-01 outer:exit 2b-cffef90d60c75421125440b38403d79f9bf727d2-7e198252f7f77c80-01
2021-09-18T00:52:39.284Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:39.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7fa24c60e84cdfd65e66345967bf6dedee64ce6-ae8dac305bb48494-01 outer:exit 2b-c7fa24c60e84cdfd65e66345967bf6dedee64ce6-073965e79e628817-01
2021-09-18T00:52:39.296Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:39.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-687b749a7ece1143fa485aca9dd4687c7ae4044d-0513b9e64208bb8e-01 outer:exit 2b-687b749a7ece1143fa485aca9dd4687c7ae4044d-6d7d632cb7147490-01
2021-09-18T00:52:39.301Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:39.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-084465a045880b31ba811dbd413976158d192272-7e6742f409d824d3-01 outer:exit 2b-084465a045880b31ba811dbd413976158d192272-0b17d5f49fedb921-01
2021-09-18T00:52:39.304Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:39.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-039ac0f904fe03ff3c351278279be4cb64e4b6a5-76db4a4eeb91c368-01 outer:exit 2b-039ac0f904fe03ff3c351278279be4cb64e4b6a5-113479b09b40cc63-01
2021-09-18T00:52:39.309Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:39.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d9a0f6bb671cabe41301cd18d46eaaf88eafad4-1bdd748dbfecce34-01 outer:exit 2b-4d9a0f6bb671cabe41301cd18d46eaaf88eafad4-ee1dbdc25d084a4d-01
2021-09-18T00:52:39.310Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:39.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-954cf04661dbc88b7b7275bca387382bd5dde5c7-2c8647d418caec81-01 outer:exit 2b-954cf04661dbc88b7b7275bca387382bd5dde5c7-63fa058e61098922-01
2021-09-18T00:52:39.313Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:39.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-9888bb6b35d8148e2fc6d65bc72e82d233efd955-7f1489ac774ea28d-01 outer:exit 2b-9888bb6b35d8148e2fc6d65bc72e82d233efd955-b9b90509f4130971-01
2021-09-18T00:52:39.315Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:39.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cc96ffe35d55a30a8f29b8c9b488895028e3154-76653eb932e95f56-01 outer:exit 2b-9cc96ffe35d55a30a8f29b8c9b488895028e3154-672bdfc63335cb51-01
2021-09-18T00:52:39.318Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:39.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-938384cec4193c49ea572e8d8aa523d8f4133129-5ea638a09b115273-01 outer:exit 2b-938384cec4193c49ea572e8d8aa523d8f4133129-350936addfb27975-01
2021-09-18T00:52:39.320Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:39.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-f89528e9b13ae5ca4c57f5ccae2a59f6e7bb9c13-fa9a2dd4c084512f-01 outer:exit 2b-f89528e9b13ae5ca4c57f5ccae2a59f6e7bb9c13-f8678b630afbee1b-01
2021-09-18T00:52:39.326Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:39.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-27d1bda00bbf9630515da77757d313f980abef13-fc225c955814f7c8-01 outer:exit 2b-27d1bda00bbf9630515da77757d313f980abef13-1eea7b803c35dc67-01
2021-09-18T00:52:39.329Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:39.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ee0031d2703acb1b16388ea0b67b37f9a34086f-18cc788366b8c7c6-01 outer:exit 2b-3ee0031d2703acb1b16388ea0b67b37f9a34086f-e2310a13fd26a2fd-01
2021-09-18T00:52:39.336Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:39.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-4569e498d3b8c339cdef2f6b0beede8346d19de2-336e4e7d32c3a39a-01 outer:exit 2b-4569e498d3b8c339cdef2f6b0beede8346d19de2-db8a1aa05d9b991d-01
2021-09-18T00:52:39.344Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:39.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-11e930f49548a11ab76b61bf1830652c64208c3a-4cf616c5c36037f1-01 outer:exit 2b-11e930f49548a11ab76b61bf1830652c64208c3a-f0ed26436d9dddc2-01
2021-09-18T00:52:39.346Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:39.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-195285b5d7c8f0299438169a8ec1fcdbde8bd44b-1a1741c5eb54e489-01 outer:exit 2b-195285b5d7c8f0299438169a8ec1fcdbde8bd44b-bd234802b678e54c-01
2021-09-18T00:52:39.349Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:39.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-b53015e5c5a9706bd004025a635deec26ffb8a98-d58fac641bd89d81-01 outer:exit 2b-b53015e5c5a9706bd004025a635deec26ffb8a98-1d87af4acc30bcce-01
2021-09-18T00:52:39.357Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:39.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f40e41bcb9b04e9ba507299ae2cadbbc23f322b-503da7292eb493cf-01 outer:exit 2b-7f40e41bcb9b04e9ba507299ae2cadbbc23f322b-cb05f9234b0b6818-01
2021-09-18T00:52:39.359Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:39.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-23ba656544df143e16e7870546e3acd660f7901d-37a9274115073b27-01 outer:exit 2b-23ba656544df143e16e7870546e3acd660f7901d-f63eb0ed63248523-01
2021-09-18T00:52:39.361Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:39.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-60dcfdc150c77a7b09bceeedb307b9c3d45b6985-387046b5b6c4365c-01 outer:exit 2b-60dcfdc150c77a7b09bceeedb307b9c3d45b6985-137a97babfdfc19f-01
2021-09-18T00:52:39.362Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:39.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-8de741638eb2f93d6745246178128555e87f198a-0fab27fe907f17e8-01 outer:exit 2b-8de741638eb2f93d6745246178128555e87f198a-9b9e736b5a0b672b-01
2021-09-18T00:52:39.365Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:39.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-96796602efc6bbe7583ac4341ef7d473c588f171-f3cf20bed8973505-01 outer:exit 2b-96796602efc6bbe7583ac4341ef7d473c588f171-4c22c426ec16b68d-01
2021-09-18T00:52:39.367Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:39.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-654a5124a4499a011dd7fd6cf81db2029ce753b9-45c60fdf8fbf0b03-01 outer:exit 2b-654a5124a4499a011dd7fd6cf81db2029ce753b9-6c84883488fb3180-01
2021-09-18T00:52:39.380Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:39.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-7de95cff2ac96c6055dd2fc62d1f5ef2161ed725-1422dfbf7d5cc215-01 outer:exit 2b-7de95cff2ac96c6055dd2fc62d1f5ef2161ed725-ed41752b22f58564-01
2021-09-18T00:52:39.388Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:39.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6c55a88734af6a620105f8d863c3b5b22076961-3d44636d125fe3b3-01 outer:exit 2b-f6c55a88734af6a620105f8d863c3b5b22076961-d4d3d39ffb86daed-01
2021-09-18T00:52:39.391Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:39.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-a49b5fc482a36993e8442dbcbf732853d7db69e3-2581822f4d8786f3-01 outer:exit 2b-a49b5fc482a36993e8442dbcbf732853d7db69e3-49f6ec1238389d0d-01
2021-09-18T00:52:39.393Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:39.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-38b8d2b42ffbfe48c87e357c651d31421f829ddf-c41880fbc58f7908-01 outer:exit 2b-38b8d2b42ffbfe48c87e357c651d31421f829ddf-f6b277ace178944d-01
2021-09-18T00:52:39.396Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:39.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-92e90d376baf170420a48f34789f4521de733f22-d6d0400a4475764f-01 outer:exit 2b-92e90d376baf170420a48f34789f4521de733f22-2a1ffcc2ec7af071-01
2021-09-18T00:52:39.420Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (313ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.14
updated 1 package and audited 1094 packages in 3.678s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:44.024Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:44.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:44.024Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:44.025Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:44.082Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:44.112Z appoptics:patching patched crypto 
2021-09-18T00:52:44.133Z appoptics:patching patched https 
2021-09-18T00:52:44.134Z appoptics:patching patched http 
2021-09-18T00:52:44.166Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:44.167Z appoptics:patching patched fs 
2021-09-18T00:52:44.191Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v12.22.6)
2021-09-18T00:52:44.196Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-09-18T00:52:44.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-e503aa5dc84b9b794df90250ff10b50b0f808419-4d9913035afbd298-01 outer:exit 2b-e503aa5dc84b9b794df90250ff10b50b0f808419-2f1fb0759163f7ce-01
2021-09-18T00:52:44.334Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:44.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e879cd93a86f26d4d7b945922a58590de44237a-aead8ac3d222437f-01 outer:exit 2b-7e879cd93a86f26d4d7b945922a58590de44237a-dce496fbc6b7a74b-01
2021-09-18T00:52:44.380Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:44.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-03455141be268370ada5ca2be2ca8394e51bf9c2-69a135dca55837d1-01 outer:exit 2b-03455141be268370ada5ca2be2ca8394e51bf9c2-a1d0f7f69d1afd63-01
2021-09-18T00:52:44.383Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:44.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-6432576f7090da91d9e3632af547d980ea74260a-3bd3fc16edeefedb-01 outer:exit 2b-6432576f7090da91d9e3632af547d980ea74260a-3b70369a9bd8250a-01
2021-09-18T00:52:44.386Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:44.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eeab84271f356ed8b14aa845bba9d9e2fa6f5de-b23ca24f8336575b-01 outer:exit 2b-6eeab84271f356ed8b14aa845bba9d9e2fa6f5de-707294677a4ed1bb-01
2021-09-18T00:52:44.390Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:44.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab08404fca94be807b7fe536b5ad41eb9a569e2e-bb83cc3400814fd6-01 outer:exit 2b-ab08404fca94be807b7fe536b5ad41eb9a569e2e-854d5ad0f8cd8962-01
2021-09-18T00:52:44.392Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:44.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bcce27c17aaddd4a6e0ccc755cf8ebd498c95db-93b126abbd04078c-01 outer:exit 2b-7bcce27c17aaddd4a6e0ccc755cf8ebd498c95db-5b450380efbfe8d2-01
2021-09-18T00:52:44.395Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:44.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-a18e524d85bf8752d87a6193cd8bc982fbd37d10-7fa1d7c0878f31ae-01 outer:exit 2b-a18e524d85bf8752d87a6193cd8bc982fbd37d10-1a701e427b348779-01
2021-09-18T00:52:44.397Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:44.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca0e8b2162238332eaf55afdad798f0c626e28e1-d96689f6658553dd-01 outer:exit 2b-ca0e8b2162238332eaf55afdad798f0c626e28e1-b10e478c835d4401-01
2021-09-18T00:52:44.399Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:44.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-c84b0a16cf1d12b75179499e7977cebcab16d35d-0fcab9ed4720c220-01 outer:exit 2b-c84b0a16cf1d12b75179499e7977cebcab16d35d-d3079831d22c0142-01
2021-09-18T00:52:44.401Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:44.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e6259d00588ccdecb9f2bf91dd96894337e027d-e1118e64b04e4f6c-01 outer:exit 2b-9e6259d00588ccdecb9f2bf91dd96894337e027d-77c59b02fd4d44fe-01
2021-09-18T00:52:44.404Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:44.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-442ff35b0fd1985251a5b6274e5553cde143cd52-4fcf3422f74e6be3-01 outer:exit 2b-442ff35b0fd1985251a5b6274e5553cde143cd52-f2c320f062b340a5-01
2021-09-18T00:52:44.410Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:44.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-5468faece0bf4556034d84f7551004a06a0b890f-57f1caad012a05e9-01 outer:exit 2b-5468faece0bf4556034d84f7551004a06a0b890f-7f31003b81e407bc-01
2021-09-18T00:52:44.422Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:44.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b617d69f3e3e3946a86f7a9f10f4362c0471f1a-300aa8b086470b23-01 outer:exit 2b-6b617d69f3e3e3946a86f7a9f10f4362c0471f1a-184b6f56cd802624-01
2021-09-18T00:52:44.493Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:44.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c305c0a682c5aae47efc2825ed397d02315521c-90ac7d0848f86ffb-01 outer:exit 2b-3c305c0a682c5aae47efc2825ed397d02315521c-39a37a10a61d316d-01
2021-09-18T00:52:44.496Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:44.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d9f9d213281f436282c209e0a9ecf4fc05060e-dfe82e44ef4e1f22-01 outer:exit 2b-e8d9f9d213281f436282c209e0a9ecf4fc05060e-67b30fef11eea70f-01
2021-09-18T00:52:44.498Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:44.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-548d745ea5c5bbaa819a8e205998b132c57972c6-1856580a0e2ffff5-01 outer:exit 2b-548d745ea5c5bbaa819a8e205998b132c57972c6-1cae544387ea14bd-01
2021-09-18T00:52:44.501Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:44.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfd5ac058fd04824bcaa5142be6cb0af3c220d65-2a5f025951bd496f-01 outer:exit 2b-dfd5ac058fd04824bcaa5142be6cb0af3c220d65-e0f5929c4ba66114-01
2021-09-18T00:52:44.503Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:44.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-36a610e513557b0031e1e40e2821387820b21573-cb38a1255da8f66e-01 outer:exit 2b-36a610e513557b0031e1e40e2821387820b21573-90120b46b94e4937-01
2021-09-18T00:52:44.535Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:44.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fc827cdb003c029519adf5afdf70066d799ac42-37835879e3bf8cfa-01 outer:exit 2b-9fc827cdb003c029519adf5afdf70066d799ac42-8f57cfbe95de9f2e-01
2021-09-18T00:52:44.537Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:44.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e4b5d881a3d1d3636f8b18175e4286625bed16b-abf0cb4f8ca38616-01 outer:exit 2b-1e4b5d881a3d1d3636f8b18175e4286625bed16b-d0c57321a0b75177-01
2021-09-18T00:52:44.547Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:44.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-40addbbc46f52919c96718b1702cbeb13b0dd443-09778c12a94e1979-01 outer:exit 2b-40addbbc46f52919c96718b1702cbeb13b0dd443-a18b6aaad3fb1d09-01
2021-09-18T00:52:44.550Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:44.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-3896e36de6376687b623458913a8c7483095e571-304024620a5600f3-01 outer:exit 2b-3896e36de6376687b623458913a8c7483095e571-40e7632d73f6dd87-01
2021-09-18T00:52:44.553Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:44.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef30c924572be0f821256956393ecef9b0aac54c-92556f29149db5e5-01 outer:exit 2b-ef30c924572be0f821256956393ecef9b0aac54c-34d286e4cdd312d8-01
2021-09-18T00:52:44.556Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:44.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-33cc5fcf94c672ff651ccc7c61d245902b40e216-b82f9b3598539752-01 outer:exit 2b-33cc5fcf94c672ff651ccc7c61d245902b40e216-f64789ea6bd779a4-01
2021-09-18T00:52:44.559Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:44.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-86e4ca4dbe01fc0d09bd746462e15247b177d158-e0c43bc2852094bc-01 outer:exit 2b-86e4ca4dbe01fc0d09bd746462e15247b177d158-8924886a7e60d8db-01
2021-09-18T00:52:44.562Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:44.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-6567335667d5ba883a2f3a6245896df1a676d359-2c69319c252f0fc6-01 outer:exit 2b-6567335667d5ba883a2f3a6245896df1a676d359-acc51b4d922c6287-01
2021-09-18T00:52:44.568Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:44.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-605cd6e81a8285841832fcc6babccbc9dee9e3ac-8b0ccfe04736c4b6-01 outer:exit 2b-605cd6e81a8285841832fcc6babccbc9dee9e3ac-5d14dde48da9aa1e-01
2021-09-18T00:52:44.571Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:44.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-67f1f622a8edf8e80bc242dab99ff2c3bc120b06-7fb97d80958b0314-01 outer:exit 2b-67f1f622a8edf8e80bc242dab99ff2c3bc120b06-f52ddad5ea710177-01
2021-09-18T00:52:44.579Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:44.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-7508e791e481afc59f794df19dec5509bd0c3251-c6f2d47f6ef0a53e-01 outer:exit 2b-7508e791e481afc59f794df19dec5509bd0c3251-5e3d77cf5f3bbb1c-01
2021-09-18T00:52:44.584Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:44.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d786bed48c106b57884a9e638b9c2c1c6510cfd-d2366e8c1a5c252b-01 outer:exit 2b-3d786bed48c106b57884a9e638b9c2c1c6510cfd-7203ce205a42ac28-01
2021-09-18T00:52:44.586Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:44.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-06245493c28295feb681343e72f4daaf3a48e026-5f4e44033dd46092-01 outer:exit 2b-06245493c28295feb681343e72f4daaf3a48e026-3689b397917690a5-01
2021-09-18T00:52:44.588Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:44.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4ebbbb0cf57576898750189785fe21dad8a3573-e4e11e5b0839264c-01 outer:exit 2b-a4ebbbb0cf57576898750189785fe21dad8a3573-f22a17804cdc911c-01
2021-09-18T00:52:44.593Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:44.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-c911c93b1010b1842d20eed4ad536423ae07c157-768d54139fdc567b-01 outer:exit 2b-c911c93b1010b1842d20eed4ad536423ae07c157-93ef33f574e4bf89-01
2021-09-18T00:52:44.595Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:44.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-11b8f13c54ecae85f607f97cd58be3c579fab3ee-306152ce421563f1-01 outer:exit 2b-11b8f13c54ecae85f607f97cd58be3c579fab3ee-f2a1f333ad92700c-01
2021-09-18T00:52:44.597Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:44.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-bad8527b80a7b4c3e0025d6951ea31eba750ad5d-738e8cc5aafd8d06-01 outer:exit 2b-bad8527b80a7b4c3e0025d6951ea31eba750ad5d-c58ad286141622d8-01
2021-09-18T00:52:44.599Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:44.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-21ba5957466d399d2f43c3823a6aa36f041a2307-81b3e1dba34ef94b-01 outer:exit 2b-21ba5957466d399d2f43c3823a6aa36f041a2307-febc470a540da20a-01
2021-09-18T00:52:44.600Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:44.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-a13d852f7489d9974f1f98b05e7099e3de740bdc-7a1641843fbc5b3e-01 outer:exit 2b-a13d852f7489d9974f1f98b05e7099e3de740bdc-f040e1f6dc5a5dea-01
2021-09-18T00:52:44.602Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:44.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-67a9d9a9c4e3f4f0fa57c266716c12db45b5685d-7287816c215ad968-01 outer:exit 2b-67a9d9a9c4e3f4f0fa57c266716c12db45b5685d-5a5488d2c1562b8e-01
2021-09-18T00:52:44.610Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:44.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ec825f68438468b32f5a11db8e477e39f5f25e2-b4bee2fbb0270c65-01 outer:exit 2b-3ec825f68438468b32f5a11db8e477e39f5f25e2-fbc9b3d484a6bfb6-01
2021-09-18T00:52:44.617Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:44.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-07bc97cc8f1f93ee75eab521de348431c31f6792-e425c237022dd9a2-01 outer:exit 2b-07bc97cc8f1f93ee75eab521de348431c31f6792-4e679695ebf3bad9-01
2021-09-18T00:52:44.619Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:44.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-74b41e609c934f3054a8676b79cc201590cb1b91-fabaf5f1021eb6bc-01 outer:exit 2b-74b41e609c934f3054a8676b79cc201590cb1b91-d0e0668c18935ebc-01
2021-09-18T00:52:44.622Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:44.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-6711a4c7a62855cacd21646fccad982f74ce6523-086770ee842617b3-01 outer:exit 2b-6711a4c7a62855cacd21646fccad982f74ce6523-f4804ca9f18aa9c8-01
2021-09-18T00:52:44.624Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:44.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-4328ecf9dd2afcb16b99f4de7f4e23fc6c0c9d93-f656c4ec5418857c-01 outer:exit 2b-4328ecf9dd2afcb16b99f4de7f4e23fc6c0c9d93-b1d62a975fe918ac-01
2021-09-18T00:52:44.647Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (344ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.15
updated 1 package and audited 1094 packages in 4.517s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:50.099Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:50.100Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:50.100Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:50.100Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:50.156Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:50.188Z appoptics:patching patched crypto 
2021-09-18T00:52:50.207Z appoptics:patching patched https 
2021-09-18T00:52:50.208Z appoptics:patching patched http 
2021-09-18T00:52:50.241Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:50.241Z appoptics:patching patched fs 
2021-09-18T00:52:50.265Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v12.22.6)
2021-09-18T00:52:50.271Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-09-18T00:52:50.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cd83e4cf91acabb3e281537269b36c046768199-4615adeefcf712ae-01 outer:exit 2b-7cd83e4cf91acabb3e281537269b36c046768199-57e8d30148356f41-01
2021-09-18T00:52:50.405Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:50.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e314bac93ea7a7f45d4fc3aac72c73e51d42f78-af37ffdb4918138d-01 outer:exit 2b-6e314bac93ea7a7f45d4fc3aac72c73e51d42f78-6b8f37326ae595c4-01
2021-09-18T00:52:50.431Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:50.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-7061c230ddc8a880920fa556ace6fe54df3fb5af-2ac610eb579059f7-01 outer:exit 2b-7061c230ddc8a880920fa556ace6fe54df3fb5af-6983d77ededb4c39-01
2021-09-18T00:52:50.434Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:50.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eeaa5b41dbc6d7dd2ece37d534cfd937d5dd756-c22fa2449d491ea7-01 outer:exit 2b-5eeaa5b41dbc6d7dd2ece37d534cfd937d5dd756-213b5be2dc467efb-01
2021-09-18T00:52:50.436Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:50.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-25d0a258e26db709c8e74c2c61bcd70ee79b2c48-b68bed2667ace3f7-01 outer:exit 2b-25d0a258e26db709c8e74c2c61bcd70ee79b2c48-b92b224579928c7a-01
2021-09-18T00:52:50.440Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:50.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e73e85100bd71fe4dd7518242ed6750db57b3aa-1b639aeb6f5b0f00-01 outer:exit 2b-1e73e85100bd71fe4dd7518242ed6750db57b3aa-5b7cf59d61815b57-01
2021-09-18T00:52:50.443Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:50.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dfd4c5c028fa8f81676e27cc1350be344179219-fd291b6d55553957-01 outer:exit 2b-4dfd4c5c028fa8f81676e27cc1350be344179219-c72dcc31ec910171-01
2021-09-18T00:52:50.445Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:50.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-15483b08ab9fcda5cb74899c0290e5aac23737d7-542858301d7689ea-01 outer:exit 2b-15483b08ab9fcda5cb74899c0290e5aac23737d7-3e7fa4cb6394737d-01
2021-09-18T00:52:50.447Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:50.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-d18da667761935a8d1c7b0a39d245796d574b471-656a1ddc674ecb03-01 outer:exit 2b-d18da667761935a8d1c7b0a39d245796d574b471-ace61cb996a420d2-01
2021-09-18T00:52:50.449Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:50.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-0273b7b69aaeb0e2a283a220eebc6ff528f875c8-ec12e1400e8de9eb-01 outer:exit 2b-0273b7b69aaeb0e2a283a220eebc6ff528f875c8-83624ffac044a11c-01
2021-09-18T00:52:50.451Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:50.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b21df48ec07315415fa7c1ab7995ec4780c7181-c3559db82e93c822-01 outer:exit 2b-9b21df48ec07315415fa7c1ab7995ec4780c7181-d2f2685432059fea-01
2021-09-18T00:52:50.455Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:50.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-d652441abe17e8d0d8c77b0be609068316fd352d-ac832d87edbb0302-01 outer:exit 2b-d652441abe17e8d0d8c77b0be609068316fd352d-7d14f4a2fd997b62-01
2021-09-18T00:52:50.460Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:50.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d7449acd3adf5dba4a098f1a60f16cd6f22f67f-17add50954837c20-01 outer:exit 2b-5d7449acd3adf5dba4a098f1a60f16cd6f22f67f-b5712751d3fc8144-01
2021-09-18T00:52:50.473Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:50.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-96978c99f702c8b1ce0d7e37f2478e2319d7e5cb-1d4cb9ad73d5dc8a-01 outer:exit 2b-96978c99f702c8b1ce0d7e37f2478e2319d7e5cb-307ce40d6c50effe-01
2021-09-18T00:52:50.531Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:50.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-97b4c9a635a9398c0727e9a0df2fd2725668ffcd-60d183e906ae126c-01 outer:exit 2b-97b4c9a635a9398c0727e9a0df2fd2725668ffcd-b257640f1badee46-01
2021-09-18T00:52:50.533Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:50.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-85e64d487aa30c98a8b6cea1b9d292dff57eebec-91be7f06a34c1047-01 outer:exit 2b-85e64d487aa30c98a8b6cea1b9d292dff57eebec-7825260fbbebe886-01
2021-09-18T00:52:50.535Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:50.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-3703fb2e70cae6997d287c46c0215139b2575191-97a7933fbe66b084-01 outer:exit 2b-3703fb2e70cae6997d287c46c0215139b2575191-461d9664b99f1037-01
2021-09-18T00:52:50.538Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:50.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bb46763d9d5cfaa8dbc97e44a902809b0660da9-727dadf76d0ce803-01 outer:exit 2b-3bb46763d9d5cfaa8dbc97e44a902809b0660da9-7364efd8144d6b20-01
2021-09-18T00:52:50.552Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:50.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ee0ae187b22b6fe185010e809390ea9308d8893-e69813177a16f54c-01 outer:exit 2b-7ee0ae187b22b6fe185010e809390ea9308d8893-f93a16fa97e6ec61-01
2021-09-18T00:52:50.554Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:50.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d2f9348d675b6d8442d10e0c9ed4238d635c713-e55e63a29debba35-01 outer:exit 2b-0d2f9348d675b6d8442d10e0c9ed4238d635c713-d5a77ac9904815d4-01
2021-09-18T00:52:50.562Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:50.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-432b999ba47785ac4bb35168c43e45912eda833c-6b4acf65e146eb04-01 outer:exit 2b-432b999ba47785ac4bb35168c43e45912eda833c-ff09b29893f35388-01
2021-09-18T00:52:50.564Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:50.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd50047bf33df635fd5173285b16b84dc3a176ed-46dbf00150b1c02a-01 outer:exit 2b-fd50047bf33df635fd5173285b16b84dc3a176ed-a7a649ede64a6c33-01
2021-09-18T00:52:50.566Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:50.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-38c8ad33064fcc2cdec73c435482c1df7474b781-6fd5a8468820566d-01 outer:exit 2b-38c8ad33064fcc2cdec73c435482c1df7474b781-139d0f9f8c25b33d-01
2021-09-18T00:52:50.568Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:50.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-26179e74a4f487dd2295994e2e499a2329f21865-1ad8e35a8c006feb-01 outer:exit 2b-26179e74a4f487dd2295994e2e499a2329f21865-4b77211e00957e39-01
2021-09-18T00:52:50.571Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:50.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-3630d8acaf6cb1f5f761aa558bd81b73737a9753-2997c0a43a7bd661-01 outer:exit 2b-3630d8acaf6cb1f5f761aa558bd81b73737a9753-2435b92d91ffb4b6-01
2021-09-18T00:52:50.573Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:50.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a4c4b2603ac2487366ae4578e67e36e51585ed8-74368506f5c831f5-01 outer:exit 2b-0a4c4b2603ac2487366ae4578e67e36e51585ed8-b0fe64a90f05cc15-01
2021-09-18T00:52:50.575Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:50.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-6afd4e4bff4d249608f6e717a816420c3ddffc9d-aa2df54f2f164243-01 outer:exit 2b-6afd4e4bff4d249608f6e717a816420c3ddffc9d-09e13e74c991e063-01
2021-09-18T00:52:50.581Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:50.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-b378e8c812ae862b405cf053bbbc3b7d4edb4655-3aad66874845d83c-01 outer:exit 2b-b378e8c812ae862b405cf053bbbc3b7d4edb4655-b3aaabb0ba9a10c9-01
2021-09-18T00:52:50.584Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:50.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0a03bb47810ca1318f64e5529a15bfb657036e4-2b364d9439b67b97-01 outer:exit 2b-a0a03bb47810ca1318f64e5529a15bfb657036e4-8b3952ee50225632-01
2021-09-18T00:52:50.591Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:50.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaa9c97bac319f499ea56310496d8fbc71e7117b-dd6faf294215778e-01 outer:exit 2b-eaa9c97bac319f499ea56310496d8fbc71e7117b-8097f40e052b696f-01
2021-09-18T00:52:50.596Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:50.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-a414ab66d023b182d1f4acc6c5e3f44323880ad3-ffb9b85f7ded1c64-01 outer:exit 2b-a414ab66d023b182d1f4acc6c5e3f44323880ad3-b124c4444f479e72-01
2021-09-18T00:52:50.598Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:50.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-a79e003eb104304bdcc596fb8efc3db7ae583f23-d7f290ab4bd5e545-01 outer:exit 2b-a79e003eb104304bdcc596fb8efc3db7ae583f23-1a2759fcc1987cf9-01
2021-09-18T00:52:50.600Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:50.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-83cbf5d5bee78d698cc5de20e4c50ca3dc4dc173-20fe95c0946fa7e9-01 outer:exit 2b-83cbf5d5bee78d698cc5de20e4c50ca3dc4dc173-861a0ae05b8f95df-01
2021-09-18T00:52:50.606Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:50.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3656e7eb3c6415e7c5aa818ec82a2a6025f1089-a99e753b64b8319b-01 outer:exit 2b-e3656e7eb3c6415e7c5aa818ec82a2a6025f1089-c2543ec579888405-01
2021-09-18T00:52:50.607Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:50.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-b189e718b6d0428a4d66dfe3b7f6abe1414ccd9c-46687dfbda70ae85-01 outer:exit 2b-b189e718b6d0428a4d66dfe3b7f6abe1414ccd9c-f8096e3f8d1be0cf-01
2021-09-18T00:52:50.609Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:50.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-3375ccf5ee6fca132fbd7f3d47337baeb6e6ed10-7b9f9057b1ee84c0-01 outer:exit 2b-3375ccf5ee6fca132fbd7f3d47337baeb6e6ed10-4fb841f48bacf176-01
2021-09-18T00:52:50.611Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:50.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-97ee3e47062f564f9e5c1cc1bbd7bd38ad01cadf-564e987858442b59-01 outer:exit 2b-97ee3e47062f564f9e5c1cc1bbd7bd38ad01cadf-e506f64f7f6a21c9-01
2021-09-18T00:52:50.613Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:50.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb760361358a1a9a1fa06aed499e349ec77eab5d-626cdbf94cc44caa-01 outer:exit 2b-cb760361358a1a9a1fa06aed499e349ec77eab5d-4a772de1851d33cd-01
2021-09-18T00:52:50.614Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:50.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-45644415598a7d306d310cf6786c9e16f17750a5-99abb248ab9bb7fc-01 outer:exit 2b-45644415598a7d306d310cf6786c9e16f17750a5-b75c9b32ed9f9230-01
2021-09-18T00:52:50.621Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:50.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-e55aa402082f8c12f2b87d6828bdaf8012453237-32fc04db6438e8c1-01 outer:exit 2b-e55aa402082f8c12f2b87d6828bdaf8012453237-50289fa9eed2d640-01
2021-09-18T00:52:50.628Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:50.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cf0cb571dd6fc567430b1d0248ce1f1a5c35ead-323450add81bd90b-01 outer:exit 2b-3cf0cb571dd6fc567430b1d0248ce1f1a5c35ead-c2082e0f24fbadf4-01
2021-09-18T00:52:50.631Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:50.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-be0a2718b40883c8984e7775ab9ddbc1a8b1bf2d-4371d049ccd8e615-01 outer:exit 2b-be0a2718b40883c8984e7775ab9ddbc1a8b1bf2d-05ee6b34cd679da3-01
2021-09-18T00:52:50.634Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:50.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-4552dabc31e9d5b2bbb221d2ffcbb34f2d687a62-65ee3301e29c2dac-01 outer:exit 2b-4552dabc31e9d5b2bbb221d2ffcbb34f2d687a62-4795a51068d2b27f-01
2021-09-18T00:52:50.636Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:50.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-221b0a19274abcbfec9c901d0c809fe202cf456d-51c6dd8f0c8982f5-01 outer:exit 2b-221b0a19274abcbfec9c901d0c809fe202cf456d-5d64a53f639161a1-01
2021-09-18T00:52:50.659Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (285ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.16
updated 1 package and audited 1094 packages in 3.721s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:52:55.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:52:55.225Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:52:55.225Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:52:55.226Z appoptics:debug using context provider: ace-context
2021-09-18T00:52:55.281Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:52:55.311Z appoptics:patching patched crypto 
2021-09-18T00:52:55.326Z appoptics:patching patched https 
2021-09-18T00:52:55.326Z appoptics:patching patched http 
2021-09-18T00:52:55.364Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:52:55.364Z appoptics:patching patched fs 
2021-09-18T00:52:55.388Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v12.22.6)
2021-09-18T00:52:55.394Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-09-18T00:52:55.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cd83b7274e998e8ab6f5d80e95631a2922ed8a0-b355041f752b7837-01 outer:exit 2b-4cd83b7274e998e8ab6f5d80e95631a2922ed8a0-0bdc017a97118d8e-01
2021-09-18T00:52:55.533Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:52:55.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-1911b694234accbac08e2776f3f68b3d9a0a4613-1678c9245d015fe3-01 outer:exit 2b-1911b694234accbac08e2776f3f68b3d9a0a4613-f6168397fd0b1fc3-01
2021-09-18T00:52:55.584Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:52:55.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e67e8c4e440a543b441198b11842f7168046899-b8432a849e38fa66-01 outer:exit 2b-6e67e8c4e440a543b441198b11842f7168046899-c5efecb56e5379ed-01
2021-09-18T00:52:55.587Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:52:55.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-29fc8b40fc53fc7451a1072494a2ebacb983634b-50cac2508a4eb2d7-01 outer:exit 2b-29fc8b40fc53fc7451a1072494a2ebacb983634b-042e3dbe0813a6b5-01
2021-09-18T00:52:55.589Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:52:55.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-5779576e175e39edf61ce7ba4dd32e0b803e1f79-eea59d2c0fefd9f9-01 outer:exit 2b-5779576e175e39edf61ce7ba4dd32e0b803e1f79-8d2f266fedadfd14-01
2021-09-18T00:52:55.593Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:52:55.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-2470b01c9dbe05b00ffc439fafc86ad2abae6d74-0b71630710c2b676-01 outer:exit 2b-2470b01c9dbe05b00ffc439fafc86ad2abae6d74-8b09a1b19b9c03fb-01
2021-09-18T00:52:55.596Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:52:55.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-bab1df725c73aad6648dbc9491609f61c00ec63b-00880b6a6c614112-01 outer:exit 2b-bab1df725c73aad6648dbc9491609f61c00ec63b-98b01a0f27e74746-01
2021-09-18T00:52:55.598Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:52:55.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-6316f97288cbab38e0a81e3669ec013b708cbb26-f46fbbe5ee124d3e-01 outer:exit 2b-6316f97288cbab38e0a81e3669ec013b708cbb26-4f44cdc9ad6bfe42-01
2021-09-18T00:52:55.600Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:52:55.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4249cc7f7db43a891bc7eed72078c71e993a185-890679eae2e33b58-01 outer:exit 2b-d4249cc7f7db43a891bc7eed72078c71e993a185-ea6194f60c406fd6-01
2021-09-18T00:52:55.602Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:52:55.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef6002e8cc0b3003225e40a8222512bef9859725-2e08a68cb34e8a90-01 outer:exit 2b-ef6002e8cc0b3003225e40a8222512bef9859725-1be01f06a81e1b15-01
2021-09-18T00:52:55.604Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:52:55.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-91bfe454a335edfa337aeefec7d10b0d630dc6f1-ce43f516001cef8f-01 outer:exit 2b-91bfe454a335edfa337aeefec7d10b0d630dc6f1-0aeeb7754729308d-01
2021-09-18T00:52:55.608Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:52:55.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5e0be1ee151fc4397697d3d34610d3203f3827b-32e961df9fb2b00a-01 outer:exit 2b-e5e0be1ee151fc4397697d3d34610d3203f3827b-7fa5fb798430c86a-01
2021-09-18T00:52:55.613Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:52:55.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce6fe8c82c19e312440571e42e6bb73597357001-afe24aaefb92cc2d-01 outer:exit 2b-ce6fe8c82c19e312440571e42e6bb73597357001-daba8df421f6d3dc-01
2021-09-18T00:52:55.626Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:52:55.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-05b50baba518c6eed9335525012855f8afd5d964-fac82f17ab168d22-01 outer:exit 2b-05b50baba518c6eed9335525012855f8afd5d964-068717cf09f520f0-01
2021-09-18T00:52:55.685Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:52:55.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-042fe59c7aa0b87126f7f28740b47dd07ce65243-7829632731aab16a-01 outer:exit 2b-042fe59c7aa0b87126f7f28740b47dd07ce65243-8012281bc7b3d363-01
2021-09-18T00:52:55.688Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:52:55.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d63eda60c532037cac6492b77cd6d219cca0d32-db3c27ae6cf5e369-01 outer:exit 2b-1d63eda60c532037cac6492b77cd6d219cca0d32-07efd7ab618bde55-01
2021-09-18T00:52:55.690Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:52:55.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a384ef92f71501f7acf58a26febb35f1b5b026-74ef0379665944e0-01 outer:exit 2b-a2a384ef92f71501f7acf58a26febb35f1b5b026-8349a2c4ec8ebb25-01
2021-09-18T00:52:55.698Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:52:55.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-94d23fdeb1e938290ff6be05ed7a771e971b9e8b-4ace5475a0bb22ed-01 outer:exit 2b-94d23fdeb1e938290ff6be05ed7a771e971b9e8b-465fe0d7359e1e54-01
2021-09-18T00:52:55.710Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:52:55.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef72ac1ae0556918b9ee2909c80535ce694a5f53-034cff0d87063827-01 outer:exit 2b-ef72ac1ae0556918b9ee2909c80535ce694a5f53-e090e3f92dbc19b5-01
2021-09-18T00:52:55.716Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:52:55.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-eab253cd78ea0d7220534651e81689a1a5e5230c-c91a387c9e791fb0-01 outer:exit 2b-eab253cd78ea0d7220534651e81689a1a5e5230c-6e887b109c863e42-01
2021-09-18T00:52:55.718Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:52:55.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-b963afdd05b289c9a675fcb59f8888a8593fce49-3a03be00996e3707-01 outer:exit 2b-b963afdd05b289c9a675fcb59f8888a8593fce49-d6a6780e98690c38-01
2021-09-18T00:52:55.720Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:52:55.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-a851704d65c088932c053d80217a3bd8fcc5b591-df1726677c13a13a-01 outer:exit 2b-a851704d65c088932c053d80217a3bd8fcc5b591-a071a92d9ccacb6f-01
2021-09-18T00:52:55.721Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:52:55.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e2a0b89c9644aea29d5fe7d65c704e4c91be4c7-0c8df8e7f7ae76e8-01 outer:exit 2b-2e2a0b89c9644aea29d5fe7d65c704e4c91be4c7-71bdb46cc02f9127-01
2021-09-18T00:52:55.724Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:52:55.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e69134f90b211a48f608241bfa5a7dace9e55c3-a81f033cef1a9c98-01 outer:exit 2b-4e69134f90b211a48f608241bfa5a7dace9e55c3-addd90a772f292d8-01
2021-09-18T00:52:55.726Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:52:55.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-78a2cb1fc71796c69ec8d68e9bfe12989b999def-a5d55df5e3f987d0-01 outer:exit 2b-78a2cb1fc71796c69ec8d68e9bfe12989b999def-f509c3c97c8a1cf1-01
2021-09-18T00:52:55.728Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:52:55.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-94540d4c3c5b4ef5e9a2e3488680e6cf8cd50348-352ad0b3495492c5-01 outer:exit 2b-94540d4c3c5b4ef5e9a2e3488680e6cf8cd50348-67da0426aa1f7fb7-01
2021-09-18T00:52:55.731Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:52:55.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff256132f4c320d501ffc25b3e07221c10726275-a976d0a4efcf4268-01 outer:exit 2b-ff256132f4c320d501ffc25b3e07221c10726275-2ccb20484f2479fa-01
2021-09-18T00:52:55.737Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:52:55.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad2a26330dd3f28663c31b5b56179f9d12ce5861-060078227bdf0f88-01 outer:exit 2b-ad2a26330dd3f28663c31b5b56179f9d12ce5861-3db51ef59b6ea6c0-01
2021-09-18T00:52:55.740Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:52:55.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7052a67002fe8fdcfc4c14fc04851e94d303f20-d03abb0d92e29aab-01 outer:exit 2b-d7052a67002fe8fdcfc4c14fc04851e94d303f20-c80a3f7ef2ae183c-01
2021-09-18T00:52:55.747Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:52:55.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac44697fe199845c1004cfe6b2bab91d581a633c-15e2070be02989d3-01 outer:exit 2b-ac44697fe199845c1004cfe6b2bab91d581a633c-06938ecd1057cb59-01
2021-09-18T00:52:55.752Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:52:55.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdf0c1d2739d0f45cd55d76b79f0a99b056dae01-4f760ec8aa45784b-01 outer:exit 2b-bdf0c1d2739d0f45cd55d76b79f0a99b056dae01-6fbe5ea1efb422b5-01
2021-09-18T00:52:55.754Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:52:55.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-a63dfe9c50cedd340c0370ef6652092c09058f2e-cc2d655a1c751c7a-01 outer:exit 2b-a63dfe9c50cedd340c0370ef6652092c09058f2e-d0326bf2ea7fa24c-01
2021-09-18T00:52:55.757Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:52:55.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-931bbd6cb9f124e6a09b57008e70b7c09bd52bb9-23cb8b0b343e08fe-01 outer:exit 2b-931bbd6cb9f124e6a09b57008e70b7c09bd52bb9-8b69bbe70212c907-01
2021-09-18T00:52:55.762Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:52:55.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce153fff8797237a4f4e3021f4d7f36def43d06a-55ab62a318bc233c-01 outer:exit 2b-ce153fff8797237a4f4e3021f4d7f36def43d06a-924d4ec5869e5270-01
2021-09-18T00:52:55.764Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:52:55.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-69d6ced3e6becea33483e018b6bba8f68710b16b-db6784f75b56949c-01 outer:exit 2b-69d6ced3e6becea33483e018b6bba8f68710b16b-ae13f6507672626c-01
2021-09-18T00:52:55.766Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:52:55.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-07aea48448e983b8a07fbd4810242bc3bfb5eead-a45a4354ce3ca143-01 outer:exit 2b-07aea48448e983b8a07fbd4810242bc3bfb5eead-01117edb719ac0a2-01
2021-09-18T00:52:55.768Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:52:55.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3c2bed9b9ffb95bfdebdf49d7272d427cf570da-cdccc7cd09a2447f-01 outer:exit 2b-e3c2bed9b9ffb95bfdebdf49d7272d427cf570da-b39eeabc2adfedb7-01
2021-09-18T00:52:55.769Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:52:55.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2e0a8ba551ab63ed92338661815fb52d4a46893-b9bf8f0b26e69507-01 outer:exit 2b-a2e0a8ba551ab63ed92338661815fb52d4a46893-cb5427d8ad5bb1bb-01
2021-09-18T00:52:55.771Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:52:55.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-3215cf88072460aed28b12b05744cd4e8de3940d-3b1dac7ea5ef15e4-01 outer:exit 2b-3215cf88072460aed28b12b05744cd4e8de3940d-ecb0cf8f37b83d78-01
2021-09-18T00:52:55.778Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:52:55.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b11b5f7e0e797007a88390d34ea32ededcb9c9-43028703155fde7a-01 outer:exit 2b-58b11b5f7e0e797007a88390d34ea32ededcb9c9-5ce5e3bbc6aa85dc-01
2021-09-18T00:52:55.786Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:52:55.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4603ac9e1d3c85261a8824ba62dbc1f0c976977-5c3f701e6b6470bd-01 outer:exit 2b-b4603ac9e1d3c85261a8824ba62dbc1f0c976977-34d1518be306837f-01
2021-09-18T00:52:55.788Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:52:55.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-002e0f54fe4bb26799b4b3c4152bfecb071d87d0-de5ba1cf5d6b53fc-01 outer:exit 2b-002e0f54fe4bb26799b4b3c4152bfecb071d87d0-739228ae45c230bd-01
2021-09-18T00:52:55.791Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:52:55.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-4719fbbc9fa0dd0a0524224ee533c42f21c140f9-bd3e85d3259bfa5b-01 outer:exit 2b-4719fbbc9fa0dd0a0524224ee533c42f21c140f9-42a603001615229e-01
2021-09-18T00:52:55.793Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:52:55.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c421609bc1935a8091c67d4904aa60875e7f068-2a8de441a485bf8e-01 outer:exit 2b-0c421609bc1935a8091c67d4904aa60875e7f068-6e2b39823963e8c8-01
2021-09-18T00:52:55.817Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (318ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.17
updated 1 package and audited 1094 packages in 4.402s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:01.273Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:01.274Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:01.274Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:01.274Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:01.330Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:01.359Z appoptics:patching patched crypto 
2021-09-18T00:53:01.379Z appoptics:patching patched https 
2021-09-18T00:53:01.379Z appoptics:patching patched http 
2021-09-18T00:53:01.413Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:01.413Z appoptics:patching patched fs 
2021-09-18T00:53:01.437Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v12.22.6)
2021-09-18T00:53:01.443Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-09-18T00:53:01.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-888b55514407cbbaf8a4de571c33006a872cfac7-a0e7bfd84562ac84-01 outer:exit 2b-888b55514407cbbaf8a4de571c33006a872cfac7-599fd3648563cb62-01
2021-09-18T00:53:01.580Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:01.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-931fff180869d5ee2968203234129fcd29cba26d-9291052edc1614c5-01 outer:exit 2b-931fff180869d5ee2968203234129fcd29cba26d-e20eb39b34b53669-01
2021-09-18T00:53:01.647Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:01.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-06e7abedf60f1c62b0287001c6e661154e1d36cb-33e489fc80d91499-01 outer:exit 2b-06e7abedf60f1c62b0287001c6e661154e1d36cb-247e163a7fa9ea56-01
2021-09-18T00:53:01.650Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:01.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5249c8819a04f991fd0580ad5b4008b7a83cb0d-0b92edc3ccf38883-01 outer:exit 2b-b5249c8819a04f991fd0580ad5b4008b7a83cb0d-0b7bbd352babd43d-01
2021-09-18T00:53:01.653Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:01.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e2ca5aa353fb8358811ad74aa9d331e13c94862-95ab9d52eef7db37-01 outer:exit 2b-5e2ca5aa353fb8358811ad74aa9d331e13c94862-be550cfa6e1cb29b-01
2021-09-18T00:53:01.657Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:01.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-586ac0d6e12c6ebce2f0c051c48153ac4c08ba07-2dc6527d181f97ab-01 outer:exit 2b-586ac0d6e12c6ebce2f0c051c48153ac4c08ba07-039e0a3f9e1acb4a-01
2021-09-18T00:53:01.660Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:01.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-e95c7d6fce9bf05040b2cd5090f9c328bad5901c-b40df52208632181-01 outer:exit 2b-e95c7d6fce9bf05040b2cd5090f9c328bad5901c-b5e764ec9a2c4b1e-01
2021-09-18T00:53:01.662Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:01.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-501b019c94574bd05f9d7e603d9d6b37627f4a2f-5d5e919ad6f8a2cb-01 outer:exit 2b-501b019c94574bd05f9d7e603d9d6b37627f4a2f-143339ba211b2d3e-01
2021-09-18T00:53:01.664Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:01.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-1265f7d8d1d7112b33a18793839b974aec542f11-8220ac2cbb78bb99-01 outer:exit 2b-1265f7d8d1d7112b33a18793839b974aec542f11-fb1693d9cbdacb9c-01
2021-09-18T00:53:01.666Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:01.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f2e09875a26dbe715196bd5cb710f9e90f6229-0afc47ab475c19ff-01 outer:exit 2b-87f2e09875a26dbe715196bd5cb710f9e90f6229-d0c0b7ae674dd926-01
2021-09-18T00:53:01.668Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:01.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6e7fb2fc0664ac8083fb91f16c9e3bf5ce66ccb-243b9480da3412b6-01 outer:exit 2b-a6e7fb2fc0664ac8083fb91f16c9e3bf5ce66ccb-ab0be8f1c1b05431-01
2021-09-18T00:53:01.672Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:01.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-f82e924acd18da127f6f07913c52ff3cf0860a36-e0b75b43be7a7e3f-01 outer:exit 2b-f82e924acd18da127f6f07913c52ff3cf0860a36-c30144ee1f91ca31-01
2021-09-18T00:53:01.677Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:01.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-16bc1b8c7d5b9fd2df58316f97f5b9d6dcdce2e0-69860a0445fd3474-01 outer:exit 2b-16bc1b8c7d5b9fd2df58316f97f5b9d6dcdce2e0-ca5f4c7977c13fc7-01
2021-09-18T00:53:01.690Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:01.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-20de7031b67927c0a0d8b34c828fb435246e17da-bc5c8db9990e8e2b-01 outer:exit 2b-20de7031b67927c0a0d8b34c828fb435246e17da-a66d96c6e7520c9d-01
2021-09-18T00:53:01.754Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:01.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-28a6df4bca916eb4ca6f034e43c28fee419d0f77-1efec3123bbb2af9-01 outer:exit 2b-28a6df4bca916eb4ca6f034e43c28fee419d0f77-9a1b3e16e2844e67-01
2021-09-18T00:53:01.756Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:01.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-63bdf0023f2dfc8e9b1ceaae91f3f73092f4149d-4c43e45f029b0289-01 outer:exit 2b-63bdf0023f2dfc8e9b1ceaae91f3f73092f4149d-67d0270c25a11498-01
2021-09-18T00:53:01.758Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:01.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c096e912a1408165490f1d5803d7b5db6ca00e0-28145225f69ea159-01 outer:exit 2b-4c096e912a1408165490f1d5803d7b5db6ca00e0-0dba3539b012cf7d-01
2021-09-18T00:53:01.761Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:01.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc88813497d60c4f6cc2cb26a2e58994eaae578-e63f9e17cd7c047f-01 outer:exit 2b-5bc88813497d60c4f6cc2cb26a2e58994eaae578-bbbbd786c8a49ccc-01
2021-09-18T00:53:01.774Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:01.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b1ff39df90dc5e1b6caa5184406696b9b9e9508-f12207812d889e84-01 outer:exit 2b-4b1ff39df90dc5e1b6caa5184406696b9b9e9508-281ea63b00a2cac8-01
2021-09-18T00:53:01.776Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:01.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5f0b3f9ae86c5bda19798bfdb12ee0cacd386cb-4a93777ebbd3d232-01 outer:exit 2b-b5f0b3f9ae86c5bda19798bfdb12ee0cacd386cb-52b4db648139b177-01
2021-09-18T00:53:01.781Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:01.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-ded249976dbd9bda7753889ee51bac033f14697c-65a5c8ded1945866-01 outer:exit 2b-ded249976dbd9bda7753889ee51bac033f14697c-27b3cbf404229817-01
2021-09-18T00:53:01.785Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:01.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-98ecb7b1946cc7dfd3440cc9b998b60f0fe76247-d0993ba88e1fdf3a-01 outer:exit 2b-98ecb7b1946cc7dfd3440cc9b998b60f0fe76247-0d9d33af462b0e0d-01
2021-09-18T00:53:01.787Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:01.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0bbc6a71714fa57e61180e95dd728bd4ddf22cc-7f762e6f6933669b-01 outer:exit 2b-f0bbc6a71714fa57e61180e95dd728bd4ddf22cc-7a416a91cb67d135-01
2021-09-18T00:53:01.789Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:01.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8c89e761833552c9ef126d4d366446846a484e3-32dd56ae83c3dd16-01 outer:exit 2b-b8c89e761833552c9ef126d4d366446846a484e3-ae31b6d9713785f4-01
2021-09-18T00:53:01.792Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:01.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-428ecbb43f3bdd8262bc05dc5dec2c8574a684d8-6c0095ebf6dd8436-01 outer:exit 2b-428ecbb43f3bdd8262bc05dc5dec2c8574a684d8-9c1f94e8d39a5de7-01
2021-09-18T00:53:01.794Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:01.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5a90aaae9115d994a5a2464eb460834969db2c-8e7d8a08a9a586d2-01 outer:exit 2b-0c5a90aaae9115d994a5a2464eb460834969db2c-76016f3cc029b244-01
2021-09-18T00:53:01.796Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:01.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-630543f07f910871c70677a30362286dc9a4a01d-5b3d708a2ec28a46-01 outer:exit 2b-630543f07f910871c70677a30362286dc9a4a01d-d88b0763653234ac-01
2021-09-18T00:53:01.802Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:01.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba1996cdd988f919912c8288e7509269b388605b-044f3debb986ef7d-01 outer:exit 2b-ba1996cdd988f919912c8288e7509269b388605b-3687daf010d23e1b-01
2021-09-18T00:53:01.805Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:01.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dc25fd518079adf34d0d13e2d774e33c191ca48-1a2879dd5f0b53b1-01 outer:exit 2b-6dc25fd518079adf34d0d13e2d774e33c191ca48-4a6559f5804e5193-01
2021-09-18T00:53:01.812Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:01.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-4633e8f63c87ceaa62a2272a297359d2d4a8dca3-9798e6268bbc20a1-01 outer:exit 2b-4633e8f63c87ceaa62a2272a297359d2d4a8dca3-cd9d485aa10409c7-01
2021-09-18T00:53:01.818Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:01.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-45e1ba8c78b1c11e94bcb6176f49a6c319c87104-90100a245d267fef-01 outer:exit 2b-45e1ba8c78b1c11e94bcb6176f49a6c319c87104-e79226e49b2ada50-01
2021-09-18T00:53:01.820Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:01.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c8fce052c937450a8b24c4c02b7f17aff6442a9-608da24d139f57b2-01 outer:exit 2b-5c8fce052c937450a8b24c4c02b7f17aff6442a9-9183c09b463e57eb-01
2021-09-18T00:53:01.822Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:01.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aa41504446b50b5d291863d8f65d59e20264b0f-c28c26bbf97213e5-01 outer:exit 2b-1aa41504446b50b5d291863d8f65d59e20264b0f-1f705ba970f9ac61-01
2021-09-18T00:53:01.829Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:01.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ebbe505325ca274a351661a98509a9532325cc8-861ccc5b71aadbdb-01 outer:exit 2b-8ebbe505325ca274a351661a98509a9532325cc8-50081884e7e74381-01
2021-09-18T00:53:01.831Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:01.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ca66a6b75ce139e751126e61054fb8c725a91f-646e70a19a8d0104-01 outer:exit 2b-b0ca66a6b75ce139e751126e61054fb8c725a91f-beef02d023d9985f-01
2021-09-18T00:53:01.832Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:01.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-f37f02c7e34c5eb2ddd942a30d5606da2b6380f3-aa378d3d3913e096-01 outer:exit 2b-f37f02c7e34c5eb2ddd942a30d5606da2b6380f3-599aab6cd11cbd27-01
2021-09-18T00:53:01.834Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:01.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-76bd7802e9230070401130f03237edcd1cd1bde4-6e23720f3ba9637b-01 outer:exit 2b-76bd7802e9230070401130f03237edcd1cd1bde4-e087d0b53299489b-01
2021-09-18T00:53:01.836Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:01.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9fd080e95c351b72356329f68495c1521a3b1c7-d46dac6470aec279-01 outer:exit 2b-e9fd080e95c351b72356329f68495c1521a3b1c7-fd0b9765d34797bf-01
2021-09-18T00:53:01.838Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:01.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-91603848249cc447bd3823e2be11dfc86e54d67a-b5a0075f9a54243f-01 outer:exit 2b-91603848249cc447bd3823e2be11dfc86e54d67a-234c938cef6d96a8-01
2021-09-18T00:53:01.846Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:01.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-7015ee07d82b721e7cf570e471fc1ee064cbce1d-1c67850f7daff17a-01 outer:exit 2b-7015ee07d82b721e7cf570e471fc1ee064cbce1d-c1336f2f64036ca2-01
2021-09-18T00:53:01.853Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:01.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-052e137dfb6adbeeaea66aecd1031b069a46dcba-361eaac346a75410-01 outer:exit 2b-052e137dfb6adbeeaea66aecd1031b069a46dcba-f05ee376daeadd86-01
2021-09-18T00:53:01.856Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:01.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd3df3f63802db2e7ad31396eef4d5d3e6766ef6-5d9b9dac92949035-01 outer:exit 2b-cd3df3f63802db2e7ad31396eef4d5d3e6766ef6-c0e9b3ee89305198-01
2021-09-18T00:53:01.858Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:01.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7e908563b9ff6d562953e5c3e6ed87408351fb4-3b673553ce8f4584-01 outer:exit 2b-e7e908563b9ff6d562953e5c3e6ed87408351fb4-a80b91cd550821d8-01
2021-09-18T00:53:01.861Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:01.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-285a677d20ccb3a3e4d9a40ec061c8a0893e925a-5e844c04c668c5ce-01 outer:exit 2b-285a677d20ccb3a3e4d9a40ec061c8a0893e925a-c4415d4318fa0021-01
2021-09-18T00:53:01.884Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (334ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.18
updated 1 package and audited 1094 packages in 3.695s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:06.452Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:06.453Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:06.453Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:06.453Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:06.509Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:06.539Z appoptics:patching patched crypto 
2021-09-18T00:53:06.560Z appoptics:patching patched https 
2021-09-18T00:53:06.560Z appoptics:patching patched http 
2021-09-18T00:53:06.606Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:06.606Z appoptics:patching patched fs 
2021-09-18T00:53:06.630Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v12.22.6)
2021-09-18T00:53:06.636Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-09-18T00:53:06.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2098d800819f759f0d3f36cc47a1b02fa134569-34301dfec77684d7-01 outer:exit 2b-c2098d800819f759f0d3f36cc47a1b02fa134569-0ac9abce6ed3d000-01
2021-09-18T00:53:06.822Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:06.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-013cd8e32dd5557ff356e7bf465bc72120c51ef6-70d4c0b34b45da08-01 outer:exit 2b-013cd8e32dd5557ff356e7bf465bc72120c51ef6-e2a5ba01fc1206aa-01
2021-09-18T00:53:06.878Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:06.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-0499579bb5ab554b1a4ac9b27fdb5bc7ea22f4e6-30bf9e490c94cd5f-01 outer:exit 2b-0499579bb5ab554b1a4ac9b27fdb5bc7ea22f4e6-b1716d590038f8bd-01
2021-09-18T00:53:06.882Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:06.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6788a08b8f392b9f55f9fcf31fef4379fec1f3c-3a86e4bbb68b6704-01 outer:exit 2b-d6788a08b8f392b9f55f9fcf31fef4379fec1f3c-03a9671ab9921a6f-01
2021-09-18T00:53:06.885Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:06.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f722ab93c03d24c6abf91bc1721e0be4286a1fe-f44950b2fb37cc94-01 outer:exit 2b-6f722ab93c03d24c6abf91bc1721e0be4286a1fe-276ed8d37f2fd795-01
2021-09-18T00:53:06.890Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:06.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-41e0bfc6dacc9260ef5b2d201321b3b635430e84-46cb67e3577c5ea5-01 outer:exit 2b-41e0bfc6dacc9260ef5b2d201321b3b635430e84-95a07017398b3491-01
2021-09-18T00:53:06.892Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:06.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e8a03f08837e78b362359055efd5ed9d25d97f5-238d9fb9808e0b3d-01 outer:exit 2b-7e8a03f08837e78b362359055efd5ed9d25d97f5-3439fa9ae4717432-01
2021-09-18T00:53:06.895Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:06.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cf9996f023ec5f4f728b5826456e9b7b6cbdad3-717bf52014b7f77d-01 outer:exit 2b-9cf9996f023ec5f4f728b5826456e9b7b6cbdad3-455b5a4376a46fc7-01
2021-09-18T00:53:06.897Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:06.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-7991d7d103f0b0584739b6b38caf3504faf49708-83d3aad0114d1856-01 outer:exit 2b-7991d7d103f0b0584739b6b38caf3504faf49708-c45c1ded1ad468cf-01
2021-09-18T00:53:06.899Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:06.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-216974f71a35ee04e655a244d5c3388683bb26b3-e91ea2f8507a473b-01 outer:exit 2b-216974f71a35ee04e655a244d5c3388683bb26b3-d2fc52adf8d2fd7b-01
2021-09-18T00:53:06.901Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:06.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4c859ccc0cb4b06cdc3dc5e34326e979c638e93-1de8feb8bdb55c6b-01 outer:exit 2b-a4c859ccc0cb4b06cdc3dc5e34326e979c638e93-094807a34e715660-01
2021-09-18T00:53:06.905Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:06.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-26c70353653d1ac9021c74b0efb3d5a934c71121-814ce0c4c12b7d22-01 outer:exit 2b-26c70353653d1ac9021c74b0efb3d5a934c71121-790ffbc76ba327ee-01
2021-09-18T00:53:06.910Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:06.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-debd622318e39ccf00d018f67bcfccb66a4525b7-5208dad6cf2e7b60-01 outer:exit 2b-debd622318e39ccf00d018f67bcfccb66a4525b7-81785cd2b658e056-01
2021-09-18T00:53:06.923Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:06.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a0e32babe5907bae8b85838ca303f263583b6c-460b1b7e69af8991-01 outer:exit 2b-77a0e32babe5907bae8b85838ca303f263583b6c-48b44e0addfd8f8a-01
2021-09-18T00:53:06.980Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:06.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-52b80c85fac4314a8a31a207538119c63bea8d8b-80c91c48f3756e37-01 outer:exit 2b-52b80c85fac4314a8a31a207538119c63bea8d8b-a2579b694034e313-01
2021-09-18T00:53:06.983Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:06.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb106bd5d69480053c57e44fc2f4e555191f7f0d-4b94e243c10c3858-01 outer:exit 2b-cb106bd5d69480053c57e44fc2f4e555191f7f0d-00fe89ee89f285a9-01
2021-09-18T00:53:06.985Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:06.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-9898f09aaba5713f401e7e934fb685ceecd8fdc5-4d08f07a523ddc83-01 outer:exit 2b-9898f09aaba5713f401e7e934fb685ceecd8fdc5-90d61e6261b9c95f-01
2021-09-18T00:53:06.988Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:06.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ddf273a37222334f95c0bc44a1da7b4515a4f45-01c1bc079c7efb3d-01 outer:exit 2b-2ddf273a37222334f95c0bc44a1da7b4515a4f45-afe0a6d1dc9e36a8-01
2021-09-18T00:53:06.990Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:06.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-751722cd43026619786238798c4e4ab3591f81e4-f41ff387fdb36ba7-01 outer:exit 2b-751722cd43026619786238798c4e4ab3591f81e4-f3e6d1ba117b5519-01
2021-09-18T00:53:06.991Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:06.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-f72fc0b643e8bd1a51ddc4b23942fec2a8863328-7186f58190aa0d95-01 outer:exit 2b-f72fc0b643e8bd1a51ddc4b23942fec2a8863328-d004d57931c45604-01
2021-09-18T00:53:06.993Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:06.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-25cc4b9e9910478eb8081bb5c3676d8689bb6e83-a40e14f4af392883-01 outer:exit 2b-25cc4b9e9910478eb8081bb5c3676d8689bb6e83-414a4a073b482164-01
2021-09-18T00:53:06.995Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:06.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-28ca513500473e74ea7bcb4a8c0a8dbbc349d321-559509c9896c9a10-01 outer:exit 2b-28ca513500473e74ea7bcb4a8c0a8dbbc349d321-311814109f63bbb9-01
2021-09-18T00:53:06.997Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:07.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2cb475681cd24ea17a08fd1ec759f7f16df37f8-edbc343619e61d6a-01 outer:exit 2b-b2cb475681cd24ea17a08fd1ec759f7f16df37f8-df5cee9fad8e826a-01
2021-09-18T00:53:07.010Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:07.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bebe2e582c3444c589c6bcc59013bca076fbb1d-b162a56b3f14dade-01 outer:exit 2b-4bebe2e582c3444c589c6bcc59013bca076fbb1d-b404c0efb38ecdee-01
2021-09-18T00:53:07.015Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:07.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-97ec84893cb7f43090ed9865e30b68b2732cc96d-51568f1c973ccdaa-01 outer:exit 2b-97ec84893cb7f43090ed9865e30b68b2732cc96d-2f641c3613b5cd54-01
2021-09-18T00:53:07.020Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:07.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-afb3a96fbf0defd6b83ce481b7aee76cd3d1024e-f12c4228c305785c-01 outer:exit 2b-afb3a96fbf0defd6b83ce481b7aee76cd3d1024e-ce0f0e034796bf25-01
2021-09-18T00:53:07.029Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:07.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-14506a3180e88c786a28864d763f12bd35cfdf41-4408d05b1570aeda-01 outer:exit 2b-14506a3180e88c786a28864d763f12bd35cfdf41-50cc95343ec75b3e-01
2021-09-18T00:53:07.034Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:07.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-86e803df560e238cabc73ae235a7f9e6ecc129d4-5ba86b6059d33ce2-01 outer:exit 2b-86e803df560e238cabc73ae235a7f9e6ecc129d4-945bd3393d9807b7-01
2021-09-18T00:53:07.038Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:07.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-48824e3264a1d38b48e48bae9d7c3adc6cb81db4-7cc38f13ad258787-01 outer:exit 2b-48824e3264a1d38b48e48bae9d7c3adc6cb81db4-c90ee1938f56bd98-01
2021-09-18T00:53:07.045Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:07.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3aabf19bb1317d07d2c36a03418a9d0d69242a7-55930cf583e970ff-01 outer:exit 2b-a3aabf19bb1317d07d2c36a03418a9d0d69242a7-b83e2d215d1c21e1-01
2021-09-18T00:53:07.053Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:07.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-056c504a87ccfa0b5159bf549127e6e2ca90d499-f8c65225ca70b7e0-01 outer:exit 2b-056c504a87ccfa0b5159bf549127e6e2ca90d499-e84587eacd6d18b3-01
2021-09-18T00:53:07.055Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:07.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4acb4b91d0b1bd13adc8b9f6b5ee638546db70b-8fd97dcb7a672141-01 outer:exit 2b-b4acb4b91d0b1bd13adc8b9f6b5ee638546db70b-3a9a59ac18c31ecb-01
2021-09-18T00:53:07.058Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:07.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-b92c202d93215b9f95797a42a64090816fadd50f-16a210746a580701-01 outer:exit 2b-b92c202d93215b9f95797a42a64090816fadd50f-bc087f1dcd729326-01
2021-09-18T00:53:07.063Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:07.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a1c93681eae1b35916231488aa9203ad9180fff-535b3e36ee6a8520-01 outer:exit 2b-4a1c93681eae1b35916231488aa9203ad9180fff-d8cbccb84f5c3afc-01
2021-09-18T00:53:07.065Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:07.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-880f83517d2f10ff5c7d987997085a6baca07f82-eca3a73d15f5723e-01 outer:exit 2b-880f83517d2f10ff5c7d987997085a6baca07f82-11a83efa03e7e26e-01
2021-09-18T00:53:07.067Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:07.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f76b0769f9414e6f8130c1b4310b1176a6e2f77-478f5d484381a87e-01 outer:exit 2b-7f76b0769f9414e6f8130c1b4310b1176a6e2f77-78714d8ec96391d6-01
2021-09-18T00:53:07.069Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:07.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-4046efac4593c754b667f97020806e81e7e363b8-e772d2baf302fd3a-01 outer:exit 2b-4046efac4593c754b667f97020806e81e7e363b8-3c169b563b9a616e-01
2021-09-18T00:53:07.070Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:07.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9d98377dd24eaf9be6d83786cbba28315652790-5ba7c65e79aeecac-01 outer:exit 2b-f9d98377dd24eaf9be6d83786cbba28315652790-b7520dba52cfdfd6-01
2021-09-18T00:53:07.072Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:07.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-18364e69c962cbb3e0edc0cda588ecaebeddb3a9-ba21c10c00f275f3-01 outer:exit 2b-18364e69c962cbb3e0edc0cda588ecaebeddb3a9-957a1f03b26241ee-01
2021-09-18T00:53:07.091Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:07.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa6783689c9d3738d3d379f47c74f6c4ccdcd01e-008558829c204b1a-01 outer:exit 2b-aa6783689c9d3738d3d379f47c74f6c4ccdcd01e-67d02ddd1ece4999-01
2021-09-18T00:53:07.098Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:07.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3f1ee761cdfe6bdfede8d94d73f1a90a0681ae6-54e6aba5112377d1-01 outer:exit 2b-c3f1ee761cdfe6bdfede8d94d73f1a90a0681ae6-8ec8bef69012ed2d-01
2021-09-18T00:53:07.100Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:07.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bb14891c4efa04e4b41f98086f459b657da0aab-d958eba6c645c7ba-01 outer:exit 2b-3bb14891c4efa04e4b41f98086f459b657da0aab-ebdea5ed97ada502-01
2021-09-18T00:53:07.103Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:07.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-605f5fa25b51953ef79aa43d4e4f4e4f8a919991-0ddd99e075ca6ec7-01 outer:exit 2b-605f5fa25b51953ef79aa43d4e4f4e4f8a919991-dcef0154afbb913d-01
2021-09-18T00:53:07.105Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:07.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-45321b6865466cf5b8bedd3c856e8e7e988c272c-cba55516e8f2ab95-01 outer:exit 2b-45321b6865466cf5b8bedd3c856e8e7e988c272c-8d42833d45ac5719-01
2021-09-18T00:53:07.129Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (351ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.19
updated 1 package and audited 1094 packages in 4.105s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:12.288Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:12.288Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:12.288Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:12.289Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:12.359Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:12.395Z appoptics:patching patched crypto 
2021-09-18T00:53:12.426Z appoptics:patching patched https 
2021-09-18T00:53:12.426Z appoptics:patching patched http 
2021-09-18T00:53:12.473Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:12.473Z appoptics:patching patched fs 
2021-09-18T00:53:12.507Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v12.22.6)
2021-09-18T00:53:12.514Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-09-18T00:53:12.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f885524a1065587d4fffee6b5a2970444580b41-8fe23317cb4bfbd9-01 outer:exit 2b-9f885524a1065587d4fffee6b5a2970444580b41-5f9f7cf5f60fd3d4-01
2021-09-18T00:53:12.680Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:12.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-95eeb635bac7a233eb4e0bb793308f11390255c6-3e89d821ae13976c-01 outer:exit 2b-95eeb635bac7a233eb4e0bb793308f11390255c6-a0f105df6fb161da-01
2021-09-18T00:53:12.741Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:12.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-b20510bd879d5d6c7ee474f849ac87a328f573ca-58908723abddcbce-01 outer:exit 2b-b20510bd879d5d6c7ee474f849ac87a328f573ca-ec6fe3fb2d5e9540-01
2021-09-18T00:53:12.744Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:12.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-952b0ce0dd5d82a61609353c2d34d299eb8cbbf3-aae75e8a0080effc-01 outer:exit 2b-952b0ce0dd5d82a61609353c2d34d299eb8cbbf3-14a135227907aa40-01
2021-09-18T00:53:12.747Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:12.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-7574b05a6a4571c83cd87a794e62d40d7d3b924e-98f54ceee5a48d00-01 outer:exit 2b-7574b05a6a4571c83cd87a794e62d40d7d3b924e-526abb3303c54415-01
2021-09-18T00:53:12.754Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:12.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfb19446da665bb7044c0ffec3d7ec1650982da0-9d16b1507a32b771-01 outer:exit 2b-cfb19446da665bb7044c0ffec3d7ec1650982da0-6827ffe77ccdf73d-01
2021-09-18T00:53:12.759Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:12.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb56d6944f99a4bacf13ac77029a0afb759cd04d-6b26089312534c79-01 outer:exit 2b-eb56d6944f99a4bacf13ac77029a0afb759cd04d-5953f357aca87321-01
2021-09-18T00:53:12.763Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:12.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc5d868d5dd3ea96781f675be89789625ae3e0a0-f7350f6be63a2800-01 outer:exit 2b-dc5d868d5dd3ea96781f675be89789625ae3e0a0-39774ed486e41d6c-01
2021-09-18T00:53:12.769Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:12.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-522411dba2a21948a3435f8e7204f27daedc40a8-044d22a74a7f7d0a-01 outer:exit 2b-522411dba2a21948a3435f8e7204f27daedc40a8-15ae702a1089f433-01
2021-09-18T00:53:12.778Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:12.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bff0513c752b5d292f6e6b1263926284f436d0f-0f9ec3ee236015ca-01 outer:exit 2b-0bff0513c752b5d292f6e6b1263926284f436d0f-012772de3eea20c3-01
2021-09-18T00:53:12.784Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:12.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b8dc3e89eadf214f0d7d975f87cbb65aa3a465f-3dced49212db492f-01 outer:exit 2b-5b8dc3e89eadf214f0d7d975f87cbb65aa3a465f-3e5b7682b6ce1323-01
2021-09-18T00:53:12.790Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:12.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa207e7cd030e28a28b56c6b6e80dda48bec1576-9a51042a5f5fd5e4-01 outer:exit 2b-fa207e7cd030e28a28b56c6b6e80dda48bec1576-2635c98a783a755b-01
2021-09-18T00:53:12.797Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:12.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2c13771e7cdc8508d05a25397d3d84a4e32759b-0436d2948a89e1a1-01 outer:exit 2b-a2c13771e7cdc8508d05a25397d3d84a4e32759b-2ae01f123849e7cb-01
2021-09-18T00:53:12.813Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:12.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d36049c69d07154692adb71fb179316225e8475-5c85714fe31eabb8-01 outer:exit 2b-4d36049c69d07154692adb71fb179316225e8475-0ed39464a688b3d8-01
2021-09-18T00:53:12.878Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:12.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-073a69b04693818279332482527842a712c4b1bb-d27845a93fcc4755-01 outer:exit 2b-073a69b04693818279332482527842a712c4b1bb-55a202939de18cd1-01
2021-09-18T00:53:12.882Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:12.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-95371277e8cb2567f385756c0ed497b149a372e3-10f81875aa1a3f88-01 outer:exit 2b-95371277e8cb2567f385756c0ed497b149a372e3-bead1ca8dc774e7e-01
2021-09-18T00:53:12.884Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:12.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-a00cbf9bfa964b5a520cdf020e15ae6c3a33807b-f1c89cd6f9aae149-01 outer:exit 2b-a00cbf9bfa964b5a520cdf020e15ae6c3a33807b-2696a2bfff0cc200-01
2021-09-18T00:53:12.897Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:12.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dfefa6a4be83759e8a77e225aa89551a2f3313a-dfbe9ecac1c1c26f-01 outer:exit 2b-4dfefa6a4be83759e8a77e225aa89551a2f3313a-1e3835327769408b-01
2021-09-18T00:53:12.918Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:12.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff6890f0c88640a197862c6c33660dfbe77b6278-7e2432ced4aa1ae8-01 outer:exit 2b-ff6890f0c88640a197862c6c33660dfbe77b6278-b8c5f8bd3c4d032a-01
2021-09-18T00:53:12.932Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:12.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bd078ad1dad5ceee22e6938c7a3765920062202-13933fa70fc81fa8-01 outer:exit 2b-8bd078ad1dad5ceee22e6938c7a3765920062202-6a47832c57989534-01
2021-09-18T00:53:12.934Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:12.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-983f6c2f5635c6ea7f36c15d32e32127321c2e70-8dc55024f7f02bfb-01 outer:exit 2b-983f6c2f5635c6ea7f36c15d32e32127321c2e70-ecf607d0694cbb29-01
2021-09-18T00:53:12.936Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:12.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-d26f156818931ba4cc8bb0a416823724d74d8589-538427b1fb5a955b-01 outer:exit 2b-d26f156818931ba4cc8bb0a416823724d74d8589-c6db198e7b3640cd-01
2021-09-18T00:53:12.942Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:12.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaa867f8541e12d65db6a74c32dfa1156da8907b-c27bf95d33d1fdba-01 outer:exit 2b-eaa867f8541e12d65db6a74c32dfa1156da8907b-787828cfe08eda0f-01
2021-09-18T00:53:12.947Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:12.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-540eb9f0804c67448657f1daf872ca0db4de6c7e-dd6c1ee9a2fc577c-01 outer:exit 2b-540eb9f0804c67448657f1daf872ca0db4de6c7e-a3ea15cb7cb36735-01
2021-09-18T00:53:12.950Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:12.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-22e1dd6b5eba77a2d8f725934d019f3f65c0133c-bc19fb564505b9a7-01 outer:exit 2b-22e1dd6b5eba77a2d8f725934d019f3f65c0133c-47db22b6387fa69e-01
2021-09-18T00:53:12.952Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:12.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9131a238c832179ec9ab36a07fac9944a188618-c1c3fc928c343723-01 outer:exit 2b-a9131a238c832179ec9ab36a07fac9944a188618-570d60afd86c82f3-01
2021-09-18T00:53:12.956Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:12.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-709f8f68d28d4a15e62730ef1d0c07df756ac72c-07536c95c4a053bf-01 outer:exit 2b-709f8f68d28d4a15e62730ef1d0c07df756ac72c-0f5e37eae98da540-01
2021-09-18T00:53:12.962Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:12.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28dc03bb6307226ad7410fbe8d0b871ee80961e-c983af66854c5fd4-01 outer:exit 2b-d28dc03bb6307226ad7410fbe8d0b871ee80961e-d9e1d7898a0ce8bc-01
2021-09-18T00:53:12.965Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:12.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-91dd7a033799f7e329d8fcb79495a8ef99865b6d-1e02eb56e3856d06-01 outer:exit 2b-91dd7a033799f7e329d8fcb79495a8ef99865b6d-f0719784a8d1cfcc-01
2021-09-18T00:53:12.971Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:12.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-877fb1e96205ac6a403e125495062196a181a4d2-9823cf4024fc454f-01 outer:exit 2b-877fb1e96205ac6a403e125495062196a181a4d2-04d610734bc652e4-01
2021-09-18T00:53:12.977Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:12.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-81c9548ca5f4c963519a92e7bfc41771c75ac19f-567dee92d466caba-01 outer:exit 2b-81c9548ca5f4c963519a92e7bfc41771c75ac19f-34dc8e58bfb393d3-01
2021-09-18T00:53:12.979Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:12.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-e00b697a98b99496192d2c7f4a3e2b6ab13db2d2-7541bc02b04b282d-01 outer:exit 2b-e00b697a98b99496192d2c7f4a3e2b6ab13db2d2-9ccc5c30643ec9ce-01
2021-09-18T00:53:12.981Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:12.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-b85efba23b54e5cb288d19e00af5bff4a04b6453-2c4686ca0744427e-01 outer:exit 2b-b85efba23b54e5cb288d19e00af5bff4a04b6453-81eb01d4753010d0-01
2021-09-18T00:53:12.987Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:12.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdfa6da1e7f698fbb00c4dc1e38fd915088d922e-937f9cb4f7374722-01 outer:exit 2b-cdfa6da1e7f698fbb00c4dc1e38fd915088d922e-73c66c6f262e26c5-01
2021-09-18T00:53:12.988Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:12.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-2de761c0ba8586579698566bebdeb76b460be0c0-9fb1e0f06a659177-01 outer:exit 2b-2de761c0ba8586579698566bebdeb76b460be0c0-7c1273ec6c9ab4c9-01
2021-09-18T00:53:12.990Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:12.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-098b650e45bb6c13aad26b62c88cc459be3119f0-86380d87ccd198bf-01 outer:exit 2b-098b650e45bb6c13aad26b62c88cc459be3119f0-d10a8a895f62bded-01
2021-09-18T00:53:12.992Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:12.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-a60cf3e1639a58f541606a1b7999a409122528c1-1dbfdee0c05dfdec-01 outer:exit 2b-a60cf3e1639a58f541606a1b7999a409122528c1-e0c1a1e01e794584-01
2021-09-18T00:53:12.994Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:12.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-172ef9192475658ba0ba4045a8efa04e5757912e-19e40a788e3dd89a-01 outer:exit 2b-172ef9192475658ba0ba4045a8efa04e5757912e-ea791f0c0333cbab-01
2021-09-18T00:53:12.995Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:13.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b0c2575ee0b4252aa523251db4222a98f2a25d6-7c0bc7958236eb8e-01 outer:exit 2b-5b0c2575ee0b4252aa523251db4222a98f2a25d6-f5d761c3eae348d1-01
2021-09-18T00:53:13.003Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:13.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-22cf6d849f509235fde8d06f1e1d6126f7d17cde-2926eb14588a47b8-01 outer:exit 2b-22cf6d849f509235fde8d06f1e1d6126f7d17cde-9f2b6ccad44b47fe-01
2021-09-18T00:53:13.010Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:13.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c099690f93f791d93d930100e7b935aa89c22e4-8a21f2251936e62f-01 outer:exit 2b-2c099690f93f791d93d930100e7b935aa89c22e4-e473fd45c60ccd8a-01
2021-09-18T00:53:13.012Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:13.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-a87d1d3ebb05397b35077bc2c38f3a15c330d17b-fa06242e3d07527a-01 outer:exit 2b-a87d1d3ebb05397b35077bc2c38f3a15c330d17b-684f95294346a567-01
2021-09-18T00:53:13.015Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:13.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecf4bd380d31a61ba809ace30d2744e281f8bac0-cecde2c66c1d3650-01 outer:exit 2b-ecf4bd380d31a61ba809ace30d2744e281f8bac0-409e4b180f5ada79-01
2021-09-18T00:53:13.017Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:13.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-35288ab1a5918ea4895083b306bae41e5c9592d3-82b9376c84eb5a52-01 outer:exit 2b-35288ab1a5918ea4895083b306bae41e5c9592d3-d672912f384f6519-01
2021-09-18T00:53:13.040Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (402ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.20
updated 1 package and audited 1094 packages in 3.813s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:17.738Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:17.739Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:17.739Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:17.740Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:17.795Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:17.824Z appoptics:patching patched crypto 
2021-09-18T00:53:17.847Z appoptics:patching patched https 
2021-09-18T00:53:17.847Z appoptics:patching patched http 
2021-09-18T00:53:17.879Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:17.879Z appoptics:patching patched fs 
2021-09-18T00:53:17.903Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v12.22.6)
2021-09-18T00:53:17.909Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-09-18T00:53:18.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-e842186288531262cfb5ddd75d06329fdd3482ac-b72a7c970e6a5992-01 outer:exit 2b-e842186288531262cfb5ddd75d06329fdd3482ac-48592f7e7fb59b6a-01
2021-09-18T00:53:18.047Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-18T00:53:18.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-90f46ef7ddc87e1ed8936ad56f5138c6a48fcdb4-d09a1b1b7cbffa8e-01 outer:exit 2b-90f46ef7ddc87e1ed8936ad56f5138c6a48fcdb4-50d56438a01660c5-01
2021-09-18T00:53:18.088Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-18T00:53:18.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-287d560eca33c6a9527816c8b5d80e388f82d4c5-1ab41356b9b2371d-01 outer:exit 2b-287d560eca33c6a9527816c8b5d80e388f82d4c5-a475a5920e07ee84-01
2021-09-18T00:53:18.091Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-18T00:53:18.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-42137e9fc8f2f1b6c0415d5fa901d4c61db0c9df-1d567c9a4ab494ee-01 outer:exit 2b-42137e9fc8f2f1b6c0415d5fa901d4c61db0c9df-0df8d2c1f987a288-01
2021-09-18T00:53:18.093Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-18T00:53:18.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-a897ed8ab9bafe206d554e1eb639c0cd0b287af5-b8104d65e431949d-01 outer:exit 2b-a897ed8ab9bafe206d554e1eb639c0cd0b287af5-0702065f38a4e957-01
2021-09-18T00:53:18.097Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-18T00:53:18.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b98b750b87cea3f0c0f1da34d51ebb52ee57fd9-6a5faef6b9f9c6cf-01 outer:exit 2b-1b98b750b87cea3f0c0f1da34d51ebb52ee57fd9-127e6a7fa5341134-01
2021-09-18T00:53:18.100Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-18T00:53:18.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-84b1cbf693c1a166711e9f00e7a47a176ff396c0-377bc4e29ff171f2-01 outer:exit 2b-84b1cbf693c1a166711e9f00e7a47a176ff396c0-d7e61c1bb09f2692-01
2021-09-18T00:53:18.102Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-18T00:53:18.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef4c426f8a11f0a55f8b77e95f1e151309326f3-5c6e3205c6bea0c7-01 outer:exit 2b-3ef4c426f8a11f0a55f8b77e95f1e151309326f3-438aa01c05afd3f9-01
2021-09-18T00:53:18.104Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-18T00:53:18.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a03deee3cf0c181ac5bf64f4f334f54237af378-c1b546ee35a6d4df-01 outer:exit 2b-3a03deee3cf0c181ac5bf64f4f334f54237af378-21a7cfe35b260d56-01
2021-09-18T00:53:18.107Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-18T00:53:18.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bd20d53fd26d06a13b77a504d3bea67d35fefbc-0924860d9bd03b0c-01 outer:exit 2b-7bd20d53fd26d06a13b77a504d3bea67d35fefbc-83c62d5238090799-01
2021-09-18T00:53:18.109Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-18T00:53:18.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-f44a702cc1a114443c0d97726d921d34cfd2e97f-710524919a91aace-01 outer:exit 2b-f44a702cc1a114443c0d97726d921d34cfd2e97f-ab58e4e2179e293c-01
2021-09-18T00:53:18.112Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-18T00:53:18.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f03827d50237e0a0035c49df50e8c8655fc7066-0fde6975d14c6d8f-01 outer:exit 2b-9f03827d50237e0a0035c49df50e8c8655fc7066-2e15004bd3418005-01
2021-09-18T00:53:18.118Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-18T00:53:18.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-684455d54f465dad5a3f757dfe8c5900ac07ee1e-a3bfa73e84424381-01 outer:exit 2b-684455d54f465dad5a3f757dfe8c5900ac07ee1e-a65042a419aa7455-01
2021-09-18T00:53:18.131Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-18T00:53:18.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-45458501b873b2e315404be93b088c59af328574-c40ee9e7992dd5cd-01 outer:exit 2b-45458501b873b2e315404be93b088c59af328574-e15f2a1a94cb087a-01
2021-09-18T00:53:18.177Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-18T00:53:18.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-420863a8cd5667a4f8a3c11de2db64cddb409f17-12051a0ed5db90f0-01 outer:exit 2b-420863a8cd5667a4f8a3c11de2db64cddb409f17-0fd4826e0c499130-01
2021-09-18T00:53:18.179Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-18T00:53:18.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2970f9e8c95c51c6cc68ac1535ed8abc50200c1-406ad8cd4fe8116f-01 outer:exit 2b-f2970f9e8c95c51c6cc68ac1535ed8abc50200c1-edc2ab007cb0f15c-01
2021-09-18T00:53:18.182Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-18T00:53:18.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-50cf293351fceabe264afff17303901833fdb5bd-1da09d31b12c49d5-01 outer:exit 2b-50cf293351fceabe264afff17303901833fdb5bd-4b7529c9e0a44e30-01
2021-09-18T00:53:18.184Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-18T00:53:18.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f945bc819da4d554e0f2e8b33f5336fe5759a3c-363502a8e71fbd7c-01 outer:exit 2b-6f945bc819da4d554e0f2e8b33f5336fe5759a3c-fd6cb6e999bdf884-01
2021-09-18T00:53:18.204Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-18T00:53:18.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-3137a3787252acb565c1c1cb935fe82f5889be68-c674c269f4664403-01 outer:exit 2b-3137a3787252acb565c1c1cb935fe82f5889be68-1724f156524ea49f-01
2021-09-18T00:53:18.209Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-18T00:53:18.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-deb53cea4e8794be2418973953cfd965dd9c5054-a22a0990c48f0ea5-01 outer:exit 2b-deb53cea4e8794be2418973953cfd965dd9c5054-c6ab2d2ee579b486-01
2021-09-18T00:53:18.211Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-18T00:53:18.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-594287cc5c9ec769e5b0a99e835fe33726310e59-e89c5387f8d568b0-01 outer:exit 2b-594287cc5c9ec769e5b0a99e835fe33726310e59-78b0cb13fcd3767b-01
2021-09-18T00:53:18.213Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-18T00:53:18.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff37ea4ae1f155a7268929041705edee3fff1eba-0e788fd9767395fe-01 outer:exit 2b-ff37ea4ae1f155a7268929041705edee3fff1eba-2baf2c748b1737d8-01
2021-09-18T00:53:18.215Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-18T00:53:18.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-c58b1bfcac596ede09dd6454b615ab3b59f804bc-c9db9e29baad9dfd-01 outer:exit 2b-c58b1bfcac596ede09dd6454b615ab3b59f804bc-61d17a5dfd527655-01
2021-09-18T00:53:18.217Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-18T00:53:18.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-305f3b272955b0b36d3a114656e0e0f4971b5f3d-e5343fbd4637ec52-01 outer:exit 2b-305f3b272955b0b36d3a114656e0e0f4971b5f3d-4dca458dbc388fa7-01
2021-09-18T00:53:18.220Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-18T00:53:18.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-db5e2a42a726a9a8d4954c65f0d00760d5ada83a-02cddf8280f303e4-01 outer:exit 2b-db5e2a42a726a9a8d4954c65f0d00760d5ada83a-57bd411c01734a8f-01
2021-09-18T00:53:18.222Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-18T00:53:18.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-9de165fe42faaf360fb57816a3caa332e1e82e0b-665fee492d4bc68b-01 outer:exit 2b-9de165fe42faaf360fb57816a3caa332e1e82e0b-c813da6f2a552efa-01
2021-09-18T00:53:18.225Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-18T00:53:18.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-c995b196f11087d1928d18421829a72b3ae610e6-72b6f2cc5d49c0f4-01 outer:exit 2b-c995b196f11087d1928d18421829a72b3ae610e6-c47e2da7f8e64034-01
2021-09-18T00:53:18.230Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-18T00:53:18.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-813e88d97d2c16f7fc4f700736b90e02311ab463-eacbd944d552f08a-01 outer:exit 2b-813e88d97d2c16f7fc4f700736b90e02311ab463-cf408f368a62f804-01
2021-09-18T00:53:18.234Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-18T00:53:18.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0e44b1eda80a5ff11b9097b4bdc7a21cefd0488-e8fcf8c803950008-01 outer:exit 2b-f0e44b1eda80a5ff11b9097b4bdc7a21cefd0488-565d12627904b46c-01
2021-09-18T00:53:18.241Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-18T00:53:18.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-a69e7550a9f0691480170543d42d58876a0f0046-b1c950260df6e2de-01 outer:exit 2b-a69e7550a9f0691480170543d42d58876a0f0046-4f070aaf2c57c1ac-01
2021-09-18T00:53:18.247Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-18T00:53:18.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-c951c2b45e8510c00fced512a96ff6e9df23703c-45277c1a9bbdd725-01 outer:exit 2b-c951c2b45e8510c00fced512a96ff6e9df23703c-e94d788663820e37-01
2021-09-18T00:53:18.248Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-18T00:53:18.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e51e6ed23baf7271e906575d236ee06ac4f2f23-283e4bb634b741a1-01 outer:exit 2b-7e51e6ed23baf7271e906575d236ee06ac4f2f23-a08de527825e0317-01
2021-09-18T00:53:18.251Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-18T00:53:18.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-70c1af997dc67e1e4740482b4d1cd4eaaba91a5c-4e0bbcea57d8d2db-01 outer:exit 2b-70c1af997dc67e1e4740482b4d1cd4eaaba91a5c-41aa87c61f200022-01
2021-09-18T00:53:18.256Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-18T00:53:18.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-c509ac2ea504da7c27ff5e4cdd692de1229d1703-6100826115dec369-01 outer:exit 2b-c509ac2ea504da7c27ff5e4cdd692de1229d1703-15dc551ca627abc1-01
2021-09-18T00:53:18.258Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-18T00:53:18.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-39bed7bdbf9201c61fb8323bf0eafeb6231e7c9a-4382bf804c289f2e-01 outer:exit 2b-39bed7bdbf9201c61fb8323bf0eafeb6231e7c9a-df1d7beb19a197af-01
2021-09-18T00:53:18.260Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-18T00:53:18.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-a834f96256a41fa4b64b7055c457870c39c0646a-c901749d4c637b29-01 outer:exit 2b-a834f96256a41fa4b64b7055c457870c39c0646a-7132777780122772-01
2021-09-18T00:53:18.262Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-18T00:53:18.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9edfb222b0d471404768457080823bbb182a77d-58445ba59c1ee977-01 outer:exit 2b-f9edfb222b0d471404768457080823bbb182a77d-2cccbe749c1c22f9-01
2021-09-18T00:53:18.263Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-18T00:53:18.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-75f0a4281bb4648c3e6acd77c9811fe95b1f4109-238867df2883d569-01 outer:exit 2b-75f0a4281bb4648c3e6acd77c9811fe95b1f4109-0d4ea6e80ea9342b-01
2021-09-18T00:53:18.265Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-18T00:53:18.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a5bd962269065b6568754661a754fa2c9ce41a4-b54131da6dc8122e-01 outer:exit 2b-0a5bd962269065b6568754661a754fa2c9ce41a4-d0f85ee9cb5ff710-01
2021-09-18T00:53:18.273Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-18T00:53:18.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-64730f816e1c6db903e16ede8113fa9da782ebeb-f236a5ce0779b161-01 outer:exit 2b-64730f816e1c6db903e16ede8113fa9da782ebeb-c9600f7e2725beeb-01
2021-09-18T00:53:18.280Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-18T00:53:18.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ea102a2e8bafb70f38200c7ce25e9de63bd26bc-4ef46bfc7b9d0cc6-01 outer:exit 2b-6ea102a2e8bafb70f38200c7ce25e9de63bd26bc-ce52da4185476ec6-01
2021-09-18T00:53:18.283Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-18T00:53:18.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a653cd2149f37d4608a2b3e84b0adabf453395d-91da5fb5f9d97c40-01 outer:exit 2b-5a653cd2149f37d4608a2b3e84b0adabf453395d-5a8f1dc2adc0ff9a-01
2021-09-18T00:53:18.285Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-18T00:53:18.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3a7ab316a8332e1067185ee81a754ac40818b59-11603f0fc847e545-01 outer:exit 2b-d3a7ab316a8332e1067185ee81a754ac40818b59-136d45bfe75795bb-01
2021-09-18T00:53:18.289Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-18T00:53:18.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-bae32fac3e76824290b84bb8f13d6caf607696c1-c353ecd4ed0c7d3e-01 outer:exit 2b-bae32fac3e76824290b84bb8f13d6caf607696c1-684ea0e01b808133-01
2021-09-18T00:53:18.312Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (295ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.0
updated 1 package and audited 1094 packages in 4.787s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:24.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:24.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:24.170Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:24.172Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:24.255Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:24.306Z appoptics:patching patched crypto 
2021-09-18T00:53:24.363Z appoptics:patching patched https 
2021-09-18T00:53:24.363Z appoptics:patching patched http 
2021-09-18T00:53:24.408Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:24.408Z appoptics:patching patched fs 
2021-09-18T00:53:24.418Z appoptics:patching patched zlib 
2021-09-18T00:53:24.442Z appoptics:patching patched mongodb-core 3.0.0
2021-09-18T00:53:24.448Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (336ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.1
updated 1 package and audited 1094 packages in 3.736s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:29.562Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:29.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:29.563Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:29.563Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:29.619Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:29.648Z appoptics:patching patched crypto 
2021-09-18T00:53:29.667Z appoptics:patching patched https 
2021-09-18T00:53:29.668Z appoptics:patching patched http 
2021-09-18T00:53:29.701Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:29.702Z appoptics:patching patched fs 
2021-09-18T00:53:29.710Z appoptics:patching patched zlib 
2021-09-18T00:53:29.729Z appoptics:patching patched mongodb-core 3.0.1
2021-09-18T00:53:29.734Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (285ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.2
updated 1 package and audited 1094 packages in 3.725s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:34.941Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:34.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:34.942Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:34.942Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:35.017Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:35.054Z appoptics:patching patched crypto 
2021-09-18T00:53:35.070Z appoptics:patching patched https 
2021-09-18T00:53:35.070Z appoptics:patching patched http 
2021-09-18T00:53:35.135Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:35.135Z appoptics:patching patched fs 
2021-09-18T00:53:35.149Z appoptics:patching patched zlib 
2021-09-18T00:53:35.186Z appoptics:patching patched mongodb-core 3.0.2
2021-09-18T00:53:35.193Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (71ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (396ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.3
updated 1 package and audited 1094 packages in 3.891s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:40.612Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:40.613Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:40.613Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:40.613Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:40.669Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:40.698Z appoptics:patching patched crypto 
2021-09-18T00:53:40.723Z appoptics:patching patched https 
2021-09-18T00:53:40.723Z appoptics:patching patched http 
2021-09-18T00:53:40.759Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:40.760Z appoptics:patching patched fs 
2021-09-18T00:53:40.772Z appoptics:patching patched zlib 
2021-09-18T00:53:40.795Z appoptics:patching patched mongodb-core 3.0.3
2021-09-18T00:53:40.799Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (291ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.4
updated 1 package and audited 1094 packages in 3.822s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:45.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:45.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:45.929Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:45.930Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:45.985Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:46.014Z appoptics:patching patched crypto 
2021-09-18T00:53:46.035Z appoptics:patching patched https 
2021-09-18T00:53:46.035Z appoptics:patching patched http 
2021-09-18T00:53:46.066Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:46.066Z appoptics:patching patched fs 
2021-09-18T00:53:46.075Z appoptics:patching patched zlib 
2021-09-18T00:53:46.096Z appoptics:patching patched mongodb-core 3.0.4
2021-09-18T00:53:46.101Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (245ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.5
updated 1 package and audited 1094 packages in 4.477s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:51.864Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:51.865Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:51.865Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:51.865Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:51.935Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:51.967Z appoptics:patching patched crypto 
2021-09-18T00:53:51.984Z appoptics:patching patched https 
2021-09-18T00:53:51.984Z appoptics:patching patched http 
2021-09-18T00:53:52.042Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:52.043Z appoptics:patching patched fs 
2021-09-18T00:53:52.052Z appoptics:patching patched zlib 
2021-09-18T00:53:52.074Z appoptics:patching patched mongodb-core 3.0.5
2021-09-18T00:53:52.079Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (271ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.6
updated 1 package and audited 1094 packages in 4.117s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:53:57.464Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:53:57.465Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:53:57.465Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:53:57.465Z appoptics:debug using context provider: ace-context
2021-09-18T00:53:57.522Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:53:57.551Z appoptics:patching patched crypto 
2021-09-18T00:53:57.566Z appoptics:patching patched https 
2021-09-18T00:53:57.569Z appoptics:patching patched http 
2021-09-18T00:53:57.601Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:53:57.601Z appoptics:patching patched fs 
2021-09-18T00:53:57.610Z appoptics:patching patched zlib 
2021-09-18T00:53:57.632Z appoptics:patching patched mongodb-core 3.0.6
2021-09-18T00:53:57.637Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (342ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.7
updated 1 package and audited 1094 packages in 4.464s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:03.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:03.441Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:03.441Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:03.441Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:03.496Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:03.524Z appoptics:patching patched crypto 
2021-09-18T00:54:03.540Z appoptics:patching patched https 
2021-09-18T00:54:03.548Z appoptics:patching patched http 
2021-09-18T00:54:03.578Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:03.579Z appoptics:patching patched fs 
2021-09-18T00:54:03.587Z appoptics:patching patched zlib 
2021-09-18T00:54:03.610Z appoptics:patching patched mongodb-core 3.0.7
2021-09-18T00:54:03.615Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (231ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.8
updated 1 package and audited 1094 packages in 3.78s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:08.611Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:08.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:08.611Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:08.612Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:08.667Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:08.695Z appoptics:patching patched crypto 
2021-09-18T00:54:08.719Z appoptics:patching patched https 
2021-09-18T00:54:08.720Z appoptics:patching patched http 
2021-09-18T00:54:08.751Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:08.751Z appoptics:patching patched fs 
2021-09-18T00:54:08.760Z appoptics:patching patched zlib 
2021-09-18T00:54:08.782Z appoptics:patching patched mongodb-core 3.0.8
2021-09-18T00:54:08.787Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (74ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (292ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.9
updated 1 package and audited 1094 packages in 4.692s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:14.709Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:14.710Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:14.710Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:14.710Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:14.767Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:14.795Z appoptics:patching patched crypto 
2021-09-18T00:54:14.823Z appoptics:patching patched https 
2021-09-18T00:54:14.823Z appoptics:patching patched http 
2021-09-18T00:54:14.864Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:14.864Z appoptics:patching patched fs 
2021-09-18T00:54:14.874Z appoptics:patching patched zlib 
2021-09-18T00:54:14.897Z appoptics:patching patched mongodb-core 3.0.9
2021-09-18T00:54:14.902Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (258ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.11
updated 1 package and audited 1094 packages in 3.778s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:19.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:19.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:19.886Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:19.886Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:19.942Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:19.970Z appoptics:patching patched crypto 
2021-09-18T00:54:19.995Z appoptics:patching patched https 
2021-09-18T00:54:19.995Z appoptics:patching patched http 
2021-09-18T00:54:20.025Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:20.025Z appoptics:patching patched fs 
2021-09-18T00:54:20.034Z appoptics:patching patched zlib 
2021-09-18T00:54:20.057Z appoptics:patching patched mongodb-core 3.0.11
2021-09-18T00:54:20.061Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (280ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.0
updated 1 package and audited 1094 packages in 4.512s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:25.783Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:25.784Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:25.784Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:25.785Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:25.841Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:25.868Z appoptics:patching patched crypto 
2021-09-18T00:54:25.884Z appoptics:patching patched https 
2021-09-18T00:54:25.884Z appoptics:patching patched http 
2021-09-18T00:54:25.921Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:25.921Z appoptics:patching patched fs 
2021-09-18T00:54:25.930Z appoptics:patching patched zlib 
2021-09-18T00:54:25.962Z appoptics:patching patched mongodb-core 3.1.0
2021-09-18T00:54:25.967Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (77ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (308ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.1
updated 1 package and audited 1094 packages in 4.6s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:31.839Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:31.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:31.840Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:31.840Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:31.898Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:31.926Z appoptics:patching patched crypto 
2021-09-18T00:54:31.949Z appoptics:patching patched https 
2021-09-18T00:54:31.949Z appoptics:patching patched http 
2021-09-18T00:54:31.982Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:31.982Z appoptics:patching patched fs 
2021-09-18T00:54:31.991Z appoptics:patching patched zlib 
2021-09-18T00:54:32.016Z appoptics:patching patched mongodb-core 3.1.1
2021-09-18T00:54:32.021Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (66ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (302ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.2
updated 2 packages and audited 1094 packages in 4.696s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:37.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:37.990Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:37.990Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:37.991Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:38.046Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:38.075Z appoptics:patching patched crypto 
2021-09-18T00:54:38.096Z appoptics:patching patched https 
2021-09-18T00:54:38.097Z appoptics:patching patched http 
2021-09-18T00:54:38.128Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:38.128Z appoptics:patching patched fs 
2021-09-18T00:54:38.137Z appoptics:patching patched zlib 
2021-09-18T00:54:38.162Z appoptics:patching patched mongodb-core 3.1.2
2021-09-18T00:54:38.167Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (294ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.3
updated 1 package and audited 1094 packages in 3.846s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:43.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:43.240Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:43.240Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:43.241Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:43.294Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:43.325Z appoptics:patching patched crypto 
2021-09-18T00:54:43.346Z appoptics:patching patched https 
2021-09-18T00:54:43.347Z appoptics:patching patched http 
2021-09-18T00:54:43.377Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:43.377Z appoptics:patching patched fs 
2021-09-18T00:54:43.387Z appoptics:patching patched zlib 
2021-09-18T00:54:43.412Z appoptics:patching patched mongodb-core 3.1.3
2021-09-18T00:54:43.417Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (284ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.4
updated 1 package and audited 1094 packages in 5.65s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:50.292Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:50.293Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:50.293Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:50.294Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:50.350Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:50.378Z appoptics:patching patched crypto 
2021-09-18T00:54:50.398Z appoptics:patching patched https 
2021-09-18T00:54:50.398Z appoptics:patching patched http 
2021-09-18T00:54:50.429Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:50.430Z appoptics:patching patched fs 
2021-09-18T00:54:50.440Z appoptics:patching patched zlib 
2021-09-18T00:54:50.465Z appoptics:patching patched mongodb-core 3.1.4
2021-09-18T00:54:50.470Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (76ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (762ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.5
updated 1 package and audited 1094 packages in 3.719s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:54:55.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:54:55.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:54:55.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:54:55.996Z appoptics:debug using context provider: ace-context
2021-09-18T00:54:56.052Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:54:56.081Z appoptics:patching patched crypto 
2021-09-18T00:54:56.101Z appoptics:patching patched https 
2021-09-18T00:54:56.102Z appoptics:patching patched http 
2021-09-18T00:54:56.132Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:54:56.133Z appoptics:patching patched fs 
2021-09-18T00:54:56.143Z appoptics:patching patched zlib 
2021-09-18T00:54:56.168Z appoptics:patching patched mongodb-core 3.1.5
2021-09-18T00:54:56.173Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (78ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (316ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.6
updated 1 package and audited 1094 packages in 4.373s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:01.850Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:01.851Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:01.851Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:01.852Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:01.908Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:01.936Z appoptics:patching patched crypto 
2021-09-18T00:55:01.960Z appoptics:patching patched https 
2021-09-18T00:55:01.960Z appoptics:patching patched http 
2021-09-18T00:55:01.990Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:01.990Z appoptics:patching patched fs 
2021-09-18T00:55:02.000Z appoptics:patching patched zlib 
2021-09-18T00:55:02.025Z appoptics:patching patched mongodb-core 3.1.6
2021-09-18T00:55:02.030Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (58ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (288ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.7
updated 1 package and audited 1094 packages in 3.749s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:07.052Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:07.052Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:07.052Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:07.053Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:07.110Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:07.139Z appoptics:patching patched crypto 
2021-09-18T00:55:07.154Z appoptics:patching patched https 
2021-09-18T00:55:07.154Z appoptics:patching patched http 
2021-09-18T00:55:07.190Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:07.191Z appoptics:patching patched fs 
2021-09-18T00:55:07.201Z appoptics:patching patched zlib 
2021-09-18T00:55:07.226Z appoptics:patching patched mongodb-core 3.1.7
2021-09-18T00:55:07.231Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (335ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.8
updated 1 package and audited 1094 packages in 4.582s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:13.107Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:13.108Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:13.108Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:13.108Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:13.164Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:13.192Z appoptics:patching patched crypto 
2021-09-18T00:55:13.217Z appoptics:patching patched https 
2021-09-18T00:55:13.217Z appoptics:patching patched http 
2021-09-18T00:55:13.250Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:13.250Z appoptics:patching patched fs 
2021-09-18T00:55:13.260Z appoptics:patching patched zlib 
2021-09-18T00:55:13.285Z appoptics:patching patched mongodb-core 3.1.8
2021-09-18T00:55:13.290Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (244ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.9
updated 1 package and audited 1094 packages in 3.813s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:18.295Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:18.295Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:18.295Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:18.296Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:18.352Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:18.382Z appoptics:patching patched crypto 
2021-09-18T00:55:18.416Z appoptics:patching patched https 
2021-09-18T00:55:18.416Z appoptics:patching patched http 
2021-09-18T00:55:18.446Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:18.447Z appoptics:patching patched fs 
2021-09-18T00:55:18.460Z appoptics:patching patched zlib 
2021-09-18T00:55:18.487Z appoptics:patching patched mongodb-core 3.1.9
2021-09-18T00:55:18.492Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (284ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.10
updated 1 package and audited 1094 packages in 4.057s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:23.983Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:23.984Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:23.984Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:23.984Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:24.055Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:24.088Z appoptics:patching patched crypto 
2021-09-18T00:55:24.120Z appoptics:patching patched https 
2021-09-18T00:55:24.120Z appoptics:patching patched http 
2021-09-18T00:55:24.159Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:24.160Z appoptics:patching patched fs 
2021-09-18T00:55:24.169Z appoptics:patching patched zlib 
2021-09-18T00:55:24.198Z appoptics:patching patched mongodb-core 3.1.10
2021-09-18T00:55:24.203Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (288ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.11
updated 1 package and audited 1094 packages in 3.806s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:29.343Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:29.344Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:29.344Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:29.344Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:29.401Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:29.429Z appoptics:patching patched crypto 
2021-09-18T00:55:29.444Z appoptics:patching patched https 
2021-09-18T00:55:29.444Z appoptics:patching patched http 
2021-09-18T00:55:29.485Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:29.485Z appoptics:patching patched fs 
2021-09-18T00:55:29.495Z appoptics:patching patched zlib 
2021-09-18T00:55:29.520Z appoptics:patching patched mongodb-core 3.1.11
2021-09-18T00:55:29.525Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (328ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.0
updated 1 package and audited 1094 packages in 3.807s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:34.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:34.705Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:34.705Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:34.706Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:34.771Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:34.800Z appoptics:patching patched crypto 
2021-09-18T00:55:34.829Z appoptics:patching patched https 
2021-09-18T00:55:34.838Z appoptics:patching patched http 
2021-09-18T00:55:34.911Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:34.911Z appoptics:patching patched fs 
2021-09-18T00:55:34.929Z appoptics:patching patched zlib 
2021-09-18T00:55:34.960Z appoptics:patching patched mongodb-core 3.2.0
2021-09-18T00:55:34.965Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (277ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.1
updated 1 package and audited 1094 packages in 3.93s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:40.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:40.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:40.309Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:40.309Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:40.366Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:40.399Z appoptics:patching patched crypto 
2021-09-18T00:55:40.415Z appoptics:patching patched https 
2021-09-18T00:55:40.415Z appoptics:patching patched http 
2021-09-18T00:55:40.450Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:40.451Z appoptics:patching patched fs 
2021-09-18T00:55:40.461Z appoptics:patching patched zlib 
2021-09-18T00:55:40.491Z appoptics:patching patched mongodb-core 3.2.1
2021-09-18T00:55:40.496Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (79ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (389ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.2
updated 1 package and audited 1094 packages in 3.873s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:45.840Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:45.841Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:45.841Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:45.841Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:45.897Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:45.926Z appoptics:patching patched crypto 
2021-09-18T00:55:45.945Z appoptics:patching patched https 
2021-09-18T00:55:45.945Z appoptics:patching patched http 
2021-09-18T00:55:45.977Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:45.977Z appoptics:patching patched fs 
2021-09-18T00:55:45.987Z appoptics:patching patched zlib 
2021-09-18T00:55:46.018Z appoptics:patching patched mongodb-core 3.2.2
2021-09-18T00:55:46.023Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (68ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (288ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.3
updated 1 package and audited 1094 packages in 5.775s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:53.118Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:53.119Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:53.119Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:53.119Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:53.180Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:53.209Z appoptics:patching patched crypto 
2021-09-18T00:55:53.226Z appoptics:patching patched https 
2021-09-18T00:55:53.226Z appoptics:patching patched http 
2021-09-18T00:55:53.261Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:53.261Z appoptics:patching patched fs 
2021-09-18T00:55:53.271Z appoptics:patching patched zlib 
2021-09-18T00:55:53.301Z appoptics:patching patched mongodb-core 3.2.3
2021-09-18T00:55:53.306Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (316ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.4
updated 1 package and audited 1094 packages in 3.74s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:55:58.320Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:55:58.321Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:55:58.321Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:55:58.321Z appoptics:debug using context provider: ace-context
2021-09-18T00:55:58.391Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:55:58.423Z appoptics:patching patched crypto 
2021-09-18T00:55:58.451Z appoptics:patching patched https 
2021-09-18T00:55:58.451Z appoptics:patching patched http 
2021-09-18T00:55:58.483Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:55:58.483Z appoptics:patching patched fs 
2021-09-18T00:55:58.494Z appoptics:patching patched zlib 
2021-09-18T00:55:58.529Z appoptics:patching patched mongodb-core 3.2.4
2021-09-18T00:55:58.534Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (300ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.5
updated 1 package and audited 1094 packages in 4.229s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:04.204Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:04.205Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:04.205Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:04.205Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:04.263Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:04.318Z appoptics:patching patched crypto 
2021-09-18T00:56:04.342Z appoptics:patching patched https 
2021-09-18T00:56:04.346Z appoptics:patching patched http 
2021-09-18T00:56:04.378Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:04.378Z appoptics:patching patched fs 
2021-09-18T00:56:04.389Z appoptics:patching patched zlib 
2021-09-18T00:56:04.419Z appoptics:patching patched mongodb-core 3.2.5
2021-09-18T00:56:04.424Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (61ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (336ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.6
updated 1 package and audited 1094 packages in 3.742s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:09.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:09.485Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:09.485Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:09.485Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:09.541Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:09.582Z appoptics:patching patched crypto 
2021-09-18T00:56:09.601Z appoptics:patching patched https 
2021-09-18T00:56:09.601Z appoptics:patching patched http 
2021-09-18T00:56:09.644Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:09.645Z appoptics:patching patched fs 
2021-09-18T00:56:09.660Z appoptics:patching patched zlib 
2021-09-18T00:56:09.690Z appoptics:patching patched mongodb-core 3.2.6
2021-09-18T00:56:09.695Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (245ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 1094 packages in 4.494s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-18T00:56:15.392Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-18T00:56:15.393Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-18T00:56:15.393Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-18T00:56:15.393Z appoptics:debug using context provider: ace-context
2021-09-18T00:56:15.445Z appoptics:debug apm 10.0.2-prerelease.0, bindings 11.0.1-prerelease.0, oboe 10.1.1
2021-09-18T00:56:15.474Z appoptics:patching patched crypto 
2021-09-18T00:56:15.501Z appoptics:patching patched https 
2021-09-18T00:56:15.501Z appoptics:patching patched http 
2021-09-18T00:56:15.529Z appoptics:patching fs.realpath - adding native method
2021-09-18T00:56:15.529Z appoptics:patching patched fs 
2021-09-18T00:56:15.540Z appoptics:patching patched zlib 
2021-09-18T00:56:15.570Z appoptics:patching patched mongodb-core 3.2.7
2021-09-18T00:56:15.575Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (277ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 1094 packages in 3.78s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
