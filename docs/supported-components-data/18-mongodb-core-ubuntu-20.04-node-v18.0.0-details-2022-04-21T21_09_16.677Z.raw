npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:25.077Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:25.077Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:25.077Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:25.078Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:25.149Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:25.311Z appoptics:patching patched crypto 
2022-04-21T21:09:25.358Z appoptics:patching patched https 
2022-04-21T21:09:25.359Z appoptics:patching patched http 
2022-04-21T21:09:25.406Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:25.410Z appoptics:patching patched fs 
2022-04-21T21:09:25.432Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v18.0.0)
2022-04-21T21:09:25.441Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-21T21:09:25.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c577fb62d78029c7071ee40e5fa5c56b9b04eb5-be3eccc76c5e107f-01 outer:exit 2b-7c577fb62d78029c7071ee40e5fa5c56b9b04eb5-71047d039cec2ceb-01
2022-04-21T21:09:25.514Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:09:25.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-01767abc2e4bc70001d21b91aca0fb25d3714fb7-5e0ad3c6fc774ce5-01 outer:exit 2b-01767abc2e4bc70001d21b91aca0fb25d3714fb7-bfbf6fdb40b0f632-01
2022-04-21T21:09:25.573Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:09:25.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-63b440e0853e2d31bfce636759694612dafa0a40-11cbaf6c72adc369-01 outer:exit 2b-63b440e0853e2d31bfce636759694612dafa0a40-d3a90d080829507c-01
2022-04-21T21:09:25.582Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:09:25.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cde257d9ff3fb8077621ac0d841e4c9616013dc-a4d9db71770aea40-01 outer:exit 2b-9cde257d9ff3fb8077621ac0d841e4c9616013dc-ee23884f9a3cbc90-01
2022-04-21T21:09:25.586Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:09:25.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-171def3e0ac39e6675b2c8ce9620dd25002f4fb8-7a272b70aa62a0e2-01 outer:exit 2b-171def3e0ac39e6675b2c8ce9620dd25002f4fb8-d41a251f3f642375-01
2022-04-21T21:09:25.596Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:09:25.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-1784b530b9cc5e878110165658a0d04db5b41a2c-438d773406c9e715-01 outer:exit 2b-1784b530b9cc5e878110165658a0d04db5b41a2c-e3501c7b02436bd2-01
2022-04-21T21:09:25.601Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:09:25.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-210b959c82246fe49a1bb935234d9b27c84a469a-fb259b53c28620f9-01 outer:exit 2b-210b959c82246fe49a1bb935234d9b27c84a469a-111a283d6ebda2ed-01
2022-04-21T21:09:25.605Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:09:25.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed8817ecad13753b566cb63c5c8ff28ea872298-d69c4fb325ab0b58-01 outer:exit 2b-bed8817ecad13753b566cb63c5c8ff28ea872298-135097af4e4a4514-01
2022-04-21T21:09:25.608Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:09:25.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aef18ee9440eb3faad8676adae304fdda572bb8-0601ac5f7375b8a6-01 outer:exit 2b-4aef18ee9440eb3faad8676adae304fdda572bb8-0aabb07a46de4abe-01
2022-04-21T21:09:25.611Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:09:25.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4fa195569c48c8294eab5524ff1d6057a4fae81-02c7c057d2c3c085-01 outer:exit 2b-b4fa195569c48c8294eab5524ff1d6057a4fae81-f05a3def86dffc76-01
2022-04-21T21:09:25.614Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:09:25.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e4fb21c1e285b05892ea30f1daeb08c01df01c3-de6031e0fdf83200-01 outer:exit 2b-8e4fb21c1e285b05892ea30f1daeb08c01df01c3-256dfc579d69b2b2-01
2022-04-21T21:09:25.618Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:09:25.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-af868b4ed5e9a6829c64ff2d4cf38db53512bccd-c5f23024e936b4f3-01 outer:exit 2b-af868b4ed5e9a6829c64ff2d4cf38db53512bccd-8c6a276a90425598-01
2022-04-21T21:09:25.669Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:09:25.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d33fcdcaff6e10ee12a39095e60a19d771aed98-65a6a1c95a3af0c0-01 outer:exit 2b-1d33fcdcaff6e10ee12a39095e60a19d771aed98-8abd7dc79f0fa00c-01
2022-04-21T21:09:25.699Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:09:25.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-e12bd928a5bf136dcf21190ab93ee1b4f01ccffa-196b93aab3c24656-01 outer:exit 2b-e12bd928a5bf136dcf21190ab93ee1b4f01ccffa-cfb5f761990828bd-01
2022-04-21T21:09:25.756Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:09:25.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-c93aafb7720ba2b9abd24935fa5ff3bc33b18025-129c4adfac898486-01 outer:exit 2b-c93aafb7720ba2b9abd24935fa5ff3bc33b18025-d6c39e84f43c7da7-01
2022-04-21T21:09:25.765Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:09:25.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe7898b957bd202d59fe37a84a6572aa5c5ff1b1-cb56e2dd61d4595a-01 outer:exit 2b-fe7898b957bd202d59fe37a84a6572aa5c5ff1b1-235662e4fa80fd12-01
2022-04-21T21:09:25.767Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:09:25.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c22d83b8d2cbed0808b5f8540f94cf1a86c0c0d-f8c6c35825cb94ad-01 outer:exit 2b-7c22d83b8d2cbed0808b5f8540f94cf1a86c0c0d-bd55744d78fef19c-01
2022-04-21T21:09:25.774Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:09:25.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e4fcbd790b067020ca245a0efee28d5ed8bf0c2-1c2ee53c56584e1d-01 outer:exit 2b-7e4fcbd790b067020ca245a0efee28d5ed8bf0c2-e94dff7e24d0480d-01
2022-04-21T21:09:25.777Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:09:25.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ee08b9ebbe7bb077fcd43ce8eb04909c2d6123-8d0b59626c6faa6d-01 outer:exit 2b-75ee08b9ebbe7bb077fcd43ce8eb04909c2d6123-128e544c562bbffd-01
2022-04-21T21:09:25.781Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:09:25.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-939fb3b0f5f9f070c36cdcf9301cb76ac1370a9f-b56e7dbed95c021f-01 outer:exit 2b-939fb3b0f5f9f070c36cdcf9301cb76ac1370a9f-52505d71ff25c294-01
2022-04-21T21:09:25.785Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:09:25.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b8d35f7f5dce3a60379cdd2f91253f4e92d662c-c05264231d7e7880-01 outer:exit 2b-9b8d35f7f5dce3a60379cdd2f91253f4e92d662c-7fe1857d4899a02c-01
2022-04-21T21:09:25.787Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:09:25.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-09e431112b8eb58ffce94393b9ab003b01603231-5aeaccda414fc62e-01 outer:exit 2b-09e431112b8eb58ffce94393b9ab003b01603231-d833bfb85f265710-01
2022-04-21T21:09:25.794Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:09:25.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-43d8f068fc25e1f90a3f84789aa2a52f8e2f5758-661180a4af86cbcd-01 outer:exit 2b-43d8f068fc25e1f90a3f84789aa2a52f8e2f5758-96e8a2147252a555-01
2022-04-21T21:09:25.797Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:09:25.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-27c42f3fc7882741f53f983996c12cb50e9cc3ba-3c64bdfdde123a45-01 outer:exit 2b-27c42f3fc7882741f53f983996c12cb50e9cc3ba-2418fd928333b015-01
2022-04-21T21:09:25.801Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:09:25.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-aba4fba9c4b99a38f994e798436339a58efabf7c-a11163df1d6c32d9-01 outer:exit 2b-aba4fba9c4b99a38f994e798436339a58efabf7c-ff9dd38368b589fc-01
2022-04-21T21:09:25.807Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:09:25.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-110b68c2c3214ae4d5dbe126792a0e3eb388768b-a4a00f5ecf7db5a1-01 outer:exit 2b-110b68c2c3214ae4d5dbe126792a0e3eb388768b-4f4aed87eb9c75f3-01
2022-04-21T21:09:25.809Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:09:25.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f2ec29c68a59acd97afb75877d2ff1203761203-362e0b86bc52180a-01 outer:exit 2b-7f2ec29c68a59acd97afb75877d2ff1203761203-ed11a1c00399a866-01
2022-04-21T21:09:25.870Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:09:25.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2a20d48792236a41c75ce381922e4d2d635aaad-81241056fb6ff293-01 outer:exit 2b-b2a20d48792236a41c75ce381922e4d2d635aaad-73f3fa85d47b4f84-01
2022-04-21T21:09:25.899Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:09:25.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5750da3b91f315e4d762f16cfcbaccc3ccda144-c2ec1c615f6e48d3-01 outer:exit 2b-a5750da3b91f315e4d762f16cfcbaccc3ccda144-cc8f455629b4b7c6-01
2022-04-21T21:09:25.911Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:09:25.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-abdfe4f524c744a1811770f23ed5a413a54046fe-2065a04147f89587-01 outer:exit 2b-abdfe4f524c744a1811770f23ed5a413a54046fe-67e579843ca478e5-01
2022-04-21T21:09:25.946Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:09:25.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ebe8e33c0a9b1a41469557598543bc98addd0ce-820da8b717aa08c5-01 outer:exit 2b-9ebe8e33c0a9b1a41469557598543bc98addd0ce-36d89ac263838f45-01
2022-04-21T21:09:25.953Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:09:25.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2930899682dadbd724e3a737940087e3f8883cf-b55427afd74e489a-01 outer:exit 2b-a2930899682dadbd724e3a737940087e3f8883cf-341aac2009deb111-01
2022-04-21T21:09:25.956Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:09:25.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4d6e9e8f7c27c412f7e5d463fbbc8a0f72d1d8f-2fe9b923f3f51faa-01 outer:exit 2b-b4d6e9e8f7c27c412f7e5d463fbbc8a0f72d1d8f-1e839fffab5924f3-01
2022-04-21T21:09:25.968Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:09:25.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b36ed0464ee2c3e30e31d1fdabef4868172707-51cf58fba8db6f91-01 outer:exit 2b-a1b36ed0464ee2c3e30e31d1fdabef4868172707-80864b152419e607-01
2022-04-21T21:09:25.979Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:09:25.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-03dd87381c230bc884d523f8d1a437a7a4f00d52-6afbf0a3719e15ef-01 outer:exit 2b-03dd87381c230bc884d523f8d1a437a7a4f00d52-661dad37be3c0a73-01
2022-04-21T21:09:25.982Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:09:25.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-97e36ca48261b7ed956a560eb45ee12541789f7d-f97601c21a124859-01 outer:exit 2b-97e36ca48261b7ed956a560eb45ee12541789f7d-55273dd02f68bfd9-01
2022-04-21T21:09:25.985Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:09:25.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-886efbd678fc6c97ad99de3770516a7eeea6992a-1ccb44135baa81f1-01 outer:exit 2b-886efbd678fc6c97ad99de3770516a7eeea6992a-c9f5cd40de3c4c7d-01
2022-04-21T21:09:25.987Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:09:25.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-19ead7ebe4d87238386820138fd75ff2c84a1bf2-6f9275b0d3af151e-01 outer:exit 2b-19ead7ebe4d87238386820138fd75ff2c84a1bf2-0d7836151315a7d9-01
2022-04-21T21:09:25.989Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:09:26.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-564d49feb5ab32cc23b62bb7fae10e58054e61a6-b817ed6fb040107e-01 outer:exit 2b-564d49feb5ab32cc23b62bb7fae10e58054e61a6-1265397ac22694df-01
2022-04-21T21:09:26.003Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:09:26.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-92f51a5d83b305b88d9baef283bae83599094547-b2ab0d3adc675952-01 outer:exit 2b-92f51a5d83b305b88d9baef283bae83599094547-6f0d93917e0ecc29-01
2022-04-21T21:09:26.016Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:09:26.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1b14e7879cfe9a4c1a88c2616d27da545448d85-014c7b3dc56cdace-01 outer:exit 2b-b1b14e7879cfe9a4c1a88c2616d27da545448d85-27beb70e65bf38d9-01
2022-04-21T21:09:26.019Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:09:26.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-aafc93df08f694d6a2bd465e771ee81ce6ccc26f-157f05b8bcc5c4e8-01 outer:exit 2b-aafc93df08f694d6a2bd465e771ee81ce6ccc26f-f0e94c1eed457fea-01
2022-04-21T21:09:26.022Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:09:26.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bf5003c2927260cda255197ec33a55cb1976d07-87e608c2e73d5125-01 outer:exit 2b-4bf5003c2927260cda255197ec33a55cb1976d07-6fca4fed789f5688-01
2022-04-21T21:09:26.092Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:09:26.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-4840a10b0a2e8d33a66327c504ba3e316b8d6885-c41cf1f52f0face7-01 outer:exit 2b-4840a10b0a2e8d33a66327c504ba3e316b8d6885-57cef9b73ed1cc34-01
2022-04-21T21:09:26.132Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (679ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:32.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:32.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:32.659Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:32.660Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:32.724Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:32.836Z appoptics:patching patched crypto 
2022-04-21T21:09:32.854Z appoptics:patching patched https 
2022-04-21T21:09:32.854Z appoptics:patching patched http 
2022-04-21T21:09:32.905Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:32.905Z appoptics:patching patched fs 
2022-04-21T21:09:32.919Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v18.0.0)
2022-04-21T21:09:32.925Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-21T21:09:32.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6a0177b8549a8ed4ee8f2655bb4809bfdaeb6bc-7ac8d5cf87f4e1fe-01 outer:exit 2b-f6a0177b8549a8ed4ee8f2655bb4809bfdaeb6bc-31454c6a4ee797bd-01
2022-04-21T21:09:32.967Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:09:33.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6a4fc5ecca66a3c29d4c6615ed3c5b79e98723b-465c8ea6a3158dce-01 outer:exit 2b-c6a4fc5ecca66a3c29d4c6615ed3c5b79e98723b-ca49f7ea408e7e98-01
2022-04-21T21:09:33.014Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:09:33.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-958a6a9cef04937aff4334fad62f2555dc1fe685-0e3472a51b536053-01 outer:exit 2b-958a6a9cef04937aff4334fad62f2555dc1fe685-c31eeef89cc1ec3f-01
2022-04-21T21:09:33.020Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:09:33.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-3910f8abf6fe5734976f8d42006a5cd6054c8c1c-1d75e44c8fd32334-01 outer:exit 2b-3910f8abf6fe5734976f8d42006a5cd6054c8c1c-fced90a507bb4d62-01
2022-04-21T21:09:33.024Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:09:33.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae2330dfd0b57620af9e1b3c1bbef3574c9b3062-6574bddc79081e15-01 outer:exit 2b-ae2330dfd0b57620af9e1b3c1bbef3574c9b3062-d87af2eddf9f0e43-01
2022-04-21T21:09:33.028Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:09:33.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d2abcfe316f1b5c76b90a6426d5cbe38d0abaef-8de90e5606a1c435-01 outer:exit 2b-5d2abcfe316f1b5c76b90a6426d5cbe38d0abaef-b063601213c11102-01
2022-04-21T21:09:33.031Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:09:33.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb9a8fc99c8c8cef6954313bd573e46b5e7af5c7-ccef1cf618ba4292-01 outer:exit 2b-bb9a8fc99c8c8cef6954313bd573e46b5e7af5c7-8605ee1c43a32f41-01
2022-04-21T21:09:33.034Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:09:33.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0a711e1175f7258532f9d9dee5ac38e398cda34-d49b2346c19dce27-01 outer:exit 2b-e0a711e1175f7258532f9d9dee5ac38e398cda34-60adb4505d67d6e7-01
2022-04-21T21:09:33.036Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:09:33.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-616b7b0c4d8c157feddb0ac1ef5f597cc82d9cb7-853482560f1887b2-01 outer:exit 2b-616b7b0c4d8c157feddb0ac1ef5f597cc82d9cb7-7be20467374253da-01
2022-04-21T21:09:33.038Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:09:33.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-d598f1a08b5768d52564b474865ad4f2e0a60548-091acf23e0be9d89-01 outer:exit 2b-d598f1a08b5768d52564b474865ad4f2e0a60548-42ab74da9054b310-01
2022-04-21T21:09:33.041Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:09:33.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4826007bc831c0cc969cdfe1eded2108ca49424-4fdc963ab44ee5bf-01 outer:exit 2b-d4826007bc831c0cc969cdfe1eded2108ca49424-c27e065d45c73a29-01
2022-04-21T21:09:33.045Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:09:33.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc33ebb5c88efb5cedfe9e975e83b42e32fdbdb3-b47c6e12e5bfd581-01 outer:exit 2b-fc33ebb5c88efb5cedfe9e975e83b42e32fdbdb3-7192e03fcee9d9b9-01
2022-04-21T21:09:33.050Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:09:33.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-72b28ff5a14044d6f8f8993bbbc33b37a5128f7e-649934776108e077-01 outer:exit 2b-72b28ff5a14044d6f8f8993bbbc33b37a5128f7e-9d8d6143f4ae1d9f-01
2022-04-21T21:09:33.067Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:09:33.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-c26c5eb94a4cb200714c47d719157f45f3543ddb-18e7257453cf1c46-01 outer:exit 2b-c26c5eb94a4cb200714c47d719157f45f3543ddb-6a759453b60956e9-01
2022-04-21T21:09:33.105Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:09:33.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-455f4e6f7f154975449600dc29088255e0491473-32f0358eed91061c-01 outer:exit 2b-455f4e6f7f154975449600dc29088255e0491473-290096a615f1a3bb-01
2022-04-21T21:09:33.108Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:09:33.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-7502b4cbf2d5e3d7a0bea2bd862f5af591e130c7-600ac2a9f00b2944-01 outer:exit 2b-7502b4cbf2d5e3d7a0bea2bd862f5af591e130c7-05a36ce54ce6fa80-01
2022-04-21T21:09:33.110Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:09:33.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7678994a9fecdda3d5a3a163152ead77bd05821-8a1930266af8e3ba-01 outer:exit 2b-a7678994a9fecdda3d5a3a163152ead77bd05821-5d6dfe7f8d475c8d-01
2022-04-21T21:09:33.113Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:09:33.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8f3da2938d651a339d87e4dc6a7a4b0a38a65d1-8d0fb0b66b05997b-01 outer:exit 2b-c8f3da2938d651a339d87e4dc6a7a4b0a38a65d1-88ac9ecd38e35484-01
2022-04-21T21:09:33.115Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:09:33.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2dcbb4a07284090b1483960b4680708906c61fa-fbdca09342b6e0ef-01 outer:exit 2b-b2dcbb4a07284090b1483960b4680708906c61fa-c56a8c10b76ab8fa-01
2022-04-21T21:09:33.116Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:09:33.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-61a89a50c2094cebce46d685da7e164c6db083cd-d644dfc092af852c-01 outer:exit 2b-61a89a50c2094cebce46d685da7e164c6db083cd-00540c7cfbec5e3b-01
2022-04-21T21:09:33.120Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:09:33.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-39a6da0ef5579880429688b9f8fc8c190235d23a-45a94acef8ae3482-01 outer:exit 2b-39a6da0ef5579880429688b9f8fc8c190235d23a-70469cf2c0b224a6-01
2022-04-21T21:09:33.122Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:09:33.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-eec5fc2ef1c9eda52023f8da1b100dd985d555f4-615e611f653dcf5b-01 outer:exit 2b-eec5fc2ef1c9eda52023f8da1b100dd985d555f4-2925595ad62df738-01
2022-04-21T21:09:33.124Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:09:33.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ae481d54d98bdb82e732955799ba3eef2437463-f2c87b3513464fed-01 outer:exit 2b-7ae481d54d98bdb82e732955799ba3eef2437463-812e79772f78a352-01
2022-04-21T21:09:33.127Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:09:33.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-210707cee9e118195682d9e2175c8f9bf359f4c4-982f48c7e8c4dc5c-01 outer:exit 2b-210707cee9e118195682d9e2175c8f9bf359f4c4-73c4750532aae3a7-01
2022-04-21T21:09:33.130Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:09:33.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b5ea521e1239c63392b557f5586ad6c3d641b8-557a3e07531805c2-01 outer:exit 2b-91b5ea521e1239c63392b557f5586ad6c3d641b8-bfdc58b7b4b95a45-01
2022-04-21T21:09:33.132Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:09:33.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d3952799f2e64f9c69131425e4c30fefbec6f62-fb9ee9724dba58b3-01 outer:exit 2b-4d3952799f2e64f9c69131425e4c30fefbec6f62-5b58bd8d2e7fe7ab-01
2022-04-21T21:09:33.134Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:09:33.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-69fe94be8106c02fcb161ec6a35de681ef332962-9fbc5f6effc6bca6-01 outer:exit 2b-69fe94be8106c02fcb161ec6a35de681ef332962-0d8ca736dc319d9c-01
2022-04-21T21:09:33.139Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:09:33.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-b274572292fe3d25ea232fc3872cdcee66f37232-7d8a599ea3b0faca-01 outer:exit 2b-b274572292fe3d25ea232fc3872cdcee66f37232-3bc5ebeca70f19fb-01
2022-04-21T21:09:33.144Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:09:33.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-df92ac2683d6ca1e1ec719f2a480ff53a8e88ab1-83b3dcd10e3f7a8d-01 outer:exit 2b-df92ac2683d6ca1e1ec719f2a480ff53a8e88ab1-b941532f84cc4678-01
2022-04-21T21:09:33.152Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:09:33.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b60048162917e2de32f51667fbf65dc6405feec-5c5aa6232c337aba-01 outer:exit 2b-2b60048162917e2de32f51667fbf65dc6405feec-9d2bb7057273f65b-01
2022-04-21T21:09:33.160Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:09:33.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e792e0a383e296a045bb474d6875b2327ab66d6-c18eb1490dfe6f3a-01 outer:exit 2b-9e792e0a383e296a045bb474d6875b2327ab66d6-09c0a09c517d0dfb-01
2022-04-21T21:09:33.162Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:09:33.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-253fea525969190fd90b2b4e1a6ee2f0ba9aa668-90415c77203f5963-01 outer:exit 2b-253fea525969190fd90b2b4e1a6ee2f0ba9aa668-a6d7ba81fef74d41-01
2022-04-21T21:09:33.165Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:09:33.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b45ef9872a9d7dfcaba6f2332ec8c187a834659-0bc6029825898ccc-01 outer:exit 2b-5b45ef9872a9d7dfcaba6f2332ec8c187a834659-69c14f9bed96a7c2-01
2022-04-21T21:09:33.172Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:09:33.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-33b196cf2598e1835eb22c5a699522056eaa7289-e11af8d55355db7c-01 outer:exit 2b-33b196cf2598e1835eb22c5a699522056eaa7289-1c53a76af005ca4c-01
2022-04-21T21:09:33.174Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:09:33.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-63e068e6bd5f331ce956ae1682d460d60aa3fcb7-97c0e613972cb637-01 outer:exit 2b-63e068e6bd5f331ce956ae1682d460d60aa3fcb7-5bd507a4a410b8ef-01
2022-04-21T21:09:33.175Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:09:33.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9e8657ce6fb7e29774ab13f8e65ad0492726421-befde3a343dfde16-01 outer:exit 2b-f9e8657ce6fb7e29774ab13f8e65ad0492726421-79ce9326cbcd45c1-01
2022-04-21T21:09:33.177Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:09:33.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bc58bac1c9b6c29b5aa09ef010b436f0c16c295-8a27f8c7ad914483-01 outer:exit 2b-0bc58bac1c9b6c29b5aa09ef010b436f0c16c295-fee52098979ec677-01
2022-04-21T21:09:33.179Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:09:33.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c25101fa6ebe531f8bb4c4644a2d1b21ac7b144-53015f3b729e2f9a-01 outer:exit 2b-5c25101fa6ebe531f8bb4c4644a2d1b21ac7b144-27634e33252c1994-01
2022-04-21T21:09:33.181Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:09:33.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-d70fa6ce81ea2abc5da96454eb619a31b6390103-456becb386d589bf-01 outer:exit 2b-d70fa6ce81ea2abc5da96454eb619a31b6390103-6f0d87ef13c0304e-01
2022-04-21T21:09:33.191Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:09:33.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f8bac50b329d1c4c24430d36571c422f1d71c59-6d8f3ef0593e5d9b-01 outer:exit 2b-4f8bac50b329d1c4c24430d36571c422f1d71c59-bbaeb54af6a7ed39-01
2022-04-21T21:09:33.201Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:09:33.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-96f78d0bc4643fd5233b0dba13300f79de7854e4-a6f5868fcc112b48-01 outer:exit 2b-96f78d0bc4643fd5233b0dba13300f79de7854e4-828c3ac8dc6a008c-01
2022-04-21T21:09:33.204Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:09:33.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca8023347b667f5d9e98ff8617b73e4a32c54a01-e5a049954fc0ef73-01 outer:exit 2b-ca8023347b667f5d9e98ff8617b73e4a32c54a01-90fc6e7cdf6b1765-01
2022-04-21T21:09:33.206Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:09:33.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1f7d406f11b3b8a0edbfd111227c18888d9cdd3-1be05e4df65eefc9-01 outer:exit 2b-f1f7d406f11b3b8a0edbfd111227c18888d9cdd3-f01ff08df4dea8ee-01
2022-04-21T21:09:33.209Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:09:33.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-44df9e1f931f7fbbeca79d47b2ab9d65597462d3-628d44745ef848fc-01 outer:exit 2b-44df9e1f931f7fbbeca79d47b2ab9d65597462d3-707f10222e69e3a2-01
2022-04-21T21:09:33.237Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:40.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:40.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:40.418Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:40.419Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:40.479Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:40.595Z appoptics:patching patched crypto 
2022-04-21T21:09:40.621Z appoptics:patching patched https 
2022-04-21T21:09:40.621Z appoptics:patching patched http 
2022-04-21T21:09:40.664Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:40.665Z appoptics:patching patched fs 
2022-04-21T21:09:40.678Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v18.0.0)
2022-04-21T21:09:40.687Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-21T21:09:40.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-97cc21fab4a4c9097bc54a3e4adacd0133819254-dce034f2fe949340-01 outer:exit 2b-97cc21fab4a4c9097bc54a3e4adacd0133819254-718b7e4e9ce80632-01
2022-04-21T21:09:40.743Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:09:40.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-72c3dbb4fb9eb1e08f33aadc112772e3d6496ff4-a70260ece7417fcb-01 outer:exit 2b-72c3dbb4fb9eb1e08f33aadc112772e3d6496ff4-b75c7ab61d54f7fd-01
2022-04-21T21:09:40.790Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:09:40.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9dd17ad29eaf40b493be4f625c15f1df00c24c2-15041931768fb5c7-01 outer:exit 2b-d9dd17ad29eaf40b493be4f625c15f1df00c24c2-182fbb0f01c3326c-01
2022-04-21T21:09:40.794Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:09:40.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-f447c01f238a77302e5bb51f7004393064c86501-b8d01a11b01e3e6a-01 outer:exit 2b-f447c01f238a77302e5bb51f7004393064c86501-59f0283711cb34bb-01
2022-04-21T21:09:40.797Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:09:40.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-d34dfa00ba70997d1c22b1e79052a58437351fe4-a63cf02fe554d788-01 outer:exit 2b-d34dfa00ba70997d1c22b1e79052a58437351fe4-60cafbf7474fd453-01
2022-04-21T21:09:40.804Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:09:40.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-e48ccfcf2a6f914fbbf559b27cc2d91bdc7b600f-acab8c568d355125-01 outer:exit 2b-e48ccfcf2a6f914fbbf559b27cc2d91bdc7b600f-1387c0c72f0c4972-01
2022-04-21T21:09:40.807Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:09:40.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-3315882bb3b02c608d4df813f3b70cb9b727f250-98f46a902d90c4ca-01 outer:exit 2b-3315882bb3b02c608d4df813f3b70cb9b727f250-c3c9363821bebdfb-01
2022-04-21T21:09:40.809Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:09:40.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-16559c6dce77e48e72a32bcca59250abe261a696-6e80c282f389f790-01 outer:exit 2b-16559c6dce77e48e72a32bcca59250abe261a696-116ce50daa75d202-01
2022-04-21T21:09:40.812Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:09:40.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4bd791f9c5dff35ae34318999358d99f4dcdac7-631190481733aa79-01 outer:exit 2b-d4bd791f9c5dff35ae34318999358d99f4dcdac7-feaaa496aab7ab37-01
2022-04-21T21:09:40.815Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:09:40.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-372761365291c3d5e12728a5df38341bf7b9147b-f034fd75b2f1964b-01 outer:exit 2b-372761365291c3d5e12728a5df38341bf7b9147b-ae304178b6961e43-01
2022-04-21T21:09:40.818Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:09:40.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f2dc3340570a95f04f52fea73d928367bd7f4ab-b8daccd8d8e3c5f5-01 outer:exit 2b-0f2dc3340570a95f04f52fea73d928367bd7f4ab-fbef1674574c2769-01
2022-04-21T21:09:40.821Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:09:40.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-11d08b93bf497f901cfd7ecdcb0948401864ad9f-11dc04aff46aad98-01 outer:exit 2b-11d08b93bf497f901cfd7ecdcb0948401864ad9f-cbb921083de7392c-01
2022-04-21T21:09:40.827Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:09:40.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-826f122fa5e914a0962864db93e6d39f9c38364c-d6434e757258f61f-01 outer:exit 2b-826f122fa5e914a0962864db93e6d39f9c38364c-0b7a504b991c14a8-01
2022-04-21T21:09:40.843Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:09:40.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-0825b55f35ceb99e56e6a6d91151a6ad4f9b7710-c39cdf4f00842f19-01 outer:exit 2b-0825b55f35ceb99e56e6a6d91151a6ad4f9b7710-9ea9213c485e0c35-01
2022-04-21T21:09:40.881Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:09:40.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6f3ea34dae1cc8a1203c30283de5981cda298cf-4dbf6bcf08fbf6e9-01 outer:exit 2b-e6f3ea34dae1cc8a1203c30283de5981cda298cf-b26d9db1b5582f6e-01
2022-04-21T21:09:40.884Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:09:40.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-c419e6f493fca71588e25cb107ff84c046f486be-72e774415955a0cd-01 outer:exit 2b-c419e6f493fca71588e25cb107ff84c046f486be-44ddab6d4d92442c-01
2022-04-21T21:09:40.886Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:09:40.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0a21c0899f4a891a40d6b7c5e8d567370598569-6d2c5dbba1187b92-01 outer:exit 2b-d0a21c0899f4a891a40d6b7c5e8d567370598569-6be0b5aa90a00ef7-01
2022-04-21T21:09:40.889Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:09:40.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2895bf5afabb5dde641a0f0edb3f0b49473a156-788381ff6483877c-01 outer:exit 2b-a2895bf5afabb5dde641a0f0edb3f0b49473a156-d513f3e948739336-01
2022-04-21T21:09:40.891Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:09:40.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-31e8251fb5b7add43b0bb5a346eeab6c06173bd3-cf6f95badd66f4b8-01 outer:exit 2b-31e8251fb5b7add43b0bb5a346eeab6c06173bd3-e5b7510de88d9716-01
2022-04-21T21:09:40.892Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:09:40.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-afa6a6163d7c06b1d1a22ab054181ff6d1e813a0-25d879751ad27315-01 outer:exit 2b-afa6a6163d7c06b1d1a22ab054181ff6d1e813a0-c6eb757fb19dd61c-01
2022-04-21T21:09:40.894Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:09:40.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1442574a79af8dfef53f9f81ae99967dade0e67-70ae832df16ad700-01 outer:exit 2b-a1442574a79af8dfef53f9f81ae99967dade0e67-7433ef70ecbed390-01
2022-04-21T21:09:40.896Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:09:40.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d1e5688cdc317e525c30f5b1ac8722b2187bdb7-6c71d5d94fdc7dfb-01 outer:exit 2b-4d1e5688cdc317e525c30f5b1ac8722b2187bdb7-2addbc7b7f33a6b4-01
2022-04-21T21:09:40.898Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:09:40.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-255eeeb400f0d6629e8d2419b42a38892561de94-c339f739e10e95a1-01 outer:exit 2b-255eeeb400f0d6629e8d2419b42a38892561de94-158407ed5d261337-01
2022-04-21T21:09:40.900Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:09:40.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-a59c623790c4266c3ef8591e8e20f9161a969f4c-2e72051479b4f08f-01 outer:exit 2b-a59c623790c4266c3ef8591e8e20f9161a969f4c-f3be95819059b47b-01
2022-04-21T21:09:40.903Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:09:40.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0fbcd9db86de531d105380e5ff54a904112ad13-997b645bcf7f0d77-01 outer:exit 2b-b0fbcd9db86de531d105380e5ff54a904112ad13-c6967a422b0c08d2-01
2022-04-21T21:09:40.905Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:09:40.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-07ef94c821f4e3c2152a67720c4d35b0ec7d3fdf-5adda9a2df1c084f-01 outer:exit 2b-07ef94c821f4e3c2152a67720c4d35b0ec7d3fdf-5f2aba5f4bcebba0-01
2022-04-21T21:09:40.907Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:09:40.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2514de2fb40a6ca32129fcdf986702e5390a1e2-7f3ce81d59d7eed0-01 outer:exit 2b-a2514de2fb40a6ca32129fcdf986702e5390a1e2-7f8a6a55c47e2079-01
2022-04-21T21:09:40.913Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:09:40.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b1241abd3a7a2d9655b937b9a7072e77a71de14-b4460ab366b0be97-01 outer:exit 2b-5b1241abd3a7a2d9655b937b9a7072e77a71de14-25a0b8474a5099bc-01
2022-04-21T21:09:40.917Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:09:40.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6d49fb0b785d8a6741f7475f8f5c5d1836e1c7e-86e2c03bfc424638-01 outer:exit 2b-b6d49fb0b785d8a6741f7475f8f5c5d1836e1c7e-380fd9ff9d9bd763-01
2022-04-21T21:09:40.925Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:09:40.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-61c8bb3b493a99a64070337d61675cacc084a877-3ba891bd2e7d0139-01 outer:exit 2b-61c8bb3b493a99a64070337d61675cacc084a877-67cbc7f704374cff-01
2022-04-21T21:09:40.933Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:09:40.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-471b04c17b3ca5b182a773b8ce6db62d6b92aac2-524d770276227fb0-01 outer:exit 2b-471b04c17b3ca5b182a773b8ce6db62d6b92aac2-849e69f480b25f6b-01
2022-04-21T21:09:40.934Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:09:40.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-759b84e950065e78e3c8077ec1ad626fa69e2633-310c646497ba6c67-01 outer:exit 2b-759b84e950065e78e3c8077ec1ad626fa69e2633-4663fd06129d4635-01
2022-04-21T21:09:40.937Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:09:40.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5110b31d10f9a667e9e5286cd677a9490d517d2-206eb1360ad2ae87-01 outer:exit 2b-a5110b31d10f9a667e9e5286cd677a9490d517d2-c79ae7ae7973b65f-01
2022-04-21T21:09:40.943Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:09:40.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-76fb4e87ba137facb5b379f24dd7ef17453f17b7-7ecb7d67518ffaa6-01 outer:exit 2b-76fb4e87ba137facb5b379f24dd7ef17453f17b7-fefbb15ff4abe4b9-01
2022-04-21T21:09:40.946Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:09:40.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ef25019d5d7e1628f3cee67b406a54ba98f52f3-1f92641911039f4d-01 outer:exit 2b-1ef25019d5d7e1628f3cee67b406a54ba98f52f3-7890180e5861043e-01
2022-04-21T21:09:40.947Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:09:40.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-62e6f29c73c90e0e7c88bd29a1b83d20d0c069d6-3c222a8ebd3b4914-01 outer:exit 2b-62e6f29c73c90e0e7c88bd29a1b83d20d0c069d6-3a1dbf598de49b6b-01
2022-04-21T21:09:40.949Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:09:40.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bc72fda2c3a4d3062c3b8d150b31f3adfaf67a2-be2088c63eeffec8-01 outer:exit 2b-1bc72fda2c3a4d3062c3b8d150b31f3adfaf67a2-804922afaf63e944-01
2022-04-21T21:09:40.951Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:09:40.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-e513a10c11f8aa43323de385c83c2f6739565956-d3976d1d6edaf8e5-01 outer:exit 2b-e513a10c11f8aa43323de385c83c2f6739565956-2da440276b7c82e4-01
2022-04-21T21:09:40.952Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:09:40.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ff376746003079dbc8d2c1650e12429a3301fc7-b8062c4dea3deb49-01 outer:exit 2b-9ff376746003079dbc8d2c1650e12429a3301fc7-d82ffeb4ebef55cc-01
2022-04-21T21:09:40.961Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:09:40.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-edcef2c9d49deea0a7e943c83989eb8f6e631b1f-49a05e209b068ee7-01 outer:exit 2b-edcef2c9d49deea0a7e943c83989eb8f6e631b1f-e2e953b88c0a77f2-01
2022-04-21T21:09:40.968Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:09:40.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f673accecef220d4143ce2a1c5db259edb97213-b4ea069c4c2af5e9-01 outer:exit 2b-6f673accecef220d4143ce2a1c5db259edb97213-e93e0ae92c4a2441-01
2022-04-21T21:09:40.971Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:09:40.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9b2293bffac7f1eb2fd02e5117e786abd592457-54c2d6d616289c36-01 outer:exit 2b-c9b2293bffac7f1eb2fd02e5117e786abd592457-804d5d8a5017af8a-01
2022-04-21T21:09:40.974Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:09:40.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f14341cf703708dfed0952e757cec7a9fc8b116-b77e1059199e446b-01 outer:exit 2b-9f14341cf703708dfed0952e757cec7a9fc8b116-229123c5fc53d3b2-01
2022-04-21T21:09:40.976Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:09:41.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-558abd527df22f393eb5174635c36ffc422f100b-9bb5e8859911f942-01 outer:exit 2b-558abd527df22f393eb5174635c36ffc422f100b-f4b0ece900c50cab-01
2022-04-21T21:09:41.003Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (310ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:47.189Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:47.189Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:47.189Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:47.190Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:47.249Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:47.361Z appoptics:patching patched crypto 
2022-04-21T21:09:47.380Z appoptics:patching patched https 
2022-04-21T21:09:47.391Z appoptics:patching patched http 
2022-04-21T21:09:47.433Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:47.434Z appoptics:patching patched fs 
2022-04-21T21:09:47.447Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v18.0.0)
2022-04-21T21:09:47.453Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-21T21:09:47.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-590e8e59b6ecaab5a26bf383761b6d6767f4f3c5-b54a40b33b57de8e-01 outer:exit 2b-590e8e59b6ecaab5a26bf383761b6d6767f4f3c5-8a764e83e240a6e7-01
2022-04-21T21:09:47.499Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:09:47.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-342d4bc78757e3322cc0b2eb37af839c36c9390c-54902d8016f5114c-01 outer:exit 2b-342d4bc78757e3322cc0b2eb37af839c36c9390c-45e81fab7d56c88f-01
2022-04-21T21:09:47.543Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:09:47.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc0713322d72346247d67fb9140bd4d358f94cd8-04e713243d80575e-01 outer:exit 2b-dc0713322d72346247d67fb9140bd4d358f94cd8-a41926bf57de4381-01
2022-04-21T21:09:47.547Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:09:47.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-3553fbfa022e39589e5eb216d9d23f3cc424e441-50af52466eeb0010-01 outer:exit 2b-3553fbfa022e39589e5eb216d9d23f3cc424e441-f93d5370698e2680-01
2022-04-21T21:09:47.551Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:09:47.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a1ac41dd761be618271f876c1c460b13c0b22a6-1e2ddcf95f27c071-01 outer:exit 2b-4a1ac41dd761be618271f876c1c460b13c0b22a6-24115059bf30455e-01
2022-04-21T21:09:47.555Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:09:47.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-3211f72c2a60fa698affa3f647b9d7ed9eed44be-9e34573ebe7c0eda-01 outer:exit 2b-3211f72c2a60fa698affa3f647b9d7ed9eed44be-eebea05a6eaf4d2c-01
2022-04-21T21:09:47.558Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:09:47.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa832b61ba19e5469db1148b2c1deab7f03695a3-e808314551ca05db-01 outer:exit 2b-fa832b61ba19e5469db1148b2c1deab7f03695a3-9595b2ed3dde3321-01
2022-04-21T21:09:47.564Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:09:47.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-df730d1b17d8d405770f157fdaa269823a9c0816-fd858e3903eb8f56-01 outer:exit 2b-df730d1b17d8d405770f157fdaa269823a9c0816-1e42938dc0161838-01
2022-04-21T21:09:47.566Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:09:47.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d18051b66a2878addd31a934ecdfbdeefcefe7e-766f143b1f85226b-01 outer:exit 2b-6d18051b66a2878addd31a934ecdfbdeefcefe7e-1663cf77d9cc579b-01
2022-04-21T21:09:47.568Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:09:47.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c000059345e8b6f92875a50ebb5a5eb149b53af-a6c5c25acd2badbb-01 outer:exit 2b-5c000059345e8b6f92875a50ebb5a5eb149b53af-59f37828d323d526-01
2022-04-21T21:09:47.572Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:09:47.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-141d2128d8bf14ff9095ecfb132553a1b1c93e79-a4320d696bbe8813-01 outer:exit 2b-141d2128d8bf14ff9095ecfb132553a1b1c93e79-0b7e6005467899dc-01
2022-04-21T21:09:47.575Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:09:47.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cf2b297429846a698abc6a3591481eec6515fcc-16d0e7c754eca838-01 outer:exit 2b-5cf2b297429846a698abc6a3591481eec6515fcc-d8fdbedf31c76a0a-01
2022-04-21T21:09:47.581Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:09:47.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfb5681cd52f652eb8a3f191e5e87e5d689db650-c40614a3e6e1593d-01 outer:exit 2b-cfb5681cd52f652eb8a3f191e5e87e5d689db650-9ee72cb2d82d3bbe-01
2022-04-21T21:09:47.596Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:09:47.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e0351412f6618693d366212234331b3b9986f3b-d262d7fcf77a9d77-01 outer:exit 2b-4e0351412f6618693d366212234331b3b9986f3b-35892a6205969c6b-01
2022-04-21T21:09:47.635Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:09:47.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-6136fe293b3bc98a4163bdec451a0ba4d843ab3f-44a0b54d8c14b366-01 outer:exit 2b-6136fe293b3bc98a4163bdec451a0ba4d843ab3f-39f3df61c33f31bb-01
2022-04-21T21:09:47.638Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:09:47.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e7dbfeb22ec1eacef62914d90449e26056207cc-5aa8297ac0184f91-01 outer:exit 2b-9e7dbfeb22ec1eacef62914d90449e26056207cc-881eb51113d1da2d-01
2022-04-21T21:09:47.640Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:09:47.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f00936bc4938a3f1ba21e5619e5c1a53db7825-aa85f8cb95e09d00-01 outer:exit 2b-c5f00936bc4938a3f1ba21e5619e5c1a53db7825-8d838ee9c7508f99-01
2022-04-21T21:09:47.643Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:09:47.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-96437e44ebb6d050d1ed84b338806ef2dd900b37-1875d9258f2132b6-01 outer:exit 2b-96437e44ebb6d050d1ed84b338806ef2dd900b37-999387e1dfd419a3-01
2022-04-21T21:09:47.645Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:09:47.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b580b91496fd50d8aeddc22d6d9739231d8128d-4f5985784ebe5d1e-01 outer:exit 2b-4b580b91496fd50d8aeddc22d6d9739231d8128d-dbdbbb6124bead7b-01
2022-04-21T21:09:47.647Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:09:47.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-d76794a09ee0cc339fa119d7470f9f09513f3094-0ab3092fae63e66b-01 outer:exit 2b-d76794a09ee0cc339fa119d7470f9f09513f3094-619031c0dc183398-01
2022-04-21T21:09:47.649Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:09:47.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b5ed44603566ebcd7888a9a6a92debe0a218cf5-382b9e2b92ba9207-01 outer:exit 2b-5b5ed44603566ebcd7888a9a6a92debe0a218cf5-efef882f89fc5df2-01
2022-04-21T21:09:47.650Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:09:47.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-882375ef021bd8bba36a3a5c58da672979c5dc19-8ff2a46c3c72d046-01 outer:exit 2b-882375ef021bd8bba36a3a5c58da672979c5dc19-5f0674d8badc024a-01
2022-04-21T21:09:47.652Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:09:47.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-16a6704e45145eab50b533c4b6ee2c4800e83a0b-4bf7f0a29ea4c593-01 outer:exit 2b-16a6704e45145eab50b533c4b6ee2c4800e83a0b-e3c9adbec52e363f-01
2022-04-21T21:09:47.655Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:09:47.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a6ccdadb4cb9b904a7a7aadd1c5c615d47bc59-57bc1003cbe27e7a-01 outer:exit 2b-f3a6ccdadb4cb9b904a7a7aadd1c5c615d47bc59-1ad376635cbd2992-01
2022-04-21T21:09:47.657Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:09:47.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-224adbc5d9f10c09164a0ad1dc7e69dd9a7bebcd-043e52467e2207f7-01 outer:exit 2b-224adbc5d9f10c09164a0ad1dc7e69dd9a7bebcd-612877827db98971-01
2022-04-21T21:09:47.659Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:09:47.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-26d4fa7acf3131f3bf752a2ec4caa4e4fc9067dd-62fa71cb30abe230-01 outer:exit 2b-26d4fa7acf3131f3bf752a2ec4caa4e4fc9067dd-301015a5ca187e49-01
2022-04-21T21:09:47.662Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:09:47.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-2101c69de18df601b5022df44d3e7c281eaa6321-9a9941803fadb10b-01 outer:exit 2b-2101c69de18df601b5022df44d3e7c281eaa6321-eb59e119f76d9b0d-01
2022-04-21T21:09:47.667Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:09:47.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9fca302b6d25e3bd49aa19f7cd794f7381ba89c-71134ebb55999ad8-01 outer:exit 2b-a9fca302b6d25e3bd49aa19f7cd794f7381ba89c-5497bbe459eba1a4-01
2022-04-21T21:09:47.671Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:09:47.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-768dd128ebd30d993b29130098b27b6de983b7f7-a05b0cc6ca1c2002-01 outer:exit 2b-768dd128ebd30d993b29130098b27b6de983b7f7-bd4d9da5514f1255-01
2022-04-21T21:09:47.679Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:09:47.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bd2be3a8540020441ec469f5db2d304f9c9c329-ccaffd91f663d134-01 outer:exit 2b-5bd2be3a8540020441ec469f5db2d304f9c9c329-9c23221fa245040d-01
2022-04-21T21:09:47.687Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:09:47.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-80edb9b67d54db51c29a6b9460c213bf86624276-d9c9725326e7a013-01 outer:exit 2b-80edb9b67d54db51c29a6b9460c213bf86624276-c487b7419584b895-01
2022-04-21T21:09:47.689Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:09:47.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-6091f502b63e68f097d877a0475975a7b4a5dc80-832d73669f00c33c-01 outer:exit 2b-6091f502b63e68f097d877a0475975a7b4a5dc80-511d376df68244a0-01
2022-04-21T21:09:47.692Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:09:47.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-838d7803b6ade6d0c6ef0df69bbfd85a3b494d43-c70be51665d516fb-01 outer:exit 2b-838d7803b6ade6d0c6ef0df69bbfd85a3b494d43-29b75d0ab547d9eb-01
2022-04-21T21:09:47.698Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:09:47.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-649e09d638f70dcc3793fa2e8620d21eb6d9fc24-ad341632b03d8934-01 outer:exit 2b-649e09d638f70dcc3793fa2e8620d21eb6d9fc24-f0e2c3558b488d10-01
2022-04-21T21:09:47.700Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:09:47.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-30f684bf9cfecb91c8880f197028212575c2a2b9-380306ae80a1f70f-01 outer:exit 2b-30f684bf9cfecb91c8880f197028212575c2a2b9-f0d5916f68385926-01
2022-04-21T21:09:47.702Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:09:47.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-c959c395142a1841ccec44ed26266fa83fed3d33-e2d5344ed793b23b-01 outer:exit 2b-c959c395142a1841ccec44ed26266fa83fed3d33-99badd7e1f88b96c-01
2022-04-21T21:09:47.704Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:09:47.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-f223436cd29294c85be704cc49cb28cbafabffdb-a2119f1de7d23a26-01 outer:exit 2b-f223436cd29294c85be704cc49cb28cbafabffdb-f335eac1e60d883c-01
2022-04-21T21:09:47.705Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:09:47.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5522798509ba9d5697a2bf54c9ab85a864c045e-cf410db4b01a2915-01 outer:exit 2b-f5522798509ba9d5697a2bf54c9ab85a864c045e-f450ac529139a323-01
2022-04-21T21:09:47.707Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:09:47.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc18239a9ae5d372803905044245cbf0e764c3b3-7408bce9e0fa544b-01 outer:exit 2b-cc18239a9ae5d372803905044245cbf0e764c3b3-7f4b11691cf336ee-01
2022-04-21T21:09:47.717Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:09:47.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-325fe1033afec1c0951bbb1d9913780f5e9725c0-9910be717b3f77f0-01 outer:exit 2b-325fe1033afec1c0951bbb1d9913780f5e9725c0-41fdc79b2edfa418-01
2022-04-21T21:09:47.726Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:09:47.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fd600428cd1c6cbed5cef7e6b8a699c9fef099b-125ab7c694abb619-01 outer:exit 2b-5fd600428cd1c6cbed5cef7e6b8a699c9fef099b-2c2b0632f96d1eba-01
2022-04-21T21:09:47.728Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:09:47.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a502ec8463dc70a2df84a7fa460804d516a1ed8-fb21363733ba84d6-01 outer:exit 2b-6a502ec8463dc70a2df84a7fa460804d516a1ed8-f7fe77132b718688-01
2022-04-21T21:09:47.731Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:09:47.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-8960316f167f363bdece1f48f64809385f30ea2c-31e83e0fab9d895d-01 outer:exit 2b-8960316f167f363bdece1f48f64809385f30ea2c-72ca3068bc68f8ed-01
2022-04-21T21:09:47.733Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:09:47.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eb47ee924a43cab938a73039de6fbdba978aaae-552bee4a989e9dab-01 outer:exit 2b-0eb47ee924a43cab938a73039de6fbdba978aaae-03931274c0cf056b-01
2022-04-21T21:09:47.762Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (303ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:54.655Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:54.656Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:54.656Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:54.657Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:54.716Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:54.827Z appoptics:patching patched crypto 
2022-04-21T21:09:54.845Z appoptics:patching patched https 
2022-04-21T21:09:54.845Z appoptics:patching patched http 
2022-04-21T21:09:54.899Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:54.900Z appoptics:patching patched fs 
2022-04-21T21:09:54.913Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v18.0.0)
2022-04-21T21:09:54.918Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-21T21:09:54.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-61018d6f84150ae77d830057f595788092fa71ac-d2f1375b1fc3158d-01 outer:exit 2b-61018d6f84150ae77d830057f595788092fa71ac-71b08178c43e6e1f-01
2022-04-21T21:09:54.961Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:09:55.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-adbafec63e8593f40ce48a13cfeca87034c52093-b2f080c7e6e272fb-01 outer:exit 2b-adbafec63e8593f40ce48a13cfeca87034c52093-fa81b471f591d36b-01
2022-04-21T21:09:55.006Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:09:55.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-812065d2affc51646faacdbed7802f661c0d03ec-6681bc6e0bd040ba-01 outer:exit 2b-812065d2affc51646faacdbed7802f661c0d03ec-e384bc2d7734167c-01
2022-04-21T21:09:55.010Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:09:55.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a576fefaa163a7fbf2eac1aca9a2eea7ce24aa4-544c7ebf1e668a20-01 outer:exit 2b-0a576fefaa163a7fbf2eac1aca9a2eea7ce24aa4-2a972631f7261872-01
2022-04-21T21:09:55.013Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:09:55.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-47554cda8e96eb1fd688c8a5ff9ce4102eadbd72-bbd0ae0cc251a4eb-01 outer:exit 2b-47554cda8e96eb1fd688c8a5ff9ce4102eadbd72-8131134e2809dfb7-01
2022-04-21T21:09:55.018Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:09:55.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-c41a8f7f207d70f8e0134813b4cdb3ed50dff5a8-333953dc348a77c8-01 outer:exit 2b-c41a8f7f207d70f8e0134813b4cdb3ed50dff5a8-c182c33dc864c103-01
2022-04-21T21:09:55.021Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:09:55.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-18f50a4dd4ec9aa8c0393fac8a2ecdf09be3a940-5aeb287956da288c-01 outer:exit 2b-18f50a4dd4ec9aa8c0393fac8a2ecdf09be3a940-458ef7b4a545f770-01
2022-04-21T21:09:55.023Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:09:55.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-5076feac493a463db87de9c879c33d0321743d16-a6437c849645c058-01 outer:exit 2b-5076feac493a463db87de9c879c33d0321743d16-141bf17ca2013302-01
2022-04-21T21:09:55.025Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:09:55.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5e41a1596a7b22030d46b2420b65d50f561bd1c-21837953a19bf5ca-01 outer:exit 2b-b5e41a1596a7b22030d46b2420b65d50f561bd1c-9f351a7e88016002-01
2022-04-21T21:09:55.028Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:09:55.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c341c64bb149ed6db737ac6143ffb5342e8b66f-b8e54800936d1461-01 outer:exit 2b-8c341c64bb149ed6db737ac6143ffb5342e8b66f-8c296bce7f9ee845-01
2022-04-21T21:09:55.031Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:09:55.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-bef3f15441675b9eeb739b27635ef06359785acf-1936103166ec4452-01 outer:exit 2b-bef3f15441675b9eeb739b27635ef06359785acf-e80df533720ecac5-01
2022-04-21T21:09:55.035Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:09:55.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a48aecc04795389fe7f3eb0fd066f6958b9d8d5-0b16349ecde0b665-01 outer:exit 2b-1a48aecc04795389fe7f3eb0fd066f6958b9d8d5-9f18c351e1901c19-01
2022-04-21T21:09:55.044Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:09:55.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a8d6afc80ceccba5a50da0b14664490d2a8fba0-bce3e5915bf1b14e-01 outer:exit 2b-6a8d6afc80ceccba5a50da0b14664490d2a8fba0-32385c7e4a4c295e-01
2022-04-21T21:09:55.062Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:09:55.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-546526434e6abcabb0a761f38e09684c24aab176-ead87790ebd359ae-01 outer:exit 2b-546526434e6abcabb0a761f38e09684c24aab176-2a61b19e61a57d7a-01
2022-04-21T21:09:55.101Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:09:55.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-44218ac11b8ae07384b95d657c3aa06667499bec-0dfa13211d028f16-01 outer:exit 2b-44218ac11b8ae07384b95d657c3aa06667499bec-0fe022da39fb023d-01
2022-04-21T21:09:55.104Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:09:55.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f1c98e3828b674557ac467119b41933c501537a-3e1f8338faf1546e-01 outer:exit 2b-2f1c98e3828b674557ac467119b41933c501537a-f0012ea844de53d8-01
2022-04-21T21:09:55.109Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:09:55.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a21f726bee44b353161288438efe521a79d65a8-da3158a098c744fc-01 outer:exit 2b-0a21f726bee44b353161288438efe521a79d65a8-1d5b7da1374b0748-01
2022-04-21T21:09:55.112Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:09:55.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-14273a741aed4822a8ef826c098d4e4c475d3f93-a04c43412518aa07-01 outer:exit 2b-14273a741aed4822a8ef826c098d4e4c475d3f93-7d32f94cf0960525-01
2022-04-21T21:09:55.114Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:09:55.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-022ea05210696a357d8edda38765c2b8ba61fe2a-dba20c2dc2c2f135-01 outer:exit 2b-022ea05210696a357d8edda38765c2b8ba61fe2a-abb7fa5061a36e21-01
2022-04-21T21:09:55.116Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:09:55.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-35d4b97483539f2c49cdec4ce4403faca90e48b6-26df6800204a1ca3-01 outer:exit 2b-35d4b97483539f2c49cdec4ce4403faca90e48b6-3b01fce2fc86dad9-01
2022-04-21T21:09:55.118Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:09:55.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-46608936a17b6ba4f67e40977c1ea018a489de96-8d3bed012aef2e64-01 outer:exit 2b-46608936a17b6ba4f67e40977c1ea018a489de96-9ecbde24f5626b85-01
2022-04-21T21:09:55.120Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:09:55.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe52ef7c652ad376a62bdf4228f314c199a8d62d-0f02da8205482e12-01 outer:exit 2b-fe52ef7c652ad376a62bdf4228f314c199a8d62d-83d18f0ba966173b-01
2022-04-21T21:09:55.122Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:09:55.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-40369da78a332d65bd89282bff85904298248eec-d3757ec31207f675-01 outer:exit 2b-40369da78a332d65bd89282bff85904298248eec-c5a02ab8829fe8e8-01
2022-04-21T21:09:55.125Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:09:55.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c7b88e6bfccb5e9b2af0fdcd88c6194e0e2707c-533d251764aac870-01 outer:exit 2b-2c7b88e6bfccb5e9b2af0fdcd88c6194e0e2707c-8243b8c0a70d1990-01
2022-04-21T21:09:55.128Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:09:55.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b4f0f0c9d31f00080515d22e0e70c3d9c1e1b3b-d82c8c76d2a76ba4-01 outer:exit 2b-6b4f0f0c9d31f00080515d22e0e70c3d9c1e1b3b-df9eeefb3c0494ea-01
2022-04-21T21:09:55.130Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:09:55.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-386dfdc4a6f0de3e037a789202591611ba58f6d4-6d2d14a1c140fc56-01 outer:exit 2b-386dfdc4a6f0de3e037a789202591611ba58f6d4-de6d5722b3e7ccb2-01
2022-04-21T21:09:55.133Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:09:55.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d61186a730ac7fbdb61d79adc90d0d8e9b9fb32-8639a13493262bbb-01 outer:exit 2b-7d61186a730ac7fbdb61d79adc90d0d8e9b9fb32-cae13f8e612c92e6-01
2022-04-21T21:09:55.139Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:09:55.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdf6bb0131899e2aa44b1e280bada4deee36f0f4-3fe3a50a5f86dcdf-01 outer:exit 2b-fdf6bb0131899e2aa44b1e280bada4deee36f0f4-7543f8758ad03574-01
2022-04-21T21:09:55.143Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:09:55.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-98c9a5b20b10bd90b1c4bd01761a0dc884e340ef-34fe361ecfaf3b85-01 outer:exit 2b-98c9a5b20b10bd90b1c4bd01761a0dc884e340ef-74381c5e109792e8-01
2022-04-21T21:09:55.152Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:09:55.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-d34c3a57c59e862ff16fc71557a7844f1e5a2dfb-007e041403d5ad4f-01 outer:exit 2b-d34c3a57c59e862ff16fc71557a7844f1e5a2dfb-1ea2a856ced77cda-01
2022-04-21T21:09:55.159Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:09:55.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-19f7903dd75a50909fb24aa79be99db960e21ca9-82a5a7469fe59a40-01 outer:exit 2b-19f7903dd75a50909fb24aa79be99db960e21ca9-e3f65729040311e1-01
2022-04-21T21:09:55.161Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:09:55.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-1422945c0d84cb7d920c8a32b057624ea6447d16-0e510b1436e9166b-01 outer:exit 2b-1422945c0d84cb7d920c8a32b057624ea6447d16-2f9bfa1a7c045364-01
2022-04-21T21:09:55.164Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:09:55.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dea8b2f30a04fda0491e86ba147a2fd8ff32881-264fa2847c73b046-01 outer:exit 2b-2dea8b2f30a04fda0491e86ba147a2fd8ff32881-2747d1db936864d1-01
2022-04-21T21:09:55.170Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:09:55.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-c86cacd402a86aaed8c119e7b0a05e09e17e65b8-e365a38d12cb7273-01 outer:exit 2b-c86cacd402a86aaed8c119e7b0a05e09e17e65b8-b36f52f649adceee-01
2022-04-21T21:09:55.172Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:09:55.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-95c8e1a5a1be4a7b6323ff953707879721eb845b-005956b434ef14b8-01 outer:exit 2b-95c8e1a5a1be4a7b6323ff953707879721eb845b-7edd658ca20ddda1-01
2022-04-21T21:09:55.173Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:09:55.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6c8b2b93778c6f06178193c84adabb2b86a9fe5-52e36b085eac9e02-01 outer:exit 2b-f6c8b2b93778c6f06178193c84adabb2b86a9fe5-61a8499f5bc8b377-01
2022-04-21T21:09:55.175Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:09:55.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3408f2b289ee1fe76b2e5637920c74320b9e32d-5d8e5dcf305434d4-01 outer:exit 2b-d3408f2b289ee1fe76b2e5637920c74320b9e32d-fec428363cfdf6a7-01
2022-04-21T21:09:55.177Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:09:55.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdb1625577b9b90a90b114719a70c4444f6060c9-271d53207fd5a625-01 outer:exit 2b-bdb1625577b9b90a90b114719a70c4444f6060c9-4c9a4267ecceebf2-01
2022-04-21T21:09:55.179Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:09:55.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f5dd13bcdc48b2b622bdc5a2f7540d55c5a7994-ddd7264d05918a84-01 outer:exit 2b-6f5dd13bcdc48b2b622bdc5a2f7540d55c5a7994-36694d20067f6920-01
2022-04-21T21:09:55.189Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:09:55.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-eed2f6d84f4d4dceb87e593731e52a4105b72ffa-f5b6b9565f6ae560-01 outer:exit 2b-eed2f6d84f4d4dceb87e593731e52a4105b72ffa-db52e8c7f4d67f25-01
2022-04-21T21:09:55.198Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:09:55.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae0b75d12a6730a144f4094b8229dffee617fa29-b7780468d1ecea01-01 outer:exit 2b-ae0b75d12a6730a144f4094b8229dffee617fa29-517e9ffa07883494-01
2022-04-21T21:09:55.201Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:09:55.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee4aacfd43241a5725cdb41375c382a15bbe0b90-718d1d801f0f7c4c-01 outer:exit 2b-ee4aacfd43241a5725cdb41375c382a15bbe0b90-bef32798a05cd329-01
2022-04-21T21:09:55.203Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:09:55.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-6339ca4dafdc29d4c53c34ba840611ee7509204f-c57d1dcd70a637d2-01 outer:exit 2b-6339ca4dafdc29d4c53c34ba840611ee7509204f-5eda9d34227aeefe-01
2022-04-21T21:09:55.205Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:09:55.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d1f0fdb6a37a1ced398c8c1258f835693ff0aaa-afc694f38ba937e6-01 outer:exit 2b-0d1f0fdb6a37a1ced398c8c1258f835693ff0aaa-ae3bedd2625af68b-01
2022-04-21T21:09:55.233Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (309ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:01.536Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:01.537Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:01.537Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:01.537Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:01.613Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:01.736Z appoptics:patching patched crypto 
2022-04-21T21:10:01.778Z appoptics:patching patched https 
2022-04-21T21:10:01.778Z appoptics:patching patched http 
2022-04-21T21:10:01.831Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:01.831Z appoptics:patching patched fs 
2022-04-21T21:10:01.849Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v18.0.0)
2022-04-21T21:10:01.855Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-21T21:10:01.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-565384803b34f2bab0f775ca81f49d405d6aebb6-fc4ecdf165bfff94-01 outer:exit 2b-565384803b34f2bab0f775ca81f49d405d6aebb6-a3fcdb30da494dd8-01
2022-04-21T21:10:01.902Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:01.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6704ebe3acb3382cef2657a6b655877ecb714cc-9ee62912bd44c3ca-01 outer:exit 2b-d6704ebe3acb3382cef2657a6b655877ecb714cc-f260c903f2ebc8f3-01
2022-04-21T21:10:01.948Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:01.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ae7411801823ff77966e4c7da4030b123714cb9-729add630829006d-01 outer:exit 2b-1ae7411801823ff77966e4c7da4030b123714cb9-7c9fbd9b3930a162-01
2022-04-21T21:10:01.953Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:01.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5b53c5986df1278953982afa5b5b462582e0ec0-11201b5a74c09566-01 outer:exit 2b-d5b53c5986df1278953982afa5b5b462582e0ec0-33e47257d7c5db06-01
2022-04-21T21:10:01.956Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:01.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f07afe16eb656996ae7b1688e1cea0dbd064a9e-cfb3a506a2fa04cc-01 outer:exit 2b-4f07afe16eb656996ae7b1688e1cea0dbd064a9e-923cc905259cda4b-01
2022-04-21T21:10:01.962Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:01.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e1d963915fdb9441f7202b0520d1debebd8544b-75189a8a22ddc603-01 outer:exit 2b-2e1d963915fdb9441f7202b0520d1debebd8544b-40c57ae7344e3123-01
2022-04-21T21:10:01.966Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:01.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1095f74023725f98ca8aee57a9be72fddb2abe3-6339be2404ec5154-01 outer:exit 2b-a1095f74023725f98ca8aee57a9be72fddb2abe3-6f940c045fbc1187-01
2022-04-21T21:10:01.969Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:01.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-583163d4895fc474b3b0fd975a5886c684a3b6d2-faddd1bf3a1f0f90-01 outer:exit 2b-583163d4895fc474b3b0fd975a5886c684a3b6d2-9773c9f9959498da-01
2022-04-21T21:10:01.974Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:01.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-c65713a539299fc38392b9682930b008f13a2b6e-072fc86694e1fd75-01 outer:exit 2b-c65713a539299fc38392b9682930b008f13a2b6e-14c5cfab4608549b-01
2022-04-21T21:10:01.977Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:01.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f933699e3457ea753a4036087f569a2aa0e38f1-75be2c725dedbd23-01 outer:exit 2b-7f933699e3457ea753a4036087f569a2aa0e38f1-7c90aabfa734e6f0-01
2022-04-21T21:10:01.980Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:01.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-d19bac31d99eb381afef5b22e66b2c9096840566-d7888a4202e89f2e-01 outer:exit 2b-d19bac31d99eb381afef5b22e66b2c9096840566-ed045fe10905eee0-01
2022-04-21T21:10:01.984Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:01.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e96af90e2781e3aef884b58fd422a9cffd010ba-29fbfffc5ffee41d-01 outer:exit 2b-4e96af90e2781e3aef884b58fd422a9cffd010ba-d130814ab2887309-01
2022-04-21T21:10:01.990Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:02.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d0dc806c1c4b30b875ab52f7d367b3850388bc4-6541eb8eda19850d-01 outer:exit 2b-1d0dc806c1c4b30b875ab52f7d367b3850388bc4-ccac4bcb2513d103-01
2022-04-21T21:10:02.007Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:02.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cbc2e1e69e3007ca0d7192da1a7ae710be80abd-5ca83216fe517429-01 outer:exit 2b-7cbc2e1e69e3007ca0d7192da1a7ae710be80abd-f3b82c0638dfbb05-01
2022-04-21T21:10:02.047Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:02.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b926a591ea54a58381aff37e391d3f94cd53083-604085b720b029f8-01 outer:exit 2b-0b926a591ea54a58381aff37e391d3f94cd53083-d6d62f4a586039e7-01
2022-04-21T21:10:02.051Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:02.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcc65e093d2eefbc145bb4b91b4d82ea3a067a3f-eee58df15a364e19-01 outer:exit 2b-dcc65e093d2eefbc145bb4b91b4d82ea3a067a3f-56fdc7daa9ef1d97-01
2022-04-21T21:10:02.053Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:02.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-593e435d6e6bd1d1efd5ed8657b24fc1fcf70511-0b75f7ea08d64b2c-01 outer:exit 2b-593e435d6e6bd1d1efd5ed8657b24fc1fcf70511-303664809452a698-01
2022-04-21T21:10:02.058Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:02.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc2b2ed8497bac093f8c469592232493e61cb79b-e348ee6dbb96fd9a-01 outer:exit 2b-fc2b2ed8497bac093f8c469592232493e61cb79b-5945837d8af1dd15-01
2022-04-21T21:10:02.062Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:02.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-09103ca2d39aa87c31c43b15349a964720beb7fb-c6489a6f2aff25fb-01 outer:exit 2b-09103ca2d39aa87c31c43b15349a964720beb7fb-1a1d638a23db7551-01
2022-04-21T21:10:02.064Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:02.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-395e86d2564ba9a64f7e9a742f850914d94c7cfa-cbd40985fd2a86a1-01 outer:exit 2b-395e86d2564ba9a64f7e9a742f850914d94c7cfa-87815e192968e1ef-01
2022-04-21T21:10:02.066Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:02.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-de52bfe9a34ea8c36fd66074ce8eea97a5e28964-57a17f7764879837-01 outer:exit 2b-de52bfe9a34ea8c36fd66074ce8eea97a5e28964-180ef3d6e9b533f5-01
2022-04-21T21:10:02.068Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:02.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-406254756eeee3accc0944ca16ebb29d73f72745-b352442c1d668506-01 outer:exit 2b-406254756eeee3accc0944ca16ebb29d73f72745-52bbede684710d3f-01
2022-04-21T21:10:02.070Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:02.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ba03c5292c19861325182ba0532c80edd72393a-923fd392934b2617-01 outer:exit 2b-4ba03c5292c19861325182ba0532c80edd72393a-ce1f94f51eb6c772-01
2022-04-21T21:10:02.073Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:02.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-64491942ba3979bfc4ad82ebe2296e7dc5a21e08-85cfc163f7141088-01 outer:exit 2b-64491942ba3979bfc4ad82ebe2296e7dc5a21e08-c1128e6def20209b-01
2022-04-21T21:10:02.076Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:02.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ed6d056ace0765cd1993d2103487f7db1149b32-b7914af70ab2c17e-01 outer:exit 2b-9ed6d056ace0765cd1993d2103487f7db1149b32-0801cf80836c9c11-01
2022-04-21T21:10:02.079Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:02.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d12e1d2848e4fc0770b1d349d96b8ac62970ccf-6dccd364fb9381a3-01 outer:exit 2b-0d12e1d2848e4fc0770b1d349d96b8ac62970ccf-59446b5891212b8f-01
2022-04-21T21:10:02.084Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:02.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-764d786489958930a992f78c835d16f257c3f025-63abb600599a8a49-01 outer:exit 2b-764d786489958930a992f78c835d16f257c3f025-04312c01652d3e84-01
2022-04-21T21:10:02.090Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:02.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-54a6935c58dbc8e1c7c8083c896cc79cb70ba05e-05c1a4bb04222d9d-01 outer:exit 2b-54a6935c58dbc8e1c7c8083c896cc79cb70ba05e-27f6bf0a9dfa8184-01
2022-04-21T21:10:02.095Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:02.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-87bb254eb06a2f1225bc4064108b822fa8df612d-00f600fe7a2d10ac-01 outer:exit 2b-87bb254eb06a2f1225bc4064108b822fa8df612d-1627a0ca10bb4851-01
2022-04-21T21:10:02.102Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:02.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-78461324c45e4a3827c09748de34f06aca78a346-e9da7cf177935741-01 outer:exit 2b-78461324c45e4a3827c09748de34f06aca78a346-569a4376909263eb-01
2022-04-21T21:10:02.122Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:02.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b8adab19d6bdaf4f53ddaa6229b32f56feeb8ab-6e9ad933a2fc18eb-01 outer:exit 2b-9b8adab19d6bdaf4f53ddaa6229b32f56feeb8ab-171de34c00ee5415-01
2022-04-21T21:10:02.125Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:02.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-59ae089a431513117713bb9d2198ae83be667c72-2cd37bd836978707-01 outer:exit 2b-59ae089a431513117713bb9d2198ae83be667c72-e67f511acd1a6fe8-01
2022-04-21T21:10:02.142Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:02.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d71bf7d428b124a6374a4cbb7412544aa466af2-a3724bc87514cead-01 outer:exit 2b-5d71bf7d428b124a6374a4cbb7412544aa466af2-ff3ce5c44dd1148c-01
2022-04-21T21:10:02.150Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:02.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a8df768ef5fd5a43137c1ec340747da93c2f13-b5360d6fb10d3bd0-01 outer:exit 2b-44a8df768ef5fd5a43137c1ec340747da93c2f13-f638e2a902098173-01
2022-04-21T21:10:02.152Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:02.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-e306226d2b32f05fcf9d70bdde7f12b74e5861b7-b0efdbf893ac5b7e-01 outer:exit 2b-e306226d2b32f05fcf9d70bdde7f12b74e5861b7-2d6ec1476f6db076-01
2022-04-21T21:10:02.155Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:02.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f982235932620f54e2be719c8d41a7e482c4e2c-65a8d4b1028286e2-01 outer:exit 2b-4f982235932620f54e2be719c8d41a7e482c4e2c-dd392d360ce7de0b-01
2022-04-21T21:10:02.157Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:02.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-49d7399d0b93a2eba43a4bff731ed350bb713c65-2325f5a6dbef4371-01 outer:exit 2b-49d7399d0b93a2eba43a4bff731ed350bb713c65-f8d1430714ee84f2-01
2022-04-21T21:10:02.164Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:02.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab28f97ee22c3acdb75ec208dfa39e18fb7d84de-8a09476fa6dd0391-01 outer:exit 2b-ab28f97ee22c3acdb75ec208dfa39e18fb7d84de-f6c5875ec7b20cee-01
2022-04-21T21:10:02.167Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:02.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-71a46f588e780b1ad9501fd58e9a8f2b647efbfc-5477d874c622683c-01 outer:exit 2b-71a46f588e780b1ad9501fd58e9a8f2b647efbfc-5a0afaff9bc82e4f-01
2022-04-21T21:10:02.177Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:02.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-558b49cc8eea710ac23de0290343fa52c8e27433-b7298ec9f2f2c174-01 outer:exit 2b-558b49cc8eea710ac23de0290343fa52c8e27433-9642c5eef5276a8a-01
2022-04-21T21:10:02.187Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:02.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d2dde23acbe8edcc2f8a7f38bb043b1211bd05c-d05728df47dba451-01 outer:exit 2b-1d2dde23acbe8edcc2f8a7f38bb043b1211bd05c-510dc656e759b637-01
2022-04-21T21:10:02.190Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:02.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-024f6d5b191e1b8ae874d225d454cdd70bc8c407-353b4ac31477b33d-01 outer:exit 2b-024f6d5b191e1b8ae874d225d454cdd70bc8c407-ab1b9ddb05b1820e-01
2022-04-21T21:10:02.193Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:02.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-99ce54c5974389c7a17ac3ef9135995e8a3a7e7d-83a1c8fe7e040744-01 outer:exit 2b-99ce54c5974389c7a17ac3ef9135995e8a3a7e7d-67139d570dcce808-01
2022-04-21T21:10:02.195Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:02.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-cabd0143cadbf059901ef93959e09d6a84128c03-1ad166a382d75e98-01 outer:exit 2b-cabd0143cadbf059901ef93959e09d6a84128c03-01cec5032f6c76d5-01
2022-04-21T21:10:02.236Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (375ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:08.731Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:08.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:08.732Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:08.732Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:08.791Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:08.905Z appoptics:patching patched crypto 
2022-04-21T21:10:08.924Z appoptics:patching patched https 
2022-04-21T21:10:08.925Z appoptics:patching patched http 
2022-04-21T21:10:08.972Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:08.973Z appoptics:patching patched fs 
2022-04-21T21:10:08.987Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v18.0.0)
2022-04-21T21:10:08.993Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-21T21:10:09.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fc362a47e23f04a21dc31bcca64594f4bdc8112-767e922d94c282c8-01 outer:exit 2b-7fc362a47e23f04a21dc31bcca64594f4bdc8112-f464bd7187e9fcf7-01
2022-04-21T21:10:09.037Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:09.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0d89d11da8792b388f972d5af6ba360e6eaaa16-b89521129a55015a-01 outer:exit 2b-d0d89d11da8792b388f972d5af6ba360e6eaaa16-3861620e9727fd9f-01
2022-04-21T21:10:09.083Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:09.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fcd5226819295bacbe94feca1fbc75ea8d3b49f-1bb18b5aee74434c-01 outer:exit 2b-2fcd5226819295bacbe94feca1fbc75ea8d3b49f-e94016597abeb5bc-01
2022-04-21T21:10:09.087Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:09.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6ac7103c1539f31008c7c49ac572e85aaa08485-aabcbc90e382a76d-01 outer:exit 2b-a6ac7103c1539f31008c7c49ac572e85aaa08485-3794e22a5e36b29e-01
2022-04-21T21:10:09.089Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:09.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-f422cb67e9586d84c72e9fb14dc30ef914165767-87dd91fedaff8dbd-01 outer:exit 2b-f422cb67e9586d84c72e9fb14dc30ef914165767-b0812df6fbd85e2e-01
2022-04-21T21:10:09.094Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:09.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-937797b82d9319c82018f570333d84dd6abb0a19-c7dc9dcaa120a410-01 outer:exit 2b-937797b82d9319c82018f570333d84dd6abb0a19-137d124761db5641-01
2022-04-21T21:10:09.097Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:09.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-99cec002f270fcb50d93c8b5436b938493e2962f-e03f763215323067-01 outer:exit 2b-99cec002f270fcb50d93c8b5436b938493e2962f-7b233d4f6f0d4d96-01
2022-04-21T21:10:09.099Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:09.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-22b0c153b2845f2a07e53b668404dd215ae0b721-c0bdb8b7fce3d263-01 outer:exit 2b-22b0c153b2845f2a07e53b668404dd215ae0b721-04e4a4232bfc6123-01
2022-04-21T21:10:09.102Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:09.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-d61d3df1c8d7d8f1f665deb8a20ca525240563bb-708763439ed4a46d-01 outer:exit 2b-d61d3df1c8d7d8f1f665deb8a20ca525240563bb-b2ff1af883bbaf5c-01
2022-04-21T21:10:09.104Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:09.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-c892059ee2d516fe6267b6535e5701a37490e427-f94f542ada440744-01 outer:exit 2b-c892059ee2d516fe6267b6535e5701a37490e427-64e902d29c5122a7-01
2022-04-21T21:10:09.107Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:09.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1d84c47427f40db7814d58fb455938b88ac2ac5-c361388bbc56190d-01 outer:exit 2b-e1d84c47427f40db7814d58fb455938b88ac2ac5-bc7b7c69067f3dc3-01
2022-04-21T21:10:09.112Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:09.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-50a4d9a3745c2bcb8ee827712baee01039e91694-7f386866a1598855-01 outer:exit 2b-50a4d9a3745c2bcb8ee827712baee01039e91694-bdfe2dd3f320f890-01
2022-04-21T21:10:09.119Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:09.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-e52d525afcb57f43d2bfdd4e5eb0055f667b9dc7-1645ca2c42696d7a-01 outer:exit 2b-e52d525afcb57f43d2bfdd4e5eb0055f667b9dc7-d2a030eb288f27db-01
2022-04-21T21:10:09.133Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:09.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fbd6e0b0d3457bac9b4590adb1e1965a0a3518c-c043886a26f71bec-01 outer:exit 2b-9fbd6e0b0d3457bac9b4590adb1e1965a0a3518c-53c482205c10edc8-01
2022-04-21T21:10:09.171Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:09.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-d12b9111734d7f847d7ba038fad232bfd9be6748-27ea044c66eb3149-01 outer:exit 2b-d12b9111734d7f847d7ba038fad232bfd9be6748-53a3feb1e3d23bca-01
2022-04-21T21:10:09.174Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:09.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-64ae75f7299030ff04e138020b5c9280e83ea87c-e297da58f063bcfd-01 outer:exit 2b-64ae75f7299030ff04e138020b5c9280e83ea87c-f1028792b1f23457-01
2022-04-21T21:10:09.176Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:09.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea6ba8294228b25eacd24945f8b2cbdad9e0bc6a-3a1a8e4b21e150f4-01 outer:exit 2b-ea6ba8294228b25eacd24945f8b2cbdad9e0bc6a-1d02d1cb15c3f6a6-01
2022-04-21T21:10:09.178Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:09.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f2560cdc7539997ab8783950aa2e1b30efeaeb6-2fc3465eae14ed15-01 outer:exit 2b-1f2560cdc7539997ab8783950aa2e1b30efeaeb6-395895f2d5d9b63a-01
2022-04-21T21:10:09.180Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:09.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-2749794ef1197181e3a09548a7c9953839028e9f-c0423521d90cc6e1-01 outer:exit 2b-2749794ef1197181e3a09548a7c9953839028e9f-37707eab7f6cbdca-01
2022-04-21T21:10:09.182Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:09.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd9515612dde82a40f402529f4014b0d30be911b-210f7939382adacd-01 outer:exit 2b-bd9515612dde82a40f402529f4014b0d30be911b-e4aad8399ba0f6bf-01
2022-04-21T21:10:09.184Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:09.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f7098a1e8485373c1df1a3bf2d31803f9626f00-dec9f1aead3d3827-01 outer:exit 2b-3f7098a1e8485373c1df1a3bf2d31803f9626f00-0ad277a0ec43e4a1-01
2022-04-21T21:10:09.186Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:09.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e4389b544236f492cd0016d8f44de34b79535d4-5ff90c913a39c1c4-01 outer:exit 2b-8e4389b544236f492cd0016d8f44de34b79535d4-832f940b06d446c5-01
2022-04-21T21:10:09.188Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:09.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc7adeed5b8f641992384ec93f30f0e9008e361-c9cdc7b2d46a5b30-01 outer:exit 2b-cdc7adeed5b8f641992384ec93f30f0e9008e361-d830cd8ccf242e58-01
2022-04-21T21:10:09.191Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:09.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-a225e27bb8e83b21c02e7dd29e3fe44da682ec54-0c148ec00ceae6fe-01 outer:exit 2b-a225e27bb8e83b21c02e7dd29e3fe44da682ec54-42ea5e34e49a8e65-01
2022-04-21T21:10:09.193Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:09.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-39b272febe0d3552c89199a5c643429a5988f6ba-a1240f93865b36cb-01 outer:exit 2b-39b272febe0d3552c89199a5c643429a5988f6ba-7e063c1bdff0923d-01
2022-04-21T21:10:09.195Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:09.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0b94cfc22ce5ca0aa4b1fc842cc57e01b44ce01-29b4f63548e55d2a-01 outer:exit 2b-e0b94cfc22ce5ca0aa4b1fc842cc57e01b44ce01-0435bc3f7d4407c4-01
2022-04-21T21:10:09.197Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:09.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-be175df911d243fe59d0fdefe6cff623dc32050b-9c03f0260727c343-01 outer:exit 2b-be175df911d243fe59d0fdefe6cff623dc32050b-f6c8ffbdde93e40d-01
2022-04-21T21:10:09.203Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:09.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1945bea4fb6cb9518de560b21a29d5f45668ea0-9a5dd565fdfdbf2b-01 outer:exit 2b-f1945bea4fb6cb9518de560b21a29d5f45668ea0-bc82c33067d5e557-01
2022-04-21T21:10:09.210Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:09.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-98963337c22bc3b44ddd5a9007af63e7d5bd7736-09eb160e139ba845-01 outer:exit 2b-98963337c22bc3b44ddd5a9007af63e7d5bd7736-88d3feeae8d02f76-01
2022-04-21T21:10:09.218Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:09.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-3977ef5d5a83f1f090ae7a88a896a9e47e4a830f-81af1aa3e9221812-01 outer:exit 2b-3977ef5d5a83f1f090ae7a88a896a9e47e4a830f-0734338ec1f6f414-01
2022-04-21T21:10:09.225Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:09.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-996f2528875ed650d0abbd53a30fc521a10b752a-8575424e6971d356-01 outer:exit 2b-996f2528875ed650d0abbd53a30fc521a10b752a-4bae46d9273632b8-01
2022-04-21T21:10:09.227Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:09.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa7b44f491a2e6f94a2e9769c58e8ea81c07a9b7-b804a93ec723d987-01 outer:exit 2b-fa7b44f491a2e6f94a2e9769c58e8ea81c07a9b7-529b8b8a1c1fbbed-01
2022-04-21T21:10:09.230Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:09.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac3876f1c3a6c5c82f73d3845a3edaef5ac7408a-44840193eab82764-01 outer:exit 2b-ac3876f1c3a6c5c82f73d3845a3edaef5ac7408a-8ef7afe3040b0ef3-01
2022-04-21T21:10:09.236Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:09.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-960242c29270cfb9cf69a60cb472a747d8bf56d5-7258cf61b6c7eab1-01 outer:exit 2b-960242c29270cfb9cf69a60cb472a747d8bf56d5-86762c22e55149c6-01
2022-04-21T21:10:09.238Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:09.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb33dcba808f5ee2bc1865c29461cc4f950d3b2e-ac12963350fd1216-01 outer:exit 2b-fb33dcba808f5ee2bc1865c29461cc4f950d3b2e-c570f6e5d7a6b829-01
2022-04-21T21:10:09.239Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:09.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-d737b4f8f8369eca3b605f318baabaa48a07ec66-4d86385ea43cee96-01 outer:exit 2b-d737b4f8f8369eca3b605f318baabaa48a07ec66-c1e28985435465ae-01
2022-04-21T21:10:09.241Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:09.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-5602cb53fdac9103eb7d7ce34aef1476b022aed1-bb9464037e965955-01 outer:exit 2b-5602cb53fdac9103eb7d7ce34aef1476b022aed1-1c512c5a915760d0-01
2022-04-21T21:10:09.243Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:09.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bffeaef07ac475c0f489243b549456ef78257bb-434ad1be3af61928-01 outer:exit 2b-8bffeaef07ac475c0f489243b549456ef78257bb-534267d328a1b405-01
2022-04-21T21:10:09.244Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:09.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-fad214b945cad962441a2c96e91d579bc83eefe9-4188d36a440d2f77-01 outer:exit 2b-fad214b945cad962441a2c96e91d579bc83eefe9-25a26ac56d140801-01
2022-04-21T21:10:09.254Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:09.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb48bc7f881c2cf8934e7cc94894de02b985667-0e698c1c27098e44-01 outer:exit 2b-5bb48bc7f881c2cf8934e7cc94894de02b985667-51a867174e2d3b3e-01
2022-04-21T21:10:09.264Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:09.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-95ec6ff03ce613637e78f4f45a78b4bd2acc1b09-004859e0ead6e0c9-01 outer:exit 2b-95ec6ff03ce613637e78f4f45a78b4bd2acc1b09-d2447c89f30a41f1-01
2022-04-21T21:10:09.266Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:09.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-27b87cd9c053098be6ea909a14f7d33199509213-0d0db46d07aa95e1-01 outer:exit 2b-27b87cd9c053098be6ea909a14f7d33199509213-a8df2abb93845531-01
2022-04-21T21:10:09.269Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:09.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c17f7e5e3cb80296c4f156f5812d3c8dce19f27-6b3d85bbc23ef9a3-01 outer:exit 2b-9c17f7e5e3cb80296c4f156f5812d3c8dce19f27-79c862936378ef99-01
2022-04-21T21:10:09.271Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:09.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-5db8a72842054e5598e224cd1306013befb68af5-2f8c4d30ee9bea2b-01 outer:exit 2b-5db8a72842054e5598e224cd1306013befb68af5-2170e8645cde952d-01
2022-04-21T21:10:09.297Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (298ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:15.954Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:15.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:15.954Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:15.955Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:16.014Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:16.128Z appoptics:patching patched crypto 
2022-04-21T21:10:16.146Z appoptics:patching patched https 
2022-04-21T21:10:16.147Z appoptics:patching patched http 
2022-04-21T21:10:16.200Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:16.200Z appoptics:patching patched fs 
2022-04-21T21:10:16.213Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v18.0.0)
2022-04-21T21:10:16.219Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-21T21:10:16.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-d02399837dc6ee2a284fb303efc6965a3c3cfca0-3e7958c7f12f9d18-01 outer:exit 2b-d02399837dc6ee2a284fb303efc6965a3c3cfca0-fd64437682f1ecb9-01
2022-04-21T21:10:16.262Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:16.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5935e1ccaa3eda5d768ba0f0bc11aec3a17e63a-34877de8b7a0599f-01 outer:exit 2b-c5935e1ccaa3eda5d768ba0f0bc11aec3a17e63a-5ace56d6d34d8105-01
2022-04-21T21:10:16.306Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:16.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d7da0c887615571c1ab59b58ff794716d093f0-2a8f5c9f86022e0f-01 outer:exit 2b-60d7da0c887615571c1ab59b58ff794716d093f0-744e0a4b4b015d74-01
2022-04-21T21:10:16.309Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:16.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d0d53e1992dadf26400ce12d791400e8d7f4270-94a0124af1f4fc16-01 outer:exit 2b-7d0d53e1992dadf26400ce12d791400e8d7f4270-e6b5a5a271484294-01
2022-04-21T21:10:16.313Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:16.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fdd016a2beb63ea0d9f777bb7538352d5b09d34-ed0d50ddeef5f51c-01 outer:exit 2b-7fdd016a2beb63ea0d9f777bb7538352d5b09d34-6b2f82204233e999-01
2022-04-21T21:10:16.317Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:16.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1815a22e8b36e8ccaf58026568acb23fe30b367-d7d8da51fea6191d-01 outer:exit 2b-d1815a22e8b36e8ccaf58026568acb23fe30b367-296f05989d2eed84-01
2022-04-21T21:10:16.320Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:16.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-82dc1e8e4774d667e243b5e37b130a1b6cc2c829-b66eece56b2263c9-01 outer:exit 2b-82dc1e8e4774d667e243b5e37b130a1b6cc2c829-e99296abdd7da32b-01
2022-04-21T21:10:16.322Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:16.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1cd137c2d24062edd9d86a66532843948509f7c-e31b4fcaae426173-01 outer:exit 2b-a1cd137c2d24062edd9d86a66532843948509f7c-042cc8646a4388d5-01
2022-04-21T21:10:16.325Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:16.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a5b93bb6b2ed9cafa5fef85c5ce09d363398301-89ba2bbd45ac618b-01 outer:exit 2b-2a5b93bb6b2ed9cafa5fef85c5ce09d363398301-a9381aef504e9b25-01
2022-04-21T21:10:16.327Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:16.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-49284dfe9a97c08a83bbbc1f45ee6e8b4b20ab46-ab001ae5ecb73c6c-01 outer:exit 2b-49284dfe9a97c08a83bbbc1f45ee6e8b4b20ab46-c489a9e27f1554b7-01
2022-04-21T21:10:16.330Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:16.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-40aacc164719a1669951921db8de76e23730f670-7e0cdb392292f18c-01 outer:exit 2b-40aacc164719a1669951921db8de76e23730f670-8f36f3c80ed635bf-01
2022-04-21T21:10:16.333Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:16.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c82ed47654f7ff9e6b33001a1eeb4ecc1cf67ed-01917e82d7a23c80-01 outer:exit 2b-5c82ed47654f7ff9e6b33001a1eeb4ecc1cf67ed-c9f078259c2e3c7a-01
2022-04-21T21:10:16.339Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:16.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbc94c00be65b9b8712851140336b0180efbcca7-7c12ca0fed975527-01 outer:exit 2b-fbc94c00be65b9b8712851140336b0180efbcca7-39e3721a0c89e08e-01
2022-04-21T21:10:16.357Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:16.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-2827282b32ad60127a5131bedd5543fe56dfa52e-3427d0f60c2f11f9-01 outer:exit 2b-2827282b32ad60127a5131bedd5543fe56dfa52e-2893fc63912d2a33-01
2022-04-21T21:10:16.396Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:16.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbfb54d8992d03c9de2cf2aeb3e0836a69d801b4-90f9c4ec80884727-01 outer:exit 2b-dbfb54d8992d03c9de2cf2aeb3e0836a69d801b4-b1e1a1ee68528837-01
2022-04-21T21:10:16.399Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:16.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-5112942a1571bb36114f106d195a20d4488a0f7a-9a83118db98a35ce-01 outer:exit 2b-5112942a1571bb36114f106d195a20d4488a0f7a-a9e3339c68418e36-01
2022-04-21T21:10:16.401Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:16.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-80fd6f2232d3627e60e33b0d42d1ff0b863a520c-194b65a5e63384d3-01 outer:exit 2b-80fd6f2232d3627e60e33b0d42d1ff0b863a520c-e4782132ab7e1f78-01
2022-04-21T21:10:16.404Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:16.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c4fc7eb00492fefb5e3ab5f93f96e152bf63ca2-360440a92f6918d3-01 outer:exit 2b-0c4fc7eb00492fefb5e3ab5f93f96e152bf63ca2-959c819d4cec86a0-01
2022-04-21T21:10:16.406Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:16.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a41f3097da117d71de65b0e06bb9fbb8c1643e1-3db1c1ba78e6029a-01 outer:exit 2b-2a41f3097da117d71de65b0e06bb9fbb8c1643e1-8d76bb2b41c5d23a-01
2022-04-21T21:10:16.408Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:16.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-6595921330c73c6ae12ae649e46a7cf996b9cc95-34a71ceb926378e3-01 outer:exit 2b-6595921330c73c6ae12ae649e46a7cf996b9cc95-d7972337737bfa8a-01
2022-04-21T21:10:16.411Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:16.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-da4e7a0d6645978433b459ea56b8cda76945eb06-1466682059a088b5-01 outer:exit 2b-da4e7a0d6645978433b459ea56b8cda76945eb06-1ea350275cb18fb5-01
2022-04-21T21:10:16.412Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:16.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad87d46a16bd73d526eb4e39f549ce2a393be0b2-443b4250651546fb-01 outer:exit 2b-ad87d46a16bd73d526eb4e39f549ce2a393be0b2-7f372d19310b44da-01
2022-04-21T21:10:16.414Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:16.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-3762f03e0b2f4022408210292833c6c091ab4d02-92fd7cadf2ba91be-01 outer:exit 2b-3762f03e0b2f4022408210292833c6c091ab4d02-8a5ee0a040c8f00a-01
2022-04-21T21:10:16.417Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:16.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f5e532c85472011336cd557fc1d14160f98b65a-d1da22aae5da518f-01 outer:exit 2b-7f5e532c85472011336cd557fc1d14160f98b65a-9ae6ac1e5a14c230-01
2022-04-21T21:10:16.420Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:16.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-c24e606249d1e61b5d4e3a54aa4e006c64153346-b35aa05c3cd19ef6-01 outer:exit 2b-c24e606249d1e61b5d4e3a54aa4e006c64153346-a1ee1abc3c6d7a5a-01
2022-04-21T21:10:16.422Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:16.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d4f805571a4ec814f0dc5cd250da70882643931-cdc95a9b2a2ba327-01 outer:exit 2b-1d4f805571a4ec814f0dc5cd250da70882643931-26abe98892da22b6-01
2022-04-21T21:10:16.424Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:16.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a82bd469ac3ea7da495490d93aa0e0681fdde0d-2d7f6b19189a091f-01 outer:exit 2b-5a82bd469ac3ea7da495490d93aa0e0681fdde0d-516710731fdafec9-01
2022-04-21T21:10:16.430Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:16.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-7391e50667a121120296b247b10a07ce59caa519-9e5c7091d8b80125-01 outer:exit 2b-7391e50667a121120296b247b10a07ce59caa519-5d27abbe448b5da9-01
2022-04-21T21:10:16.434Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:16.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9ec893b7f7f2d51eb7e8dde6e28c6805c3b96d7-aca2d77cd7aee2c3-01 outer:exit 2b-a9ec893b7f7f2d51eb7e8dde6e28c6805c3b96d7-99e08a3526f1f0d0-01
2022-04-21T21:10:16.442Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:16.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-87de8153dae37eb44e66472c0ef42b63398f690a-3e9f00bf73aef04b-01 outer:exit 2b-87de8153dae37eb44e66472c0ef42b63398f690a-84d83ca136dbd40c-01
2022-04-21T21:10:16.450Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:16.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-811fb1d83cde8f274233bd25cbce319cccbd14bc-29a85f392e5cfd4b-01 outer:exit 2b-811fb1d83cde8f274233bd25cbce319cccbd14bc-e54cfd361bdcde68-01
2022-04-21T21:10:16.452Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:16.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3efd8de3e37df3a1c76656f63904b21cb6c53fb-92d31fa5255d244d-01 outer:exit 2b-e3efd8de3e37df3a1c76656f63904b21cb6c53fb-39fc1cf1b57d0821-01
2022-04-21T21:10:16.454Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:16.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-f788fa2fbeadb57a19d278fc5b9e98ac68badc15-74def2e4139d0ad4-01 outer:exit 2b-f788fa2fbeadb57a19d278fc5b9e98ac68badc15-cb9381bbb43c127f-01
2022-04-21T21:10:16.461Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:16.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-232ba78a4ad7a497866f0c9974d8b684bb6af0af-bfaad6ef5f92f929-01 outer:exit 2b-232ba78a4ad7a497866f0c9974d8b684bb6af0af-2d0b8b762c89a8e0-01
2022-04-21T21:10:16.463Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:16.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-80997b62afcafc441b8a89e335a2a6c09ace78f0-3fe7a38665a60850-01 outer:exit 2b-80997b62afcafc441b8a89e335a2a6c09ace78f0-0ae8c26e483f5b2e-01
2022-04-21T21:10:16.464Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:16.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b87dc8dfee668f792badaf94a1b32485170496-b3a0df0a9a25e942-01 outer:exit 2b-82b87dc8dfee668f792badaf94a1b32485170496-b2008a6677963e43-01
2022-04-21T21:10:16.466Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:16.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-33281a0567a2d70d510a39461886a2c5135585f5-e14a4f351dc56a80-01 outer:exit 2b-33281a0567a2d70d510a39461886a2c5135585f5-c40671a8d7044039-01
2022-04-21T21:10:16.468Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:16.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-c142c01b020eeedee17d22d6eec8a2f3226faa20-32d46e2369ad339e-01 outer:exit 2b-c142c01b020eeedee17d22d6eec8a2f3226faa20-1d1aee7c65f82397-01
2022-04-21T21:10:16.470Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:16.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca2f63c7cef7fc0d9ca47e962604b25805dff105-4cf3d5aca372913e-01 outer:exit 2b-ca2f63c7cef7fc0d9ca47e962604b25805dff105-8313773988f996ae-01
2022-04-21T21:10:16.479Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:16.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-be251e735d77296c752666b79077d255e2b2652a-24b2cce0e3993c38-01 outer:exit 2b-be251e735d77296c752666b79077d255e2b2652a-8a4b0c089e64bf8a-01
2022-04-21T21:10:16.488Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:16.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-688e40fb1ef058a343ff4615c7371e5782455338-b9fe6c280aff8e11-01 outer:exit 2b-688e40fb1ef058a343ff4615c7371e5782455338-c7184a758d1ec4e2-01
2022-04-21T21:10:16.492Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:16.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-88e38e67fe67bf0c36ad69fa0eb0f240b917f1a1-11506bdc1dbce08a-01 outer:exit 2b-88e38e67fe67bf0c36ad69fa0eb0f240b917f1a1-14635faa4ee5ba08-01
2022-04-21T21:10:16.494Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:16.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-b89d76ba3a4dcb71ae2e223b5dda3ede60521139-eea250bc8a0b7dd6-01 outer:exit 2b-b89d76ba3a4dcb71ae2e223b5dda3ede60521139-7097a8efeaa1e992-01
2022-04-21T21:10:16.497Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:16.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-15dfc9ec334e97ec72178c0a6ae57fdde05e51b4-24ccfdb4802241e1-01 outer:exit 2b-15dfc9ec334e97ec72178c0a6ae57fdde05e51b4-577fc9d080eb005a-01
2022-04-21T21:10:16.527Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (302ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:22.827Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:22.828Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:22.828Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:22.828Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:22.887Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:23.011Z appoptics:patching patched crypto 
2022-04-21T21:10:23.029Z appoptics:patching patched https 
2022-04-21T21:10:23.029Z appoptics:patching patched http 
2022-04-21T21:10:23.098Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:23.099Z appoptics:patching patched fs 
2022-04-21T21:10:23.112Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v18.0.0)
2022-04-21T21:10:23.118Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-21T21:10:23.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5b5c4c103e523a7b0154ea22b57122bffab966c-159d84a218585f2c-01 outer:exit 2b-e5b5c4c103e523a7b0154ea22b57122bffab966c-64b3045f41292260-01
2022-04-21T21:10:23.162Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:23.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e6a3fa7927c6b4320e4ac44ca5dbedc93dd59a4-80044f6d350cb1fc-01 outer:exit 2b-3e6a3fa7927c6b4320e4ac44ca5dbedc93dd59a4-b2be858ac58c275d-01
2022-04-21T21:10:23.209Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:23.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-09da94862ca026bfb5293bf5e5cb83ebe5a70883-b125dc156d6654ed-01 outer:exit 2b-09da94862ca026bfb5293bf5e5cb83ebe5a70883-f8ecdbb018fdc324-01
2022-04-21T21:10:23.215Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:23.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-843f583742c7a429a0c48602bad1cacbcabfeab3-3acd1eae02b6001d-01 outer:exit 2b-843f583742c7a429a0c48602bad1cacbcabfeab3-c35f1ffae3deaa56-01
2022-04-21T21:10:23.218Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:23.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3391925d281a512d9efd9c5d660923a27aa1570-1796af1742e5f410-01 outer:exit 2b-f3391925d281a512d9efd9c5d660923a27aa1570-6b09feb99d991c93-01
2022-04-21T21:10:23.223Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:23.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-0de3d6e79277daa996fdf366348d35cfd8c4f4a5-febfff3f0469cd0f-01 outer:exit 2b-0de3d6e79277daa996fdf366348d35cfd8c4f4a5-e66f7b22885f6cac-01
2022-04-21T21:10:23.226Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:23.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b3cf989777264f67f6a2dcca4dbbb90bc51efd6-6a598c939466d9dd-01 outer:exit 2b-3b3cf989777264f67f6a2dcca4dbbb90bc51efd6-2f24d0acc818ad14-01
2022-04-21T21:10:23.229Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:23.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-e87818ea855d65a00bd5b7ba70fa8b9f61c6703a-c0605c3f1b862b6a-01 outer:exit 2b-e87818ea855d65a00bd5b7ba70fa8b9f61c6703a-57fb29e03aebcc6d-01
2022-04-21T21:10:23.231Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:23.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fb0d772b974a1214af4ad3f176b6b96517f334a-0a483abe6d8119e4-01 outer:exit 2b-3fb0d772b974a1214af4ad3f176b6b96517f334a-1372413a2ed4f9be-01
2022-04-21T21:10:23.234Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:23.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b9b204c57d96f465615865f4607dbac6efb9cbd-4fcb9924c3bb55a3-01 outer:exit 2b-4b9b204c57d96f465615865f4607dbac6efb9cbd-6a53e417b9e1b8e7-01
2022-04-21T21:10:23.236Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:23.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4b57e6dc27f4898da3e28e150900d08f08955af-710bfdb387cd7cc7-01 outer:exit 2b-f4b57e6dc27f4898da3e28e150900d08f08955af-1db086ed4e8854fe-01
2022-04-21T21:10:23.240Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:23.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4b6841dc87cc6183fd19440af5bad95695f3b77-389c8d060fcef3ab-01 outer:exit 2b-d4b6841dc87cc6183fd19440af5bad95695f3b77-d16498ed9baab1dc-01
2022-04-21T21:10:23.246Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:23.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-35c1e97f7bc346499dc41760fc2751cc876861a9-18a1a77957af528c-01 outer:exit 2b-35c1e97f7bc346499dc41760fc2751cc876861a9-68562c3625cd0221-01
2022-04-21T21:10:23.262Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:23.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-3108cc8cec3da20687b517a6819a0e31f0d8aa6b-f4cec87f15b6d9ba-01 outer:exit 2b-3108cc8cec3da20687b517a6819a0e31f0d8aa6b-7b0604eb78cfc9aa-01
2022-04-21T21:10:23.302Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:23.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaa61a8eb44dd5ac8f87a1a1cd4c659432b0dbf8-1a8c1866eb44c540-01 outer:exit 2b-eaa61a8eb44dd5ac8f87a1a1cd4c659432b0dbf8-80be360f6400575c-01
2022-04-21T21:10:23.304Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:23.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7e79e2688484dbb96573867b295223f54b361a6-f823be0517f84845-01 outer:exit 2b-e7e79e2688484dbb96573867b295223f54b361a6-30134d0700a1b591-01
2022-04-21T21:10:23.307Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:23.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a8281309c6783275bf1678a7d6ea345cca4f29d-0df8d96d9a3d48bf-01 outer:exit 2b-9a8281309c6783275bf1678a7d6ea345cca4f29d-8c282aa37e6ab2b4-01
2022-04-21T21:10:23.310Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:23.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-79219444f3cd6fe2bc12d66f13adcf41ba5a40dd-99852b7c04f37605-01 outer:exit 2b-79219444f3cd6fe2bc12d66f13adcf41ba5a40dd-14bc336ef4ea7824-01
2022-04-21T21:10:23.312Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:23.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-24d4349b4457a870359384310a2f09e979b4d0c0-31fb4e39ef33d29a-01 outer:exit 2b-24d4349b4457a870359384310a2f09e979b4d0c0-ffd2e1da58fdb230-01
2022-04-21T21:10:23.313Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:23.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f3fc79c6380eb1cc2c5e0d365593eb6a457ad5b-7c71f0c4b2b665ff-01 outer:exit 2b-1f3fc79c6380eb1cc2c5e0d365593eb6a457ad5b-3d4d8be0c6b63ba6-01
2022-04-21T21:10:23.316Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:23.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f2559d0373cbd5ecdd685692f19fc5ab6f2c26c-3a84c89a0cfd2a9a-01 outer:exit 2b-7f2559d0373cbd5ecdd685692f19fc5ab6f2c26c-d8579cd83e699454-01
2022-04-21T21:10:23.319Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:23.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-902a31d1f071dad244b8309a0af9f2acd2557ea1-41362c9b67393083-01 outer:exit 2b-902a31d1f071dad244b8309a0af9f2acd2557ea1-e99d8fffef9ec350-01
2022-04-21T21:10:23.320Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:23.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-a39b6b4ecef8d881b3b5d129cdb29aa3971d1104-295a6d2a247747a5-01 outer:exit 2b-a39b6b4ecef8d881b3b5d129cdb29aa3971d1104-0f26fc9331adfd65-01
2022-04-21T21:10:23.323Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:23.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-1923772fecfaabd7b1efc77507e2a633f2d89bf4-1797651c839882cd-01 outer:exit 2b-1923772fecfaabd7b1efc77507e2a633f2d89bf4-d38a5ef6783588d0-01
2022-04-21T21:10:23.326Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:23.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-695582d2ed47fcfaebdfdea934a3f50488391b0d-9df43236813580e9-01 outer:exit 2b-695582d2ed47fcfaebdfdea934a3f50488391b0d-7be26136864cb2fe-01
2022-04-21T21:10:23.328Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:23.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6fb2d35286e4be87e23c5c7727428c9b1c42e90-7f98a72b47785de4-01 outer:exit 2b-e6fb2d35286e4be87e23c5c7727428c9b1c42e90-b2916aea2e82d7a6-01
2022-04-21T21:10:23.330Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:23.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-b838e7a8f1b9102d8e3ffa0dfe6ed6547d68e09f-fbed9261552e955f-01 outer:exit 2b-b838e7a8f1b9102d8e3ffa0dfe6ed6547d68e09f-5e6f1ae1d87ed8d8-01
2022-04-21T21:10:23.335Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:23.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0647972d7f90c37084acc8783f4ddfe19c870ae-85eac2632827ec66-01 outer:exit 2b-c0647972d7f90c37084acc8783f4ddfe19c870ae-03cd3b8d4288232e-01
2022-04-21T21:10:23.339Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:23.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd32071be14db51a1741cc161d9cc84b9156785c-fb0887bc91b21d1a-01 outer:exit 2b-fd32071be14db51a1741cc161d9cc84b9156785c-b60f42ed845700cd-01
2022-04-21T21:10:23.348Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:23.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-51bedfa9938874e07460ec3aa9e9058087a1a37b-fb7231238e30008d-01 outer:exit 2b-51bedfa9938874e07460ec3aa9e9058087a1a37b-34b4dc0a0407c679-01
2022-04-21T21:10:23.354Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:23.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1f778c23fe9c873653a96584e4eab0c3b010506-3a402f4360fd01c7-01 outer:exit 2b-f1f778c23fe9c873653a96584e4eab0c3b010506-2d68957e325f1fac-01
2022-04-21T21:10:23.356Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:23.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cda307b301295c9933a265c5ef779556d8b0f6a-a6a146e4185a4c3d-01 outer:exit 2b-5cda307b301295c9933a265c5ef779556d8b0f6a-95bbe91f9078d404-01
2022-04-21T21:10:23.360Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:23.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad9e85c9ee4f60790ca6cbe760fab29b2eebec83-523129399fbc74eb-01 outer:exit 2b-ad9e85c9ee4f60790ca6cbe760fab29b2eebec83-3c6b1a848a2f60d0-01
2022-04-21T21:10:23.366Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:23.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c9fbfdc3b7e05ed8f44cad0e1f459819e2a1edc-c0ea73f71f4f246a-01 outer:exit 2b-3c9fbfdc3b7e05ed8f44cad0e1f459819e2a1edc-42196ee67fb8eb86-01
2022-04-21T21:10:23.368Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:23.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-96db05bfe9eddfe36f29b411403cbde0b24bcd40-54f0663f3018aa2f-01 outer:exit 2b-96db05bfe9eddfe36f29b411403cbde0b24bcd40-9b265cf4e6a6d14d-01
2022-04-21T21:10:23.370Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:23.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ac64383a5d66190113f6c78b3b05cdcdb6ca654-260c3053c0d146ff-01 outer:exit 2b-4ac64383a5d66190113f6c78b3b05cdcdb6ca654-82cc43c83b331f67-01
2022-04-21T21:10:23.371Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:23.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6afcce3c8e15b9de26233e168450fe7a47c9c37-4d1173776a7053d0-01 outer:exit 2b-b6afcce3c8e15b9de26233e168450fe7a47c9c37-c916edfa5e71bcf7-01
2022-04-21T21:10:23.373Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:23.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-630b4d336a5a0e13c6e39fc4fa8f414311b9cd7c-42c6e10808d48383-01 outer:exit 2b-630b4d336a5a0e13c6e39fc4fa8f414311b9cd7c-d4fe02fddb928444-01
2022-04-21T21:10:23.375Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:23.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da4fb0389e8d18662271ac259ece99f637ef89a-1592f506213fd356-01 outer:exit 2b-7da4fb0389e8d18662271ac259ece99f637ef89a-5dce70e4b4ae4320-01
2022-04-21T21:10:23.383Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:23.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6d66ebe50554434544ca5899962ab5e26a645de-ba49d45b65f3141b-01 outer:exit 2b-e6d66ebe50554434544ca5899962ab5e26a645de-ddf37290e1dd151a-01
2022-04-21T21:10:23.392Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:23.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5fb2a7347bd49654d2a6241347e8b345f173a56-547f87c42818b1a6-01 outer:exit 2b-e5fb2a7347bd49654d2a6241347e8b345f173a56-b976891f2508c2b2-01
2022-04-21T21:10:23.394Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:23.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a088c558494d5bad8afca42a2ff25ced3da2b8a-a02fd3258991e2be-01 outer:exit 2b-0a088c558494d5bad8afca42a2ff25ced3da2b8a-a502c401fdea597a-01
2022-04-21T21:10:23.396Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:23.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ec78ed6e65645a01ac34a4ada678eccebaa504-21ba491b2644f328-01 outer:exit 2b-40ec78ed6e65645a01ac34a4ada678eccebaa504-237e5ec26bc64b79-01
2022-04-21T21:10:23.399Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:23.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-22b254778a9be1ba46811d304206bcd8a1ab7c1c-bcbf3bcbdcc11aa7-01 outer:exit 2b-22b254778a9be1ba46811d304206bcd8a1ab7c1c-bd6f49bd060390d3-01
2022-04-21T21:10:23.430Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:30.233Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:30.234Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:30.234Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:30.235Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:30.294Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:30.410Z appoptics:patching patched crypto 
2022-04-21T21:10:30.427Z appoptics:patching patched https 
2022-04-21T21:10:30.428Z appoptics:patching patched http 
2022-04-21T21:10:30.477Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:30.477Z appoptics:patching patched fs 
2022-04-21T21:10:30.490Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v18.0.0)
2022-04-21T21:10:30.496Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-21T21:10:30.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-f84ef025e1d9a5001507952148969e88109e319f-150c4ebf5c45fa3f-01 outer:exit 2b-f84ef025e1d9a5001507952148969e88109e319f-3addabc8fc013b29-01
2022-04-21T21:10:30.540Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:30.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2ebbc75e3c693a95503958b8a08fcf16b959e50-9ed1dd8af9f38adf-01 outer:exit 2b-a2ebbc75e3c693a95503958b8a08fcf16b959e50-5c247b6e941f7eb8-01
2022-04-21T21:10:30.582Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:30.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-35c21c38df4c41c9397fbdb64d44096960a733f9-b78257793bbed3b6-01 outer:exit 2b-35c21c38df4c41c9397fbdb64d44096960a733f9-7636e56d846387fa-01
2022-04-21T21:10:30.586Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:30.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff960ffaebe58e1d72b62e0662aefb887d3cfced-9ff04e1a5091e2a5-01 outer:exit 2b-ff960ffaebe58e1d72b62e0662aefb887d3cfced-53ace3ed9378d478-01
2022-04-21T21:10:30.589Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:30.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-f90ce6a7a4f9536abb872b82c1ecf99c357d28a3-a934afbe3b2b8b30-01 outer:exit 2b-f90ce6a7a4f9536abb872b82c1ecf99c357d28a3-33e0f04f4ab3db9e-01
2022-04-21T21:10:30.593Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:30.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba58f9a76746cc3c20b7e245dd8510bd03ae7c17-9414f87abd6cf533-01 outer:exit 2b-ba58f9a76746cc3c20b7e245dd8510bd03ae7c17-e2ae35d3b6f89172-01
2022-04-21T21:10:30.596Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:30.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d9754cf91bb4883896b9c15d100ad5649fe66b-7720e5e17c6891c0-01 outer:exit 2b-48d9754cf91bb4883896b9c15d100ad5649fe66b-48edc55379410f81-01
2022-04-21T21:10:30.599Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:30.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-e63b8fc2dd0c05a0ae2946543f37b7a5bfebb68b-3643e612b1b8e208-01 outer:exit 2b-e63b8fc2dd0c05a0ae2946543f37b7a5bfebb68b-6109a81b989671fa-01
2022-04-21T21:10:30.601Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:30.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-19c75caac8b440e8020f76b88319abc7f3049193-87713ea1929ebd72-01 outer:exit 2b-19c75caac8b440e8020f76b88319abc7f3049193-e3f48bdb0d5eba5f-01
2022-04-21T21:10:30.604Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:30.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a222cd4e3a207f68b624ef39fe2247db3c91357-15ee2b7c9b30960a-01 outer:exit 2b-1a222cd4e3a207f68b624ef39fe2247db3c91357-1dd912a98f0006ee-01
2022-04-21T21:10:30.607Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:30.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdfc2024af0b61a65f060d322fde0158fb482b2c-48d68a36fea6a4a3-01 outer:exit 2b-cdfc2024af0b61a65f060d322fde0158fb482b2c-91ff7ab301877277-01
2022-04-21T21:10:30.610Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:30.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bfd8e441d144816d23fdfeb17de2163f1b563ec-86885788eab7505c-01 outer:exit 2b-7bfd8e441d144816d23fdfeb17de2163f1b563ec-7c5ce9c0633e3d96-01
2022-04-21T21:10:30.616Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:30.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-407ab8c91a584c782e22db8e1b4b693c991bac5c-2f3aa093a6bd834a-01 outer:exit 2b-407ab8c91a584c782e22db8e1b4b693c991bac5c-45a6d0d18dfaf9cb-01
2022-04-21T21:10:30.633Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:30.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fbd232fbef27680b92a887b09381127e77335f8-a03db12b89c2a25e-01 outer:exit 2b-2fbd232fbef27680b92a887b09381127e77335f8-208a8aef51e37cc4-01
2022-04-21T21:10:30.671Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:30.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd6084afd20218cc015d2f7642e0c95da9f29adb-cb8ea334cab22664-01 outer:exit 2b-dd6084afd20218cc015d2f7642e0c95da9f29adb-115e0e8445bdb606-01
2022-04-21T21:10:30.673Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:30.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-270e81829acbdf91cfbe97cf8da17154f0bfd617-d4efa82393624293-01 outer:exit 2b-270e81829acbdf91cfbe97cf8da17154f0bfd617-b647cfc06ee88c2d-01
2022-04-21T21:10:30.676Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:30.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4c8d2e1954af36442539a2934bd4702492867ee-8c9c3a45652a65b1-01 outer:exit 2b-c4c8d2e1954af36442539a2934bd4702492867ee-daeef7d398914462-01
2022-04-21T21:10:30.678Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:30.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-20760bf8eb98363e98c2b4d54c4dfc870ba61a25-197abb2b7169a84d-01 outer:exit 2b-20760bf8eb98363e98c2b4d54c4dfc870ba61a25-b14d06845b5b0c08-01
2022-04-21T21:10:30.681Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:30.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-42ce3124e4a27c176be223b12553a6a559683b7d-ec5c7eac503fecc5-01 outer:exit 2b-42ce3124e4a27c176be223b12553a6a559683b7d-94252fa4563acfe9-01
2022-04-21T21:10:30.683Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:30.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0ca755dbc98c5039f847af46575b47fe8216658-812103bbe84a132d-01 outer:exit 2b-c0ca755dbc98c5039f847af46575b47fe8216658-c4d7e8dde758bd58-01
2022-04-21T21:10:30.685Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:30.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-acde6dcbf424d2ca219e7e61f42817e4adbd7c74-3f392fa6c736666c-01 outer:exit 2b-acde6dcbf424d2ca219e7e61f42817e4adbd7c74-1e527105ebdf42d8-01
2022-04-21T21:10:30.687Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:30.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-c76a0ec9ae8f3b440b0c73985f78b711a00a1189-9bf9521ee53774f9-01 outer:exit 2b-c76a0ec9ae8f3b440b0c73985f78b711a00a1189-4a2f74147e55ba8c-01
2022-04-21T21:10:30.689Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:30.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-5712a8d372cd39eb937a8657c477d023645e5446-888e7618d9750ad4-01 outer:exit 2b-5712a8d372cd39eb937a8657c477d023645e5446-6f5095e53beb96fd-01
2022-04-21T21:10:30.691Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:30.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-73d941f95f15a1d2c04d92f404dfd8a2e8fb3739-6dff92eb09f91ec1-01 outer:exit 2b-73d941f95f15a1d2c04d92f404dfd8a2e8fb3739-fc54b6dfa1986da3-01
2022-04-21T21:10:30.694Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:30.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b53557fccd1df1c25eae0cea432de30522aab5b-cd450eb790af463d-01 outer:exit 2b-7b53557fccd1df1c25eae0cea432de30522aab5b-eb76bb9135e0c188-01
2022-04-21T21:10:30.696Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:30.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aefd9ca2d71533dde7178a476e96381ab90f0c4-f92eb2e041a96b31-01 outer:exit 2b-8aefd9ca2d71533dde7178a476e96381ab90f0c4-eeb91905b9675293-01
2022-04-21T21:10:30.698Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:30.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a6706e59e04c2458e845b34ed60353d525d8d77-759c361718dfe58b-01 outer:exit 2b-4a6706e59e04c2458e845b34ed60353d525d8d77-35cdc62a5ccbe755-01
2022-04-21T21:10:30.704Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:30.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-33d3f0acf83c53882e5cded7fb110d989173f237-055514fa8bb0aec7-01 outer:exit 2b-33d3f0acf83c53882e5cded7fb110d989173f237-3886de075bac1ccf-01
2022-04-21T21:10:30.708Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:30.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-42784d2d799cf7ed2b537588192b2b563dbfb176-95d80dadc68334c7-01 outer:exit 2b-42784d2d799cf7ed2b537588192b2b563dbfb176-4575543277bfb541-01
2022-04-21T21:10:30.716Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:30.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a48ffea39c809870027f3db7d2e4a9d01b74433-7854f289b6ae950d-01 outer:exit 2b-7a48ffea39c809870027f3db7d2e4a9d01b74433-f3434ed43b935f5b-01
2022-04-21T21:10:30.723Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:30.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5a621edf8b80dc480fedef20826603f87cb19be-affaa78d30103956-01 outer:exit 2b-f5a621edf8b80dc480fedef20826603f87cb19be-3ed5bf1acfcb1018-01
2022-04-21T21:10:30.725Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:30.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fa27c9a8646894cd908a721ec3f94b70300ad81-a5d91985f77fb542-01 outer:exit 2b-1fa27c9a8646894cd908a721ec3f94b70300ad81-fa0cd88faec33d45-01
2022-04-21T21:10:30.728Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:30.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-f96871ab35cf715494910b02a29997b4201b1dd4-fd65061f14aed1b4-01 outer:exit 2b-f96871ab35cf715494910b02a29997b4201b1dd4-89964318877947b8-01
2022-04-21T21:10:30.735Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:30.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a5d43cc5615d19f4ea77a5dd72eafbcf1f2f758-98919c2c51af00a3-01 outer:exit 2b-5a5d43cc5615d19f4ea77a5dd72eafbcf1f2f758-b5e76f1e4a27164b-01
2022-04-21T21:10:30.737Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:30.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3ec0300d748396dc05f5e437595cadb2e5ce705-ffc46c5fb62e8893-01 outer:exit 2b-a3ec0300d748396dc05f5e437595cadb2e5ce705-1bf00ea6b00d38df-01
2022-04-21T21:10:30.739Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:30.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-b35e41c599eb67687486a7664c679f0df5d9cd17-2b1504271f1552ab-01 outer:exit 2b-b35e41c599eb67687486a7664c679f0df5d9cd17-69435e7b9f8bef5e-01
2022-04-21T21:10:30.740Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:30.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba78ef7268e2ca68cd77fae07485f1c18c35957a-713ff6e0a8b1d755-01 outer:exit 2b-ba78ef7268e2ca68cd77fae07485f1c18c35957a-cdf2c9b5a1ef414e-01
2022-04-21T21:10:30.742Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:30.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-2db370e127ef5ba6f1d001ce48dc2b1e4b34096f-97d4fbbf975fe259-01 outer:exit 2b-2db370e127ef5ba6f1d001ce48dc2b1e4b34096f-972b146c6d8af53f-01
2022-04-21T21:10:30.744Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:30.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-a37faa38c8f8f2f5a545d9e07dc29307853f69bf-1a92aaf317e3a1c1-01 outer:exit 2b-a37faa38c8f8f2f5a545d9e07dc29307853f69bf-befcbeb6de2d844a-01
2022-04-21T21:10:30.753Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:30.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-640a05751f7de7d5bb826c39b45c10200d69fa97-f8e33ca511b400e6-01 outer:exit 2b-640a05751f7de7d5bb826c39b45c10200d69fa97-f788ba24c8ffcbd6-01
2022-04-21T21:10:30.761Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:30.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8ee606b3aefdd1af1662460b9a7cb7d49d9927e-3971f337f6a5c34e-01 outer:exit 2b-d8ee606b3aefdd1af1662460b9a7cb7d49d9927e-3532030ea360386e-01
2022-04-21T21:10:30.764Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:30.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-b18da1b8f2c8fb6323191377c62cd50df523499b-43c7da56aaa63460-01 outer:exit 2b-b18da1b8f2c8fb6323191377c62cd50df523499b-78640e7b0e4df40b-01
2022-04-21T21:10:30.767Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:30.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5b29f29534466809fdb1f2b35c15b725a96093d-0dd8e00d33386921-01 outer:exit 2b-d5b29f29534466809fdb1f2b35c15b725a96093d-c48ee11bc7d1609c-01
2022-04-21T21:10:30.769Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:30.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fcb05ee6f94877a06a2fe26f59963452bdb0c82-7141269df974501a-01 outer:exit 2b-2fcb05ee6f94877a06a2fe26f59963452bdb0c82-f79a0ecb67a02d7c-01
2022-04-21T21:10:30.796Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (295ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:36.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:36.752Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:36.752Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:36.753Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:36.812Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:36.926Z appoptics:patching patched crypto 
2022-04-21T21:10:36.945Z appoptics:patching patched https 
2022-04-21T21:10:36.945Z appoptics:patching patched http 
2022-04-21T21:10:36.994Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:36.994Z appoptics:patching patched fs 
2022-04-21T21:10:37.008Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v18.0.0)
2022-04-21T21:10:37.014Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-21T21:10:37.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-81303f76abfce884bf38137ac7e50b2b186507c4-00f84ecb11700c11-01 outer:exit 2b-81303f76abfce884bf38137ac7e50b2b186507c4-cc8c5930e967a9bc-01
2022-04-21T21:10:37.063Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:37.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-54a9a022d06d0ee151abce1d7fcff1bea08cf847-7917fe0bf47ee0b3-01 outer:exit 2b-54a9a022d06d0ee151abce1d7fcff1bea08cf847-775b45fd2dde36fc-01
2022-04-21T21:10:37.109Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:37.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d9e9a2aa9561f8933c17b26789cebcb93960229-805032f6897eda1b-01 outer:exit 2b-3d9e9a2aa9561f8933c17b26789cebcb93960229-a99252777550be38-01
2022-04-21T21:10:37.113Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:37.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-49b67e4c8e73e2ae62fa921d0e3922a04494702e-cc9da8b7420a4f1d-01 outer:exit 2b-49b67e4c8e73e2ae62fa921d0e3922a04494702e-65d81356b0a3703d-01
2022-04-21T21:10:37.116Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:37.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-bce9729a0623ffaf8819e7f95139bfa794197839-e6d1fdb4ff0d7611-01 outer:exit 2b-bce9729a0623ffaf8819e7f95139bfa794197839-ce4e41183b4a379c-01
2022-04-21T21:10:37.121Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:37.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ab9c18fac1a0ee2a0b72c2b5311fbae7e3501e-427bf32231fbe6d5-01 outer:exit 2b-40ab9c18fac1a0ee2a0b72c2b5311fbae7e3501e-1447abb18e9b8152-01
2022-04-21T21:10:37.124Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:37.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7bb4e2045be95dd08bd9fbe65885113429fc8a4-4035af8b6374c22c-01 outer:exit 2b-c7bb4e2045be95dd08bd9fbe65885113429fc8a4-82d8602defe2be68-01
2022-04-21T21:10:37.126Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:37.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc2d420b4e917bf6191384a480b467fb3a22cc3b-d84d544d39b34cf9-01 outer:exit 2b-bc2d420b4e917bf6191384a480b467fb3a22cc3b-1c17caaeeee6d5ee-01
2022-04-21T21:10:37.128Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:37.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-1da98b2e16abc742cac106cc9b8e6cae65cb0d82-6b66f985bb0402f2-01 outer:exit 2b-1da98b2e16abc742cac106cc9b8e6cae65cb0d82-d774d8918cabaf95-01
2022-04-21T21:10:37.131Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:37.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4d043be02094672bf9e043d11837c3f63f7fdb7-8f498211fdcbadbf-01 outer:exit 2b-c4d043be02094672bf9e043d11837c3f63f7fdb7-ef9a2564d665bf7e-01
2022-04-21T21:10:37.134Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:37.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f1fc1a642998f6a66f960f713967c8234d40fed-4a5bea4e5ec098c9-01 outer:exit 2b-4f1fc1a642998f6a66f960f713967c8234d40fed-bc17988bf8843656-01
2022-04-21T21:10:37.138Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:37.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-efe46a2be1ebd070d79d788d7039fc8c148dd394-215e24c856a6245a-01 outer:exit 2b-efe46a2be1ebd070d79d788d7039fc8c148dd394-fa95cd6071d8478a-01
2022-04-21T21:10:37.144Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:37.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-afaf9a84ddb34ffa50db22801d6e31383e53923a-4c9e31b2bcb5d265-01 outer:exit 2b-afaf9a84ddb34ffa50db22801d6e31383e53923a-ad497d2f5d70a5a0-01
2022-04-21T21:10:37.160Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:37.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-4931efb05a4cbcfd60cf0e3141a678f443bcb812-51766d9fb2f5eebe-01 outer:exit 2b-4931efb05a4cbcfd60cf0e3141a678f443bcb812-e4a63e911f6a3144-01
2022-04-21T21:10:37.201Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:37.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-e52536c73db0f2088565e73b3141dcb22241a956-3fa3a102140b23f8-01 outer:exit 2b-e52536c73db0f2088565e73b3141dcb22241a956-e3e88cab0228b8d2-01
2022-04-21T21:10:37.204Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:37.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcfbf76caf3878d7ecfea408e0b1c2dd04dd8cf4-d8fdd0f5142f59f5-01 outer:exit 2b-bcfbf76caf3878d7ecfea408e0b1c2dd04dd8cf4-021f4c31f11dfe43-01
2022-04-21T21:10:37.206Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:37.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-7de77e36b908ad66fd751233a95fda13f6d95c6d-e9f1b7eb4e4ace17-01 outer:exit 2b-7de77e36b908ad66fd751233a95fda13f6d95c6d-eac19ba33eab38af-01
2022-04-21T21:10:37.211Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:37.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f93b938125fc02eff79d4414fd6effaa5455784-47b5d12732e89622-01 outer:exit 2b-8f93b938125fc02eff79d4414fd6effaa5455784-6d88055434fa98d1-01
2022-04-21T21:10:37.213Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:37.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-41b911e3d4912470a335c58cbb775490c8ad95f9-ef26eab3def3be25-01 outer:exit 2b-41b911e3d4912470a335c58cbb775490c8ad95f9-5cbbe675d861fff4-01
2022-04-21T21:10:37.215Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:37.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fa00af6c6bc35c7d6edbe94e1d0eb5155ec4780-d8e20d1a978319f7-01 outer:exit 2b-6fa00af6c6bc35c7d6edbe94e1d0eb5155ec4780-33344a11270f25b8-01
2022-04-21T21:10:37.217Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:37.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0322e5d9b6f5e3ce2822a48efdebeee34c54c37-59afecce33570a67-01 outer:exit 2b-d0322e5d9b6f5e3ce2822a48efdebeee34c54c37-bb41982add413c5d-01
2022-04-21T21:10:37.219Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:37.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-8801111de49c41ffaf5e30cbeb54223a659e23a3-1a1fde3e24ccbace-01 outer:exit 2b-8801111de49c41ffaf5e30cbeb54223a659e23a3-8a8aa096d31c541d-01
2022-04-21T21:10:37.221Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:37.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd71ec0ea8f377db1ff8d8affbd6beeb030ce9b3-2f075a99b218afb7-01 outer:exit 2b-dd71ec0ea8f377db1ff8d8affbd6beeb030ce9b3-b0a2b5d0186cc03f-01
2022-04-21T21:10:37.224Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:37.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-184fa2e6c4d5639b2e4e97fe7d157249bf716538-3f9192a6e8714632-01 outer:exit 2b-184fa2e6c4d5639b2e4e97fe7d157249bf716538-a9ff2bda008ad2cf-01
2022-04-21T21:10:37.227Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:37.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7b9e69425313549bebccd09c0d9281d571f8c73-7acd47b196bb077b-01 outer:exit 2b-b7b9e69425313549bebccd09c0d9281d571f8c73-cb19a47d963668f3-01
2022-04-21T21:10:37.229Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:37.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-06766b3e7da7f0e332ff0bf669ba9f02ab1fc0b6-75fdf7756ec94d1e-01 outer:exit 2b-06766b3e7da7f0e332ff0bf669ba9f02ab1fc0b6-04eb54815a39b1ad-01
2022-04-21T21:10:37.231Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:37.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-18fe6116035f83fc0a9ef85bb067584baf998fa1-71a59c926cf70058-01 outer:exit 2b-18fe6116035f83fc0a9ef85bb067584baf998fa1-f4a554c3331d5750-01
2022-04-21T21:10:37.237Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:37.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8527f93481de8c8781d07ec1a868f7f892a11d8-eebd4f8a5735936e-01 outer:exit 2b-b8527f93481de8c8781d07ec1a868f7f892a11d8-6887c578bffb357f-01
2022-04-21T21:10:37.242Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:37.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-865a371dfceee162aba12f4cea075d3b9a441a04-feb18384b5e8ab85-01 outer:exit 2b-865a371dfceee162aba12f4cea075d3b9a441a04-412e9c8022dda31d-01
2022-04-21T21:10:37.251Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:37.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7641c75e0d798eac2db8f9b045f73060df74806-ff23e7848ee698db-01 outer:exit 2b-c7641c75e0d798eac2db8f9b045f73060df74806-181de98de8c518b3-01
2022-04-21T21:10:37.258Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:37.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-10de3da83545324a5406a5bd41dff63c7077d61d-3bc3c022bb8c7061-01 outer:exit 2b-10de3da83545324a5406a5bd41dff63c7077d61d-c23d8dea36202e66-01
2022-04-21T21:10:37.260Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:37.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-72cd057cd8c4602f871536eabab0aa99884b850f-276bacf0ae2beec9-01 outer:exit 2b-72cd057cd8c4602f871536eabab0aa99884b850f-bf1cec3eaacd1576-01
2022-04-21T21:10:37.262Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:37.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-db51862a8fca845f9055d7869eddb3e894f56fe3-c4e365c48a1e4ec5-01 outer:exit 2b-db51862a8fca845f9055d7869eddb3e894f56fe3-814330088bc735ee-01
2022-04-21T21:10:37.269Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:37.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-9caa4467a8c34cef14c8fb2a71d0b1e44ae01e06-7fa67d2a7ede18b0-01 outer:exit 2b-9caa4467a8c34cef14c8fb2a71d0b1e44ae01e06-f08dbb4a569d0da3-01
2022-04-21T21:10:37.271Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:37.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8c85c32dc744a64bb1ca7e4c0bf8a91b37e6a9e-4f7b3d76d3fdd407-01 outer:exit 2b-b8c85c32dc744a64bb1ca7e4c0bf8a91b37e6a9e-b8a7cd284df5e6cc-01
2022-04-21T21:10:37.273Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:37.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3c22c2ceab5fa262c192cec5b76cebf47fa38d2-db64864c5b8671c8-01 outer:exit 2b-a3c22c2ceab5fa262c192cec5b76cebf47fa38d2-e8b43c44fa1df860-01
2022-04-21T21:10:37.274Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:37.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-deec186d58c6900f365f55505e6fedad53c2419c-123c4a294d255c50-01 outer:exit 2b-deec186d58c6900f365f55505e6fedad53c2419c-cef9dd9dafa65a62-01
2022-04-21T21:10:37.276Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:37.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-e67f80aea011a6b4ce07a944602315b28280890d-050afc348dd2e75a-01 outer:exit 2b-e67f80aea011a6b4ce07a944602315b28280890d-b58f7dc054c1cb91-01
2022-04-21T21:10:37.278Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:37.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfe7f20d62cd01e57ed164798114773b8e0ff158-1640c5edf12fb8b3-01 outer:exit 2b-bfe7f20d62cd01e57ed164798114773b8e0ff158-2cacfd4e82481393-01
2022-04-21T21:10:37.288Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:37.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5b73ff5fee52cf63be1da34b4b4fc76a06a3304-2bbd2058f2ba8a1d-01 outer:exit 2b-c5b73ff5fee52cf63be1da34b4b4fc76a06a3304-3239fe230e050863-01
2022-04-21T21:10:37.297Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:37.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d38c6ad2849816aa360c970a71f929cb35a2c38-e2d5902ff730da6e-01 outer:exit 2b-4d38c6ad2849816aa360c970a71f929cb35a2c38-9bebc68f99e8cf08-01
2022-04-21T21:10:37.300Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:37.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-b87883e0b8ce91331cc451a07ea46799b5a847fb-9fc9f11103055afe-01 outer:exit 2b-b87883e0b8ce91331cc451a07ea46799b5a847fb-dd3eb95fe835da8c-01
2022-04-21T21:10:37.303Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:37.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2b008657108806eb85de56cc7f39fef7bd83345-a4b4d5e5fbe22e6c-01 outer:exit 2b-d2b008657108806eb85de56cc7f39fef7bd83345-d906a982cc1bf9d9-01
2022-04-21T21:10:37.305Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:37.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-03f601aff26eec0de5b75359c81dd98016884554-3a77a01faf779eec-01 outer:exit 2b-03f601aff26eec0de5b75359c81dd98016884554-39aed0ec367d5761-01
2022-04-21T21:10:37.333Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (314ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:44.463Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:44.464Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:44.464Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:44.464Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:44.524Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:44.639Z appoptics:patching patched crypto 
2022-04-21T21:10:44.657Z appoptics:patching patched https 
2022-04-21T21:10:44.658Z appoptics:patching patched http 
2022-04-21T21:10:44.708Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:44.708Z appoptics:patching patched fs 
2022-04-21T21:10:44.721Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v18.0.0)
2022-04-21T21:10:44.727Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-21T21:10:44.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fdf29764176718953a83d9218b96ba34ec07017-f0aca67b339e0147-01 outer:exit 2b-3fdf29764176718953a83d9218b96ba34ec07017-6cb6e06250c068fe-01
2022-04-21T21:10:44.770Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:44.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a7c597ef40fb309b3169906f20dae09fbc9dab7-285f347cba0e5822-01 outer:exit 2b-9a7c597ef40fb309b3169906f20dae09fbc9dab7-17ae6e5b51effbd3-01
2022-04-21T21:10:44.815Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:44.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc05b7aadbb617daaaee4304a0b47497ddb71842-d3a9c47bafd9681c-01 outer:exit 2b-bc05b7aadbb617daaaee4304a0b47497ddb71842-32b7a5728c9f428d-01
2022-04-21T21:10:44.819Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:44.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-1371fa64ab0a48fc00d1b12844a231e94e13a0c0-072be0f3c7efefc2-01 outer:exit 2b-1371fa64ab0a48fc00d1b12844a231e94e13a0c0-4277c6979eeeff3b-01
2022-04-21T21:10:44.823Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:44.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-0246cfde5193b149a889afcc9698fde94dd7ba32-1eac3e88e64d1cd7-01 outer:exit 2b-0246cfde5193b149a889afcc9698fde94dd7ba32-cb5af0f69ab501cb-01
2022-04-21T21:10:44.827Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:44.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-150928e849da5b6d7f35f7d4a7131967c0b61189-7c3be56abea0a1fb-01 outer:exit 2b-150928e849da5b6d7f35f7d4a7131967c0b61189-b1349c7c241d1aa1-01
2022-04-21T21:10:44.831Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:44.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a2938500d4adfcc36cb41387a62aa7646e8930c-42db2a3db083de2f-01 outer:exit 2b-0a2938500d4adfcc36cb41387a62aa7646e8930c-468ee8da16ba0545-01
2022-04-21T21:10:44.833Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:44.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-65fc89d56651b04b84ba215106a86eba22e512ce-d50ff6ee2444de7b-01 outer:exit 2b-65fc89d56651b04b84ba215106a86eba22e512ce-af5eb09c4b0f1078-01
2022-04-21T21:10:44.836Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:44.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-15e19fafe52a3fae36ee852b30cb9d8b21ee4537-db3478f6ae4150d7-01 outer:exit 2b-15e19fafe52a3fae36ee852b30cb9d8b21ee4537-d8dc633d50fa5fd7-01
2022-04-21T21:10:44.838Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:44.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a983c6a556ee909b8c232c5c0cb888ab2465e76-26d7f9c2304aca96-01 outer:exit 2b-2a983c6a556ee909b8c232c5c0cb888ab2465e76-d056c8ff46ca8af5-01
2022-04-21T21:10:44.841Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:44.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ce3478ff9997528ce0da3868a4f0e6d32a1404-ee29c24686356dcf-01 outer:exit 2b-d0ce3478ff9997528ce0da3868a4f0e6d32a1404-22517b050070ea13-01
2022-04-21T21:10:44.845Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:44.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eeb5eb237d96edfe68e32154afd8639fec13ac2-c444d827e2e888fc-01 outer:exit 2b-9eeb5eb237d96edfe68e32154afd8639fec13ac2-a9b9f572760ed2e6-01
2022-04-21T21:10:44.851Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:44.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-1136fc64f0d60ed6467102e67d6fdf060846993f-426f1b6ba2cfc305-01 outer:exit 2b-1136fc64f0d60ed6467102e67d6fdf060846993f-44c46ef10f80f907-01
2022-04-21T21:10:44.866Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:44.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf8e377190c1887848a705b3b0542b79b324366-2e3afc9fee1097f8-01 outer:exit 2b-eaf8e377190c1887848a705b3b0542b79b324366-8ed589b9557cb31d-01
2022-04-21T21:10:44.906Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:44.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-86cbc3660138b1f8b539d9f19af84e4d396a3055-4d2de30d736557c8-01 outer:exit 2b-86cbc3660138b1f8b539d9f19af84e4d396a3055-9ee21437ead1fc5e-01
2022-04-21T21:10:44.909Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:44.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cfbb8f1078c5b7c998e46fee94c0f0af3988202-2ac3948603ae3a5c-01 outer:exit 2b-0cfbb8f1078c5b7c998e46fee94c0f0af3988202-28968350c4034e0d-01
2022-04-21T21:10:44.911Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:44.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c5b3c43e7979ba61a2dee64ba3c167d17a82d3c-ce79fb395afaeb2c-01 outer:exit 2b-3c5b3c43e7979ba61a2dee64ba3c167d17a82d3c-d9d650b189c01131-01
2022-04-21T21:10:44.914Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:44.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccfa26e56a615373b41f57e8dff68c0c096f781f-15af900fa5519b78-01 outer:exit 2b-ccfa26e56a615373b41f57e8dff68c0c096f781f-0146047f1fae283b-01
2022-04-21T21:10:44.916Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:44.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-76f482521ec9d0e6cbdd9cf7a9b2b4702912fbf8-1ec7f4948bcc3902-01 outer:exit 2b-76f482521ec9d0e6cbdd9cf7a9b2b4702912fbf8-6f3ce118c3e616c8-01
2022-04-21T21:10:44.918Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:44.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-01439f93a444e63fbc3bec1f8395625d0e7dafc0-40338c83f1d3633c-01 outer:exit 2b-01439f93a444e63fbc3bec1f8395625d0e7dafc0-429389a96b356094-01
2022-04-21T21:10:44.921Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:44.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfaa33da1fa22e2c094c169da797603da8c7b56f-5087ae2312bf59f0-01 outer:exit 2b-dfaa33da1fa22e2c094c169da797603da8c7b56f-eafef074d32816ee-01
2022-04-21T21:10:44.923Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:44.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-01f6bb2ca53bc3ef092ae05bf22ae84a38b1662f-ae18f0ace1840dc5-01 outer:exit 2b-01f6bb2ca53bc3ef092ae05bf22ae84a38b1662f-bb76aca354c449a7-01
2022-04-21T21:10:44.925Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:44.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a0c77663a5c0d2f259c2c243a89616f049892c1-5085a86aae15ee3f-01 outer:exit 2b-9a0c77663a5c0d2f259c2c243a89616f049892c1-10ea67bfb9125c89-01
2022-04-21T21:10:44.928Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:44.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-21688e136f3cb33b52502b08178f1cc61a5637f1-7b58da2a849b6c33-01 outer:exit 2b-21688e136f3cb33b52502b08178f1cc61a5637f1-ff3ae4046e31cbdb-01
2022-04-21T21:10:44.930Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:44.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-32e9b3f2948410842de1f6a157744a9eaf481e2d-a86753ea9ef4e821-01 outer:exit 2b-32e9b3f2948410842de1f6a157744a9eaf481e2d-b1e261097e26e63c-01
2022-04-21T21:10:44.932Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:44.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-64438966cfe6bfc2a4135b5c05ec33c8433693b9-0481ffcb8e9ae6cd-01 outer:exit 2b-64438966cfe6bfc2a4135b5c05ec33c8433693b9-1010cb9a4104e701-01
2022-04-21T21:10:44.935Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:44.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb8f8bcb3e8af30b2adc17a58f0261ada9976dbc-49676a4d6d3f1323-01 outer:exit 2b-fb8f8bcb3e8af30b2adc17a58f0261ada9976dbc-e619ac5dd216ae95-01
2022-04-21T21:10:44.941Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:44.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-c61097bfda3bae761bc212b3efdcdd8d9b583db2-14b486e7b193bea5-01 outer:exit 2b-c61097bfda3bae761bc212b3efdcdd8d9b583db2-508ee3c9d73b979b-01
2022-04-21T21:10:44.946Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:44.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-a09cc3d175e20a16739ae23b1b6c7a84dc6a881e-7cb6be38000cf51e-01 outer:exit 2b-a09cc3d175e20a16739ae23b1b6c7a84dc6a881e-e930e4215e9f763a-01
2022-04-21T21:10:44.956Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:44.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d2b68be3eb07b746aa3d88496c6b891504887c-b7f0a9b20024f9c8-01 outer:exit 2b-f3d2b68be3eb07b746aa3d88496c6b891504887c-b89afda4e7b87f73-01
2022-04-21T21:10:44.962Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:44.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-73734632b9662ca848bb94abea5d26cd39bc9265-7145172cfd6449ab-01 outer:exit 2b-73734632b9662ca848bb94abea5d26cd39bc9265-324bccede6367026-01
2022-04-21T21:10:44.964Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:44.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cdb438fab50f40d975e938cd62c8532f949de8d-faeecfc6004b56fa-01 outer:exit 2b-8cdb438fab50f40d975e938cd62c8532f949de8d-4fad5ecbbd7acf09-01
2022-04-21T21:10:44.966Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:44.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-84da67721323ac70ede6548519c0b476b64340e9-231f65cb436d7be0-01 outer:exit 2b-84da67721323ac70ede6548519c0b476b64340e9-982c69fc76659fc7-01
2022-04-21T21:10:44.974Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:44.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f5f1303ef0c22c503706afc543f128bbeabb100-09f56a5e5c04a631-01 outer:exit 2b-7f5f1303ef0c22c503706afc543f128bbeabb100-9da0c180334b4431-01
2022-04-21T21:10:44.976Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:44.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4a9dfeb5c8f761cdbc5894b8185d6fb054f8796-ac9a6670d3f1c7d4-01 outer:exit 2b-f4a9dfeb5c8f761cdbc5894b8185d6fb054f8796-f16a0683a51d5778-01
2022-04-21T21:10:44.978Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:44.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-b34dd586f09147fe191bd8096705a65bc9c7a89d-6bf32cd756d8b37a-01 outer:exit 2b-b34dd586f09147fe191bd8096705a65bc9c7a89d-7c536105fe19e592-01
2022-04-21T21:10:44.980Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:44.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b16903d9b34f6fe467bc4408c0aec079e5bc664-851dfd6fa0afc08c-01 outer:exit 2b-0b16903d9b34f6fe467bc4408c0aec079e5bc664-1949484dac85de00-01
2022-04-21T21:10:44.981Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:44.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-de65eb3c8b052cf4f48dc6fabd2aa26a8a629aef-50d3af4eda37738f-01 outer:exit 2b-de65eb3c8b052cf4f48dc6fabd2aa26a8a629aef-bb450dc91312cc08-01
2022-04-21T21:10:44.983Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:44.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aa11c15a46dcace2e698c2af3a7075494f385f7-a947902041007bb7-01 outer:exit 2b-4aa11c15a46dcace2e698c2af3a7075494f385f7-9d11b79b4af5a23f-01
2022-04-21T21:10:44.992Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:45.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-361fb8882495fd1ef07cbb1612ea98222123cd98-ad55044c4599c063-01 outer:exit 2b-361fb8882495fd1ef07cbb1612ea98222123cd98-ca0330f31439e5d6-01
2022-04-21T21:10:45.002Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:45.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-7606c1d71383a43b02bbc46e0ee79ebaaec5bf23-6364e36d0630a5b9-01 outer:exit 2b-7606c1d71383a43b02bbc46e0ee79ebaaec5bf23-f55bafaf4470672e-01
2022-04-21T21:10:45.005Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:45.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-78b698c2793286e3119bd32d9747d6a9d4987b82-c00565aee0dbf373-01 outer:exit 2b-78b698c2793286e3119bd32d9747d6a9d4987b82-3f63faec719721db-01
2022-04-21T21:10:45.008Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:45.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c57cfd338fd5afcb4f35bf38827c2579cc53f6c-fe8b601e4c344a51-01 outer:exit 2b-4c57cfd338fd5afcb4f35bf38827c2579cc53f6c-e067d25c45ab9366-01
2022-04-21T21:10:45.011Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:45.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-14c528da52cc550eebd466918d66791ba165f09c-45fcdde2762043cb-01 outer:exit 2b-14c528da52cc550eebd466918d66791ba165f09c-b2d5dcfa6d824ac4-01
2022-04-21T21:10:45.039Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (307ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:51.749Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:51.750Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:51.750Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:51.751Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:51.867Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:51.989Z appoptics:patching patched crypto 
2022-04-21T21:10:52.008Z appoptics:patching patched https 
2022-04-21T21:10:52.009Z appoptics:patching patched http 
2022-04-21T21:10:52.085Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:52.085Z appoptics:patching patched fs 
2022-04-21T21:10:52.109Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v18.0.0)
2022-04-21T21:10:52.115Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-21T21:10:52.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-e76a81008ce29229a0417f99f698ad83d102e10b-a9eaaf5143826a64-01 outer:exit 2b-e76a81008ce29229a0417f99f698ad83d102e10b-5521de8d205df59b-01
2022-04-21T21:10:52.162Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:52.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fe70354f8cd5827e214424713df8f7d8ab37c07-d270507876ae37c9-01 outer:exit 2b-9fe70354f8cd5827e214424713df8f7d8ab37c07-f575ded2dfdd280a-01
2022-04-21T21:10:52.208Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:52.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0fe74a6bb4aaa484a272371ea274f1fa26d49c3-80d84dfa4950e4c7-01 outer:exit 2b-a0fe74a6bb4aaa484a272371ea274f1fa26d49c3-a66bc4fe835efc03-01
2022-04-21T21:10:52.214Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:52.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-0046a8e94aca9135839fcdeb97838a2c3fc37273-b25df99a481d281b-01 outer:exit 2b-0046a8e94aca9135839fcdeb97838a2c3fc37273-80d06e30df9d29ad-01
2022-04-21T21:10:52.218Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:52.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd367d3ebcb4790eaf37e0a193f48c9ffd6d234c-31f621e1e15d76ab-01 outer:exit 2b-fd367d3ebcb4790eaf37e0a193f48c9ffd6d234c-3e55d33922c357ab-01
2022-04-21T21:10:52.226Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:52.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-8497ce30c08311770d6a8cc8c86ad2bdcbecb52e-a91af0d64deee769-01 outer:exit 2b-8497ce30c08311770d6a8cc8c86ad2bdcbecb52e-6166b23ec92d481e-01
2022-04-21T21:10:52.229Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:52.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d0a5cbce1e31d79ba2d4a0b55f54f6f646d1536-61bc034625211b6d-01 outer:exit 2b-1d0a5cbce1e31d79ba2d4a0b55f54f6f646d1536-f85d43644cb0dc27-01
2022-04-21T21:10:52.232Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:52.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e0ab2e57856e1eaae9d29d62c7b3c3b2befe4e3-029f0586405c5140-01 outer:exit 2b-5e0ab2e57856e1eaae9d29d62c7b3c3b2befe4e3-679a538ff8351bc8-01
2022-04-21T21:10:52.234Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:52.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-e56f4117a321bb715d85e4c9d7387e1f2e77bf50-0323df840bea9c82-01 outer:exit 2b-e56f4117a321bb715d85e4c9d7387e1f2e77bf50-0e381dcb2c2529dc-01
2022-04-21T21:10:52.237Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:52.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-513c7d0678f9be1bbcdcdd1fe70ac5873b85b332-da54c9e27975d0f7-01 outer:exit 2b-513c7d0678f9be1bbcdcdd1fe70ac5873b85b332-fec8181ba7d370d2-01
2022-04-21T21:10:52.240Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:52.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-addf60526040a69c5d3bec8ed8cd9a6c3ef5d146-37ab893afcd89610-01 outer:exit 2b-addf60526040a69c5d3bec8ed8cd9a6c3ef5d146-eede7f3c9f674e90-01
2022-04-21T21:10:52.244Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:52.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-8de4edfe88a9e1c89f468f96ec87c44e880290f1-70a40783ea0eff20-01 outer:exit 2b-8de4edfe88a9e1c89f468f96ec87c44e880290f1-5733de6a9ccb42ec-01
2022-04-21T21:10:52.261Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:52.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c8503a4d02b1b8e4633ab4f923e224ca814bf45-9fa54274d539a5b0-01 outer:exit 2b-5c8503a4d02b1b8e4633ab4f923e224ca814bf45-028f65b1005884af-01
2022-04-21T21:10:52.286Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:52.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc834ff4820974b80cecda2a90664f7b1742a822-d238becc70ad730f-01 outer:exit 2b-fc834ff4820974b80cecda2a90664f7b1742a822-14f3d81723bb352a-01
2022-04-21T21:10:52.331Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:52.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-0115e5de43da1bf55738e78d6a291b697d26ab44-863423bc100d9b4a-01 outer:exit 2b-0115e5de43da1bf55738e78d6a291b697d26ab44-e2d8cc8e8e5afde1-01
2022-04-21T21:10:52.334Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:52.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-c89626a856b197bc9dde5b476b13e10cc958caf5-62f6fc7e0e61d253-01 outer:exit 2b-c89626a856b197bc9dde5b476b13e10cc958caf5-eda81672b97442df-01
2022-04-21T21:10:52.337Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:52.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-67f57dad6a2018f407ea967837cfb4c5f27c1cb0-31fbc57ed2584ec1-01 outer:exit 2b-67f57dad6a2018f407ea967837cfb4c5f27c1cb0-0a30749a9a25ba5e-01
2022-04-21T21:10:52.340Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:52.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c49243cd393dd786550129951cb17182db89ded-e4824b6c2a9ddb31-01 outer:exit 2b-9c49243cd393dd786550129951cb17182db89ded-27b95cfc626a3e1e-01
2022-04-21T21:10:52.343Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:52.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b580b2f4af5f9ee10251097c40562784463477f-0ac8c50117c5fb32-01 outer:exit 2b-0b580b2f4af5f9ee10251097c40562784463477f-45c71199c64ca0da-01
2022-04-21T21:10:52.346Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:52.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f5f0a619aef2ed4c9f25ac3c8f0593f8e86423-387fc16fd996bc0e-01 outer:exit 2b-17f5f0a619aef2ed4c9f25ac3c8f0593f8e86423-9ee490010a357a6b-01
2022-04-21T21:10:52.350Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:52.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-cab980aa98a6a266761122c6f2513dcbac732c91-58093de3e9da895a-01 outer:exit 2b-cab980aa98a6a266761122c6f2513dcbac732c91-0c511bd3e9daed5c-01
2022-04-21T21:10:52.354Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:52.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f12f662a04716bd1d5dd6a9ceb65fc519b5b36a-5665d2c5c8944e97-01 outer:exit 2b-9f12f662a04716bd1d5dd6a9ceb65fc519b5b36a-af5ddbea590510f2-01
2022-04-21T21:10:52.356Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:52.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-94ed1b8bf65acb933b7a690e7d9e2e29fd984f00-0daba18bf9a8dfe3-01 outer:exit 2b-94ed1b8bf65acb933b7a690e7d9e2e29fd984f00-4644cf7be0909e83-01
2022-04-21T21:10:52.359Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:52.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-625805cf52fe6cacb324169ba62ee7831a2b9978-86c00c1dc28cb1dc-01 outer:exit 2b-625805cf52fe6cacb324169ba62ee7831a2b9978-1ea68adc619916cc-01
2022-04-21T21:10:52.362Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:52.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-6179924b88a4ba618473310372aa602483b076bc-8bf2b0f0d3bdb25c-01 outer:exit 2b-6179924b88a4ba618473310372aa602483b076bc-4d51954235386042-01
2022-04-21T21:10:52.365Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:52.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa61959d9c19004def13e6c2d3e6adc644c95240-b513f21852959ffb-01 outer:exit 2b-fa61959d9c19004def13e6c2d3e6adc644c95240-fcb1ec0fd51b37e4-01
2022-04-21T21:10:52.368Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:52.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c3520571ce7de03dc1d4af960bc9997bd316873-4b4963d17a61169d-01 outer:exit 2b-8c3520571ce7de03dc1d4af960bc9997bd316873-0fd942bfd9911296-01
2022-04-21T21:10:52.392Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:52.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e20ad226efc1392ea61ccce82197a71490882a1-c0a5ac32193ce449-01 outer:exit 2b-2e20ad226efc1392ea61ccce82197a71490882a1-c5569d072b4543c0-01
2022-04-21T21:10:52.423Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:52.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbb1fa00a3a33b148dc984527acbed4b133ca478-a4f006fd8140a0fa-01 outer:exit 2b-fbb1fa00a3a33b148dc984527acbed4b133ca478-5f4dfc6b35ff1b6b-01
2022-04-21T21:10:52.433Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:52.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-7933fb93a4c752496f2a12cd568678ed002ef607-2fb11962ad96fdf7-01 outer:exit 2b-7933fb93a4c752496f2a12cd568678ed002ef607-e7e621d333d0f02e-01
2022-04-21T21:10:52.442Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:52.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-15d226b142e2aa765907a341c65a8a2cb2d3f2c2-d39803ceecc560e2-01 outer:exit 2b-15d226b142e2aa765907a341c65a8a2cb2d3f2c2-7806af1227750286-01
2022-04-21T21:10:52.444Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:52.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-81c6961742744219c3a50608337e73a46f014c54-ec35ccb00c1d89b5-01 outer:exit 2b-81c6961742744219c3a50608337e73a46f014c54-e5cd0f7e71cc11db-01
2022-04-21T21:10:52.447Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:52.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d92f12b4b82e16eae4bb283bab1359f18d18eb6-1a894ed4f883047e-01 outer:exit 2b-3d92f12b4b82e16eae4bb283bab1359f18d18eb6-44878e3cb40df656-01
2022-04-21T21:10:52.456Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:52.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc4eb1d6572683241372044b59b03ef28767f46f-89c190710612c9a3-01 outer:exit 2b-bc4eb1d6572683241372044b59b03ef28767f46f-d5e752cafa3c0799-01
2022-04-21T21:10:52.458Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:52.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-b915fe5be652402550ecf4db72d6c3c60b3480e6-a6394c4e114a412b-01 outer:exit 2b-b915fe5be652402550ecf4db72d6c3c60b3480e6-9268b750436281c8-01
2022-04-21T21:10:52.460Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:52.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-757eca2fc8c2adf818e5a62462a801c85b3e2f26-12eb6cfaba7b150c-01 outer:exit 2b-757eca2fc8c2adf818e5a62462a801c85b3e2f26-1e8efc7b5f280491-01
2022-04-21T21:10:52.461Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:52.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-88074658c705c6b1fccc896ac11abe6e0ead4a80-d891f10af52f3d8a-01 outer:exit 2b-88074658c705c6b1fccc896ac11abe6e0ead4a80-7d23acf90f63764e-01
2022-04-21T21:10:52.464Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:52.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-52589d95a37e9eecad89f2face047260f53dad17-716ea3b2a21a688e-01 outer:exit 2b-52589d95a37e9eecad89f2face047260f53dad17-2a1e26f0fbe0833e-01
2022-04-21T21:10:52.468Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:52.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-a375e907f859342ab0952708afb55dd4666001a4-9e53a6dd9021b57d-01 outer:exit 2b-a375e907f859342ab0952708afb55dd4666001a4-e9bba4ee10be3baa-01
2022-04-21T21:10:52.481Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:52.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9e40f1efc298de2ca9cfc1cd4509d3c5e4456ab-6b5e8d051f0f5089-01 outer:exit 2b-e9e40f1efc298de2ca9cfc1cd4509d3c5e4456ab-3d042f5a1508156b-01
2022-04-21T21:10:52.490Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:52.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-20476f92eb1fc7d528524951c7ddc874cbd5bc7c-6277b9962614afd9-01 outer:exit 2b-20476f92eb1fc7d528524951c7ddc874cbd5bc7c-b03dc9fb3b51eeef-01
2022-04-21T21:10:52.493Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:52.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a600c5858d6eb42232c407e2a5a5ba0986f03a0-aa534849fe824d74-01 outer:exit 2b-4a600c5858d6eb42232c407e2a5a5ba0986f03a0-34f3a0c907a83797-01
2022-04-21T21:10:52.496Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:52.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-28639109af1c8be17738b55f6db86b40aac1e0ff-8b9c99cc8a62585f-01 outer:exit 2b-28639109af1c8be17738b55f6db86b40aac1e0ff-af00ba66f7fd8f46-01
2022-04-21T21:10:52.517Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:52.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-1948f91913537a2c24fcd9d56394e74a1b73057a-d5181fe6da6827b8-01 outer:exit 2b-1948f91913537a2c24fcd9d56394e74a1b73057a-c97ab6a005e9a84a-01
2022-04-21T21:10:52.554Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (433ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:58.569Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:58.570Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:58.570Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:58.571Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:58.629Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:58.765Z appoptics:patching patched crypto 
2022-04-21T21:10:58.783Z appoptics:patching patched https 
2022-04-21T21:10:58.784Z appoptics:patching patched http 
2022-04-21T21:10:58.833Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:58.833Z appoptics:patching patched fs 
2022-04-21T21:10:58.846Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v18.0.0)
2022-04-21T21:10:58.852Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-21T21:10:58.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6c8f9fc3b7b8eaf0a42b59ac719388a506a3c0e-1be90e3a517e6f8e-01 outer:exit 2b-a6c8f9fc3b7b8eaf0a42b59ac719388a506a3c0e-2501b2fc87386a11-01
2022-04-21T21:10:58.895Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:10:58.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c9223f9850171983fcd6d17f369079ffd94a163-4e47798b9e0f5d8b-01 outer:exit 2b-1c9223f9850171983fcd6d17f369079ffd94a163-9d221cd7622e8482-01
2022-04-21T21:10:58.940Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:10:58.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-73abdcb4e0fb690062a0efec797a6e8dcf87f7c5-2986ee49d372eaaa-01 outer:exit 2b-73abdcb4e0fb690062a0efec797a6e8dcf87f7c5-32fa9ada83a652cb-01
2022-04-21T21:10:58.943Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:10:58.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c9e7efb09a9460cd4bf6309664de116333fcbd-bb696095c76f2522-01 outer:exit 2b-53c9e7efb09a9460cd4bf6309664de116333fcbd-7fc9a23774bdf56a-01
2022-04-21T21:10:58.946Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:10:58.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdddd2907a89fb863ec78da6d81bb36071b1c75a-7cefe42e74333407-01 outer:exit 2b-fdddd2907a89fb863ec78da6d81bb36071b1c75a-8b10c7e592fa37b1-01
2022-04-21T21:10:58.950Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:10:58.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfe49226b0d2c2133044459eada0f69b48c95dbf-3c00efe100002640-01 outer:exit 2b-dfe49226b0d2c2133044459eada0f69b48c95dbf-43a02f9f5303eafa-01
2022-04-21T21:10:58.953Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:10:58.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ca36aa05aa732f199609b87d6429dfef49e12a2-b9134328a2ab7446-01 outer:exit 2b-7ca36aa05aa732f199609b87d6429dfef49e12a2-c4351b5a286039ce-01
2022-04-21T21:10:58.956Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:10:58.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad1aff832d0b4cd680d6a22da5c153beb023ad5a-eee1da2231478ca4-01 outer:exit 2b-ad1aff832d0b4cd680d6a22da5c153beb023ad5a-eabc5d5cf2d43a44-01
2022-04-21T21:10:58.958Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:10:58.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-b48e454bb221938f391de6196ccc8597eace5eed-605b657fccfc89b2-01 outer:exit 2b-b48e454bb221938f391de6196ccc8597eace5eed-703daf857243f515-01
2022-04-21T21:10:58.961Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:10:58.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-9423c740ee82051174c2325d6c14a30131a326a9-b6310718fb548088-01 outer:exit 2b-9423c740ee82051174c2325d6c14a30131a326a9-84a9f07f58cd45f6-01
2022-04-21T21:10:58.964Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:10:58.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-23744820ee276a54b0ba11a1063a12814777f854-7a38e4c08664e09d-01 outer:exit 2b-23744820ee276a54b0ba11a1063a12814777f854-a9f461ed6b14ea7a-01
2022-04-21T21:10:58.967Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:10:58.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-43cbeb4e23d675e54f0becca113a70d03e5f4221-a5ce7ad206e97776-01 outer:exit 2b-43cbeb4e23d675e54f0becca113a70d03e5f4221-d63a628c83a213ce-01
2022-04-21T21:10:58.973Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:10:58.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-b56fe629d79e2af8c95bcbef95e35e41cde011b1-3d18271f5137d113-01 outer:exit 2b-b56fe629d79e2af8c95bcbef95e35e41cde011b1-073ab6ab14230423-01
2022-04-21T21:10:58.991Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:10:59.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b34c7f0b3807a10213035fce70b84ee133aa32a-0fd8b82fbe451312-01 outer:exit 2b-8b34c7f0b3807a10213035fce70b84ee133aa32a-15f2a3f1cd37e627-01
2022-04-21T21:10:59.029Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:10:59.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bcca99db61c814f359671ac50c6c66280e44bd8-ec08bda7af370a84-01 outer:exit 2b-9bcca99db61c814f359671ac50c6c66280e44bd8-7fda274c4247c577-01
2022-04-21T21:10:59.031Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:10:59.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-16a50e2225ae42c3658145deaf722a39ac920ad7-c4511ac75dc47421-01 outer:exit 2b-16a50e2225ae42c3658145deaf722a39ac920ad7-4b7dd938b93fb902-01
2022-04-21T21:10:59.036Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:10:59.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e7dc745010439be14c763837bed3ca7b7ab6508-d2d7b3abc8035638-01 outer:exit 2b-6e7dc745010439be14c763837bed3ca7b7ab6508-e0f73f8d137d5e9c-01
2022-04-21T21:10:59.039Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:10:59.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b53d8b6a047636fcb39b9ac037716ba9a4a0f96-caf13ad9ac741858-01 outer:exit 2b-2b53d8b6a047636fcb39b9ac037716ba9a4a0f96-472e2d88baa647ed-01
2022-04-21T21:10:59.042Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:10:59.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec62ef6fb220a7c4335f3021e2aafe0ca79ef0d8-d7696d9dc30d2ace-01 outer:exit 2b-ec62ef6fb220a7c4335f3021e2aafe0ca79ef0d8-685feed6baebe790-01
2022-04-21T21:10:59.043Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:10:59.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-323ae9392a834ad0e17b1acbca1147c4afde5046-56b242778c0020cf-01 outer:exit 2b-323ae9392a834ad0e17b1acbca1147c4afde5046-967fd74c610a208f-01
2022-04-21T21:10:59.045Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:10:59.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-44afc4e52ce33b247df21a5494e497ef37b86f7b-5a2b7afb7444a2c7-01 outer:exit 2b-44afc4e52ce33b247df21a5494e497ef37b86f7b-bc348eb406a61cfe-01
2022-04-21T21:10:59.047Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:10:59.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-37bd235db1af44391caa6d901f0db5d97bee7615-6ab37ac09faebd48-01 outer:exit 2b-37bd235db1af44391caa6d901f0db5d97bee7615-4b710752d65f34fb-01
2022-04-21T21:10:59.049Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:10:59.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dbd5ee14ab134a68fd68411423fa0705445bba1-2f097f8e7bd434de-01 outer:exit 2b-7dbd5ee14ab134a68fd68411423fa0705445bba1-0951253096afd36c-01
2022-04-21T21:10:59.052Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:10:59.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c1af8914b1a5acc69839bb63bc6b05a563f50a9-cb4ca7361eaa5e31-01 outer:exit 2b-9c1af8914b1a5acc69839bb63bc6b05a563f50a9-c724fbba79e6d2c9-01
2022-04-21T21:10:59.055Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:10:59.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-63d8ec6855425c4dabf7fa57088cb25c1ba5e27e-6d0f06f53ce53d9c-01 outer:exit 2b-63d8ec6855425c4dabf7fa57088cb25c1ba5e27e-ad945bfa22aba7dd-01
2022-04-21T21:10:59.057Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:10:59.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-a551f7182072cab1a4808d4ff34ed8972fb04968-025dc3301d738e06-01 outer:exit 2b-a551f7182072cab1a4808d4ff34ed8972fb04968-cf331ade7073dea3-01
2022-04-21T21:10:59.059Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:10:59.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4e877cac629e76fcacfadc0b07428c58c2e9b9b-ad29f531041ce7e6-01 outer:exit 2b-b4e877cac629e76fcacfadc0b07428c58c2e9b9b-18c52803938cd5f2-01
2022-04-21T21:10:59.065Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:10:59.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-306c8885722198512885cc15fd42c6414a16adc3-450cd96718d4815c-01 outer:exit 2b-306c8885722198512885cc15fd42c6414a16adc3-ab15191d36f9ca8b-01
2022-04-21T21:10:59.070Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:10:59.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-b32498365a652a44ca9c63b844acdbfe5c69e2a1-82061cd7b9265a31-01 outer:exit 2b-b32498365a652a44ca9c63b844acdbfe5c69e2a1-7e2d1ee939d530b3-01
2022-04-21T21:10:59.078Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:10:59.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-f809aabfa2d02da441ea6029e1f6c2f7dd0446f9-064ec90d6adf5493-01 outer:exit 2b-f809aabfa2d02da441ea6029e1f6c2f7dd0446f9-ab9e87d62a29bc68-01
2022-04-21T21:10:59.085Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:10:59.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ca81483a0a958d48a6a7f1712ce236cd8f9a412-3100eba2b07e2d41-01 outer:exit 2b-8ca81483a0a958d48a6a7f1712ce236cd8f9a412-d6edbd1a1db747c5-01
2022-04-21T21:10:59.087Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:10:59.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-069224564fb12841a364a04ad20bc49f02ff511a-4cd34ff1b2d5ee0f-01 outer:exit 2b-069224564fb12841a364a04ad20bc49f02ff511a-765edd7a765e6415-01
2022-04-21T21:10:59.089Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:10:59.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-df83bed3c560817033054e94549984f2286abe48-901b19f6b11f1bea-01 outer:exit 2b-df83bed3c560817033054e94549984f2286abe48-08b7399f21db7e66-01
2022-04-21T21:10:59.101Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:10:59.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3f48161fb3bcd75bda1cc7eae727e7ca7b2ae4c-c3ec7caf411bad31-01 outer:exit 2b-c3f48161fb3bcd75bda1cc7eae727e7ca7b2ae4c-e182b2ffe20e4ef1-01
2022-04-21T21:10:59.104Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:10:59.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-e95036dcacf5ac34c539d3dab161b4d8512c9017-1502c0afe8ed7127-01 outer:exit 2b-e95036dcacf5ac34c539d3dab161b4d8512c9017-e83186c5dc90376f-01
2022-04-21T21:10:59.106Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:10:59.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-eec9cd4f1800372db126873571efa3b77e7d5e0d-380f1a79c1769db4-01 outer:exit 2b-eec9cd4f1800372db126873571efa3b77e7d5e0d-d4da1a417f1530ea-01
2022-04-21T21:10:59.108Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:10:59.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b62e75ba6b3c059706b036973cb2a55560a9e2f-ba25b00ba6466483-01 outer:exit 2b-1b62e75ba6b3c059706b036973cb2a55560a9e2f-bd494bc357ffe000-01
2022-04-21T21:10:59.109Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:10:59.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-b630fdd057e2e5857d2cf012f69bd8b50f5d88df-2a37a005bae1c484-01 outer:exit 2b-b630fdd057e2e5857d2cf012f69bd8b50f5d88df-f412e14788d1b82f-01
2022-04-21T21:10:59.111Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:10:59.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1802bd9889d77f6cf5fb2fb08a8e46f642e4839-32c6f425fd76e724-01 outer:exit 2b-e1802bd9889d77f6cf5fb2fb08a8e46f642e4839-d82230992292dafa-01
2022-04-21T21:10:59.120Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:10:59.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-caf3a7c2c219d5d4e37fe1f3985a1241c35ad207-851f9bbbdd7ced88-01 outer:exit 2b-caf3a7c2c219d5d4e37fe1f3985a1241c35ad207-62a23472f4f82657-01
2022-04-21T21:10:59.129Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:10:59.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-476e4d4e1a7eee3a5aba2ca009758c99839b47c6-15cfd940c5773e01-01 outer:exit 2b-476e4d4e1a7eee3a5aba2ca009758c99839b47c6-56496f840f5eb162-01
2022-04-21T21:10:59.132Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:10:59.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-f443120692243de2ad78681f7670660e976bf1f7-2ff06ad696bb3421-01 outer:exit 2b-f443120692243de2ad78681f7670660e976bf1f7-68d4ecc0cc6c8909-01
2022-04-21T21:10:59.135Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:10:59.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-40403510e39fb9b7ddf5dc22e8e750629c1bbf04-bd04385a9cc62f80-01 outer:exit 2b-40403510e39fb9b7ddf5dc22e8e750629c1bbf04-bc3435525b23bcd9-01
2022-04-21T21:10:59.137Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:10:59.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d5aa18bba11f26854d28e23bf1e059cb3b1a4bc-18a07ffcb06382cb-01 outer:exit 2b-8d5aa18bba11f26854d28e23bf1e059cb3b1a4bc-50df8db2596fdf8b-01
2022-04-21T21:10:59.165Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (308ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:06.082Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:06.082Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:06.082Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:06.083Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:06.143Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:06.246Z appoptics:patching patched crypto 
2022-04-21T21:11:06.263Z appoptics:patching patched https 
2022-04-21T21:11:06.263Z appoptics:patching patched http 
2022-04-21T21:11:06.310Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:06.310Z appoptics:patching patched fs 
2022-04-21T21:11:06.322Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v18.0.0)
2022-04-21T21:11:06.327Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-21T21:11:06.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c0b054b7e56d9c03cfe8c9b21e77288d63039f8-57db4107e2eec178-01 outer:exit 2b-3c0b054b7e56d9c03cfe8c9b21e77288d63039f8-6de25e57162f2c34-01
2022-04-21T21:11:06.368Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:11:06.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-06001848582c2553e1b2f3a54658197d9489fe1a-35498a8fcec29955-01 outer:exit 2b-06001848582c2553e1b2f3a54658197d9489fe1a-38e6eccd84f661da-01
2022-04-21T21:11:06.411Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:11:06.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-d527c63e6d1c0b8f102532d28e45cf6cb99d499b-e4e4d0a0dad2f9cb-01 outer:exit 2b-d527c63e6d1c0b8f102532d28e45cf6cb99d499b-a50d0831a8d52599-01
2022-04-21T21:11:06.415Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:11:06.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4940913e68d9de524e63532bea250d2cfcc3ee0-a7348cb459e93294-01 outer:exit 2b-e4940913e68d9de524e63532bea250d2cfcc3ee0-96f2a3560c810377-01
2022-04-21T21:11:06.418Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:11:06.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1c8078a63ff6f39f9d92f1195088be8846c64a6-7f2d3a299cfc4594-01 outer:exit 2b-e1c8078a63ff6f39f9d92f1195088be8846c64a6-2a8f23d270a28837-01
2022-04-21T21:11:06.423Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:11:06.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5f11a60a4f9e72bec789cac34e6eb31859afcf4-44e70ac8cc866a86-01 outer:exit 2b-d5f11a60a4f9e72bec789cac34e6eb31859afcf4-ff31bac1a3900beb-01
2022-04-21T21:11:06.426Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:11:06.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-a849654622250e5202bf980b42471b75020eb11c-263f9320c4a1f183-01 outer:exit 2b-a849654622250e5202bf980b42471b75020eb11c-f14812b842803533-01
2022-04-21T21:11:06.429Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:11:06.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-820f88ab7663e3c7ec1a850fcc142408dc24c145-61ab12ffd6bd25c5-01 outer:exit 2b-820f88ab7663e3c7ec1a850fcc142408dc24c145-8b43c88acc0c453f-01
2022-04-21T21:11:06.431Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:11:06.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-9378cf9d34db26abfe8eadf6db43826ba252e84e-422cec67aa79d338-01 outer:exit 2b-9378cf9d34db26abfe8eadf6db43826ba252e84e-9dacb59663729f88-01
2022-04-21T21:11:06.434Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:11:06.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-99073fff9504c5c91beaeec02c5572b87fe4ca7f-64d8cf94a58494ee-01 outer:exit 2b-99073fff9504c5c91beaeec02c5572b87fe4ca7f-4d84cfeafe88f67c-01
2022-04-21T21:11:06.437Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:11:06.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-22f91fc3368fc2c4a0063a2b1236501981d7b8cf-bdea5042c2be4035-01 outer:exit 2b-22f91fc3368fc2c4a0063a2b1236501981d7b8cf-dd84334345f501d5-01
2022-04-21T21:11:06.440Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:11:06.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-8436fd05d97e7137d24acdfbbd6a10e894f76e34-52090b8e1aa5a8b1-01 outer:exit 2b-8436fd05d97e7137d24acdfbbd6a10e894f76e34-4920508dfe3edeb5-01
2022-04-21T21:11:06.446Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:11:06.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1b7ff0cf84ff030cf45ab20bd29a751a590ed1e-4b7f11a136bf66e5-01 outer:exit 2b-e1b7ff0cf84ff030cf45ab20bd29a751a590ed1e-13ce203aeb741602-01
2022-04-21T21:11:06.461Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:11:06.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ce8fc4ac7d4d32ce1bd71adb028bafd7167459-a8be8db3d33b3c89-01 outer:exit 2b-d0ce8fc4ac7d4d32ce1bd71adb028bafd7167459-92e457d3aebd91c9-01
2022-04-21T21:11:06.501Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:11:06.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f4aa1c64009baa792bc368db30dc8418bc5e65-ac976889d0e4ea82-01 outer:exit 2b-f7f4aa1c64009baa792bc368db30dc8418bc5e65-ce73f32e49acb6dc-01
2022-04-21T21:11:06.505Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:11:06.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-73df32235f9ddb0a0d4ac431df07e66690477e03-011e3f879280a6f3-01 outer:exit 2b-73df32235f9ddb0a0d4ac431df07e66690477e03-ef2f3578f07e8f04-01
2022-04-21T21:11:06.507Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:11:06.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-4927a86236cc1513768c466d87d4ef55889e7d51-beb8952ce65178a8-01 outer:exit 2b-4927a86236cc1513768c466d87d4ef55889e7d51-b40b5960470079e5-01
2022-04-21T21:11:06.510Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:11:06.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a973fb89a6fc255c95334b6722b7442aec1c11-9706ddec2a963944-01 outer:exit 2b-c0a973fb89a6fc255c95334b6722b7442aec1c11-d44128e898545660-01
2022-04-21T21:11:06.512Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:11:06.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-fae86a0670df28fe523f6ac23c0ca30cf6c2ca0b-4447afa6a62c13c7-01 outer:exit 2b-fae86a0670df28fe523f6ac23c0ca30cf6c2ca0b-851d65dee086bba4-01
2022-04-21T21:11:06.513Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:11:06.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-6042648aaf598d19b26fb3dfb859bfbe77d4dc34-bd154d41dc2bf5b6-01 outer:exit 2b-6042648aaf598d19b26fb3dfb859bfbe77d4dc34-98164a07f43d3441-01
2022-04-21T21:11:06.515Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:11:06.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-efe33625b4620e39cdec2f4545a37e5146734f9e-af89698afe667189-01 outer:exit 2b-efe33625b4620e39cdec2f4545a37e5146734f9e-d720faba63eb0f0d-01
2022-04-21T21:11:06.517Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:11:06.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1fc641eeeec855ba79ef773d2035379e3ab5a20-9ec0254fb765e2c0-01 outer:exit 2b-e1fc641eeeec855ba79ef773d2035379e3ab5a20-f179f0290cdc3e36-01
2022-04-21T21:11:06.519Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:11:06.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-95b04e1f34825f0d307731fa9521b04e601e132c-bf3a2b56634599a8-01 outer:exit 2b-95b04e1f34825f0d307731fa9521b04e601e132c-914e8078afa119f5-01
2022-04-21T21:11:06.521Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:11:06.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-22fe16eb0744718a7f09b40e95d73ee3c85ce1be-f8f5304176f45270-01 outer:exit 2b-22fe16eb0744718a7f09b40e95d73ee3c85ce1be-2267a72715c30acd-01
2022-04-21T21:11:06.524Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:11:06.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-301aecb3fbc4d5a28eab68b012e2d7c22da69cf2-86c74942162998fe-01 outer:exit 2b-301aecb3fbc4d5a28eab68b012e2d7c22da69cf2-fce7798b34736229-01
2022-04-21T21:11:06.526Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:11:06.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-372bd5f9870fb63b39b6c21536d5b78a36b729bc-c49af7ecf6af250b-01 outer:exit 2b-372bd5f9870fb63b39b6c21536d5b78a36b729bc-6c3ca06197afa98b-01
2022-04-21T21:11:06.528Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:11:06.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-9959d9d5dfc26d11f3a4eaf374c54011ea86819a-c6dacfb700c4c8e1-01 outer:exit 2b-9959d9d5dfc26d11f3a4eaf374c54011ea86819a-549d642446aa5df5-01
2022-04-21T21:11:06.533Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:11:06.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a15f31e5bfe068896b2867fb2c9d020a525d4d6-3373c8b086dd4f44-01 outer:exit 2b-2a15f31e5bfe068896b2867fb2c9d020a525d4d6-9f73d9e6c39cf944-01
2022-04-21T21:11:06.538Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:11:06.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-9057a244b2b9eca2cdbf7839830f137bc1cd07da-6601313830a4e495-01 outer:exit 2b-9057a244b2b9eca2cdbf7839830f137bc1cd07da-87d3bb15e4763d06-01
2022-04-21T21:11:06.546Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:11:06.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d06bcde5a21eaaabdaa8a65486f645e7b315869-a44290d973c76bd1-01 outer:exit 2b-2d06bcde5a21eaaabdaa8a65486f645e7b315869-f2aadea9a517b3ad-01
2022-04-21T21:11:06.553Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:11:06.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbb122f3d96f5b2c6024e387472969dbd68d310f-996badf292f3c4bb-01 outer:exit 2b-dbb122f3d96f5b2c6024e387472969dbd68d310f-4406e8d7424339c7-01
2022-04-21T21:11:06.555Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:11:06.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-b32451ef71748a11ccffae1108950e6ff919b390-46290e8c95dcbf15-01 outer:exit 2b-b32451ef71748a11ccffae1108950e6ff919b390-8c197386820e65f7-01
2022-04-21T21:11:06.558Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:11:06.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-06143297ff9c6b3ad51d7bdc529dc7e4d9361a1c-c39023289612ffc2-01 outer:exit 2b-06143297ff9c6b3ad51d7bdc529dc7e4d9361a1c-1ec24eec00071dd8-01
2022-04-21T21:11:06.565Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:11:06.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-35c62026c3303d448caff7dcd5643a4c18af5ee8-b87caf9c9d267e20-01 outer:exit 2b-35c62026c3303d448caff7dcd5643a4c18af5ee8-2c426b7a9657b718-01
2022-04-21T21:11:06.567Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:11:06.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5925db2e3e66b27d52f3561446139b396c35520-d315dfb6a4645fd6-01 outer:exit 2b-d5925db2e3e66b27d52f3561446139b396c35520-494e65c13112100f-01
2022-04-21T21:11:06.569Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:11:06.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-95278e6adba10938c1bb37d816fc6e87647c883e-61085f24101df318-01 outer:exit 2b-95278e6adba10938c1bb37d816fc6e87647c883e-e240f903c32daef1-01
2022-04-21T21:11:06.571Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:11:06.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-17c2b1b67392e53c16c0f8530c746393a8cd7ab9-f7d7da40efb9ab4c-01 outer:exit 2b-17c2b1b67392e53c16c0f8530c746393a8cd7ab9-18aff7e6aefec381-01
2022-04-21T21:11:06.573Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:11:06.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-04657ef40c8865f6242e4177b23560e5336e2dd6-9f181a8cbfae9bf6-01 outer:exit 2b-04657ef40c8865f6242e4177b23560e5336e2dd6-0ac9a494aa2b6904-01
2022-04-21T21:11:06.574Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:11:06.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba49f4076388b401d284506a519340cb3207f3bf-2c6a20770cd3ae60-01 outer:exit 2b-ba49f4076388b401d284506a519340cb3207f3bf-f4ed7758ab848626-01
2022-04-21T21:11:06.583Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:11:06.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-85bc1ac415d3841c27af0cdeb7239dc52d9c814f-3672588b970fab11-01 outer:exit 2b-85bc1ac415d3841c27af0cdeb7239dc52d9c814f-7ee02f5a393b5dae-01
2022-04-21T21:11:06.591Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:11:06.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c3aed59a95c7a2be20b5ad10a706118e43302bf-e0b3cb8eeaafe881-01 outer:exit 2b-8c3aed59a95c7a2be20b5ad10a706118e43302bf-f52dc511d3bd7fb5-01
2022-04-21T21:11:06.594Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:11:06.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f69d0c043adc0e67fffb26c4974a434f4a6a897-159316a364860b6e-01 outer:exit 2b-8f69d0c043adc0e67fffb26c4974a434f4a6a897-623953566df149e3-01
2022-04-21T21:11:06.596Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:11:06.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-78f1280d4ad41013b309f6c6b95bc984359a8f66-78f6495c4ce0befa-01 outer:exit 2b-78f1280d4ad41013b309f6c6b95bc984359a8f66-361220458563e4d7-01
2022-04-21T21:11:06.598Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:11:06.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-a32d5a991224ba022de275c999dfe7339742e877-d12789a82d8a2060-01 outer:exit 2b-a32d5a991224ba022de275c999dfe7339742e877-0cf207102dc27f6c-01
2022-04-21T21:11:06.625Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:12.353Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:12.354Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:12.354Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:12.355Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:12.411Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:12.514Z appoptics:patching patched crypto 
2022-04-21T21:11:12.538Z appoptics:patching patched https 
2022-04-21T21:11:12.539Z appoptics:patching patched http 
2022-04-21T21:11:12.575Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:12.576Z appoptics:patching patched fs 
2022-04-21T21:11:12.601Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v18.0.0)
2022-04-21T21:11:12.608Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-21T21:11:12.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a333f10257a0bf8bb8c76b54af70b351d7a6a43-ad2a9613736153ca-01 outer:exit 2b-1a333f10257a0bf8bb8c76b54af70b351d7a6a43-6274e9a313b47e23-01
2022-04-21T21:11:12.682Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:11:12.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-361f1f2af27d1c277c61b2d8d3eae462ca8b6778-f6d2f520627fe56c-01 outer:exit 2b-361f1f2af27d1c277c61b2d8d3eae462ca8b6778-536175fd0959bd62-01
2022-04-21T21:11:12.726Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:11:12.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-99dbd0feeba9dcec03209de2ebdf92749ee4144d-215e4bf82c285746-01 outer:exit 2b-99dbd0feeba9dcec03209de2ebdf92749ee4144d-ac09ffdf3f661e5b-01
2022-04-21T21:11:12.730Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:11:12.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-7448722e688a5c9347823ffeccc42466abd1d1f0-68e1d9e0c7997303-01 outer:exit 2b-7448722e688a5c9347823ffeccc42466abd1d1f0-1016313d84a47b14-01
2022-04-21T21:11:12.732Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:11:12.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-405850ec6baef04bf15573d22a580cf2926dbc49-59d42af84f53f725-01 outer:exit 2b-405850ec6baef04bf15573d22a580cf2926dbc49-3553daafa442271b-01
2022-04-21T21:11:12.737Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:11:12.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-b022b88ab2196273f4b8cd486aa6f0bf5fbe151d-e40ea21ef24be420-01 outer:exit 2b-b022b88ab2196273f4b8cd486aa6f0bf5fbe151d-25de3e1e0ee2f266-01
2022-04-21T21:11:12.740Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:11:12.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-b14301a4a81236f238280bd5e61058a8b3f7a1a9-b3b6e71fe49fe91e-01 outer:exit 2b-b14301a4a81236f238280bd5e61058a8b3f7a1a9-4f4ab7dd735b56d4-01
2022-04-21T21:11:12.742Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:11:12.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-240a71f9583447c19665f0ecbf40950b4f9bccdd-19734506ca0b3b50-01 outer:exit 2b-240a71f9583447c19665f0ecbf40950b4f9bccdd-585eda19ec555bd4-01
2022-04-21T21:11:12.744Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:11:12.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0e1b1418f1df05eda7e9a1de328f1fee698c352-7358b3b897ca15cf-01 outer:exit 2b-b0e1b1418f1df05eda7e9a1de328f1fee698c352-35b5a4de1c5f0a01-01
2022-04-21T21:11:12.747Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:11:12.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-61aefa36220ded1c5466dcf5f3e0cd75ba9cb15e-7d4ec25c4b0fa3da-01 outer:exit 2b-61aefa36220ded1c5466dcf5f3e0cd75ba9cb15e-234f06ff665c3d3c-01
2022-04-21T21:11:12.749Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:11:12.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-003fa9c505118bc999c6714b688335321adada48-31a61849fb7ad781-01 outer:exit 2b-003fa9c505118bc999c6714b688335321adada48-10c006d770dfdb6e-01
2022-04-21T21:11:12.753Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:11:12.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-a750ef2c58a70da496c62e5270d213e1fce91d00-4308a3c7a26a55e0-01 outer:exit 2b-a750ef2c58a70da496c62e5270d213e1fce91d00-b8258ebba94ad573-01
2022-04-21T21:11:12.763Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:11:12.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9568120175254c2b76800a8768c676fb902dac1-d02fe22594a03605-01 outer:exit 2b-a9568120175254c2b76800a8768c676fb902dac1-f06b0beb3358c60c-01
2022-04-21T21:11:12.780Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:11:12.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4b2862e97eb06e5b2b0b6758ea6504967843e06-8fb5b35e10ab4293-01 outer:exit 2b-e4b2862e97eb06e5b2b0b6758ea6504967843e06-8815f2784148b1e1-01
2022-04-21T21:11:12.822Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:11:12.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f64fe153ad3d19dc0f71e1a25ef2da133b4ff48-f73a85bebbb0f308-01 outer:exit 2b-2f64fe153ad3d19dc0f71e1a25ef2da133b4ff48-04cb78a4e7e730ba-01
2022-04-21T21:11:12.833Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:11:12.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31ed86a354ed53e16945a2afb8fb4511833b58d-5d68a7d4d7402371-01 outer:exit 2b-b31ed86a354ed53e16945a2afb8fb4511833b58d-08fc919448afeeeb-01
2022-04-21T21:11:12.836Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:11:12.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-776dfcb24ab0a735c95f7ec3439b9627b086778e-28cc018ebeb290ea-01 outer:exit 2b-776dfcb24ab0a735c95f7ec3439b9627b086778e-dd935f74c41abc98-01
2022-04-21T21:11:12.843Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:11:12.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-98a76ad8ec2119b3749287d6967d0ee55ede79d4-2adeacd2587a0575-01 outer:exit 2b-98a76ad8ec2119b3749287d6967d0ee55ede79d4-2143239250b10018-01
2022-04-21T21:11:12.845Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:11:12.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-85f4fc530fc93268c9354044cd7582ebcdbd402a-90be5e125417f9a7-01 outer:exit 2b-85f4fc530fc93268c9354044cd7582ebcdbd402a-de0f44756ddf13f4-01
2022-04-21T21:11:12.849Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:11:12.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-231efdd99e1a6bf3160a9d7af1e48b8b3de8238a-06acc4a54890c087-01 outer:exit 2b-231efdd99e1a6bf3160a9d7af1e48b8b3de8238a-a694194346c82e9e-01
2022-04-21T21:11:12.851Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:11:12.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc329faa0b0ed501f763a2320fa23c905f78884b-fab624000b9db07c-01 outer:exit 2b-dc329faa0b0ed501f763a2320fa23c905f78884b-8426aa32ffad368b-01
2022-04-21T21:11:12.854Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:11:12.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-036b5e87cdaca7c525990907af9008f449241e12-cde1ff5f0e182234-01 outer:exit 2b-036b5e87cdaca7c525990907af9008f449241e12-e2dc71a3787c41af-01
2022-04-21T21:11:12.859Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:11:12.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc1645a00459cf0430526462d2f804f96beb8d49-3b503cf0fd32aa24-01 outer:exit 2b-bc1645a00459cf0430526462d2f804f96beb8d49-7d88869e1396d73a-01
2022-04-21T21:11:12.863Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:11:12.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-515a2de6ae695f2127191a804de1dc04a32231a7-c506217b42edf630-01 outer:exit 2b-515a2de6ae695f2127191a804de1dc04a32231a7-592b1a4bef57414c-01
2022-04-21T21:11:12.866Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:11:12.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-4658de5ca59326ed986f93087a5ce7f221601d17-083e16313657ac83-01 outer:exit 2b-4658de5ca59326ed986f93087a5ce7f221601d17-026c29559dcb638c-01
2022-04-21T21:11:12.873Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:11:12.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-edad66aa233065d263477c128282422f3ae96d49-969c9f452979d077-01 outer:exit 2b-edad66aa233065d263477c128282422f3ae96d49-36a42e0be3eece9d-01
2022-04-21T21:11:12.883Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:11:12.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb3bc1f96ea4e8cddd914b4927ef8774ae83aa93-73c470f7b83e89de-01 outer:exit 2b-cb3bc1f96ea4e8cddd914b4927ef8774ae83aa93-2409934da2af7fdc-01
2022-04-21T21:11:12.889Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:11:12.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-09f40618bcc9cfdc49cb5754d9a14b07cd2492c1-8b0916402c34db01-01 outer:exit 2b-09f40618bcc9cfdc49cb5754d9a14b07cd2492c1-c3997bdab6feda29-01
2022-04-21T21:11:12.896Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:11:12.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b5389421b65afd1ffeeca7090d1fc7f17ee28a-e8bb2d76bc2032eb-01 outer:exit 2b-45b5389421b65afd1ffeeca7090d1fc7f17ee28a-2d76b7446a418138-01
2022-04-21T21:11:12.908Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:11:12.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-a82fed6652671e1c3615d3cd257375e9831f976a-3df81103498bf46b-01 outer:exit 2b-a82fed6652671e1c3615d3cd257375e9831f976a-51b5faaa94d4ac6b-01
2022-04-21T21:11:12.921Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:11:12.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-52fc7a901a9133ba1967fd5b8ed5f07a13318440-4992a9be488c7985-01 outer:exit 2b-52fc7a901a9133ba1967fd5b8ed5f07a13318440-81989ad36db8c986-01
2022-04-21T21:11:12.923Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:11:12.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-e59369820c69fbccf04801c58743cc659ceae558-feb388d064575b03-01 outer:exit 2b-e59369820c69fbccf04801c58743cc659ceae558-cf39b08a59bdfb29-01
2022-04-21T21:11:12.926Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:11:12.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2b77bd076fc590ddee6a36aab824dd79f23d3ad-be7a363505ee0ffd-01 outer:exit 2b-d2b77bd076fc590ddee6a36aab824dd79f23d3ad-5303b6f56bd529f6-01
2022-04-21T21:11:12.933Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:11:12.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-74f16a8441b902c3618480c258fc678fcdf89a2e-e161fc3cd331f465-01 outer:exit 2b-74f16a8441b902c3618480c258fc678fcdf89a2e-1793dab5d816cb1e-01
2022-04-21T21:11:12.935Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:11:12.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-b42f24bf4bee960815a0e8cf5fe0c2f6aee0da85-acb00244ee9839ef-01 outer:exit 2b-b42f24bf4bee960815a0e8cf5fe0c2f6aee0da85-1bf69ba9bfe5aba1-01
2022-04-21T21:11:12.937Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:11:12.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-4469f27912a5112f00da6728f3a107b433be7d3e-53b76af6a9a2d3b2-01 outer:exit 2b-4469f27912a5112f00da6728f3a107b433be7d3e-9f4ae24965a2193f-01
2022-04-21T21:11:12.938Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:11:12.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-3effb6aaec0607221ece3ff9a3388888904a3561-10c751267ce60bae-01 outer:exit 2b-3effb6aaec0607221ece3ff9a3388888904a3561-a3e63719878d6fa6-01
2022-04-21T21:11:12.940Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:11:12.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-0364c62dbc80b79f12012841ea238be905de7e24-d8439734651cbc0a-01 outer:exit 2b-0364c62dbc80b79f12012841ea238be905de7e24-69126f9b589e6f9c-01
2022-04-21T21:11:12.942Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:11:12.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-088eca978a67d48882c21765cbcd43abcfe849a0-a59b56d8aaed3fd4-01 outer:exit 2b-088eca978a67d48882c21765cbcd43abcfe849a0-b702611f424507c7-01
2022-04-21T21:11:12.956Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:11:12.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb4146bdd164fc612e95208f31faa7e14765940f-55873caf686a4562-01 outer:exit 2b-eb4146bdd164fc612e95208f31faa7e14765940f-84920428ee51b212-01
2022-04-21T21:11:12.964Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:11:12.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-251684684c2baa6e6f74be4eda029c82b2df4e41-f7b758d81df537b8-01 outer:exit 2b-251684684c2baa6e6f74be4eda029c82b2df4e41-bb641c746ae667d4-01
2022-04-21T21:11:12.967Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:11:12.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-66f8c81ba607f205cd803d0236780f704ba4e5e4-4bcf81225e22f181-01 outer:exit 2b-66f8c81ba607f205cd803d0236780f704ba4e5e4-46622c73c7d22d7b-01
2022-04-21T21:11:12.969Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:11:12.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-188bec5aa0972ff6be996cbe0d4202c3e471e86a-7b84b0bec7a5245a-01 outer:exit 2b-188bec5aa0972ff6be996cbe0d4202c3e471e86a-3a7a9374b7b69365-01
2022-04-21T21:11:12.971Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:11:13.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-76a1a225281f0d5ac39c45cce98aefb38ce4596a-a77d6bc84ad335b4-01 outer:exit 2b-76a1a225281f0d5ac39c45cce98aefb38ce4596a-a16462b6769ad276-01
2022-04-21T21:11:13.000Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (386ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:19.403Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:19.403Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:19.403Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:19.404Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:19.463Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:19.578Z appoptics:patching patched crypto 
2022-04-21T21:11:19.596Z appoptics:patching patched https 
2022-04-21T21:11:19.597Z appoptics:patching patched http 
2022-04-21T21:11:19.657Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:19.657Z appoptics:patching patched fs 
2022-04-21T21:11:19.683Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v18.0.0)
2022-04-21T21:11:19.689Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-21T21:11:19.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a73e2b04ba2502054db539f54caad1c3be5245a-31966e356150662b-01 outer:exit 2b-0a73e2b04ba2502054db539f54caad1c3be5245a-282d6cafaa5ae23b-01
2022-04-21T21:11:19.738Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:11:19.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-a47edcc318a0fc7e0f3988c78ecb19ecf7c1e573-c51d7de6259a564a-01 outer:exit 2b-a47edcc318a0fc7e0f3988c78ecb19ecf7c1e573-c7c098a8c74a7cac-01
2022-04-21T21:11:19.782Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:11:19.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-da853ccec336a5b6a638a2a5afad85027330cf21-dfe5af8e904dd158-01 outer:exit 2b-da853ccec336a5b6a638a2a5afad85027330cf21-7b9a7d27adab07a1-01
2022-04-21T21:11:19.786Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:11:19.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-4125ed06e1f690ec40dceac408e7dd376413bb1f-05885adc182575f4-01 outer:exit 2b-4125ed06e1f690ec40dceac408e7dd376413bb1f-b9aae43de4268624-01
2022-04-21T21:11:19.789Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:11:19.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-287beae82878ecb8399643077b7e15c442eef372-dd3d3faee911186f-01 outer:exit 2b-287beae82878ecb8399643077b7e15c442eef372-c7ec123d825039b7-01
2022-04-21T21:11:19.797Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:11:19.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-05a915b4050734351cd0808f043977440c94516e-136fd016f06859e3-01 outer:exit 2b-05a915b4050734351cd0808f043977440c94516e-9edd10dcdef40297-01
2022-04-21T21:11:19.801Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:11:19.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c8ac35f801636682e5b4ad7fc21e466f027068a-8ac0abedee1efb37-01 outer:exit 2b-6c8ac35f801636682e5b4ad7fc21e466f027068a-2ef7992b94e19bf5-01
2022-04-21T21:11:19.803Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:11:19.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-6acdaf77fc79f6fa0d7182efc28cbbe14becaf42-c294b50ce8af1ca4-01 outer:exit 2b-6acdaf77fc79f6fa0d7182efc28cbbe14becaf42-95537424e7078584-01
2022-04-21T21:11:19.806Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:11:19.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ba57896f7a76e1d5d581414edf1f3d8a98caf00-8d01f3ac546de1ce-01 outer:exit 2b-7ba57896f7a76e1d5d581414edf1f3d8a98caf00-72e84c2b34d87f8c-01
2022-04-21T21:11:19.808Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:11:19.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-231449fc5eb81fa40397ac39c53fa7610b9195d9-438e93155f1c16a4-01 outer:exit 2b-231449fc5eb81fa40397ac39c53fa7610b9195d9-267b9863956ff7db-01
2022-04-21T21:11:19.811Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:11:19.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-684c349c55c76d68a67cce39b3b8b15b85e938a5-8b6f73628192c233-01 outer:exit 2b-684c349c55c76d68a67cce39b3b8b15b85e938a5-202e011bcc2d2ca3-01
2022-04-21T21:11:19.815Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:11:19.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc478a89bcbf3665ed8ba55508c519840339f192-1d43b9134c8f3352-01 outer:exit 2b-cc478a89bcbf3665ed8ba55508c519840339f192-8741c8d7d3538d76-01
2022-04-21T21:11:19.822Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:11:19.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-b77a34fbb71f7f9ea01ee272b8e9a23028f95fc1-63d7792cb41212df-01 outer:exit 2b-b77a34fbb71f7f9ea01ee272b8e9a23028f95fc1-5f5ecc027fe3b6e1-01
2022-04-21T21:11:19.838Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:11:19.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-362eed369343ec87e6987fdc74c1d8144231a62e-cfd63980e41c458a-01 outer:exit 2b-362eed369343ec87e6987fdc74c1d8144231a62e-77b35ca5a047b6e8-01
2022-04-21T21:11:19.879Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:11:19.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-68c82889778a1f30f1219e1777e2089d59a74276-20e0f4142c36f9da-01 outer:exit 2b-68c82889778a1f30f1219e1777e2089d59a74276-c8b59ab20522c0ff-01
2022-04-21T21:11:19.882Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:11:19.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-be34753fe684bf9e405657904692a009b44446e0-6b39fe1e875d0fe6-01 outer:exit 2b-be34753fe684bf9e405657904692a009b44446e0-1c3696975441cbdd-01
2022-04-21T21:11:19.885Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:11:19.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdeec2dff9fa0e485fed2e3934d42591da84626d-7112b333512b4c74-01 outer:exit 2b-bdeec2dff9fa0e485fed2e3934d42591da84626d-af6b4e18f4154af4-01
2022-04-21T21:11:19.887Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:11:19.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-00ebe3fdf3a08c378777e125666c639adb28ab3c-9a277fe5c9064968-01 outer:exit 2b-00ebe3fdf3a08c378777e125666c639adb28ab3c-54735cce6665c1c1-01
2022-04-21T21:11:19.890Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:11:19.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-1343378c30e1eda1c848d6751cb40816c6f3c9d5-55a5f7f7b6ead683-01 outer:exit 2b-1343378c30e1eda1c848d6751cb40816c6f3c9d5-451d6da523c341f4-01
2022-04-21T21:11:19.892Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:11:19.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c6a022e0b3b0f34b81a729f19f9c77ef799c3a0-5241f34276002641-01 outer:exit 2b-2c6a022e0b3b0f34b81a729f19f9c77ef799c3a0-17cfd9c0bf4638c4-01
2022-04-21T21:11:19.893Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:11:19.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ea1f73177586509647f965279b71e4708f1077e-8b0a33478250c760-01 outer:exit 2b-3ea1f73177586509647f965279b71e4708f1077e-d00806e714573ed4-01
2022-04-21T21:11:19.895Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:11:19.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-baf5f1fcec11ea2cec6279cd44e05e2e3436b43b-5cd0a3b9b0c87500-01 outer:exit 2b-baf5f1fcec11ea2cec6279cd44e05e2e3436b43b-e1c8bf2820241410-01
2022-04-21T21:11:19.897Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:11:19.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b7aa6a5e519ca2eee6e29259a0fe4a31fb3be64-47293304247eb504-01 outer:exit 2b-5b7aa6a5e519ca2eee6e29259a0fe4a31fb3be64-3af19b6118674e65-01
2022-04-21T21:11:19.900Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:11:19.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-c194230ebcccc7528cb7d29116dcbef753835512-344107e4070d933f-01 outer:exit 2b-c194230ebcccc7528cb7d29116dcbef753835512-396838da71cbd86f-01
2022-04-21T21:11:19.902Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:11:19.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd119ca25709eb5c9c9563d10b362b094b35e175-e083e0d2faca66b3-01 outer:exit 2b-bd119ca25709eb5c9c9563d10b362b094b35e175-cde4289277286481-01
2022-04-21T21:11:19.904Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:11:19.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f466c4c536246be6f8bc29cdd41cc2ccf4c2443-d7316c86ee184afd-01 outer:exit 2b-3f466c4c536246be6f8bc29cdd41cc2ccf4c2443-2ed64958cdcadc62-01
2022-04-21T21:11:19.907Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:11:19.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c71c1a46ab03c130149129423b789da3421ee8c-287293d58c30365a-01 outer:exit 2b-8c71c1a46ab03c130149129423b789da3421ee8c-b195ddd97cd82b64-01
2022-04-21T21:11:19.912Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:11:19.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-debc1dee7682e0ca543c62366de2bb20204bdbaf-3f4dbdab5c38f605-01 outer:exit 2b-debc1dee7682e0ca543c62366de2bb20204bdbaf-c0481698e20b8553-01
2022-04-21T21:11:19.918Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:11:19.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b20fed4a6266aa11ce876a39cf6117a992ff8d-88fd556cc687ccba-01 outer:exit 2b-92b20fed4a6266aa11ce876a39cf6117a992ff8d-a8e0b42327ddf216-01
2022-04-21T21:11:19.925Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:11:19.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-58c07bbae4cfcf8243a78ddda5f790c9ec9c2e67-0a54a96895165057-01 outer:exit 2b-58c07bbae4cfcf8243a78ddda5f790c9ec9c2e67-a0b3a53950c98ebe-01
2022-04-21T21:11:19.931Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:11:19.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b5412a8cdecc0480a9377bf1d123b6a31fc53b3-cb951c724ab2e23e-01 outer:exit 2b-7b5412a8cdecc0480a9377bf1d123b6a31fc53b3-26f32898933836ec-01
2022-04-21T21:11:19.933Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:11:19.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-34befc7983f80ba64b1dd3bdfb68847ee227d112-c880c7b4eb68dc05-01 outer:exit 2b-34befc7983f80ba64b1dd3bdfb68847ee227d112-9a363f1c463408a9-01
2022-04-21T21:11:19.936Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:11:19.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-9416d8b8abe8cd465b15da83ecea3220a6507fb1-384555d8d453878d-01 outer:exit 2b-9416d8b8abe8cd465b15da83ecea3220a6507fb1-50bb9c601b31d862-01
2022-04-21T21:11:19.943Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:11:19.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-859616666a5bde901a6e0475a44289e379ac2d39-23b48a4fe7b6a7c0-01 outer:exit 2b-859616666a5bde901a6e0475a44289e379ac2d39-894d3551695b10d3-01
2022-04-21T21:11:19.944Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:11:19.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-346a5b33cbaa9fa9402642c0e526e5a355d95d71-fa9f554ad5d03d91-01 outer:exit 2b-346a5b33cbaa9fa9402642c0e526e5a355d95d71-f3a4b184ab3af000-01
2022-04-21T21:11:19.946Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:11:19.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0df5713e6fa809e4b6a2e68d6f79f5fa2d8cd17-242d76c365283893-01 outer:exit 2b-f0df5713e6fa809e4b6a2e68d6f79f5fa2d8cd17-8afe3a22d9a99547-01
2022-04-21T21:11:19.948Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:11:19.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-c81a7f04aad8502229935ac8530da745b49c79ca-5574333976547ca6-01 outer:exit 2b-c81a7f04aad8502229935ac8530da745b49c79ca-8fec4e9df972ea94-01
2022-04-21T21:11:19.949Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:11:19.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-8192026b3f174739f8be6e2216b2b291b54542fa-c26a42db725f7ad4-01 outer:exit 2b-8192026b3f174739f8be6e2216b2b291b54542fa-c3d448708295fc8d-01
2022-04-21T21:11:19.951Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:11:19.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-75c11741c41b8aacf669e7f8ee18e6a7b966960b-0395c4df80326d7a-01 outer:exit 2b-75c11741c41b8aacf669e7f8ee18e6a7b966960b-b3aef7c6da2a52b5-01
2022-04-21T21:11:19.960Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:11:19.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-a81c73b6de1c2ab369c61096ebf52b7a68d5e1b1-7c212c0a8a1d782d-01 outer:exit 2b-a81c73b6de1c2ab369c61096ebf52b7a68d5e1b1-389159c2fb74f0e1-01
2022-04-21T21:11:19.968Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:11:19.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-9901d307de2b00f595d20eb48536510773746b38-30cbdf1f08d74374-01 outer:exit 2b-9901d307de2b00f595d20eb48536510773746b38-c42d0772d0fe0061-01
2022-04-21T21:11:19.970Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:11:19.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-5957a46a171559170eaaf01579877bb378855c2c-7fe475bcc3005139-01 outer:exit 2b-5957a46a171559170eaaf01579877bb378855c2c-b07a2ef6033b3595-01
2022-04-21T21:11:19.973Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:11:19.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e3df7d4bb3a6ecd9779bd8615daaca6049a5f9e-374d4932b371477a-01 outer:exit 2b-8e3df7d4bb3a6ecd9779bd8615daaca6049a5f9e-9a6af8f6544e5461-01
2022-04-21T21:11:19.978Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:11:20.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-84421a7c8816d4cc2e37636734b0ecf76b6a4d10-9b00a0061d10dea8-01 outer:exit 2b-84421a7c8816d4cc2e37636734b0ecf76b6a4d10-00e2d5b4ca659e84-01
2022-04-21T21:11:20.006Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (312ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:26.318Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:26.319Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:26.319Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:26.319Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:26.378Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:26.491Z appoptics:patching patched crypto 
2022-04-21T21:11:26.508Z appoptics:patching patched https 
2022-04-21T21:11:26.509Z appoptics:patching patched http 
2022-04-21T21:11:26.552Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:26.552Z appoptics:patching patched fs 
2022-04-21T21:11:26.575Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v18.0.0)
2022-04-21T21:11:26.580Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-21T21:11:26.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-d16283f4071a430fd375e1a6710b00dafe65a30b-bcc4ee487cdc3fbb-01 outer:exit 2b-d16283f4071a430fd375e1a6710b00dafe65a30b-0fef5290bf11a14c-01
2022-04-21T21:11:26.627Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:11:26.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-31862cdc4b26bfad70ea8d35b3fe8f1338cb2773-6bef4161b6140056-01 outer:exit 2b-31862cdc4b26bfad70ea8d35b3fe8f1338cb2773-31d49409e393ca64-01
2022-04-21T21:11:26.672Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:11:26.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-916efae9c1a8b5b29a575e0305e81173b24f9150-e7896a73595d72b8-01 outer:exit 2b-916efae9c1a8b5b29a575e0305e81173b24f9150-647f9876e2bc499d-01
2022-04-21T21:11:26.676Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:11:26.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9f754c4c4da5fca690cbb9499c224ff1da98f08-706d11ba35461632-01 outer:exit 2b-c9f754c4c4da5fca690cbb9499c224ff1da98f08-0db0e0bd35ddbb6e-01
2022-04-21T21:11:26.680Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:11:26.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa25c4c118e9af8f716ad93b6dd4f3d51da0eb1f-6a15d5d6d20d4889-01 outer:exit 2b-fa25c4c118e9af8f716ad93b6dd4f3d51da0eb1f-204ca0022fd879e5-01
2022-04-21T21:11:26.684Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:11:26.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-612bdd5b89bf79b9a5014269a4008b8a68ffed8b-b44cc61c41349d79-01 outer:exit 2b-612bdd5b89bf79b9a5014269a4008b8a68ffed8b-b07a26d18e8f0ee7-01
2022-04-21T21:11:26.687Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:11:26.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-9180c640c22adbe61039e6b2febe8438acf63939-e473c1ce28333ee2-01 outer:exit 2b-9180c640c22adbe61039e6b2febe8438acf63939-a0a4c13aed7863d2-01
2022-04-21T21:11:26.690Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:11:26.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-84c8278674026edc475b8229f6ddb57a5ee6b019-a798b8697e63528c-01 outer:exit 2b-84c8278674026edc475b8229f6ddb57a5ee6b019-ec4e7fabd3b18578-01
2022-04-21T21:11:26.692Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:11:26.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-10785cd745b251f27df955d42101556cd2b5aee9-dfaff4508863b2be-01 outer:exit 2b-10785cd745b251f27df955d42101556cd2b5aee9-1dde0a1c9e9fe9aa-01
2022-04-21T21:11:26.695Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:11:26.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-a844ce2bbcd1c777e73986c3f188b5ec1c7a79d9-458551c2a0d1d827-01 outer:exit 2b-a844ce2bbcd1c777e73986c3f188b5ec1c7a79d9-be71a184f2e18e8c-01
2022-04-21T21:11:26.700Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:11:26.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac9c0c6a4cc967742ee63ffa6159d51c55e9d571-910932a6924ecce2-01 outer:exit 2b-ac9c0c6a4cc967742ee63ffa6159d51c55e9d571-731322ee4dfa1413-01
2022-04-21T21:11:26.704Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:11:26.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-944d598e9e7cc7878503416f56b14f241f607b99-8b69dbad4731c706-01 outer:exit 2b-944d598e9e7cc7878503416f56b14f241f607b99-7a5a6887dc32ffdf-01
2022-04-21T21:11:26.710Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:11:26.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f02a355df61c32b6aea039f4edf58bc3b2ad4a1-7cfe93694d523048-01 outer:exit 2b-4f02a355df61c32b6aea039f4edf58bc3b2ad4a1-b8128a4ef3c1e142-01
2022-04-21T21:11:26.739Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:11:26.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d87e23fc450ff92c46740e799861a49d01841bf-5b1af83a84878411-01 outer:exit 2b-4d87e23fc450ff92c46740e799861a49d01841bf-558cc5bbd87c14cd-01
2022-04-21T21:11:26.794Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:11:26.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2fc82ea5120c4141b00393706cc67021ece033f-2463a16d03b0d4b6-01 outer:exit 2b-f2fc82ea5120c4141b00393706cc67021ece033f-9f3008ee9f1db38d-01
2022-04-21T21:11:26.797Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:11:26.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-3adc9d6ce47871e5ad9517fa75d728d74c49f06f-743d91b7cf2b472d-01 outer:exit 2b-3adc9d6ce47871e5ad9517fa75d728d74c49f06f-1cba0df64325dd60-01
2022-04-21T21:11:26.800Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:11:26.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e4a8a3444c026e3c19dd6d4b5240a22bea5fd1c-efd1d2ef48c61cc5-01 outer:exit 2b-7e4a8a3444c026e3c19dd6d4b5240a22bea5fd1c-194dce4bda85d1de-01
2022-04-21T21:11:26.803Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:11:26.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-a080c58a4643f076cedd7f837114118c646e5f88-6a92d3fdf257dc32-01 outer:exit 2b-a080c58a4643f076cedd7f837114118c646e5f88-a12bcfaa7f988e11-01
2022-04-21T21:11:26.806Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:11:26.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-944b1dbb56212d8eb208ce7df4ddc11c643a9e41-b17f3006c6837975-01 outer:exit 2b-944b1dbb56212d8eb208ce7df4ddc11c643a9e41-8f4a073d0ef3e97f-01
2022-04-21T21:11:26.808Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:11:26.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7f4f1763612c7c8dcb4dcd07b9324245a2851d6-d1f01329e553d892-01 outer:exit 2b-c7f4f1763612c7c8dcb4dcd07b9324245a2851d6-c161517e9d96e5de-01
2022-04-21T21:11:26.810Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:11:26.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cd2d540c4e80753f1d30acf0198f930e27e9cea-faccbddf5bac9407-01 outer:exit 2b-7cd2d540c4e80753f1d30acf0198f930e27e9cea-ed4672afa51b5328-01
2022-04-21T21:11:26.812Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:11:26.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-313458569fc54318697c9c674de4f50a908b8049-3e5da453e3ff4f14-01 outer:exit 2b-313458569fc54318697c9c674de4f50a908b8049-2b5755a0c9931141-01
2022-04-21T21:11:26.814Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:11:26.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-96e18c15eec427081b97fce20dba657dda3c39e7-0df0ca367ecfb186-01 outer:exit 2b-96e18c15eec427081b97fce20dba657dda3c39e7-37de559788ff2e1f-01
2022-04-21T21:11:26.817Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:11:26.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-5370b394eb99afeae68f00d942d8b0f6d5571bb9-af026bed171d54b1-01 outer:exit 2b-5370b394eb99afeae68f00d942d8b0f6d5571bb9-7b17f489382d2003-01
2022-04-21T21:11:26.823Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:11:26.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-45a16246b3c17201060f1c32be9368f88c02416e-3c27c16fe4c242af-01 outer:exit 2b-45a16246b3c17201060f1c32be9368f88c02416e-72fb3ddc5e773c1a-01
2022-04-21T21:11:26.825Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:11:26.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-38dab334e42f468bfb1d7e0a2606b0596f9c13d7-75a1fb5afd5f93b7-01 outer:exit 2b-38dab334e42f468bfb1d7e0a2606b0596f9c13d7-ca9f6bbc7bdf874d-01
2022-04-21T21:11:26.827Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:11:26.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7587badffa139f1f8f61338ff57818a409db7ae-834cdab034dcf251-01 outer:exit 2b-a7587badffa139f1f8f61338ff57818a409db7ae-d1a2a4b7ed29f005-01
2022-04-21T21:11:26.833Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:11:26.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e33e90cdf56dae3a99d81475a7c077a80669b3b-a0407cc75c85b51d-01 outer:exit 2b-7e33e90cdf56dae3a99d81475a7c077a80669b3b-950cce844e93c255-01
2022-04-21T21:11:26.839Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:11:26.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc4b407edaadedd173a89c98e94786f38311f7b3-1f81a430d9d3dd7c-01 outer:exit 2b-dc4b407edaadedd173a89c98e94786f38311f7b3-324641e007ecd9d7-01
2022-04-21T21:11:26.848Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:11:26.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2be7a9174a0d702c29b53944403a48c19e9f40b-1f4430919ef9e577-01 outer:exit 2b-b2be7a9174a0d702c29b53944403a48c19e9f40b-c90cf02e49d3fdcc-01
2022-04-21T21:11:26.855Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:11:26.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e477fd077551032bd9ecad61589b1b460b0f0a2-d39c91aa30979ae6-01 outer:exit 2b-2e477fd077551032bd9ecad61589b1b460b0f0a2-63911ecc7720e4ae-01
2022-04-21T21:11:26.857Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:11:26.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-45ac09d96d2ecfc1a7c077914d27cab1835883a9-371c48175117ffcf-01 outer:exit 2b-45ac09d96d2ecfc1a7c077914d27cab1835883a9-f4fcac3d3f9d732e-01
2022-04-21T21:11:26.862Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:11:26.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-432aedb2d99f2bd6891c626db5129add9c1a4f00-0259fb2e35fed645-01 outer:exit 2b-432aedb2d99f2bd6891c626db5129add9c1a4f00-7b7e1d0b47e2bb37-01
2022-04-21T21:11:26.870Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:11:26.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e381a3182317aa65814b7851c5819bb80a7dd2c-0383f2fea5147815-01 outer:exit 2b-3e381a3182317aa65814b7851c5819bb80a7dd2c-e8aa040cf890f761-01
2022-04-21T21:11:26.872Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:11:26.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-69354f0374217a3ca0ede991152e1800dda85157-ad2dba56c8116088-01 outer:exit 2b-69354f0374217a3ca0ede991152e1800dda85157-84f093b220da16e1-01
2022-04-21T21:11:26.874Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:11:26.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be357c42a8481a180d11c469fcd22767b4b263e-e80203055985a833-01 outer:exit 2b-6be357c42a8481a180d11c469fcd22767b4b263e-3b1d3027f61a9765-01
2022-04-21T21:11:26.880Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:11:26.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-119d7e0749889407c126e00cfc0a1e2259992ec4-1a16f836adc4ffcf-01 outer:exit 2b-119d7e0749889407c126e00cfc0a1e2259992ec4-7dd3db4be0df6beb-01
2022-04-21T21:11:26.881Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:11:26.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-978f081b5c146ab1f614541dc100e94791fb489c-e059c8354c70ad1b-01 outer:exit 2b-978f081b5c146ab1f614541dc100e94791fb489c-764f390deca0d51a-01
2022-04-21T21:11:26.887Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:11:26.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7d1d3e181dbe5329bf20902d379d9a8bab8de00-7dab98b53c750ed8-01 outer:exit 2b-b7d1d3e181dbe5329bf20902d379d9a8bab8de00-bec29cb1d7492c80-01
2022-04-21T21:11:26.897Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:11:26.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-e13709c6a7c4dbaf88367482c32ac97623b1c61f-60e7bfe3d9170bdd-01 outer:exit 2b-e13709c6a7c4dbaf88367482c32ac97623b1c61f-3fed893d078a59ab-01
2022-04-21T21:11:26.906Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:11:26.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1f601a108983ef02f446ef9a93028a6eef16a12-f5f51bdc246a26a9-01 outer:exit 2b-b1f601a108983ef02f446ef9a93028a6eef16a12-ba2212a731fb214b-01
2022-04-21T21:11:26.909Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:11:26.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-6de798e36d03c8277a88d61f9e879942b16c3fab-a9b071957f086284-01 outer:exit 2b-6de798e36d03c8277a88d61f9e879942b16c3fab-8e046fe369798bfd-01
2022-04-21T21:11:26.912Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:11:26.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-bee1c5d54aadac66c0f22a4190c9f3c713fdcc21-96ca90a4dda95a4c-01 outer:exit 2b-bee1c5d54aadac66c0f22a4190c9f3c713fdcc21-eda219ae08fd79bb-01
2022-04-21T21:11:26.914Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:11:26.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7c5a2650208d5cfd3a491ced6b91dc5aeb1070f-f988dba381e4f924-01 outer:exit 2b-e7c5a2650208d5cfd3a491ced6b91dc5aeb1070f-9f2398b4a4a9384d-01
2022-04-21T21:11:26.947Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (361ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:33.458Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:33.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:33.459Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:33.460Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:33.520Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:33.644Z appoptics:patching patched crypto 
2022-04-21T21:11:33.688Z appoptics:patching patched https 
2022-04-21T21:11:33.691Z appoptics:patching patched http 
2022-04-21T21:11:33.729Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:33.729Z appoptics:patching patched fs 
2022-04-21T21:11:33.753Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v18.0.0)
2022-04-21T21:11:33.759Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-21T21:11:33.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-026e4d29c8df5ecfad3008905463a7708423e16c-e7643cdd5e7b5cd7-01 outer:exit 2b-026e4d29c8df5ecfad3008905463a7708423e16c-28d9cc4f0bdcdfc7-01
2022-04-21T21:11:33.805Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:11:33.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a566f424728fa541ecce5998c311663a88c2533-34ce0ed684972963-01 outer:exit 2b-0a566f424728fa541ecce5998c311663a88c2533-11982215b9ab5102-01
2022-04-21T21:11:33.848Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:11:33.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b566750e1b65b79a62aabc2b08b6f370a622de-5c02be26de7ed1c6-01 outer:exit 2b-82b566750e1b65b79a62aabc2b08b6f370a622de-939ffe35eb59443e-01
2022-04-21T21:11:33.852Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:11:33.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a61d1f0bf6a309bba8c9e01a1227b8a9e03c761-e02f7f01412aa0ec-01 outer:exit 2b-2a61d1f0bf6a309bba8c9e01a1227b8a9e03c761-91866060821167de-01
2022-04-21T21:11:33.855Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:11:33.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-f46e56d3deba57286ecb6bec8dc4d7721e31f200-ae39bffd097f611d-01 outer:exit 2b-f46e56d3deba57286ecb6bec8dc4d7721e31f200-2dcec05fc0b5137e-01
2022-04-21T21:11:33.859Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:11:33.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-abbda7fbc1776368c78156bb6fec4e0ed46e41b9-e0a28af2915a34c2-01 outer:exit 2b-abbda7fbc1776368c78156bb6fec4e0ed46e41b9-ef05e0d22c3f8dfd-01
2022-04-21T21:11:33.862Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:11:33.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-d012cb2a5f133aaf4331da180e059d416e8c7a90-386bbcf73192735f-01 outer:exit 2b-d012cb2a5f133aaf4331da180e059d416e8c7a90-1f88e858c8da4a01-01
2022-04-21T21:11:33.865Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:11:33.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e10ecb383958771867afe7360910e02512ccdc9-1e2b5cd9c698f5f2-01 outer:exit 2b-8e10ecb383958771867afe7360910e02512ccdc9-8457ef2b78f1ad96-01
2022-04-21T21:11:33.868Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:11:33.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-95b8a1059a6f843ff8968f60f0a54af796ec5a70-606d15d5caffc9f3-01 outer:exit 2b-95b8a1059a6f843ff8968f60f0a54af796ec5a70-c39ec0182bfa4960-01
2022-04-21T21:11:33.871Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:11:33.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-bad51d141b74a77c9b3a34a3075f3ea8eded7c74-bbeb42c3ba04ef09-01 outer:exit 2b-bad51d141b74a77c9b3a34a3075f3ea8eded7c74-95853f413f511017-01
2022-04-21T21:11:33.874Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:11:33.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7413966f78674b625663d557b1f11dea5eb755c-97ba9729f07aa3f6-01 outer:exit 2b-c7413966f78674b625663d557b1f11dea5eb755c-c9ac742938eb1a81-01
2022-04-21T21:11:33.877Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:11:33.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-d73bdb487fbe5ce508928189d0692401a5f65bd2-697cb28cdd21ffdf-01 outer:exit 2b-d73bdb487fbe5ce508928189d0692401a5f65bd2-3ba692df9cb3d371-01
2022-04-21T21:11:33.883Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:11:33.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-11a9d95bb8428dd2c80e4d1e0ca72d3a66291bd0-864df5e2f1b7ee96-01 outer:exit 2b-11a9d95bb8428dd2c80e4d1e0ca72d3a66291bd0-7fd77bfc5e5b63b5-01
2022-04-21T21:11:33.900Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:11:33.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-70d0530bbb2946970c33ca0155b9ff2e95eed615-136b0eb69a801734-01 outer:exit 2b-70d0530bbb2946970c33ca0155b9ff2e95eed615-18556b7b626445f5-01
2022-04-21T21:11:33.941Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:11:33.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-532334d1d8eb8b5381db49314b0a4b541f645450-959d38b5d748bed2-01 outer:exit 2b-532334d1d8eb8b5381db49314b0a4b541f645450-166483311f0d1e52-01
2022-04-21T21:11:33.944Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:11:33.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a23e8136933d01680ee9f39e0b192e2ab16d775-31e744139f8a3cfd-01 outer:exit 2b-0a23e8136933d01680ee9f39e0b192e2ab16d775-9da0f0e0ac543fa0-01
2022-04-21T21:11:33.947Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:11:33.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-80352dff2d6112430e6618c3ca0d02ed53a56f35-2482c9609de10581-01 outer:exit 2b-80352dff2d6112430e6618c3ca0d02ed53a56f35-ec38f7cdff993d56-01
2022-04-21T21:11:33.949Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:11:33.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3fb5b0e22efc0026987707823dcde8f05bf72ca-56b9fefd469519b9-01 outer:exit 2b-c3fb5b0e22efc0026987707823dcde8f05bf72ca-8bf981348b69e9bc-01
2022-04-21T21:11:33.952Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:11:33.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac2b54dbe236e80ea1ea5d1a527d9d2616a12bad-555cd2141b35d727-01 outer:exit 2b-ac2b54dbe236e80ea1ea5d1a527d9d2616a12bad-917c918bb3c51eb4-01
2022-04-21T21:11:33.953Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:11:33.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-688b5cd2210d973724bf0bd35ab54b848ca362fe-26c27dc2d0fae840-01 outer:exit 2b-688b5cd2210d973724bf0bd35ab54b848ca362fe-be24cde463e593b8-01
2022-04-21T21:11:33.955Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:11:33.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb5684c2f6640598cb856a7593db4ed9e3ab51df-01d30f310174757a-01 outer:exit 2b-fb5684c2f6640598cb856a7593db4ed9e3ab51df-0d4a7eaddf57dc8a-01
2022-04-21T21:11:33.957Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:11:33.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-62827cec5ac9f9e4e2f7affdbe405f790d1016c4-3b185eb282fa0e65-01 outer:exit 2b-62827cec5ac9f9e4e2f7affdbe405f790d1016c4-a6d60e404d073a56-01
2022-04-21T21:11:33.959Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:11:33.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-14f5df4a34867d7dc37fc00f21ea29a824e06184-713a5f6b67e56343-01 outer:exit 2b-14f5df4a34867d7dc37fc00f21ea29a824e06184-6ed1b5f00a96603e-01
2022-04-21T21:11:33.961Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:11:33.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eeec764fc0a79b73cd085a8c2e0b813d60cfe6a-f9e283114fd0844a-01 outer:exit 2b-3eeec764fc0a79b73cd085a8c2e0b813d60cfe6a-2218a57d9b073a61-01
2022-04-21T21:11:33.964Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:11:33.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-1211b32a5544385e93efc4c0c3bfb5270b5e9525-390947d37c279e2f-01 outer:exit 2b-1211b32a5544385e93efc4c0c3bfb5270b5e9525-bd1c97c70867077e-01
2022-04-21T21:11:33.966Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:11:33.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-27be305b9466bb5bdea5299cc226d82d02f9619b-9708d66a7e6bb85d-01 outer:exit 2b-27be305b9466bb5bdea5299cc226d82d02f9619b-27a0e78b2ffc0850-01
2022-04-21T21:11:33.968Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:11:33.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5444c594103ae6415db03ce33c159af5494dabb-efb55d04abaa356d-01 outer:exit 2b-a5444c594103ae6415db03ce33c159af5494dabb-549f2ba10ea91495-01
2022-04-21T21:11:33.974Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:11:33.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-86e0fc4c7893b5dee6e1c1a436716f3832ebe6a6-dfd6e8032c02df9a-01 outer:exit 2b-86e0fc4c7893b5dee6e1c1a436716f3832ebe6a6-6f8b6b8e4abdf916-01
2022-04-21T21:11:33.980Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:11:33.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-af885852a5375e26b996c2b5c212c18acc2feefc-4defca1fe5bd561b-01 outer:exit 2b-af885852a5375e26b996c2b5c212c18acc2feefc-92bda77f2ec1c9fb-01
2022-04-21T21:11:33.988Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:11:33.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-3452ddf6d6bd061d154fd319785ae24ff72589b2-a2c286961c039400-01 outer:exit 2b-3452ddf6d6bd061d154fd319785ae24ff72589b2-da39abbdf5e774b6-01
2022-04-21T21:11:33.995Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:11:33.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1ec1207ceb1df304fa8061852bbe7c3407f3914-b70a93ab2a3ff9fc-01 outer:exit 2b-b1ec1207ceb1df304fa8061852bbe7c3407f3914-deb23d14eae65685-01
2022-04-21T21:11:33.997Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:11:33.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-bebe8774a179ee77def3c4756ea3d341db9638cf-8d59073e99179756-01 outer:exit 2b-bebe8774a179ee77def3c4756ea3d341db9638cf-113049744df2008f-01
2022-04-21T21:11:33.999Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:11:34.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb6661c58adcec086bd3243d1363bf224457ccd3-e010e1675e23dd62-01 outer:exit 2b-cb6661c58adcec086bd3243d1363bf224457ccd3-48365aa9718853b2-01
2022-04-21T21:11:34.006Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:11:34.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f9425c7bab1e045df22b41de0330af6f7fcc043-b32400c504ea0c4f-01 outer:exit 2b-5f9425c7bab1e045df22b41de0330af6f7fcc043-e52d4c323990b27b-01
2022-04-21T21:11:34.008Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:11:34.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5ba047e3d7517ca59e974534cf2e2c0f5ff3b87-9ba6e23825b274ef-01 outer:exit 2b-b5ba047e3d7517ca59e974534cf2e2c0f5ff3b87-66533eda53e299a0-01
2022-04-21T21:11:34.010Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:11:34.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-66cf3ae82c968e37f3e89bd52aa8a687bcea68c5-c0d6c5820bbe0424-01 outer:exit 2b-66cf3ae82c968e37f3e89bd52aa8a687bcea68c5-4ffe306b3d16a497-01
2022-04-21T21:11:34.015Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:11:34.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9d69cbbb1465b87845886773e3b2043225000f6-906d5809e1841af7-01 outer:exit 2b-e9d69cbbb1465b87845886773e3b2043225000f6-6cdb83aae0027a4f-01
2022-04-21T21:11:34.017Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:11:34.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb05b2a021d0e3aa04967f3bf60340df23ed6a55-c5ecb234d8a0e546-01 outer:exit 2b-fb05b2a021d0e3aa04967f3bf60340df23ed6a55-c4aacdd36c84f024-01
2022-04-21T21:11:34.019Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:11:34.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ffb871b1af0192eb36ecea4d9d235061d72b47d-4bf08ce371651f77-01 outer:exit 2b-8ffb871b1af0192eb36ecea4d9d235061d72b47d-f81770397adcade9-01
2022-04-21T21:11:34.029Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:11:34.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f04d19a96245d4715010a858eb17dfe16c9f41-72031c6d1b24c3b5-01 outer:exit 2b-87f04d19a96245d4715010a858eb17dfe16c9f41-9b33bcc8147fd702-01
2022-04-21T21:11:34.038Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:11:34.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-351cffa71bbee8298ee4b30ce1a448cdc991d722-a61a25daac1c5ffc-01 outer:exit 2b-351cffa71bbee8298ee4b30ce1a448cdc991d722-edb581f9cda5693b-01
2022-04-21T21:11:34.040Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:11:34.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-50af5773563e896761a3331a14d8a67c17f0e12b-2694091f2d1f4b6c-01 outer:exit 2b-50af5773563e896761a3331a14d8a67c17f0e12b-668aef16eaf58efd-01
2022-04-21T21:11:34.043Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:11:34.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e0d57890f0cff5db62686a2ee67f7ce661d7b8a-7f09e90476663c29-01 outer:exit 2b-5e0d57890f0cff5db62686a2ee67f7ce661d7b8a-0e1074bb928f8c8a-01
2022-04-21T21:11:34.045Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:11:34.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f1e1b54b232f4b112b578b325286378a9cda0bb-a34366ce89cd4272-01 outer:exit 2b-2f1e1b54b232f4b112b578b325286378a9cda0bb-dbb2b7fe1cd10148-01
2022-04-21T21:11:34.076Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (308ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:40.908Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:40.909Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:40.909Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:40.910Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:40.970Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:41.083Z appoptics:patching patched crypto 
2022-04-21T21:11:41.101Z appoptics:patching patched https 
2022-04-21T21:11:41.101Z appoptics:patching patched http 
2022-04-21T21:11:41.145Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:41.146Z appoptics:patching patched fs 
2022-04-21T21:11:41.169Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v18.0.0)
2022-04-21T21:11:41.175Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-21T21:11:41.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea199569278d5bd911e1473c38f9b6c464fbd978-435c740df81c7c4f-01 outer:exit 2b-ea199569278d5bd911e1473c38f9b6c464fbd978-49ec39197fe452b4-01
2022-04-21T21:11:41.218Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:11:41.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-c82e015786cd6e24d1e61bf8457365b7bbaf0c7b-8bf691370408c429-01 outer:exit 2b-c82e015786cd6e24d1e61bf8457365b7bbaf0c7b-566073984efa926f-01
2022-04-21T21:11:41.263Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:11:41.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-f06b61ee4532024431e821cd9ab4ff0ba7352cdb-17fc78eea1286805-01 outer:exit 2b-f06b61ee4532024431e821cd9ab4ff0ba7352cdb-362a003c3b0c3cb8-01
2022-04-21T21:11:41.266Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:11:41.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fdc99eb587441f0d913e8723962bf45ff41e384-1afee73984072aff-01 outer:exit 2b-9fdc99eb587441f0d913e8723962bf45ff41e384-1e7ba42be0ab4d07-01
2022-04-21T21:11:41.270Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:11:41.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-91d4ce47cf3c4d44ddcd74106ae482fdc87edebc-573e961a014366a4-01 outer:exit 2b-91d4ce47cf3c4d44ddcd74106ae482fdc87edebc-a692d2bfdd40328c-01
2022-04-21T21:11:41.274Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:11:41.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-f80be9082d3fdef6b297e55d60f788fa1f609262-d76417e202017312-01 outer:exit 2b-f80be9082d3fdef6b297e55d60f788fa1f609262-187e599b39eab46a-01
2022-04-21T21:11:41.277Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:11:41.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8722523b35203c2b310ea92cd4f473f11ca8df-d818114eaa809502-01 outer:exit 2b-1b8722523b35203c2b310ea92cd4f473f11ca8df-e3a23d69ff30729d-01
2022-04-21T21:11:41.280Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:11:41.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-e52c98fa15a82c798fa678ae3e517ce1843f9511-80741d0a081b6c5d-01 outer:exit 2b-e52c98fa15a82c798fa678ae3e517ce1843f9511-aa54977d08fb22ee-01
2022-04-21T21:11:41.282Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:11:41.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-178fea3340f25ef5c72fc0e8c4f79ad18a1eec3a-d6a3d73b153a01d6-01 outer:exit 2b-178fea3340f25ef5c72fc0e8c4f79ad18a1eec3a-8e3284158cfc84d9-01
2022-04-21T21:11:41.287Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:11:41.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-942d869f90558e15c060af6bff5d36c3c7381134-83f173c5a9f1f45d-01 outer:exit 2b-942d869f90558e15c060af6bff5d36c3c7381134-3c22534cd0a0f64c-01
2022-04-21T21:11:41.290Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:11:41.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a04740712f1e0342d7e38e50105905b0c2dcf3c-dd14089d35c97ab2-01 outer:exit 2b-1a04740712f1e0342d7e38e50105905b0c2dcf3c-626908fb63d08323-01
2022-04-21T21:11:41.293Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:11:41.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-604c181ed3adadf8efe52dd8e678034109c11c79-1e8b3cf8d0aa8376-01 outer:exit 2b-604c181ed3adadf8efe52dd8e678034109c11c79-041f274e2af2272c-01
2022-04-21T21:11:41.299Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:11:41.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cfd37f2104cc25e721caa244e67bc08f481ccd6-b5596996e36e225a-01 outer:exit 2b-8cfd37f2104cc25e721caa244e67bc08f481ccd6-2fb9a06d60f27800-01
2022-04-21T21:11:41.314Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:11:41.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a267cd2ee58c6a099a8a3432cd0059844c8a68a-ede28c67162da915-01 outer:exit 2b-5a267cd2ee58c6a099a8a3432cd0059844c8a68a-a5615f2df89e8c9c-01
2022-04-21T21:11:41.352Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:11:41.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-d98036367e18cb128bed52c1e32a4ae6080d47ea-ac21dd4ab8f82fb9-01 outer:exit 2b-d98036367e18cb128bed52c1e32a4ae6080d47ea-5f50d29d929d6f5b-01
2022-04-21T21:11:41.355Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:11:41.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f92c2bdf5ae1e12aa9827046fa8bd07bd5bd5fa-c6ff69c23dae87fd-01 outer:exit 2b-3f92c2bdf5ae1e12aa9827046fa8bd07bd5bd5fa-d3111b9b7ef1c9b5-01
2022-04-21T21:11:41.358Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:11:41.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5f94d9fed39e45a2b10033bd587785b432740c5-2afad3ba055df7f2-01 outer:exit 2b-b5f94d9fed39e45a2b10033bd587785b432740c5-bc5fe794f9b00940-01
2022-04-21T21:11:41.361Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:11:41.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f02857eca29147dc11f12321b5986761db6b19f-9e5740861bd1348e-01 outer:exit 2b-7f02857eca29147dc11f12321b5986761db6b19f-922aa85b054181f5-01
2022-04-21T21:11:41.363Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:11:41.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-560ddca60d1ee3cab199dcba57c9d55fa377cc7a-a8e533ed88ad5dbd-01 outer:exit 2b-560ddca60d1ee3cab199dcba57c9d55fa377cc7a-519cdb27092c33d7-01
2022-04-21T21:11:41.365Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:11:41.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-45d7a8a425ddfae4670a00d8083302907d1c2c25-4b28435ea736a538-01 outer:exit 2b-45d7a8a425ddfae4670a00d8083302907d1c2c25-cbc9ddd45c09f83e-01
2022-04-21T21:11:41.367Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:11:41.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-a406f41c47455d35abf28144dfe52414c3c589cf-4a76cd8e74b082b9-01 outer:exit 2b-a406f41c47455d35abf28144dfe52414c3c589cf-058e70d73b37c00c-01
2022-04-21T21:11:41.369Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:11:41.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1f4a09fec5ad38418c764ad9297d21b71a4e514-18e43fe6ff173a4e-01 outer:exit 2b-d1f4a09fec5ad38418c764ad9297d21b71a4e514-92275cdcf2503da7-01
2022-04-21T21:11:41.371Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:11:41.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-77b0ffc95e6ee6a8cc108bc726857ce3d73ef072-2912f18dc858f82b-01 outer:exit 2b-77b0ffc95e6ee6a8cc108bc726857ce3d73ef072-02ce77c1cb0f9d80-01
2022-04-21T21:11:41.374Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:11:41.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e1ffe55ec797b6f73c34551a44ca9071e355220-4efae990ae13d00c-01 outer:exit 2b-1e1ffe55ec797b6f73c34551a44ca9071e355220-ae705162b94fa3aa-01
2022-04-21T21:11:41.376Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:11:41.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-4101a4f47e8cb711e8250c8c6b4a8a03e9c1a817-26ef83912e0e0803-01 outer:exit 2b-4101a4f47e8cb711e8250c8c6b4a8a03e9c1a817-4198fc1fddd88dce-01
2022-04-21T21:11:41.378Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:11:41.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-34e4b0c873af7eef6274b1b39877e6b9e43b6a23-85627c221c8cdc9a-01 outer:exit 2b-34e4b0c873af7eef6274b1b39877e6b9e43b6a23-47e0d25d936257b8-01
2022-04-21T21:11:41.381Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:11:41.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cd3c80d72e58cbc1493229c9bb673d953373952-3c2ce0fdf9ed95b5-01 outer:exit 2b-7cd3c80d72e58cbc1493229c9bb673d953373952-7ebae193e14b7bbf-01
2022-04-21T21:11:41.387Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:11:41.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dea411ebf8e15b00d232c86941e1b80209eca22-ccd2788fdda60ea1-01 outer:exit 2b-5dea411ebf8e15b00d232c86941e1b80209eca22-c87f617d92464cf9-01
2022-04-21T21:11:41.392Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:11:41.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dc8f3bb8e58e3ce184468de5d0f499074f51ae3-c3edf275034ab2e3-01 outer:exit 2b-8dc8f3bb8e58e3ce184468de5d0f499074f51ae3-1e9be3b73485592c-01
2022-04-21T21:11:41.400Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:11:41.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-063f0d37377d9023da2f8f7cdefcad8debf5deaa-5425f03a4f476b57-01 outer:exit 2b-063f0d37377d9023da2f8f7cdefcad8debf5deaa-b35e683677bd5103-01
2022-04-21T21:11:41.407Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:11:41.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-14652f5f5fd5fdccee8d68f04d8ce2f7d6cc5169-9dd4909c436df58d-01 outer:exit 2b-14652f5f5fd5fdccee8d68f04d8ce2f7d6cc5169-19726aafe4d41caa-01
2022-04-21T21:11:41.409Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:11:41.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5b01af2d7b5e5fcca5e7b991938a50d8176907f-99718a7a8ec7fefb-01 outer:exit 2b-a5b01af2d7b5e5fcca5e7b991938a50d8176907f-6a4309cce17debec-01
2022-04-21T21:11:41.412Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:11:41.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-921d82f8815baef7f267b4ba71ecd4ba5261496e-6d907ed4c87f41c1-01 outer:exit 2b-921d82f8815baef7f267b4ba71ecd4ba5261496e-9cd12644494c3a32-01
2022-04-21T21:11:41.418Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:11:41.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-41e921d10f619b5847d831c93d78a4878345fe1b-1adad0aaa5207490-01 outer:exit 2b-41e921d10f619b5847d831c93d78a4878345fe1b-4217159bbf8c2bce-01
2022-04-21T21:11:41.420Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:11:41.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-505ae02c113279e89572a123a9088adba1ba24bc-56b0bf2484d7552d-01 outer:exit 2b-505ae02c113279e89572a123a9088adba1ba24bc-e3f61b27c8bde321-01
2022-04-21T21:11:41.423Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:11:41.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee4dfad603534269c74a8e29c296e0ed0d2e6895-6a635b75df92a6d1-01 outer:exit 2b-ee4dfad603534269c74a8e29c296e0ed0d2e6895-12b4abc6bc868812-01
2022-04-21T21:11:41.425Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:11:41.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf7dd0e978b7fd4c3a117e5af941ee6d2e5ee11d-947335f4b38f4a44-01 outer:exit 2b-bf7dd0e978b7fd4c3a117e5af941ee6d2e5ee11d-a4fd6ae5cdec70a2-01
2022-04-21T21:11:41.427Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:11:41.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fcda3a2726eac92a109a83b48656ea749109c51-fdeaffe6809ef842-01 outer:exit 2b-8fcda3a2726eac92a109a83b48656ea749109c51-7ef32be78be44960-01
2022-04-21T21:11:41.428Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:11:41.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e81aab24cbfd075f5f822d5cf7a8ad0d3ad6959-9dc2e363cf4a4688-01 outer:exit 2b-8e81aab24cbfd075f5f822d5cf7a8ad0d3ad6959-0e62b91fa016cb39-01
2022-04-21T21:11:41.437Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:11:41.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-863a53aa7745f3c397dd667ef2f30b5f16bf9662-e617e3e05fe178ff-01 outer:exit 2b-863a53aa7745f3c397dd667ef2f30b5f16bf9662-c999bf8b4e8d1ac4-01
2022-04-21T21:11:41.445Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:11:41.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d66ebb7b422c89de34f294be79500cc74a857c3-c26cbe4a2ac775fd-01 outer:exit 2b-9d66ebb7b422c89de34f294be79500cc74a857c3-f2cbc5f6bb898dc2-01
2022-04-21T21:11:41.448Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:11:41.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cb0007cdfc54b7c58553ec1864a036ed3c18e72-ec2ecf88d910e8ab-01 outer:exit 2b-5cb0007cdfc54b7c58553ec1864a036ed3c18e72-e64f598fbe96bb74-01
2022-04-21T21:11:41.450Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:11:41.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-6405e3ffa76ae4a24da278cbf266d61219845cb4-aa19f08edf474420-01 outer:exit 2b-6405e3ffa76ae4a24da278cbf266d61219845cb4-bb4901e2b083c18c-01
2022-04-21T21:11:41.452Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:11:41.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead6604d72ff761f0d2b8b54c7ef87aec35aa1b0-2f8bf56442e62292-01 outer:exit 2b-ead6604d72ff761f0d2b8b54c7ef87aec35aa1b0-7ca853c7ee382ecd-01
2022-04-21T21:11:41.478Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (299ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:47.618Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:47.619Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:47.619Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:47.620Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:47.678Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:47.794Z appoptics:patching patched crypto 
2022-04-21T21:11:47.811Z appoptics:patching patched https 
2022-04-21T21:11:47.812Z appoptics:patching patched http 
2022-04-21T21:11:47.857Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:47.857Z appoptics:patching patched fs 
2022-04-21T21:11:47.882Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v18.0.0)
2022-04-21T21:11:47.887Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-21T21:11:47.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-be38bcb473e6ddb00d1a030720f9c2c40c8bf48a-7b0f18471ce6d47c-01 outer:exit 2b-be38bcb473e6ddb00d1a030720f9c2c40c8bf48a-131d59df8c7c7d5d-01
2022-04-21T21:11:47.935Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:11:47.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-7294661aea59cca9176c0682b7da92f0d39efcf9-2357470d8251baa5-01 outer:exit 2b-7294661aea59cca9176c0682b7da92f0d39efcf9-9deb6443b5a91f5c-01
2022-04-21T21:11:47.978Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:11:47.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6145cafcd032f30e4d137ace11aa829795936b8-e96dc102d360c8a0-01 outer:exit 2b-d6145cafcd032f30e4d137ace11aa829795936b8-606779c1be6d9a77-01
2022-04-21T21:11:47.981Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:11:47.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c64c4d7cf42b299c5563d03b4a80dded52a0d8b-5b52feaefa560314-01 outer:exit 2b-3c64c4d7cf42b299c5563d03b4a80dded52a0d8b-1d4e057a39f16688-01
2022-04-21T21:11:47.984Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:11:47.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-130687560f02bea92c11faf5290de2759ad3a4b6-10e586f7f07c0d8f-01 outer:exit 2b-130687560f02bea92c11faf5290de2759ad3a4b6-a545561645fb7c71-01
2022-04-21T21:11:47.989Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:11:47.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a073b8f6bcd647e764e74541ebb36542124426e-8eb174bbe7b5d7cb-01 outer:exit 2b-0a073b8f6bcd647e764e74541ebb36542124426e-c9c6cb4fd67a6186-01
2022-04-21T21:11:47.992Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:11:47.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-0897e276884e546dcc5e689ccd207fb9aeaab6ba-b2e8b6bece1d818c-01 outer:exit 2b-0897e276884e546dcc5e689ccd207fb9aeaab6ba-472dcd3cc2dd422a-01
2022-04-21T21:11:47.994Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:11:47.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a19765e7d618c002f23946dc8d6bc3487a5dbe5-03b7eb9b4fc9f73b-01 outer:exit 2b-9a19765e7d618c002f23946dc8d6bc3487a5dbe5-bd605c1c9aaead49-01
2022-04-21T21:11:47.997Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:11:47.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-b692c3e51fa2691083efaa28759926357104e360-3e2f62de145479b4-01 outer:exit 2b-b692c3e51fa2691083efaa28759926357104e360-8ba82f0c2301920d-01
2022-04-21T21:11:47.999Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:11:48.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-83c0834eff915418e28909d05d72711fe295f1ad-06e28fa4994ece87-01 outer:exit 2b-83c0834eff915418e28909d05d72711fe295f1ad-349b3257d53e4b5e-01
2022-04-21T21:11:48.005Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:11:48.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f600c047224c78e6ace7ba3f3a6a50c060b6f42-f0a660982a12811f-01 outer:exit 2b-2f600c047224c78e6ace7ba3f3a6a50c060b6f42-2dcd27dcac9ab12e-01
2022-04-21T21:11:48.009Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:11:48.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c45b1414d9358a46045cd439f39091c7f122040-54d1be360ac1ad6b-01 outer:exit 2b-4c45b1414d9358a46045cd439f39091c7f122040-5f8a67ac509a1a87-01
2022-04-21T21:11:48.015Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:11:48.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc8aebc2a162bf5f28b0d984ab0d405ac6bb4b27-dba0f9b4712a8954-01 outer:exit 2b-dc8aebc2a162bf5f28b0d984ab0d405ac6bb4b27-3a081b5767f7a469-01
2022-04-21T21:11:48.031Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:11:48.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0f05998bf4b6b3fb563dc1644964cb9efec39aa-8d3e30ace351c7cf-01 outer:exit 2b-b0f05998bf4b6b3fb563dc1644964cb9efec39aa-a7dc1c90ef07fbfb-01
2022-04-21T21:11:48.070Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:11:48.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e103d997aba8ec54d895cfb36846324dc19fad8-d363fd02c9dc9056-01 outer:exit 2b-6e103d997aba8ec54d895cfb36846324dc19fad8-48d03d01ce68b72f-01
2022-04-21T21:11:48.073Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:11:48.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-b73710bf7f0e23852f7901240f58a6292af7287e-570aa0622d22d07d-01 outer:exit 2b-b73710bf7f0e23852f7901240f58a6292af7287e-61da2f614f560b9a-01
2022-04-21T21:11:48.075Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:11:48.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-323728db66430be483bcf52094864b81e733d72f-fe28f0f187e6ea47-01 outer:exit 2b-323728db66430be483bcf52094864b81e733d72f-6f07a03a785a9dc2-01
2022-04-21T21:11:48.078Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:11:48.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-661c9591bafb3b074863d3fdefb5e3d2bc98957d-095783eab83f6727-01 outer:exit 2b-661c9591bafb3b074863d3fdefb5e3d2bc98957d-620d7038e054107b-01
2022-04-21T21:11:48.080Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:11:48.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ffab380e8ca813aa7ca2c3eebd47e92c3e1ecd9-ec80135065841de4-01 outer:exit 2b-3ffab380e8ca813aa7ca2c3eebd47e92c3e1ecd9-b7ba1244e7473de2-01
2022-04-21T21:11:48.082Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:11:48.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1a62e97d7825670094162a2e7f28f998c5704aa-56fbfc8d4778bc75-01 outer:exit 2b-a1a62e97d7825670094162a2e7f28f998c5704aa-6952f02968908cd2-01
2022-04-21T21:11:48.084Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:11:48.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-db4f6d11ce0fdb615b0f3addabeef181e77128f1-df435d8f59ffc7a3-01 outer:exit 2b-db4f6d11ce0fdb615b0f3addabeef181e77128f1-85073a580b5d9d13-01
2022-04-21T21:11:48.086Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:11:48.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3dc70c001c340f80c77e8231e17efcca367e5f5-0b89cee96c599d24-01 outer:exit 2b-b3dc70c001c340f80c77e8231e17efcca367e5f5-f746d434ee49a8d6-01
2022-04-21T21:11:48.088Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:11:48.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-84521d3220b9d7c897af58be76353ec5826a002b-32180f32010e9649-01 outer:exit 2b-84521d3220b9d7c897af58be76353ec5826a002b-38be0615a2cae4b7-01
2022-04-21T21:11:48.091Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:11:48.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-8593a8f9730a9e7cad793ed44dd34c5bf43cc698-503d055bdd8423b0-01 outer:exit 2b-8593a8f9730a9e7cad793ed44dd34c5bf43cc698-4a04d0cb3447c539-01
2022-04-21T21:11:48.094Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:11:48.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fcd43572d398bcfbe79651b13bcb193ef7d9952-53823157c3e0649d-01 outer:exit 2b-7fcd43572d398bcfbe79651b13bcb193ef7d9952-766b3ba73bd683e6-01
2022-04-21T21:11:48.096Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:11:48.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d88317f14b7026508a8f21c365037c89c2372ac-6d6a8fb54fd9e995-01 outer:exit 2b-1d88317f14b7026508a8f21c365037c89c2372ac-f0edd6e706edd311-01
2022-04-21T21:11:48.098Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:11:48.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-61c12cbcf1490e8d76cdb12b111ede432f15933f-952d14d0d9cfbaba-01 outer:exit 2b-61c12cbcf1490e8d76cdb12b111ede432f15933f-f06b1dce00b9e597-01
2022-04-21T21:11:48.104Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:11:48.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-27f17bbb6b69e86a2f7f13ef9d11aa9cf0a8a4f7-08959e74344c798c-01 outer:exit 2b-27f17bbb6b69e86a2f7f13ef9d11aa9cf0a8a4f7-6e1377c224b9fceb-01
2022-04-21T21:11:48.112Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:11:48.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-afa98ca17c62e4b391e844238f4358b5f8a2cc10-c0c09241478e808e-01 outer:exit 2b-afa98ca17c62e4b391e844238f4358b5f8a2cc10-517392c08e6c242b-01
2022-04-21T21:11:48.121Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:11:48.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-a86babb048a5c157c1d0e0822cab6f819b858db6-3770042961d65632-01 outer:exit 2b-a86babb048a5c157c1d0e0822cab6f819b858db6-f81c7e41a1066354-01
2022-04-21T21:11:48.128Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:11:48.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-534699f423e404e3fae45d3b105600a5a16cd05e-24ae19d07433dbad-01 outer:exit 2b-534699f423e404e3fae45d3b105600a5a16cd05e-b9fa22dc86832991-01
2022-04-21T21:11:48.131Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:11:48.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-45477f360a8d906d6f50cc21d666fc266bbfc383-866688a4b88705a2-01 outer:exit 2b-45477f360a8d906d6f50cc21d666fc266bbfc383-17cfabaa5aa9d57a-01
2022-04-21T21:11:48.133Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:11:48.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-59281092d30a0804e242505469f2ea7beda32938-276ffd866ca0524c-01 outer:exit 2b-59281092d30a0804e242505469f2ea7beda32938-a6fa65ed3f48496e-01
2022-04-21T21:11:48.140Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:11:48.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-7692dea21d7cdd64f3149a3c6af3da14d7019098-34cacd19ef0680ca-01 outer:exit 2b-7692dea21d7cdd64f3149a3c6af3da14d7019098-54da74c805160150-01
2022-04-21T21:11:48.142Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:11:48.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-9547a041bcd4b8967d1146e72358ca0446741635-b2801aff960aeaf8-01 outer:exit 2b-9547a041bcd4b8967d1146e72358ca0446741635-2436df40db3080eb-01
2022-04-21T21:11:48.144Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:11:48.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-312801b6e86f2a005b074cb550fb5ee739477c50-fc5a33afe25f1d3d-01 outer:exit 2b-312801b6e86f2a005b074cb550fb5ee739477c50-9f1eb9faf91a235f-01
2022-04-21T21:11:48.146Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:11:48.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc3234e26a2af2522b12f7c1ffec8f6145940a23-093f7b5d8bcd013c-01 outer:exit 2b-dc3234e26a2af2522b12f7c1ffec8f6145940a23-26b211d1f7ceb328-01
2022-04-21T21:11:48.147Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:11:48.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbd90ec13ae1abfa50585dd4012938bf71805bd2-02c38aee15c915ac-01 outer:exit 2b-dbd90ec13ae1abfa50585dd4012938bf71805bd2-e0b6159d5d2e66a3-01
2022-04-21T21:11:48.149Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:11:48.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae2a6e347dcc4f63f148e8facd6868603061d6a8-04d16c746a4fe30c-01 outer:exit 2b-ae2a6e347dcc4f63f148e8facd6868603061d6a8-2e574b07b29b92f4-01
2022-04-21T21:11:48.159Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:11:48.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a59107e8b3d96cbc2cfc74be823a393d9bc10a5-ee761996de2df041-01 outer:exit 2b-6a59107e8b3d96cbc2cfc74be823a393d9bc10a5-2e25a4267ae26b4d-01
2022-04-21T21:11:48.168Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:11:48.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-9469f624911b9ec6f6ae92d964aa4942c0d5dd67-eed2edbd7149c019-01 outer:exit 2b-9469f624911b9ec6f6ae92d964aa4942c0d5dd67-c6054cb3a633dc22-01
2022-04-21T21:11:48.171Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:11:48.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-c25c7ddc32b5ccd2f70b33d9db2ffdd09ee49466-5e58149bb7758043-01 outer:exit 2b-c25c7ddc32b5ccd2f70b33d9db2ffdd09ee49466-6b8f4223b63c91ae-01
2022-04-21T21:11:48.173Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:11:48.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8f9a8105d937ea08f8da68210385b086c8f19e1-d9348e9e93a1d1af-01 outer:exit 2b-e8f9a8105d937ea08f8da68210385b086c8f19e1-3b0d17515da1dfd9-01
2022-04-21T21:11:48.176Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:11:48.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-c009d39cae72d297e5f8a3b5d6a3ee520e042cd8-1dd990635af25757-01 outer:exit 2b-c009d39cae72d297e5f8a3b5d6a3ee520e042cd8-2de79e44f93fe703-01
2022-04-21T21:11:48.204Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (312ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:54.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:54.894Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:54.894Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:54.895Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:54.954Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:55.068Z appoptics:patching patched crypto 
2022-04-21T21:11:55.086Z appoptics:patching patched https 
2022-04-21T21:11:55.086Z appoptics:patching patched http 
2022-04-21T21:11:55.131Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:55.131Z appoptics:patching patched fs 
2022-04-21T21:11:55.154Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v18.0.0)
2022-04-21T21:11:55.160Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-21T21:11:55.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-6de099d77a50304fe4e486737888c1452f565f64-e815140aa162019c-01 outer:exit 2b-6de099d77a50304fe4e486737888c1452f565f64-bd83fd10e0c0e8c6-01
2022-04-21T21:11:55.203Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:11:55.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-a77d1709938a4bcef2dbb735d41b822be2380d7d-9daec2216a99c507-01 outer:exit 2b-a77d1709938a4bcef2dbb735d41b822be2380d7d-2607fc7795a0fea7-01
2022-04-21T21:11:55.248Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:11:55.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-2049d322e5017c97aec95a94916b4f110159b72a-33c2298a167dcb09-01 outer:exit 2b-2049d322e5017c97aec95a94916b4f110159b72a-8dc40518d014db49-01
2022-04-21T21:11:55.252Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:11:55.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-157a42b7aca56fa0db17250f15bbefbdc5880b1c-2fde2671b1ccc4e3-01 outer:exit 2b-157a42b7aca56fa0db17250f15bbefbdc5880b1c-a34d390004962252-01
2022-04-21T21:11:55.255Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:11:55.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-5da6d48e12d2a7f5bf145a295e7bce4e63d35993-7e19dd6278331fd1-01 outer:exit 2b-5da6d48e12d2a7f5bf145a295e7bce4e63d35993-986105df54241470-01
2022-04-21T21:11:55.259Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:11:55.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-afc5e358766b137a2f390e87d92be4b07f380102-5787175c7f8cc895-01 outer:exit 2b-afc5e358766b137a2f390e87d92be4b07f380102-b5632fc9ec41c3f2-01
2022-04-21T21:11:55.262Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:11:55.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-441fe9ccf6cc71943ced59059ef9036e41cfea48-9ac99cac1e8d36e9-01 outer:exit 2b-441fe9ccf6cc71943ced59059ef9036e41cfea48-a57003cc4493bc4c-01
2022-04-21T21:11:55.265Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:11:55.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-66bfa96e86c8fa3efb3d3f3d5846ad1e1a04d362-b42c4040eaedd525-01 outer:exit 2b-66bfa96e86c8fa3efb3d3f3d5846ad1e1a04d362-36f71e76c1e76688-01
2022-04-21T21:11:55.267Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:11:55.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-87349f232c133a135435bf96c9771fd9a3137da9-2359d5c3f8dce5b9-01 outer:exit 2b-87349f232c133a135435bf96c9771fd9a3137da9-5e41dfb2cd408665-01
2022-04-21T21:11:55.270Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:11:55.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aec7f4028eb099576c50b304968d24086cab085-cecc839de572eca2-01 outer:exit 2b-0aec7f4028eb099576c50b304968d24086cab085-e67baf193093f85f-01
2022-04-21T21:11:55.275Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:11:55.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-c49253380579e065cf2bfd3031d634d19ccad087-671b548e176bb6e4-01 outer:exit 2b-c49253380579e065cf2bfd3031d634d19ccad087-648d07f6d0ed3878-01
2022-04-21T21:11:55.279Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:11:55.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-62c37c5476caaa13e39638d353246fc342fed640-f6e9deb2fe58c430-01 outer:exit 2b-62c37c5476caaa13e39638d353246fc342fed640-51354d095508a610-01
2022-04-21T21:11:55.286Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:11:55.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdd16c1cf217381fa0aeb72c7488e1de304f65de-190a04d330fa41a6-01 outer:exit 2b-fdd16c1cf217381fa0aeb72c7488e1de304f65de-82c26cbc307351ae-01
2022-04-21T21:11:55.302Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:11:55.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-c64c35dc9e027fcc8ed07c8296abe5fb3a9c87c5-572cf0294558dc47-01 outer:exit 2b-c64c35dc9e027fcc8ed07c8296abe5fb3a9c87c5-50ee1e98a3cf089c-01
2022-04-21T21:11:55.341Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:11:55.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-19cf8fae74f944e1736e4788beabd5228c37c93a-ed2ff2bcc069ff10-01 outer:exit 2b-19cf8fae74f944e1736e4788beabd5228c37c93a-2b5c44eb72b53033-01
2022-04-21T21:11:55.344Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:11:55.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-6131f13faadbf4dd050036e7f6b2270c8373a41d-2fa35b29e05db80a-01 outer:exit 2b-6131f13faadbf4dd050036e7f6b2270c8373a41d-8f723429ab8c18e6-01
2022-04-21T21:11:55.346Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:11:55.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-053d80cb94976236187c0061f51181b8b32fbbf5-b0e51ce5b5063450-01 outer:exit 2b-053d80cb94976236187c0061f51181b8b32fbbf5-cff26d6e77424565-01
2022-04-21T21:11:55.349Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:11:55.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-edc9f1113523a3bca38b6c9b20d211a11371ed12-589df3403378ddc8-01 outer:exit 2b-edc9f1113523a3bca38b6c9b20d211a11371ed12-a42a264202a24bbe-01
2022-04-21T21:11:55.351Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:11:55.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-11984cd49d5645bfa3da6260003600872b211a97-4bdfa57b3268c0af-01 outer:exit 2b-11984cd49d5645bfa3da6260003600872b211a97-bb58fa453c22f896-01
2022-04-21T21:11:55.353Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:11:55.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f9c3d96abe383f5c8d356c5e00cb14afd2ab893-e4339729298deaf6-01 outer:exit 2b-4f9c3d96abe383f5c8d356c5e00cb14afd2ab893-d8c8719f2eaadc7a-01
2022-04-21T21:11:55.355Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:11:55.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2ead1d8a238a41faabb10cc7645bc45632c0060-ae3e673dc4518512-01 outer:exit 2b-f2ead1d8a238a41faabb10cc7645bc45632c0060-d21428b88f10045b-01
2022-04-21T21:11:55.357Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:11:55.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a8f1bf4589b8653646c85f56ad89992d44fba7a-2caae4c2b772ad74-01 outer:exit 2b-2a8f1bf4589b8653646c85f56ad89992d44fba7a-d553508ee78bcc52-01
2022-04-21T21:11:55.359Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:11:55.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-905905a1c91b4d290bd3710004a543ad6d046161-31fa23d9e9220abf-01 outer:exit 2b-905905a1c91b4d290bd3710004a543ad6d046161-1d77a8b0e9136372-01
2022-04-21T21:11:55.362Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:11:55.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-400f68d33fd19bf9d02c3809551a1686f4a5137a-086ef6e8ff97b5b0-01 outer:exit 2b-400f68d33fd19bf9d02c3809551a1686f4a5137a-124a2e20f0408c7a-01
2022-04-21T21:11:55.364Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:11:55.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-2037d74f8f6b69ee48d21e1d813d935f8c05b60e-15f239dc2e83371d-01 outer:exit 2b-2037d74f8f6b69ee48d21e1d813d935f8c05b60e-e6968e49476e1496-01
2022-04-21T21:11:55.367Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:11:55.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-020079cec655ca917f74baba615d3e1321baa473-a2cf29b5afc1827e-01 outer:exit 2b-020079cec655ca917f74baba615d3e1321baa473-6fdf46195dce51c7-01
2022-04-21T21:11:55.369Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:11:55.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-19557ce3b3ecf1fa4394d5a1ca8314bce66020ef-2151316fb3581dce-01 outer:exit 2b-19557ce3b3ecf1fa4394d5a1ca8314bce66020ef-4a79dbe92daf2792-01
2022-04-21T21:11:55.375Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:11:55.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-e562f8c26dcdb56bcd5f3c282097ed9fd97190ae-f2663aa8b08d1eb5-01 outer:exit 2b-e562f8c26dcdb56bcd5f3c282097ed9fd97190ae-ad692c05da869de9-01
2022-04-21T21:11:55.381Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:11:55.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-d02e8ac3ca9f7dc336a154ad8596ad167017b98e-db7ecaecd0ff0a28-01 outer:exit 2b-d02e8ac3ca9f7dc336a154ad8596ad167017b98e-5d80679ad746482a-01
2022-04-21T21:11:55.390Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:11:55.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d6a2672659b1240537019d6cc227c1df9766ee-4cf09767e846d581-01 outer:exit 2b-60d6a2672659b1240537019d6cc227c1df9766ee-b67884e0759fe433-01
2022-04-21T21:11:55.397Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:11:55.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-29fe844d1f0bd80d4b63182d9ead5225b5e91bad-7695f83c84d37f45-01 outer:exit 2b-29fe844d1f0bd80d4b63182d9ead5225b5e91bad-06c6906e6947a6db-01
2022-04-21T21:11:55.399Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:11:55.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5d99ae99bf5076bfdebf06b0e95833df437fcba-d4745db065a2d3e2-01 outer:exit 2b-b5d99ae99bf5076bfdebf06b0e95833df437fcba-c7f0733128f83871-01
2022-04-21T21:11:55.401Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:11:55.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-25341d73dafc779ff39d97685d1c3f211fc3f56b-f5ddd86c9c90e162-01 outer:exit 2b-25341d73dafc779ff39d97685d1c3f211fc3f56b-abe75775ef04979a-01
2022-04-21T21:11:55.409Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:11:55.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-4790842a7b2035346573df97d8ce36962b424a11-a1a08871fc1f9293-01 outer:exit 2b-4790842a7b2035346573df97d8ce36962b424a11-0249e51a7c212293-01
2022-04-21T21:11:55.411Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:11:55.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-5170f4265f9933843302d7fb3bf4cf56f9da4586-eaf39eefb379bfe8-01 outer:exit 2b-5170f4265f9933843302d7fb3bf4cf56f9da4586-f83b0530c6416147-01
2022-04-21T21:11:55.413Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:11:55.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa4bb5e2c4efffb04f02133dadd906209f01a03c-13dce2c98d912f07-01 outer:exit 2b-fa4bb5e2c4efffb04f02133dadd906209f01a03c-e721d6197478caca-01
2022-04-21T21:11:55.415Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:11:55.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c8c8642bacf32cb2f39d7b9b3a3bc220c75fe70-e8455b1d4d8a568e-01 outer:exit 2b-8c8c8642bacf32cb2f39d7b9b3a3bc220c75fe70-d590bbb3f44d32be-01
2022-04-21T21:11:55.416Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:11:55.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-07d607968bc136d78b33fdbd1682dc0e083c2484-df392299d0c8d392-01 outer:exit 2b-07d607968bc136d78b33fdbd1682dc0e083c2484-4e84cf87d7eb6ea6-01
2022-04-21T21:11:55.418Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:11:55.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-149e3f019ef411afff65ac8c072a985356f0cb5e-ef3d0a850e00b5f5-01 outer:exit 2b-149e3f019ef411afff65ac8c072a985356f0cb5e-34f7cce5dc387513-01
2022-04-21T21:11:55.427Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:11:55.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-828192f50b20c1e1f9ed7e1a5d0b1d377805edcc-23ef50828f9fff03-01 outer:exit 2b-828192f50b20c1e1f9ed7e1a5d0b1d377805edcc-18c503b04341408e-01
2022-04-21T21:11:55.436Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:11:55.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-b32f17c91d5f4f135e5ba5e48fbc4f66abaf1fdb-0ca975bb834629c2-01 outer:exit 2b-b32f17c91d5f4f135e5ba5e48fbc4f66abaf1fdb-849a5d5df3aa72fe-01
2022-04-21T21:11:55.438Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:11:55.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fdb4850f7127abdc7f8bf3be8ae53bfafe65ba0-7ab15a60cf7c010c-01 outer:exit 2b-2fdb4850f7127abdc7f8bf3be8ae53bfafe65ba0-2c14bfbe187e72a1-01
2022-04-21T21:11:55.441Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:11:55.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6f531a7e8256cbc619946f0f309521b932798f0-2459bd13113276be-01 outer:exit 2b-b6f531a7e8256cbc619946f0f309521b932798f0-e330d15285bf3f6d-01
2022-04-21T21:11:55.443Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:11:55.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-463b808b15e4346dac37a324d624184c71fe71cc-2746f16167f9d417-01 outer:exit 2b-463b808b15e4346dac37a324d624184c71fe71cc-f236aa8e43537ae0-01
2022-04-21T21:11:55.471Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (306ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:01.655Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:01.656Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:01.656Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:01.657Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:01.722Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:01.833Z appoptics:patching patched crypto 
2022-04-21T21:12:01.852Z appoptics:patching patched https 
2022-04-21T21:12:01.852Z appoptics:patching patched http 
2022-04-21T21:12:01.894Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:01.894Z appoptics:patching patched fs 
2022-04-21T21:12:01.917Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v18.0.0)
2022-04-21T21:12:01.922Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-21T21:12:01.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-9972f3f45f3b8a14886a6d3bf5bc6fcd0e151519-3be2a7ea440344cf-01 outer:exit 2b-9972f3f45f3b8a14886a6d3bf5bc6fcd0e151519-fdfe415e15f4bbfc-01
2022-04-21T21:12:01.966Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:02.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a0db9f9070b48f310e8b394558b6d56c75c4062-a889f8d5f148b02a-01 outer:exit 2b-7a0db9f9070b48f310e8b394558b6d56c75c4062-0b22a7971436f891-01
2022-04-21T21:12:02.012Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:02.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-39fd1efe6c93efd7fa1ebe9dd2c691d9fb391e4e-96a28c2d9b0e0d53-01 outer:exit 2b-39fd1efe6c93efd7fa1ebe9dd2c691d9fb391e4e-823cda16b6b2611c-01
2022-04-21T21:12:02.016Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:02.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-19ad916b92f7a57dda8990aa90892185f5938e23-0e0b00999800d20e-01 outer:exit 2b-19ad916b92f7a57dda8990aa90892185f5938e23-d6befadc6b5c6408-01
2022-04-21T21:12:02.019Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:02.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-08f8288e48119b334b5a61ed942fb2b90f2fb0f8-ce76247d2f1b12cd-01 outer:exit 2b-08f8288e48119b334b5a61ed942fb2b90f2fb0f8-77aff7d1996d20b7-01
2022-04-21T21:12:02.024Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:02.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9c03c0793a624e1231ef7d38ef514a79216e0e4-e91febdcdde0c867-01 outer:exit 2b-f9c03c0793a624e1231ef7d38ef514a79216e0e4-6302e8dd1d93f88b-01
2022-04-21T21:12:02.027Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:02.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-04f7563045f6bff6ed3fb808bb6a04fceecd399f-563bfdb936a84420-01 outer:exit 2b-04f7563045f6bff6ed3fb808bb6a04fceecd399f-aec68f0420475cc2-01
2022-04-21T21:12:02.029Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:02.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c827930d7f7fb8dee0535a921aa8dfff08e8b43-43343570d2bdab99-01 outer:exit 2b-8c827930d7f7fb8dee0535a921aa8dfff08e8b43-1efa75ddf61c2dfe-01
2022-04-21T21:12:02.032Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:02.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a37396115fa4cb7e6110fa79c229c2a1fdb6e4a-69706cd31fa85fad-01 outer:exit 2b-4a37396115fa4cb7e6110fa79c229c2a1fdb6e4a-c87336206c5da13a-01
2022-04-21T21:12:02.034Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:02.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-da1a8230c58c5fe4db0ef451de678fe891d04945-b420e6ce94780a96-01 outer:exit 2b-da1a8230c58c5fe4db0ef451de678fe891d04945-2dd18b698a314087-01
2022-04-21T21:12:02.037Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:02.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-14636da822898d2e2e6c87d23d4da709f4c05729-1e8a4563d784b18c-01 outer:exit 2b-14636da822898d2e2e6c87d23d4da709f4c05729-ffc1292b1d070ac4-01
2022-04-21T21:12:02.041Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:02.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-364e10e449f3a813914d8ee404225880fdef199d-58e63d103b70320b-01 outer:exit 2b-364e10e449f3a813914d8ee404225880fdef199d-6606c2fb0016b245-01
2022-04-21T21:12:02.047Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:02.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-3424cc37c636ab00cd97f62b84b4d65e399a4925-4f0be3f36d5d149a-01 outer:exit 2b-3424cc37c636ab00cd97f62b84b4d65e399a4925-ac3553a2318fd3b7-01
2022-04-21T21:12:02.065Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:02.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-12361ebf6b63f13f39ae64a1f753ce267d77713f-0fbd0f6b0e7f8fc7-01 outer:exit 2b-12361ebf6b63f13f39ae64a1f753ce267d77713f-fac9e77113fa0a39-01
2022-04-21T21:12:02.104Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:02.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-24540125699b3e4ab7660bd5792285aa95e68056-152ab5723a22e991-01 outer:exit 2b-24540125699b3e4ab7660bd5792285aa95e68056-8d9d9719a8441792-01
2022-04-21T21:12:02.107Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:02.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac2884e24ca9453aecf6784573bf465e16bf5317-c8418c7d0f0f6bb8-01 outer:exit 2b-ac2884e24ca9453aecf6784573bf465e16bf5317-218a38cc8416e047-01
2022-04-21T21:12:02.110Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:02.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-59669d4d8c06f4297f74170649cd388a83d8e160-e67aaca805e41718-01 outer:exit 2b-59669d4d8c06f4297f74170649cd388a83d8e160-b55493700ff4863f-01
2022-04-21T21:12:02.113Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:02.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-babc269f479d99a4c625571e3a7b3f7dfef925a7-b97916f20a6851eb-01 outer:exit 2b-babc269f479d99a4c625571e3a7b3f7dfef925a7-c5737ff29bf60452-01
2022-04-21T21:12:02.115Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:02.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a3ae46a3b27c125e830608b034a97457c58b6f6-06c69ff5bce080ff-01 outer:exit 2b-5a3ae46a3b27c125e830608b034a97457c58b6f6-7b67a100d0ae27b7-01
2022-04-21T21:12:02.117Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:02.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-e97469e6a8584ba41039c3413dab055671564843-7dbedc4cf5e6b6d5-01 outer:exit 2b-e97469e6a8584ba41039c3413dab055671564843-02dc7193017497ac-01
2022-04-21T21:12:02.119Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:02.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8f5b14d0e9a4510d626d30870c2f8adc0a8240c-2e5909eee898e5a9-01 outer:exit 2b-b8f5b14d0e9a4510d626d30870c2f8adc0a8240c-b3d7dc3fc0bc1266-01
2022-04-21T21:12:02.121Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:02.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-8117d8dd73efb821c06d07b0d21a1b5abeb9410a-713e724ce6b7d032-01 outer:exit 2b-8117d8dd73efb821c06d07b0d21a1b5abeb9410a-b3e50d7bb56bbbbe-01
2022-04-21T21:12:02.123Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:02.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eda96f370d20933500ab48b96aa34141d9254df-473a8d36202b2061-01 outer:exit 2b-1eda96f370d20933500ab48b96aa34141d9254df-1f2e25295aa334e8-01
2022-04-21T21:12:02.125Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:02.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ec1cc0ec58fe5cf6db9b1ced1e937ee8233d576-cd8083a46395f619-01 outer:exit 2b-3ec1cc0ec58fe5cf6db9b1ced1e937ee8233d576-eddd02d6fea57a8f-01
2022-04-21T21:12:02.128Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:02.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-88f0ece4af0912a8ffcdbc28cf12e7eecab15cc9-cf3d6a25eba94fdf-01 outer:exit 2b-88f0ece4af0912a8ffcdbc28cf12e7eecab15cc9-c9bfcbb01d8f4302-01
2022-04-21T21:12:02.130Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:02.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d8e405f793203eb7eef5f2f25d64ffea1309024-dd7f275fd7b6f501-01 outer:exit 2b-4d8e405f793203eb7eef5f2f25d64ffea1309024-48617efec5dd4572-01
2022-04-21T21:12:02.132Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:02.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d352f488564c13830f82e012902d2a705542ae3-6a59c1b8154b4d3d-01 outer:exit 2b-2d352f488564c13830f82e012902d2a705542ae3-cd5729a822a87fb4-01
2022-04-21T21:12:02.138Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:02.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-f656cfd8bd4f0e661461aca5652ce675cafc85a3-4682f193252d25b6-01 outer:exit 2b-f656cfd8bd4f0e661461aca5652ce675cafc85a3-f73f94e77647c0e3-01
2022-04-21T21:12:02.144Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:02.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dd15e42fde2c4542108b2d5e731df7c94d9edd3-28590234303e0072-01 outer:exit 2b-0dd15e42fde2c4542108b2d5e731df7c94d9edd3-26636a10ca0894fe-01
2022-04-21T21:12:02.152Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:02.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a3448c00f23276c0b62941c9dccb6ad61f2af8-bb2bf38852e0b6d8-01 outer:exit 2b-c0a3448c00f23276c0b62941c9dccb6ad61f2af8-e10ccf34818236c9-01
2022-04-21T21:12:02.158Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:02.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd1c548e4117ec47308fe5219ce3f632dd63d8d6-487006701ca4e354-01 outer:exit 2b-cd1c548e4117ec47308fe5219ce3f632dd63d8d6-5027f3fa71b741ca-01
2022-04-21T21:12:02.160Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:02.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-39fcd709bc82c3bbfaec2747fd423194ac723a2a-7dd376927fe66779-01 outer:exit 2b-39fcd709bc82c3bbfaec2747fd423194ac723a2a-be6ca2998f313d95-01
2022-04-21T21:12:02.162Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:02.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1ce7d6099b8dc7397800edd44aa870915808708-90af5ea6911617d6-01 outer:exit 2b-b1ce7d6099b8dc7397800edd44aa870915808708-4f70a5081e58af69-01
2022-04-21T21:12:02.168Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:02.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-72ad08cd1b7bb572bb2c5e13273c924dbce4d687-3366cf77b7386220-01 outer:exit 2b-72ad08cd1b7bb572bb2c5e13273c924dbce4d687-2ed77bb851bdbd6a-01
2022-04-21T21:12:02.170Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:02.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbef18153110f803e10a71b22b77b045586ef3ce-687a7e1d62ca289c-01 outer:exit 2b-dbef18153110f803e10a71b22b77b045586ef3ce-a515e81862cf5c41-01
2022-04-21T21:12:02.172Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:02.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b4427203d188d6d86863dbc2af25c35f5cab57d-da2e08324cb2a8ea-01 outer:exit 2b-5b4427203d188d6d86863dbc2af25c35f5cab57d-054b37f6f75153e2-01
2022-04-21T21:12:02.174Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:02.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca2ec4c16d448cc36b68f2e8a239916f8d1d3ff1-b278770e26868c21-01 outer:exit 2b-ca2ec4c16d448cc36b68f2e8a239916f8d1d3ff1-306daee41ed2a16a-01
2022-04-21T21:12:02.175Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:02.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-f23ae9ccc7859397366cc5ec882f0885dfdf354e-8eb290c62021a3ef-01 outer:exit 2b-f23ae9ccc7859397366cc5ec882f0885dfdf354e-17954f1b3820aecb-01
2022-04-21T21:12:02.177Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:02.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec33ea5669f8b987052e9cd89284e10bce9d447c-d0bd23682d07726b-01 outer:exit 2b-ec33ea5669f8b987052e9cd89284e10bce9d447c-0710888f7f673175-01
2022-04-21T21:12:02.185Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:02.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9467b665931d0a4d046e1edb05332c750c7026c-22ed4c2c86a346f5-01 outer:exit 2b-f9467b665931d0a4d046e1edb05332c750c7026c-1d578358f52aad5a-01
2022-04-21T21:12:02.193Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:02.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c02ac56bcb5ceadb87421bfc8497cdd292b542-f97197bde3119017-01 outer:exit 2b-69c02ac56bcb5ceadb87421bfc8497cdd292b542-fae893afd6c016ec-01
2022-04-21T21:12:02.195Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:02.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4ec9b30c68b13613793d2cfb1fa0dd24a2d01c2-7038c72479a85bac-01 outer:exit 2b-d4ec9b30c68b13613793d2cfb1fa0dd24a2d01c2-6558c6b64f46073d-01
2022-04-21T21:12:02.198Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:02.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-41ffe0b708532bf198f1d3a6ab3b2f9ecb425d73-e1ea1d1e1dcc0e51-01 outer:exit 2b-41ffe0b708532bf198f1d3a6ab3b2f9ecb425d73-9936947165b40034-01
2022-04-21T21:12:02.200Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:02.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-341e828d3aa6c44e00ac1df8b2f44a265bf7ab6c-1a12cb5a0e80a423-01 outer:exit 2b-341e828d3aa6c44e00ac1df8b2f44a265bf7ab6c-344f547b8c426111-01
2022-04-21T21:12:02.228Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (302ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:09.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:09.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:09.013Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:09.013Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:09.086Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:09.226Z appoptics:patching patched crypto 
2022-04-21T21:12:09.245Z appoptics:patching patched https 
2022-04-21T21:12:09.245Z appoptics:patching patched http 
2022-04-21T21:12:09.287Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:09.288Z appoptics:patching patched fs 
2022-04-21T21:12:09.310Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v18.0.0)
2022-04-21T21:12:09.318Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-21T21:12:09.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1f9c971d7df095d1ddf9ebce12de4bad75368ef-64c4576276f4ed24-01 outer:exit 2b-a1f9c971d7df095d1ddf9ebce12de4bad75368ef-4c04638d9eb539d9-01
2022-04-21T21:12:09.365Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:09.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-62cb09201ce1f73349bd2e2ecfd23380a6ce80d0-917b82c1c51cbe4a-01 outer:exit 2b-62cb09201ce1f73349bd2e2ecfd23380a6ce80d0-8e483da7b6ddd797-01
2022-04-21T21:12:09.411Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:09.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-54a50a2284ab1c9b0fc6fe870bd19a210cdc3f75-6528c7184f69184e-01 outer:exit 2b-54a50a2284ab1c9b0fc6fe870bd19a210cdc3f75-d4a7a800b0218e37-01
2022-04-21T21:12:09.415Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:09.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-22ded323dd302d01cec850d8e3aaaf62f97035ba-3d86b3bfd1c75d63-01 outer:exit 2b-22ded323dd302d01cec850d8e3aaaf62f97035ba-663757487d78cfba-01
2022-04-21T21:12:09.418Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:09.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-be0d6c99c990f31caf7c6fdd24b19580ff62556d-e79bb2d54094dd42-01 outer:exit 2b-be0d6c99c990f31caf7c6fdd24b19580ff62556d-69fb5b28f44f7371-01
2022-04-21T21:12:09.422Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:09.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f2b45d29899e811aa8faa5d1c96947b6b4e81f1-9e97c2e346108704-01 outer:exit 2b-5f2b45d29899e811aa8faa5d1c96947b6b4e81f1-8818a2b2c4720658-01
2022-04-21T21:12:09.425Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:09.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f2bd06535a66102cd46a7e7a6145508111e1572-b653a1c0ac5d3cc0-01 outer:exit 2b-2f2bd06535a66102cd46a7e7a6145508111e1572-f2d78b3e63fb66c0-01
2022-04-21T21:12:09.428Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:09.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-b66cc33c553ba02e77c8bcd1b9bccfb951d59132-79083ca630724921-01 outer:exit 2b-b66cc33c553ba02e77c8bcd1b9bccfb951d59132-819dbe54ad09648c-01
2022-04-21T21:12:09.431Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:09.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-b431adc7f2872c4960335eae05a87288e503bffa-7d3d78e330d3326c-01 outer:exit 2b-b431adc7f2872c4960335eae05a87288e503bffa-088a96d98c58e071-01
2022-04-21T21:12:09.433Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:09.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-117e23c82f86a0106303487fcc2626b37fb73994-65020365272f09cf-01 outer:exit 2b-117e23c82f86a0106303487fcc2626b37fb73994-b7cdf050b492b10e-01
2022-04-21T21:12:09.436Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:09.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a29f7f331b8d917d022e5a32e6047154020c48-64dac9963301b1ef-01 outer:exit 2b-53a29f7f331b8d917d022e5a32e6047154020c48-9d9c5e25f7a3b51d-01
2022-04-21T21:12:09.453Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:09.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1a11d92eaa1f3d57549bff6482be73878858e74-976491d52fb4326c-01 outer:exit 2b-c1a11d92eaa1f3d57549bff6482be73878858e74-f01903a62098d47f-01
2022-04-21T21:12:09.462Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:09.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-a99cb03853b7b4ec1f14f8eb0afcea4a62a3e693-cc95b8dc655a648f-01 outer:exit 2b-a99cb03853b7b4ec1f14f8eb0afcea4a62a3e693-8547c18da22b7a6d-01
2022-04-21T21:12:09.481Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:09.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-2432a88a1558dc527791e44e40745e6dd963079b-f38fa1a6209b3535-01 outer:exit 2b-2432a88a1558dc527791e44e40745e6dd963079b-48bb1be14ea0b09e-01
2022-04-21T21:12:09.522Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:09.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-304829ba5f51902992627857cdf641c51abf8a41-32664ee654c32d0d-01 outer:exit 2b-304829ba5f51902992627857cdf641c51abf8a41-c9c429e43806dc07-01
2022-04-21T21:12:09.525Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:09.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5f7077af9bf63984dbcc23cdc120bb03541e464-3c13f34e870b8aa3-01 outer:exit 2b-e5f7077af9bf63984dbcc23cdc120bb03541e464-09b2e577da854dd4-01
2022-04-21T21:12:09.528Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:09.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e9757a6380f832b95cd61233a12fcddc4baa87f-a7988638a5c08063-01 outer:exit 2b-5e9757a6380f832b95cd61233a12fcddc4baa87f-1f262ce572aac176-01
2022-04-21T21:12:09.531Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:09.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-61a2857517d3c52523d6e9d541b803c9c76e14b6-7d2c4c931c7f7c3a-01 outer:exit 2b-61a2857517d3c52523d6e9d541b803c9c76e14b6-08e56e9447e7f755-01
2022-04-21T21:12:09.533Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:09.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d66864c58c0ddd1114d32c439fa1c791af4e7cb-1bd77ee8b3ec6e59-01 outer:exit 2b-3d66864c58c0ddd1114d32c439fa1c791af4e7cb-c25c0352f0bdfd9f-01
2022-04-21T21:12:09.537Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:09.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-44043d4fef6f681fd13589947ba0837f97c3cb8b-1bbf9d53e5c5a872-01 outer:exit 2b-44043d4fef6f681fd13589947ba0837f97c3cb8b-8cd7a024b75bac30-01
2022-04-21T21:12:09.539Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:09.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e249df041a9c8f7f3defbe33ab338804a22fe0e-c7e5a866ec6415b7-01 outer:exit 2b-6e249df041a9c8f7f3defbe33ab338804a22fe0e-0b6f5821c3ad4d79-01
2022-04-21T21:12:09.540Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:09.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e6b2fe0f8a2dbd67eac713c616d2f2c4d8ed27c-547b1a3f3942a1bc-01 outer:exit 2b-1e6b2fe0f8a2dbd67eac713c616d2f2c4d8ed27c-09d0a0f70d574772-01
2022-04-21T21:12:09.542Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:09.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ca80bed8956efe3ba99b881366dbaabcbc2197e-f5dabe8d3ea71122-01 outer:exit 2b-2ca80bed8956efe3ba99b881366dbaabcbc2197e-df82a5b102aa95a8-01
2022-04-21T21:12:09.545Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:09.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-76a30cf7ec8e656753fcb6ac52e81db79f4505f1-8d5c7a3d31a0a886-01 outer:exit 2b-76a30cf7ec8e656753fcb6ac52e81db79f4505f1-364fb2d374a54af1-01
2022-04-21T21:12:09.548Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:09.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8b678f3d5a6ad78032f642cc9d4e31e4d5f0cc1-2e4afd2909e976b9-01 outer:exit 2b-d8b678f3d5a6ad78032f642cc9d4e31e4d5f0cc1-d6c23f9d43e0eebd-01
2022-04-21T21:12:09.550Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:09.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-0648ba42c3b8ea30c7ea1c77ca3b50a124fde509-5fe9908adaf0d0fb-01 outer:exit 2b-0648ba42c3b8ea30c7ea1c77ca3b50a124fde509-af6506240e8d71af-01
2022-04-21T21:12:09.552Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:09.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9640a95e8b2cd5443389edef8eb98429a89761c-0271b754982b2169-01 outer:exit 2b-d9640a95e8b2cd5443389edef8eb98429a89761c-11733d486f897261-01
2022-04-21T21:12:09.558Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:09.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6485a2a92bf9619b1039e8707588740cedbd985-b925c10751d15a3b-01 outer:exit 2b-c6485a2a92bf9619b1039e8707588740cedbd985-f0629e609315d2e8-01
2022-04-21T21:12:09.565Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:09.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-7976a86ed6777ca2896cbc22e9f0346d7fbe04fc-31335062c111c9e6-01 outer:exit 2b-7976a86ed6777ca2896cbc22e9f0346d7fbe04fc-10ffe77945723175-01
2022-04-21T21:12:09.573Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:09.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e12a4bc5bc04ab34fb87fdd169f07627a37da77-482215090030aa39-01 outer:exit 2b-6e12a4bc5bc04ab34fb87fdd169f07627a37da77-0ad8135e1c55c066-01
2022-04-21T21:12:09.580Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:09.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9bc8eb99d6d48d7dd1c1e1f9f528b8f11ccc8e3-e331f1ff66a6de9f-01 outer:exit 2b-f9bc8eb99d6d48d7dd1c1e1f9f528b8f11ccc8e3-568cc3d925f455e1-01
2022-04-21T21:12:09.582Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:09.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ec6dae4cf3ef51e33677fd44b5cbf2ef7285326-b9963d8d65437fe7-01 outer:exit 2b-5ec6dae4cf3ef51e33677fd44b5cbf2ef7285326-5e3059816f5fef6d-01
2022-04-21T21:12:09.585Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:09.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-6257a7a1a282f47724fa6f3b290c0bde50527d70-a57cf1ac25694690-01 outer:exit 2b-6257a7a1a282f47724fa6f3b290c0bde50527d70-c13dc593ef0de612-01
2022-04-21T21:12:09.592Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:09.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-25f4cce428619f6407e3a8eca1c9acf85c21dbae-aeeec51f3df0155e-01 outer:exit 2b-25f4cce428619f6407e3a8eca1c9acf85c21dbae-4115a91ff5aaf645-01
2022-04-21T21:12:09.594Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:09.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dd1713686d77f2b80871f4519d503deba7275bd-86a70e154c96fd0c-01 outer:exit 2b-8dd1713686d77f2b80871f4519d503deba7275bd-59357a1d80e23b8f-01
2022-04-21T21:12:09.596Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:09.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-7762bc493d0e56f946033aa5cc58eed17857f637-9fe0cde463984a9b-01 outer:exit 2b-7762bc493d0e56f946033aa5cc58eed17857f637-3205078efa6021e8-01
2022-04-21T21:12:09.598Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:09.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ac668801f9f9d798e5f4db7894b911254e89dd3-2d191000c9f4b230-01 outer:exit 2b-6ac668801f9f9d798e5f4db7894b911254e89dd3-48d245a84191033f-01
2022-04-21T21:12:09.599Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:09.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-0df708918aebc01683266e74280748d2c01bb887-0fe61afbf66f4f4e-01 outer:exit 2b-0df708918aebc01683266e74280748d2c01bb887-c3303b0e42469f47-01
2022-04-21T21:12:09.601Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:09.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d059863bc44067687abe030025789dbb77081de-f2a18600de6a166b-01 outer:exit 2b-6d059863bc44067687abe030025789dbb77081de-7e439edac0e959ee-01
2022-04-21T21:12:09.611Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:09.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-de9672535f2f7fb620d30806c28cf2c8f8ec602f-063ed4e7e762e141-01 outer:exit 2b-de9672535f2f7fb620d30806c28cf2c8f8ec602f-43073198cf7786aa-01
2022-04-21T21:12:09.619Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:09.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-c526d2c3dea6081fbc16b8fb09c400c735a77b63-0626b7c40f0cbf55-01 outer:exit 2b-c526d2c3dea6081fbc16b8fb09c400c735a77b63-c9fec834e49ca9e7-01
2022-04-21T21:12:09.622Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:09.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-402c77fd8c13f1a39f71ef7ce7265fe5bd23f04b-5151940b42376a04-01 outer:exit 2b-402c77fd8c13f1a39f71ef7ce7265fe5bd23f04b-cffee14702ddee56-01
2022-04-21T21:12:09.624Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:09.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb8f783365f8f0321ba70b25e1a83597b24252ea-51bf75db38e8e166-01 outer:exit 2b-bb8f783365f8f0321ba70b25e1a83597b24252ea-4edb8204cecd05d8-01
2022-04-21T21:12:09.628Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:09.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-197262347a848a966ed53369712a6d79c22a0c68-19caea09ce994b36-01 outer:exit 2b-197262347a848a966ed53369712a6d79c22a0c68-99334552cca12d1b-01
2022-04-21T21:12:09.656Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (333ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:16.086Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:16.087Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:16.087Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:16.087Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:16.150Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:16.294Z appoptics:patching patched crypto 
2022-04-21T21:12:16.343Z appoptics:patching patched https 
2022-04-21T21:12:16.344Z appoptics:patching patched http 
2022-04-21T21:12:16.389Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:16.389Z appoptics:patching patched fs 
2022-04-21T21:12:16.417Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v18.0.0)
2022-04-21T21:12:16.423Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-21T21:12:16.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-8260fc7a22e73b04e8f7d5bc413e8803d3f11a25-a642770d10bdee62-01 outer:exit 2b-8260fc7a22e73b04e8f7d5bc413e8803d3f11a25-8e069f12f07aaf92-01
2022-04-21T21:12:16.480Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:16.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-8145d787cbbedd48d9ece889f3aacb2595fd8aa1-a1a49f9982a523c5-01 outer:exit 2b-8145d787cbbedd48d9ece889f3aacb2595fd8aa1-bb151f8d9e3a1cf5-01
2022-04-21T21:12:16.534Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:16.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-47094cbff47b66d2fe80dc3beb0f38b091a386da-8287a1edb9a977ab-01 outer:exit 2b-47094cbff47b66d2fe80dc3beb0f38b091a386da-cc54942b46a7c705-01
2022-04-21T21:12:16.539Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:16.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-bff6e89865366dccb4bf54e0ed2dd9fbaac36ff4-a3a61d69bc99957d-01 outer:exit 2b-bff6e89865366dccb4bf54e0ed2dd9fbaac36ff4-58d15b8436e7024a-01
2022-04-21T21:12:16.542Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:16.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-5841bf7f7a6d82a395b146ce073492fab05cedec-14663c979b87949c-01 outer:exit 2b-5841bf7f7a6d82a395b146ce073492fab05cedec-e7f03ddaf00203cc-01
2022-04-21T21:12:16.549Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:16.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-453e138f1c45b21700d15f0cde592d8fe4f710d3-6a47fda67559905a-01 outer:exit 2b-453e138f1c45b21700d15f0cde592d8fe4f710d3-81e6389d7936c15c-01
2022-04-21T21:12:16.555Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:16.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-c64c106f8448b23d01c414db35779fe19d2feb43-829748e303bf872d-01 outer:exit 2b-c64c106f8448b23d01c414db35779fe19d2feb43-821f861b8496bbb9-01
2022-04-21T21:12:16.558Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:16.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-36f68120eb7550e7b51418e625e48317c8a8bb2e-13b79b8c00063591-01 outer:exit 2b-36f68120eb7550e7b51418e625e48317c8a8bb2e-44c7ac7b11842b5f-01
2022-04-21T21:12:16.561Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:16.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-61f9d16f2baf3ae0754c7fec57550b89b5594c6c-ca0bcfa7755fe124-01 outer:exit 2b-61f9d16f2baf3ae0754c7fec57550b89b5594c6c-fd0d1679c226fd59-01
2022-04-21T21:12:16.565Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:16.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-39fb43139036e2531e2fe5015bf04ed06d84b0dd-3195ceb8bf811348-01 outer:exit 2b-39fb43139036e2531e2fe5015bf04ed06d84b0dd-8dee9df1840b3053-01
2022-04-21T21:12:16.569Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:16.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-877732077c437c8a96335aca9d6293e8405170c5-c1548dd2b9d81457-01 outer:exit 2b-877732077c437c8a96335aca9d6293e8405170c5-7abaec0cbf73d33a-01
2022-04-21T21:12:16.573Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:16.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6f6cdb77c13750f054ee1b4c60511be5400e2e8-743fdb887d674bbd-01 outer:exit 2b-b6f6cdb77c13750f054ee1b4c60511be5400e2e8-32897f8fe6545bad-01
2022-04-21T21:12:16.600Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:16.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-461fb491b4814b2b1ea0a53da58e62fe7849496b-3c784c64bd351755-01 outer:exit 2b-461fb491b4814b2b1ea0a53da58e62fe7849496b-a2bfdc399ea92d23-01
2022-04-21T21:12:16.621Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:16.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-d14ec561f756c0ceee93eb0bde8af1f77c81e64c-bb611ba037cf13e9-01 outer:exit 2b-d14ec561f756c0ceee93eb0bde8af1f77c81e64c-bcf717991b2c0b0a-01
2022-04-21T21:12:16.664Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:16.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-10d87651bd6ae9fb4701e1840bfd34af35385cfc-9809c6e351e9e7ee-01 outer:exit 2b-10d87651bd6ae9fb4701e1840bfd34af35385cfc-2f0a1309b0c53454-01
2022-04-21T21:12:16.668Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:16.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e91ab6c16f1ef8a14cf198e3833d10ed8569813-b0f6c0fabe4e23ad-01 outer:exit 2b-8e91ab6c16f1ef8a14cf198e3833d10ed8569813-d7dfa52d60463281-01
2022-04-21T21:12:16.671Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:16.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2eab2061904a277fcb2883fbaadf2d9b32f9b97-0f0b9591aec0d3e7-01 outer:exit 2b-c2eab2061904a277fcb2883fbaadf2d9b32f9b97-be29d929fab45f5a-01
2022-04-21T21:12:16.675Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:16.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecf9b2069510007fadf61567c1a05ce506e745ed-8e10ce22c3f1b824-01 outer:exit 2b-ecf9b2069510007fadf61567c1a05ce506e745ed-9a8d619dbaaf3ca4-01
2022-04-21T21:12:16.678Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:16.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-d292602ae5c5c5319f224d2b8cf9d65173398ef6-82557a347a0aa2b3-01 outer:exit 2b-d292602ae5c5c5319f224d2b8cf9d65173398ef6-65d1d95383b6d28d-01
2022-04-21T21:12:16.680Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:16.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-f15240fec998519e5c6cc79f580c66a6e9785541-217deacb53c24858-01 outer:exit 2b-f15240fec998519e5c6cc79f580c66a6e9785541-96291ca43eaee51f-01
2022-04-21T21:12:16.682Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:16.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7446d6fe70616ad233fd2fb5a45b9754546e395-d7e5d94eb60d0b23-01 outer:exit 2b-d7446d6fe70616ad233fd2fb5a45b9754546e395-e21ece9cdeffeab5-01
2022-04-21T21:12:16.684Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:16.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff5d9640b5fb33b6d3f84e529c0eb2ccc18cd8e7-53760776107b6934-01 outer:exit 2b-ff5d9640b5fb33b6d3f84e529c0eb2ccc18cd8e7-b83c49386998ebc7-01
2022-04-21T21:12:16.686Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:16.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f2b72e73e2d1a9c807e19190236086deb2200e3-8e3c075a3809ddec-01 outer:exit 2b-9f2b72e73e2d1a9c807e19190236086deb2200e3-77f7bbc2497c7455-01
2022-04-21T21:12:16.690Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:16.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-77c7bad867faff9528a25280934f64ed9d2bc886-833859991cf67b60-01 outer:exit 2b-77c7bad867faff9528a25280934f64ed9d2bc886-817f86352eeef1c4-01
2022-04-21T21:12:16.693Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:16.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-d95363fee0520dc2340a485b7a775cff569f5c8b-f52011d6920a17d4-01 outer:exit 2b-d95363fee0520dc2340a485b7a775cff569f5c8b-6984740a301ca8e0-01
2022-04-21T21:12:16.696Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:16.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-23a00b26ee49767baf343ccb5c319e3ebcc27a8e-bed346caf9f175c0-01 outer:exit 2b-23a00b26ee49767baf343ccb5c319e3ebcc27a8e-a9e0ba2656767dc6-01
2022-04-21T21:12:16.699Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:16.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbc9f63c410a3a07e51859ca25f6828e16b43d42-1b36d21ef86a269a-01 outer:exit 2b-cbc9f63c410a3a07e51859ca25f6828e16b43d42-ce5adcf53a640027-01
2022-04-21T21:12:16.720Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:16.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f3a8ba58e0a331cc890feeddb01012ccdf5a91e-53124cee6e52a135-01 outer:exit 2b-6f3a8ba58e0a331cc890feeddb01012ccdf5a91e-63f6514a929d11aa-01
2022-04-21T21:12:16.740Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:16.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-91085c8661f989caf2c91143e9c79af9edcb342a-80464f19481093bf-01 outer:exit 2b-91085c8661f989caf2c91143e9c79af9edcb342a-4b8337ebce874fce-01
2022-04-21T21:12:16.752Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:16.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-d156bee557b4af92b4226d1f931d8114216982ae-445eecb2689d1b4d-01 outer:exit 2b-d156bee557b4af92b4226d1f931d8114216982ae-bb9863ec84b1a869-01
2022-04-21T21:12:16.760Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:16.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-23ab9a6736d5cfd992c5d8e450a084fff3a8aa06-34d182cf2487091f-01 outer:exit 2b-23ab9a6736d5cfd992c5d8e450a084fff3a8aa06-7aac61300602698f-01
2022-04-21T21:12:16.762Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:16.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-292763b603ea392bb0947d1ac665c569f5c7248a-2215a308db3789ae-01 outer:exit 2b-292763b603ea392bb0947d1ac665c569f5c7248a-51091e496aea36f1-01
2022-04-21T21:12:16.766Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:16.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-338cd0acdd3376c8d5704793eb0e2fdc684ba834-bfba8887d2ec76fc-01 outer:exit 2b-338cd0acdd3376c8d5704793eb0e2fdc684ba834-733d72847ba7854c-01
2022-04-21T21:12:16.774Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:16.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-d782a7082769f4efb1ed088a6e521c768bebaaa6-f000d0e3aec3a778-01 outer:exit 2b-d782a7082769f4efb1ed088a6e521c768bebaaa6-3a4ddca1307891d1-01
2022-04-21T21:12:16.777Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:16.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff6fd5664f8f6df5104d73db10d3fd7b8df8d5c5-ad3563888841d82a-01 outer:exit 2b-ff6fd5664f8f6df5104d73db10d3fd7b8df8d5c5-c9f0f87d104b5e62-01
2022-04-21T21:12:16.780Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:16.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e319519425fabf3a1dcb19250b8db05280f81ce-683a3df5ee143eb1-01 outer:exit 2b-1e319519425fabf3a1dcb19250b8db05280f81ce-9d37cc26d2d347d9-01
2022-04-21T21:12:16.783Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:16.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f30eae4d3de804b4e8af0770ad37f8240cd9cc3-0eec27fc767ff401-01 outer:exit 2b-1f30eae4d3de804b4e8af0770ad37f8240cd9cc3-f5c2d530168fe79a-01
2022-04-21T21:12:16.786Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:16.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-52e5552c85b6a64f50a8dcf6e3795cae6ba81716-e4304ac2a9f67a62-01 outer:exit 2b-52e5552c85b6a64f50a8dcf6e3795cae6ba81716-53037a5fd393f038-01
2022-04-21T21:12:16.789Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:16.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-98f95c2bada74abd2f46010512d734d8a23c5f3d-05e9a99f4740c786-01 outer:exit 2b-98f95c2bada74abd2f46010512d734d8a23c5f3d-a6db8bb2275f64d9-01
2022-04-21T21:12:16.807Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:16.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4159a4ec0d72ede23a45b24fe7035e6da272693-572ec3a474b45fc5-01 outer:exit 2b-f4159a4ec0d72ede23a45b24fe7035e6da272693-1f0540039eb2f7ab-01
2022-04-21T21:12:16.818Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:16.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0a1645164d64b501a0ce32d2fa68c002b5a0302-2fdb159015310254-01 outer:exit 2b-e0a1645164d64b501a0ce32d2fa68c002b5a0302-25214794cef90101-01
2022-04-21T21:12:16.822Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:16.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-95f80e3f3380175d24a5fe2534bde5b1325aae48-d5345e77a84c6ed3-01 outer:exit 2b-95f80e3f3380175d24a5fe2534bde5b1325aae48-dc6c3a35e847950d-01
2022-04-21T21:12:16.824Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:16.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-c66d1743e5cd4c4cde0cb19bdfa6de7909084460-353a8db4efb5fab7-01 outer:exit 2b-c66d1743e5cd4c4cde0cb19bdfa6de7909084460-97d95d9a3d2ab446-01
2022-04-21T21:12:16.841Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:16.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3335b21e55ba69764d1daa39ee19b97597ec5a0-a8b56a9b54160d70-01 outer:exit 2b-e3335b21e55ba69764d1daa39ee19b97597ec5a0-45dc1287f7a86b8d-01
2022-04-21T21:12:16.873Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (443ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:23.221Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:23.221Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:23.221Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:23.222Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:23.282Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:23.396Z appoptics:patching patched crypto 
2022-04-21T21:12:23.414Z appoptics:patching patched https 
2022-04-21T21:12:23.415Z appoptics:patching patched http 
2022-04-21T21:12:23.459Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:23.459Z appoptics:patching patched fs 
2022-04-21T21:12:23.482Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v18.0.0)
2022-04-21T21:12:23.488Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-21T21:12:23.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-88dd54f07ce5bf4806bd48996c737e58480a576f-ebcbb58df0c55485-01 outer:exit 2b-88dd54f07ce5bf4806bd48996c737e58480a576f-8f59f1044cbe440e-01
2022-04-21T21:12:23.561Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:23.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-2421a1e0bf77579e3a6d7753199352b389aaca3c-7be5fbe732b126c8-01 outer:exit 2b-2421a1e0bf77579e3a6d7753199352b389aaca3c-9bce249751db4ca0-01
2022-04-21T21:12:23.605Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:23.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9304ce3a99352f9d84fdc74c3307fc05707017-44939c5ffe552dcd-01 outer:exit 2b-dd9304ce3a99352f9d84fdc74c3307fc05707017-23e46c2e88e9bbfe-01
2022-04-21T21:12:23.609Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:23.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be57aee5f3c3b76a5731b406283ba99cedef4c6-ef0cf7156b409dd9-01 outer:exit 2b-6be57aee5f3c3b76a5731b406283ba99cedef4c6-1459c1c9fc7806a0-01
2022-04-21T21:12:23.612Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:23.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb4c2075293cc1129b07b3379d8fb6c72f05eefa-315c869588ce7132-01 outer:exit 2b-fb4c2075293cc1129b07b3379d8fb6c72f05eefa-6849fa2107ada17b-01
2022-04-21T21:12:23.617Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:23.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-80943f4606db7174178e44f4427f313a4c2acb0b-d8ded8377790c4a4-01 outer:exit 2b-80943f4606db7174178e44f4427f313a4c2acb0b-b13c1896fc443a40-01
2022-04-21T21:12:23.620Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:23.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-3820a6d75c340a770ee8bab79915c2e2c936ef0e-ce69436ceb235fb1-01 outer:exit 2b-3820a6d75c340a770ee8bab79915c2e2c936ef0e-ed27727ff6cd965d-01
2022-04-21T21:12:23.622Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:23.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-250e372eab55065226a22e218524854a8d956aec-32e7fa3a6466aae9-01 outer:exit 2b-250e372eab55065226a22e218524854a8d956aec-73c090e5040cdd4d-01
2022-04-21T21:12:23.624Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:23.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7573a7cea318b1cf5e5b010c8e997037fe42b9f-5214b8023b1d98bd-01 outer:exit 2b-b7573a7cea318b1cf5e5b010c8e997037fe42b9f-209850c91f1ab656-01
2022-04-21T21:12:23.627Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:23.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-b961c14eb80bfb49edf64cb9e7795f33dfeb4849-9669b0b716a37b4f-01 outer:exit 2b-b961c14eb80bfb49edf64cb9e7795f33dfeb4849-a7da85bcfc1bcf1e-01
2022-04-21T21:12:23.630Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:23.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-629c8ca348b1d76f7f17841344f101b4418e4894-c61ec25c5419a7cd-01 outer:exit 2b-629c8ca348b1d76f7f17841344f101b4418e4894-8ea89b5a59d438ec-01
2022-04-21T21:12:23.633Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:23.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c409a2cbdc15bbf07f1c3ea8ac41e9755bee33f-da7233f8446d5dcd-01 outer:exit 2b-3c409a2cbdc15bbf07f1c3ea8ac41e9755bee33f-6c856a8560b04d2e-01
2022-04-21T21:12:23.642Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:23.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e355278afbcd1c4553640612185c87c9ddfca1a-5901e40c59de5256-01 outer:exit 2b-7e355278afbcd1c4553640612185c87c9ddfca1a-c3eda42d226e07ab-01
2022-04-21T21:12:23.658Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:23.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a07c329e457cbe205cb5567fc38469cafa899af-b4ecc20bb6391ff8-01 outer:exit 2b-9a07c329e457cbe205cb5567fc38469cafa899af-35f179f1ce370aa9-01
2022-04-21T21:12:23.699Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:23.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-12313b82947f5fac00043e0216b30d80fb13b0d5-8469ccd6af32b40d-01 outer:exit 2b-12313b82947f5fac00043e0216b30d80fb13b0d5-288657dfaf290ef3-01
2022-04-21T21:12:23.702Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:23.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-04ca708dee10ac6b5217f522e4e1355223a8607c-452933fc6ea29568-01 outer:exit 2b-04ca708dee10ac6b5217f522e4e1355223a8607c-59f6929a3f474bb8-01
2022-04-21T21:12:23.704Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:23.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e7e023502704048e528e5dce563a325345ff21d-8113541ca3dd7063-01 outer:exit 2b-7e7e023502704048e528e5dce563a325345ff21d-eb1294ece76f0cee-01
2022-04-21T21:12:23.707Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:23.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-27c9ac619e291b4eebadfed321a64fe30bec78fe-544c77abd223425f-01 outer:exit 2b-27c9ac619e291b4eebadfed321a64fe30bec78fe-5da6e6d8a8adac87-01
2022-04-21T21:12:23.709Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:23.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-32d4a68c02fe75c6138ca1c1f7f879b3f78c03e4-c83acc1c290d1834-01 outer:exit 2b-32d4a68c02fe75c6138ca1c1f7f879b3f78c03e4-8b1610f2a4915665-01
2022-04-21T21:12:23.711Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:23.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a234829f7a818d37d5a6623f2d1b97656e767e8-57d1ad03848c3d78-01 outer:exit 2b-2a234829f7a818d37d5a6623f2d1b97656e767e8-a4656603d1946daf-01
2022-04-21T21:12:23.712Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:23.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc3ba2be20784c5da536bb80ddae3e49c4c380d4-57056742edf3bd06-01 outer:exit 2b-dc3ba2be20784c5da536bb80ddae3e49c4c380d4-9d94b02b7ea088c6-01
2022-04-21T21:12:23.714Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:23.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d328c7f7c0cff6f32323c04ba6a77574c707887-3b9a4b918b7f897d-01 outer:exit 2b-1d328c7f7c0cff6f32323c04ba6a77574c707887-68ab0add854e0bf7-01
2022-04-21T21:12:23.716Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:23.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-5037c34a071e7d52322333fc6f3700816dd576d0-f5e0231997f41c2b-01 outer:exit 2b-5037c34a071e7d52322333fc6f3700816dd576d0-96f0a6b5ec93d9ad-01
2022-04-21T21:12:23.719Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:23.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c8399ddb2f204bb952a83cd7def9eb4bcd37ad9-5fb17cfc18d5b456-01 outer:exit 2b-9c8399ddb2f204bb952a83cd7def9eb4bcd37ad9-42b2f91732a65f76-01
2022-04-21T21:12:23.721Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:23.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-450f91117a9e96de7693a7649e0b6728b76bc0b8-0954b1c405820630-01 outer:exit 2b-450f91117a9e96de7693a7649e0b6728b76bc0b8-adcce121211078d0-01
2022-04-21T21:12:23.723Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:23.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7fab80abe2748e30d5d9458265060a0a1603eaa-6cd1c6a730d17bb8-01 outer:exit 2b-d7fab80abe2748e30d5d9458265060a0a1603eaa-18d86d5acec6a681-01
2022-04-21T21:12:23.725Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:23.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c6ad1b3d36d53b6799b52b60ec2e8170baa250a-9fcaae6212470225-01 outer:exit 2b-0c6ad1b3d36d53b6799b52b60ec2e8170baa250a-f985d6f9a2280734-01
2022-04-21T21:12:23.731Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:23.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5e26d196c5eedd97dfb9b8f217eba77b8d340cc-ece2231af35159f5-01 outer:exit 2b-e5e26d196c5eedd97dfb9b8f217eba77b8d340cc-5b2fc13b62268a7f-01
2022-04-21T21:12:23.737Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:23.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-63ff20e6c99981a06bbc5c7867b8b602b334224a-1ee9b0eb10278007-01 outer:exit 2b-63ff20e6c99981a06bbc5c7867b8b602b334224a-6b40f1bcde4ca148-01
2022-04-21T21:12:23.745Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:23.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c3aff6b7b360f79ddc83440fba648da08d12359-c0cd468a7f69bbc5-01 outer:exit 2b-4c3aff6b7b360f79ddc83440fba648da08d12359-f3f972e31f884c29-01
2022-04-21T21:12:23.753Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:23.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-b10e5b2f662c8d31571e82ef244b58d225dbfe76-d7bb37d8c38f0b34-01 outer:exit 2b-b10e5b2f662c8d31571e82ef244b58d225dbfe76-d29c720561d1eb61-01
2022-04-21T21:12:23.754Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:23.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9ccdbee1be56f341d5e1a05f0da6281700c6a2a-9f8b8699eeb0d1a0-01 outer:exit 2b-f9ccdbee1be56f341d5e1a05f0da6281700c6a2a-44dc1512f1b0904b-01
2022-04-21T21:12:23.758Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:23.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b9eb3d219910e34e09e3100dd6255df9bcd1e4e-cafc458c4972bb9c-01 outer:exit 2b-8b9eb3d219910e34e09e3100dd6255df9bcd1e4e-e50b2c11c4a7faf8-01
2022-04-21T21:12:23.765Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:23.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e58d63aa165e04c035736d8e5d121b4933cdea2-99be43f1b08290fa-01 outer:exit 2b-4e58d63aa165e04c035736d8e5d121b4933cdea2-ee417c1703c73433-01
2022-04-21T21:12:23.766Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:23.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-80b415dceef234716daef05ee293f4458cd36926-cfeb3a0266e3a38f-01 outer:exit 2b-80b415dceef234716daef05ee293f4458cd36926-e8ddd744699672f5-01
2022-04-21T21:12:23.768Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:23.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-c77a1402833537b506b11383b7403df11b2737a9-0587f0e421a69e4c-01 outer:exit 2b-c77a1402833537b506b11383b7403df11b2737a9-ba90a4a547829f85-01
2022-04-21T21:12:23.770Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:23.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fa589fd11623bcd80330999811ffbcbfea7efc1-6d1c89f76ec2b8c1-01 outer:exit 2b-6fa589fd11623bcd80330999811ffbcbfea7efc1-4a1e2067d5de8ae1-01
2022-04-21T21:12:23.771Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:23.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb50528484e541379e7e00674516791931f287a5-a6818b499e921cf2-01 outer:exit 2b-eb50528484e541379e7e00674516791931f287a5-3173909471a0adfe-01
2022-04-21T21:12:23.773Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:23.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-99bbbd5df9b175bf374ee33fde2399b6944417dc-bdbd9e2a77889917-01 outer:exit 2b-99bbbd5df9b175bf374ee33fde2399b6944417dc-0bc4f8d06e68d152-01
2022-04-21T21:12:23.784Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:23.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-820cf153746c2c75570ff878afae54b73c0468c1-1f7a2a95a31d17eb-01 outer:exit 2b-820cf153746c2c75570ff878afae54b73c0468c1-c2ffec405e76dc5e-01
2022-04-21T21:12:23.793Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:23.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4aa7a765912cd03b024b8e63bbf52f8afa6d68-0246e48043aea112-01 outer:exit 2b-5d4aa7a765912cd03b024b8e63bbf52f8afa6d68-e235525ca8f86c11-01
2022-04-21T21:12:23.796Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:23.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-28f729ea923e284c4bf095470c44281522b9b09a-8626a193d3c34d8d-01 outer:exit 2b-28f729ea923e284c4bf095470c44281522b9b09a-fc45f20ddbbe9ce4-01
2022-04-21T21:12:23.798Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:23.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d46141c84ac4f979b6dc43830413a04b92d333b-b86283357f2964fe-01 outer:exit 2b-1d46141c84ac4f979b6dc43830413a04b92d333b-b18859cdbba740e7-01
2022-04-21T21:12:23.800Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:23.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-070fbcc34ead1fbeba38a81ac2398c2bb060461c-395536e2b8e7f7d0-01 outer:exit 2b-070fbcc34ead1fbeba38a81ac2398c2bb060461c-69149680e06cf0a9-01
2022-04-21T21:12:23.829Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (336ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:30.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:30.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:30.327Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:30.328Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:30.388Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:30.494Z appoptics:patching patched crypto 
2022-04-21T21:12:30.517Z appoptics:patching patched https 
2022-04-21T21:12:30.522Z appoptics:patching patched http 
2022-04-21T21:12:30.560Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:30.560Z appoptics:patching patched fs 
2022-04-21T21:12:30.584Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v18.0.0)
2022-04-21T21:12:30.590Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-21T21:12:30.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-e637472f58a7128dbdfd94bc471a8729eb9285ed-a7172979e3f6d077-01 outer:exit 2b-e637472f58a7128dbdfd94bc471a8729eb9285ed-5fd8c72349e154f2-01
2022-04-21T21:12:30.642Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:30.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2f7521ef2c0bd8baf4ecc175606e4be08828a9b-3a9a7c3786c6b580-01 outer:exit 2b-c2f7521ef2c0bd8baf4ecc175606e4be08828a9b-7277f803a9166193-01
2022-04-21T21:12:30.685Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:30.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6e89596269732186df0cdd55f78202310337394-0141cf5031567b1b-01 outer:exit 2b-e6e89596269732186df0cdd55f78202310337394-4c0366d482664143-01
2022-04-21T21:12:30.696Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:30.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbf8cc1233a399ca626be27e1283e7c08c02c408-1ee57d252da7ead4-01 outer:exit 2b-dbf8cc1233a399ca626be27e1283e7c08c02c408-b9403ceda64ef598-01
2022-04-21T21:12:30.699Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:30.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-026000b8f775096c70ec53037f4810c01e1a809f-a7505fa7bb0ee003-01 outer:exit 2b-026000b8f775096c70ec53037f4810c01e1a809f-796bfef14be9ef3f-01
2022-04-21T21:12:30.704Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:30.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-43f2045eef586bb06d00a1410e713ad628836af9-87aec2765ddf1d1f-01 outer:exit 2b-43f2045eef586bb06d00a1410e713ad628836af9-e8de85f5d9b9b911-01
2022-04-21T21:12:30.707Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:30.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8cd6a4be004061bc4211f402360b244f73ec511-c5c38c22412cca82-01 outer:exit 2b-c8cd6a4be004061bc4211f402360b244f73ec511-36ccf192e3aad911-01
2022-04-21T21:12:30.710Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:30.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ee7eb67157c0efe0f03c3d6bfa57979404e5338-9a6bd9ddcb5b6489-01 outer:exit 2b-9ee7eb67157c0efe0f03c3d6bfa57979404e5338-0109569740af1eed-01
2022-04-21T21:12:30.712Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:30.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-a50b6ef3cd1641d2f328e07a60928788e5d60790-ec86f07a1d26a898-01 outer:exit 2b-a50b6ef3cd1641d2f328e07a60928788e5d60790-748f8a38d91cbbd7-01
2022-04-21T21:12:30.714Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:30.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-620ccdd768f8a5ea6d996f646a1259f75ec92bba-e55d49c149271d18-01 outer:exit 2b-620ccdd768f8a5ea6d996f646a1259f75ec92bba-ab86aaf1a4d62b1f-01
2022-04-21T21:12:30.717Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:30.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdcfca4c87e30c9d9b02f26526c629944c6f04e4-627a771d209bbb59-01 outer:exit 2b-cdcfca4c87e30c9d9b02f26526c629944c6f04e4-4553f85f42e8d144-01
2022-04-21T21:12:30.723Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:30.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-63bf50f29bdd68688639c69be24bff24c17f2040-8df3328abb922873-01 outer:exit 2b-63bf50f29bdd68688639c69be24bff24c17f2040-7a8fa4f87f9fb11f-01
2022-04-21T21:12:30.730Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:30.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-48497b8401153979ad57a1bdc616d7bad95dbf03-917c08e9bcfc3d06-01 outer:exit 2b-48497b8401153979ad57a1bdc616d7bad95dbf03-67e481c94c448e72-01
2022-04-21T21:12:30.747Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:30.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-791905deb74f9b7d9470ef389d8447976c41ba22-9c21ddc698b354c4-01 outer:exit 2b-791905deb74f9b7d9470ef389d8447976c41ba22-3a68e16fcf536100-01
2022-04-21T21:12:30.786Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:30.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-08c68e819b67d9ddc6e74bec1ac8e89a2d3289c9-95f236b9934623a4-01 outer:exit 2b-08c68e819b67d9ddc6e74bec1ac8e89a2d3289c9-c88d33468d303b6e-01
2022-04-21T21:12:30.789Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:30.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-e328320d35da91d5e0fe0e14e0dfb1744b566aaf-ccc19ad6b2f2ab0e-01 outer:exit 2b-e328320d35da91d5e0fe0e14e0dfb1744b566aaf-eaa10f4eac3c15ef-01
2022-04-21T21:12:30.792Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:30.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-88c67eec17a1785003821877dbbf85080d744dd3-888d4e26cbb53643-01 outer:exit 2b-88c67eec17a1785003821877dbbf85080d744dd3-4f509aceb6e58529-01
2022-04-21T21:12:30.794Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:30.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a5921e4a7b6741ebed4d75036a537a3d5e63b37-6a60ef43821fc563-01 outer:exit 2b-4a5921e4a7b6741ebed4d75036a537a3d5e63b37-8734649ab52c19c1-01
2022-04-21T21:12:30.796Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:30.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-2273ca25c49d857f394e0bd80044fadfbf6a81b3-57dc9d03faa81c20-01 outer:exit 2b-2273ca25c49d857f394e0bd80044fadfbf6a81b3-36a32c90375e331d-01
2022-04-21T21:12:30.798Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:30.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-467239c9fc3f6a7b2f67bf7458d88e19434d7738-2a706189cf6d219a-01 outer:exit 2b-467239c9fc3f6a7b2f67bf7458d88e19434d7738-b0c8e05cf05566fa-01
2022-04-21T21:12:30.800Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:30.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-560b0d27ad2d4d5e7e004d64b882f22f94bef29e-c49523779bb6015e-01 outer:exit 2b-560b0d27ad2d4d5e7e004d64b882f22f94bef29e-f14c71a596ad1ac4-01
2022-04-21T21:12:30.802Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:30.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d031aca662b892dd57a9ad029c12f5cae76d30d-9d41061da80bdecd-01 outer:exit 2b-9d031aca662b892dd57a9ad029c12f5cae76d30d-d4f4f3b19ffb6797-01
2022-04-21T21:12:30.803Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:30.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-0810e59a271d18d573611d3fe666c68fac135e0a-ec1d5bcb62e14655-01 outer:exit 2b-0810e59a271d18d573611d3fe666c68fac135e0a-e5bdb1649b4a4076-01
2022-04-21T21:12:30.806Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:30.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5023109bfd7cbfd348bd5b347f75aaa1f3cc6c5-6ff3acef6b406522-01 outer:exit 2b-b5023109bfd7cbfd348bd5b347f75aaa1f3cc6c5-2eebfea2500d6ce5-01
2022-04-21T21:12:30.808Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:30.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6fcfbe29ea1c8f3af4a2ac410acaf6d44f78509-4ec35ccea5dbb79e-01 outer:exit 2b-f6fcfbe29ea1c8f3af4a2ac410acaf6d44f78509-2a5201a8c47ee7a7-01
2022-04-21T21:12:30.810Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:30.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3d32fd0812fa6830ebbda080c312c50aa5039e2-32d50d4e9d13f7a0-01 outer:exit 2b-c3d32fd0812fa6830ebbda080c312c50aa5039e2-e02ffe1f9973a441-01
2022-04-21T21:12:30.812Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:30.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4a65b94aa1253922ce0aeba27c0bcf6cf47e13d-73862668416f200f-01 outer:exit 2b-b4a65b94aa1253922ce0aeba27c0bcf6cf47e13d-fa0b0fad74e8d311-01
2022-04-21T21:12:30.818Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:30.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfb5e5e6ea14c8c8730efa32551914568215fe99-e5a1c711636de038-01 outer:exit 2b-bfb5e5e6ea14c8c8730efa32551914568215fe99-bd0f45d3b7939a1b-01
2022-04-21T21:12:30.823Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:30.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-085c069df9f74bb62ffaf0e352b22bbef5a581a6-f9fa1a53a5c1b5d9-01 outer:exit 2b-085c069df9f74bb62ffaf0e352b22bbef5a581a6-adfee308637a19d0-01
2022-04-21T21:12:30.831Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:30.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4d8ff80334b060d59f8d8454489532108533c08-1e83dbdce321d552-01 outer:exit 2b-a4d8ff80334b060d59f8d8454489532108533c08-beed127457d9f094-01
2022-04-21T21:12:30.837Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:30.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d08e1359fe3288131386f6b0e98e7ec589b0955-d43afb124ec50bb9-01 outer:exit 2b-8d08e1359fe3288131386f6b0e98e7ec589b0955-feb5f60e815fb0fc-01
2022-04-21T21:12:30.839Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:30.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e846f38fe4e01d10e6d937dcacbb677c67f81a4-534f26b18bc990ba-01 outer:exit 2b-7e846f38fe4e01d10e6d937dcacbb677c67f81a4-24be96a015f5fb39-01
2022-04-21T21:12:30.841Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:30.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2e763f9c5bd3a5a7f06749aa453f37a9083c3b6-52290e075e086352-01 outer:exit 2b-f2e763f9c5bd3a5a7f06749aa453f37a9083c3b6-611effb6c1f1414c-01
2022-04-21T21:12:30.847Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:30.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5f5dada2eace43b9a4e04e8d0a7aae25f650bef-59d63442cf942a9c-01 outer:exit 2b-b5f5dada2eace43b9a4e04e8d0a7aae25f650bef-42c814f5ce2f9767-01
2022-04-21T21:12:30.849Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:30.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-63cc53f17ed804181fcca8bcb1440dd50ea4ebda-a45534d526646b49-01 outer:exit 2b-63cc53f17ed804181fcca8bcb1440dd50ea4ebda-6b90e65185364b89-01
2022-04-21T21:12:30.850Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:30.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe6c22d240bc5bfa0d29220578339ae647269cf5-f61d4eb8367d1e63-01 outer:exit 2b-fe6c22d240bc5bfa0d29220578339ae647269cf5-e81cc2dc0e760256-01
2022-04-21T21:12:30.852Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:30.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-39552df9bd2bacf5f990d1aa67b9c69cef81fda1-09bdb042587f8f43-01 outer:exit 2b-39552df9bd2bacf5f990d1aa67b9c69cef81fda1-a2689baf145d079d-01
2022-04-21T21:12:30.853Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:30.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f7ecd1b36f7d68058d6412ce9703e05be754335-d07caba7f1cd2661-01 outer:exit 2b-8f7ecd1b36f7d68058d6412ce9703e05be754335-650fbfaca76fa631-01
2022-04-21T21:12:30.855Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:30.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-0554636c85ec550d6f549a4a7c06bff2fdc0b0b2-90cfd706e0e0052b-01 outer:exit 2b-0554636c85ec550d6f549a4a7c06bff2fdc0b0b2-6037945e58ba4817-01
2022-04-21T21:12:30.863Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:30.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-c96f425c043722f337db1dc55c01a7691d8cb616-16df3f67c00eb6f7-01 outer:exit 2b-c96f425c043722f337db1dc55c01a7691d8cb616-d8ff3bc84001be31-01
2022-04-21T21:12:30.871Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:30.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-586903dce6c76a4b708ae18d6bb535b21f8174a9-7e79d5fb2cde2912-01 outer:exit 2b-586903dce6c76a4b708ae18d6bb535b21f8174a9-abfb8348bcd9403d-01
2022-04-21T21:12:30.874Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:30.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c8825117a81066e54f8991819f1fc8e2fa1c1be-48f54385e3c10bbd-01 outer:exit 2b-7c8825117a81066e54f8991819f1fc8e2fa1c1be-133847594f8b995f-01
2022-04-21T21:12:30.876Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:30.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d14e134b6ecf30c3b9182975de74ea0930ba169-d8af271de2db0826-01 outer:exit 2b-0d14e134b6ecf30c3b9182975de74ea0930ba169-0fc7eeceb442ea56-01
2022-04-21T21:12:30.881Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:30.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-054563e89c65530e55d3f050831fe69763663953-fd962503bdf26e68-01 outer:exit 2b-054563e89c65530e55d3f050831fe69763663953-be0dd8ad6d5e94d9-01
2022-04-21T21:12:30.907Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (312ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:36.625Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:36.626Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:36.626Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:36.626Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:36.680Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:36.782Z appoptics:patching patched crypto 
2022-04-21T21:12:36.798Z appoptics:patching patched https 
2022-04-21T21:12:36.799Z appoptics:patching patched http 
2022-04-21T21:12:36.837Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:36.837Z appoptics:patching patched fs 
2022-04-21T21:12:36.859Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v18.0.0)
2022-04-21T21:12:36.864Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-21T21:12:36.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-838eecc5024660b3aa630aade560c0d9bf43aebb-d246c9bf0e599647-01 outer:exit 2b-838eecc5024660b3aa630aade560c0d9bf43aebb-cc047c5002fbcbcb-01
2022-04-21T21:12:36.905Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:36.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-54e663477b49d689e6331465781d13e10aa87aa2-8710092b74e2d912-01 outer:exit 2b-54e663477b49d689e6331465781d13e10aa87aa2-28a1310f5cf383f7-01
2022-04-21T21:12:36.947Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:36.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-55087010eb261bdccbb73c1dc00b1f8d126a4bb5-dbdcecca94e79618-01 outer:exit 2b-55087010eb261bdccbb73c1dc00b1f8d126a4bb5-01087cfe5ddb70da-01
2022-04-21T21:12:36.951Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:36.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f07f4ae9f60cb9e4e18dc6e58566c395502e9de-022d4359e5b9f01e-01 outer:exit 2b-3f07f4ae9f60cb9e4e18dc6e58566c395502e9de-5611662e4166ae38-01
2022-04-21T21:12:36.953Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:36.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-54bd3c77f8de8ba7b702f677ac657e8e6a8428b3-9b09043800b6ff09-01 outer:exit 2b-54bd3c77f8de8ba7b702f677ac657e8e6a8428b3-f00c7358b41558e0-01
2022-04-21T21:12:36.958Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:36.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ee06a85231750c064811beac3f495feb3b1b97b-1b390e93ececa0b6-01 outer:exit 2b-1ee06a85231750c064811beac3f495feb3b1b97b-c08c43b431e107df-01
2022-04-21T21:12:36.961Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:36.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-d368d46f55f6929540e39ea94a212ff4a486e6a3-0b8d5cf703a75b6e-01 outer:exit 2b-d368d46f55f6929540e39ea94a212ff4a486e6a3-acd29defa5ff2f51-01
2022-04-21T21:12:36.963Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:36.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0eedb57d23bd3ccb27e92b0a53dadeea067672f-9101a16271659568-01 outer:exit 2b-f0eedb57d23bd3ccb27e92b0a53dadeea067672f-bd29b953066ba21a-01
2022-04-21T21:12:36.965Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:36.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-d104adbfd17ef61517706be845b43f82d9c37697-966ade49e0a4fd3d-01 outer:exit 2b-d104adbfd17ef61517706be845b43f82d9c37697-ff04dd0b775ecec2-01
2022-04-21T21:12:36.967Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:36.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-97331692030345661d834e5748c185eb203a16c5-ebad136ab4671b5a-01 outer:exit 2b-97331692030345661d834e5748c185eb203a16c5-cc0190b3a1fc7881-01
2022-04-21T21:12:36.970Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:36.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-1015373769099dec0743638c34c957e7bffe49b2-9f618503817c4cf3-01 outer:exit 2b-1015373769099dec0743638c34c957e7bffe49b2-2252a2745b4239c6-01
2022-04-21T21:12:36.975Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:36.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-374a67ea4adabc48923056bf538ff15d8db23a96-28375e8cfea17a35-01 outer:exit 2b-374a67ea4adabc48923056bf538ff15d8db23a96-6a62ae25d1f6b863-01
2022-04-21T21:12:36.982Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:36.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c5dde4e39832a3f692ebfe5a3d18c38716225ef-29e367f35e8c4705-01 outer:exit 2b-3c5dde4e39832a3f692ebfe5a3d18c38716225ef-635eb3c56dc72509-01
2022-04-21T21:12:36.998Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:37.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b210aeb74f01ffa827a2c74434232de57dd7d66-309cf6b62644dd0b-01 outer:exit 2b-0b210aeb74f01ffa827a2c74434232de57dd7d66-b1d7e5856f04d5d0-01
2022-04-21T21:12:37.038Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:37.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-97c5977aa1da46af4d59c292bf30cb187fe862b1-8fa789cfc2785381-01 outer:exit 2b-97c5977aa1da46af4d59c292bf30cb187fe862b1-61b83b4a77ebd9a3-01
2022-04-21T21:12:37.041Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:37.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0e3f77cd915b64fada5399d37f589a087c20c94-816231012b90fe7e-01 outer:exit 2b-b0e3f77cd915b64fada5399d37f589a087c20c94-6a8890393cc89823-01
2022-04-21T21:12:37.043Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:37.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d253d374032b0c8b9bfba8cf1beb3cbd78aa95e-cc44012ad4e1306b-01 outer:exit 2b-9d253d374032b0c8b9bfba8cf1beb3cbd78aa95e-8011e263ef4f4f87-01
2022-04-21T21:12:37.046Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:37.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-f16cb38c86be36f729bb778300434600cb488352-5e40c7715d70d5c4-01 outer:exit 2b-f16cb38c86be36f729bb778300434600cb488352-97cc5511582015c4-01
2022-04-21T21:12:37.048Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:37.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b3664894646578685ad190c0ae10ee22800a0a1-fe6459d6cb3266b3-01 outer:exit 2b-3b3664894646578685ad190c0ae10ee22800a0a1-694670e60a2b49ec-01
2022-04-21T21:12:37.049Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:37.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-19e784c8f55e521b1fe9e6ebc7ad44cb63bbc26c-a84e2f3aceda79c1-01 outer:exit 2b-19e784c8f55e521b1fe9e6ebc7ad44cb63bbc26c-8de2292043ee8459-01
2022-04-21T21:12:37.051Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:37.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-a24ef5129a49a0b68f51aa12c9cda7caa65e3e5a-7c82222cef80167d-01 outer:exit 2b-a24ef5129a49a0b68f51aa12c9cda7caa65e3e5a-cf10a259dd645d69-01
2022-04-21T21:12:37.053Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:37.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-b748ad99e395083223beeb0bc4a234b70b4224be-5dd31df9d93e5347-01 outer:exit 2b-b748ad99e395083223beeb0bc4a234b70b4224be-7f4f4bf49b109cb0-01
2022-04-21T21:12:37.055Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:37.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-40cfaf8f7f1cb7199cc80626e10a6c6ae45ffb48-50e91b380409ca8c-01 outer:exit 2b-40cfaf8f7f1cb7199cc80626e10a6c6ae45ffb48-6f457c526675ad00-01
2022-04-21T21:12:37.057Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:37.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-bce7823dc841b957ab51aca19b836965d50434df-f3ea67a6c91587a6-01 outer:exit 2b-bce7823dc841b957ab51aca19b836965d50434df-e264cfefbb6596b4-01
2022-04-21T21:12:37.060Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:37.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-42d0c232d1172dd12c2bc93b33f5209dbe5b3d23-2cf806fa1491a118-01 outer:exit 2b-42d0c232d1172dd12c2bc93b33f5209dbe5b3d23-4b275def789453cb-01
2022-04-21T21:12:37.062Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:37.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad0a0b3de8ce322ca4520cb202d7b0e7b17fb2e8-d489888bd170a998-01 outer:exit 2b-ad0a0b3de8ce322ca4520cb202d7b0e7b17fb2e8-0425a5a23cf7c8ba-01
2022-04-21T21:12:37.064Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:37.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-de53fcc35edc884ed23d9549209535501a7fd4f2-0183fd81958eaa08-01 outer:exit 2b-de53fcc35edc884ed23d9549209535501a7fd4f2-7ae5744b8a0cccb0-01
2022-04-21T21:12:37.069Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:37.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-13f324fca24e72dc053cb841be01a08ef542741c-22c697527a1bb206-01 outer:exit 2b-13f324fca24e72dc053cb841be01a08ef542741c-077ef3336e43aa4c-01
2022-04-21T21:12:37.074Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:37.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-d271049ed7bc2457cd30c24bcf806e1973f60445-2ded5d11711edef6-01 outer:exit 2b-d271049ed7bc2457cd30c24bcf806e1973f60445-287988d22faf47a8-01
2022-04-21T21:12:37.083Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:37.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9c0993d88ba6073c11ad3d7a6da7b890a5d05d8-643ad3a5e3249e1b-01 outer:exit 2b-a9c0993d88ba6073c11ad3d7a6da7b890a5d05d8-58840db99f2f4ef0-01
2022-04-21T21:12:37.089Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:37.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c729a198dd7790edfa018687d38bea8051b8de5-351c82bae13cc805-01 outer:exit 2b-0c729a198dd7790edfa018687d38bea8051b8de5-2f0eedac3704acaf-01
2022-04-21T21:12:37.091Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:37.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-c24ab1d3514da620cfa75fed630d0d6c1b7f893c-ed9841f1b0b06ad0-01 outer:exit 2b-c24ab1d3514da620cfa75fed630d0d6c1b7f893c-189cccae60ace694-01
2022-04-21T21:12:37.094Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:37.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd750450f2bc912313d151a875f9c411d932e31c-bd4443853134dac4-01 outer:exit 2b-dd750450f2bc912313d151a875f9c411d932e31c-2fda6f0a3054b2cb-01
2022-04-21T21:12:37.100Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:37.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-2525850bb6a819e43cb0f198514bff4cb019173d-90861117ac76c41c-01 outer:exit 2b-2525850bb6a819e43cb0f198514bff4cb019173d-c91b7c85ff23b7d0-01
2022-04-21T21:12:37.102Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:37.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-2462a13cd1fb8b2398af6f2ede5e3dee01809182-7de97f0a37875783-01 outer:exit 2b-2462a13cd1fb8b2398af6f2ede5e3dee01809182-4c2b902e5d39ac08-01
2022-04-21T21:12:37.104Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:37.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-266319eef2405f3aa6ddcc1e65cae8985e9d0075-3a6c37bbf1792277-01 outer:exit 2b-266319eef2405f3aa6ddcc1e65cae8985e9d0075-b06c71b75e1289da-01
2022-04-21T21:12:37.106Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:37.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-f07cb8cf8b84b2805f3bb7b346d1f0d5db180b10-93bcfa4742e23e51-01 outer:exit 2b-f07cb8cf8b84b2805f3bb7b346d1f0d5db180b10-ff2a7534f4964fb9-01
2022-04-21T21:12:37.107Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:37.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0cc56ad79f02938535038199e0cf28cd8148b30-8ee9f9ede5a73f05-01 outer:exit 2b-c0cc56ad79f02938535038199e0cf28cd8148b30-f12f2e440200d72f-01
2022-04-21T21:12:37.109Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:37.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-30c86e531a0a7ab5546d36ba68a7a31d4f30af1e-4ea2ea97938d1549-01 outer:exit 2b-30c86e531a0a7ab5546d36ba68a7a31d4f30af1e-14a078aab046151e-01
2022-04-21T21:12:37.117Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:37.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-411b9e1d7ae4d65f9ace8b3411da74d348ea84e3-bb8d71661f8cfb5e-01 outer:exit 2b-411b9e1d7ae4d65f9ace8b3411da74d348ea84e3-1343a81c91ce2dcb-01
2022-04-21T21:12:37.126Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:37.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc2e0870bed0298217361581fe1700052c929c6-19d17bdbd5315c2e-01 outer:exit 2b-5bc2e0870bed0298217361581fe1700052c929c6-e2da7091f4ae3849-01
2022-04-21T21:12:37.129Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:37.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-89bb831debcf0873af70976e32b9f788ee45db42-3cd300dde61e3535-01 outer:exit 2b-89bb831debcf0873af70976e32b9f788ee45db42-821085ba5e6c8a7b-01
2022-04-21T21:12:37.131Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:37.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a6a7c3afeb277f1fae5564d4563b244ab50c960-61f67bddcd4927d6-01 outer:exit 2b-8a6a7c3afeb277f1fae5564d4563b244ab50c960-c858aee12ba6f34d-01
2022-04-21T21:12:37.134Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:37.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-e24ed6ac74ca51d902524f512dacdd324c56ef68-9dacbb8e31ec5785-01 outer:exit 2b-e24ed6ac74ca51d902524f512dacdd324c56ef68-752bbfbbb5a995b7-01
2022-04-21T21:12:37.161Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (293ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:44.366Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:44.367Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:44.367Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:44.367Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:44.426Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:44.549Z appoptics:patching patched crypto 
2022-04-21T21:12:44.577Z appoptics:patching patched https 
2022-04-21T21:12:44.578Z appoptics:patching patched http 
2022-04-21T21:12:44.632Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:44.632Z appoptics:patching patched fs 
2022-04-21T21:12:44.663Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v18.0.0)
2022-04-21T21:12:44.669Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-21T21:12:44.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-4661f655da713b8ddb0ba41cedc2cbba756c0afc-f8d37196e19febbc-01 outer:exit 2b-4661f655da713b8ddb0ba41cedc2cbba756c0afc-364af62b2ae7b1ef-01
2022-04-21T21:12:44.715Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:44.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-9516869eb6e8a1005762d5221cc3387c20e29eec-3b532194e618b816-01 outer:exit 2b-9516869eb6e8a1005762d5221cc3387c20e29eec-7eed30232f3116e4-01
2022-04-21T21:12:44.758Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:44.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ca9fb11d900960d35f6cdd9d7a2a9ee760a2d6d-10ba735c9f43e539-01 outer:exit 2b-1ca9fb11d900960d35f6cdd9d7a2a9ee760a2d6d-05877dd12cc0b2c8-01
2022-04-21T21:12:44.764Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:44.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1389e6924353957c9fe0f7a88906bee81021621-7c3c85cb9e8003a9-01 outer:exit 2b-c1389e6924353957c9fe0f7a88906bee81021621-045a3c5a4a68eca8-01
2022-04-21T21:12:44.767Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:44.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d4a639df8ecf0243b11106d8af7770a7ce0977f-3bbf2e12c1fa884c-01 outer:exit 2b-1d4a639df8ecf0243b11106d8af7770a7ce0977f-b484e4cc7211e636-01
2022-04-21T21:12:44.773Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:44.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-637d2252db5618aab45689fd2bd5502dcce68589-cada05d9ffd54437-01 outer:exit 2b-637d2252db5618aab45689fd2bd5502dcce68589-b9b9a897811e8967-01
2022-04-21T21:12:44.776Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:44.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-18188740ab452c00f0e8a8130c273ef9ab0a7df2-5787c925ed5db554-01 outer:exit 2b-18188740ab452c00f0e8a8130c273ef9ab0a7df2-e0137c11dbaab3da-01
2022-04-21T21:12:44.778Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:44.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb30d7419ea3f2140469a539059c5211beaf49b2-8632f99149a4469f-01 outer:exit 2b-fb30d7419ea3f2140469a539059c5211beaf49b2-92e9f7825e0d8cd7-01
2022-04-21T21:12:44.781Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:44.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f438bc5358a97239b4e26c22cc701c57671e734-14747d5be9938e49-01 outer:exit 2b-5f438bc5358a97239b4e26c22cc701c57671e734-8f212377edb677d5-01
2022-04-21T21:12:44.783Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:44.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-f99a2d8a15bed0d87b414e9ad92fe47bfe9b3559-b69a1feff265874c-01 outer:exit 2b-f99a2d8a15bed0d87b414e9ad92fe47bfe9b3559-1c1450688d3902ad-01
2022-04-21T21:12:44.786Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:44.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e00ee2973a528c8a133829b447ae9bd8c881a47-26064e7054907144-01 outer:exit 2b-1e00ee2973a528c8a133829b447ae9bd8c881a47-7e4288a5a48b37c1-01
2022-04-21T21:12:44.790Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:44.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b1df0cc6cc26880658b5dca6127c62c47410175-1016bb064cb0da24-01 outer:exit 2b-2b1df0cc6cc26880658b5dca6127c62c47410175-3a55120fc9076601-01
2022-04-21T21:12:44.796Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:44.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-207db091ef793a347add936ea925da2d0dedf74a-7051ed2926c1b93b-01 outer:exit 2b-207db091ef793a347add936ea925da2d0dedf74a-1a000694a8e5ef92-01
2022-04-21T21:12:44.810Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:44.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c09610caedfa833a7867130d1ab924f94c2720a-aa9e66b8edd22521-01 outer:exit 2b-4c09610caedfa833a7867130d1ab924f94c2720a-e7ee498430276899-01
2022-04-21T21:12:44.848Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:44.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-28d452e547f0b6cd6e3ebb328bd66c2411bab2d8-55aa670c4587a5ee-01 outer:exit 2b-28d452e547f0b6cd6e3ebb328bd66c2411bab2d8-860dee8087c9e602-01
2022-04-21T21:12:44.851Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:44.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-f527bda9f96a28c31bf5ebeff09bdc8f17c1c134-69f3035b66d44703-01 outer:exit 2b-f527bda9f96a28c31bf5ebeff09bdc8f17c1c134-01b27a9378581d0a-01
2022-04-21T21:12:44.854Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:44.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b89d128bb01e265263511f18a273d207eaa9304-f1c5fad730ac8477-01 outer:exit 2b-3b89d128bb01e265263511f18a273d207eaa9304-a4b2a9690a4162bf-01
2022-04-21T21:12:44.856Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:44.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4080c302d94e7e09c2ff11309835aba5c15f311-cb43203b499e4afc-01 outer:exit 2b-e4080c302d94e7e09c2ff11309835aba5c15f311-b8b6c62c1b31b4e5-01
2022-04-21T21:12:44.859Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:44.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-9302d425f60d0958dd546e5fb02b6bc56da673e9-1094c973350fed3e-01 outer:exit 2b-9302d425f60d0958dd546e5fb02b6bc56da673e9-d37cd0940c9e0feb-01
2022-04-21T21:12:44.860Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:44.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-22fe323d8076a03b677313b47c989d916991f63e-12f9886f8ebe2bce-01 outer:exit 2b-22fe323d8076a03b677313b47c989d916991f63e-ab90555fccc881d2-01
2022-04-21T21:12:44.862Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:44.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6cae1701dd19f849dbe3f2e7e899b65152ed4d0-986dcad4110f2252-01 outer:exit 2b-e6cae1701dd19f849dbe3f2e7e899b65152ed4d0-c957b9182722034b-01
2022-04-21T21:12:44.864Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:44.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-042f26044e348ac3b7afa1db7285a23b327eb3ff-f609cf559029f9ac-01 outer:exit 2b-042f26044e348ac3b7afa1db7285a23b327eb3ff-6841e376af50b000-01
2022-04-21T21:12:44.866Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:44.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b0d5e0081585560dfe6e391b133d85d23c9666-59a0898ca6fd9304-01 outer:exit 2b-c6b0d5e0081585560dfe6e391b133d85d23c9666-008069a685e2c2c3-01
2022-04-21T21:12:44.869Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:44.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3043e70092af24ef3417f6e06e1031f0fecff41-c55665ae760a0045-01 outer:exit 2b-d3043e70092af24ef3417f6e06e1031f0fecff41-46b7dae195f87a27-01
2022-04-21T21:12:44.871Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:44.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff074f8045c599f30889ebbe9097abfbb07f498b-2c6b52404a4815ad-01 outer:exit 2b-ff074f8045c599f30889ebbe9097abfbb07f498b-ac5c8a137659ec79-01
2022-04-21T21:12:44.873Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:44.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-35d47f0077edd6c62a444d3299aa74bb3df7278c-491fd681506fc1f2-01 outer:exit 2b-35d47f0077edd6c62a444d3299aa74bb3df7278c-25ff29aeb0eb31a2-01
2022-04-21T21:12:44.876Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:44.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bb16691a65e10461297542fbea166a4ed0461fe-40cf631ac8e24880-01 outer:exit 2b-1bb16691a65e10461297542fbea166a4ed0461fe-f8895a5df80953b0-01
2022-04-21T21:12:44.882Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:44.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-927b44323c233b54335bc43f0a02adc80c39cc49-610a2764fda811d6-01 outer:exit 2b-927b44323c233b54335bc43f0a02adc80c39cc49-b043a8cc7863636c-01
2022-04-21T21:12:44.887Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:44.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1a9de4e3f48cbaf4e4531f9bcfe68f3e4ab4445-795c7a7a89e6962a-01 outer:exit 2b-d1a9de4e3f48cbaf4e4531f9bcfe68f3e4ab4445-f9c8a000125f7666-01
2022-04-21T21:12:44.896Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:44.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c0c36e89192b7809349b078ac3ef54a97eb7ee2-dc2853bf61c0a998-01 outer:exit 2b-3c0c36e89192b7809349b078ac3ef54a97eb7ee2-0cbb29dc05451e33-01
2022-04-21T21:12:44.901Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:44.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcd38811a288f2afc531ec75dfbce339823493b2-ac599cbe80b588bb-01 outer:exit 2b-bcd38811a288f2afc531ec75dfbce339823493b2-abd4ebaae57dc1f5-01
2022-04-21T21:12:44.904Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:44.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-9210479da33af0db11bdc2efb4a2a114df9b45ad-105611d8e4a7d02b-01 outer:exit 2b-9210479da33af0db11bdc2efb4a2a114df9b45ad-1e7c5b13a6677510-01
2022-04-21T21:12:44.906Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:44.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3d088abf03ce872fcfa1cc54138927665816dec-8390c05154825c8c-01 outer:exit 2b-b3d088abf03ce872fcfa1cc54138927665816dec-e4858c1a152a5fc3-01
2022-04-21T21:12:44.912Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:44.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-099def4dbe770a002f7a53a27a0539bb040c2406-20adb15b0adc3514-01 outer:exit 2b-099def4dbe770a002f7a53a27a0539bb040c2406-68ca67e90bedd7c9-01
2022-04-21T21:12:44.914Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:44.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fe71b1e9fc14edff02b84c76b7d5e8ae9b12965-6d1bfeaf07d2c7ef-01 outer:exit 2b-9fe71b1e9fc14edff02b84c76b7d5e8ae9b12965-e7caedecb50030ff-01
2022-04-21T21:12:44.916Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:44.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-9675ed5b4944d73baf5125d51fade13f4ad14945-1d58472149d4b71c-01 outer:exit 2b-9675ed5b4944d73baf5125d51fade13f4ad14945-db44a5e1ecd4e3b8-01
2022-04-21T21:12:44.918Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:44.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-33e31bccb7da532e733dc7800f527eb1244da170-f0181c47ee82731c-01 outer:exit 2b-33e31bccb7da532e733dc7800f527eb1244da170-1fd78ebd0935e1de-01
2022-04-21T21:12:44.919Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:44.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea8b9cc4c9d35d922ea4544e98eab66becdc737c-7583e1ed5613a8c7-01 outer:exit 2b-ea8b9cc4c9d35d922ea4544e98eab66becdc737c-04d45e1cd840dfc4-01
2022-04-21T21:12:44.921Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:44.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-b64edd50f13b3d650e3fee3f946c6c06be10891d-7a990dae36462c83-01 outer:exit 2b-b64edd50f13b3d650e3fee3f946c6c06be10891d-ee24c42784e99109-01
2022-04-21T21:12:44.929Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:44.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-a24c8cea8f64165c9f453857b4f90086f24f0640-3c7b6d3de74c58a4-01 outer:exit 2b-a24c8cea8f64165c9f453857b4f90086f24f0640-2bbe7398984393e3-01
2022-04-21T21:12:44.938Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:44.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fbf9c0dcfb4b8784da405bc8e3dd6c727a4799a-89c08968df40e45e-01 outer:exit 2b-2fbf9c0dcfb4b8784da405bc8e3dd6c727a4799a-47fa5750b1c98375-01
2022-04-21T21:12:44.940Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:44.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d7e5aaff189009eaf26baecd016d77ebe659fd8-7839ef97169668d1-01 outer:exit 2b-2d7e5aaff189009eaf26baecd016d77ebe659fd8-a7fc97ca8a9deff5-01
2022-04-21T21:12:44.947Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:44.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-adde82418afc36a0dbaa1133a2ebf602bde30526-3efc1ac7d282bebc-01 outer:exit 2b-adde82418afc36a0dbaa1133a2ebf602bde30526-b38e5f8a13647a46-01
2022-04-21T21:12:44.949Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:44.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-f79da8f6b43b40a00a7a3cb06d37b4ba9c99426f-ea5d50170b56d829-01 outer:exit 2b-f79da8f6b43b40a00a7a3cb06d37b4ba9c99426f-73f86fad5b0b25aa-01
2022-04-21T21:12:44.976Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (301ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:50.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:50.947Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:50.947Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:50.947Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:51.014Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:51.202Z appoptics:patching patched crypto 
2022-04-21T21:12:51.238Z appoptics:patching patched https 
2022-04-21T21:12:51.239Z appoptics:patching patched http 
2022-04-21T21:12:51.282Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:51.283Z appoptics:patching patched fs 
2022-04-21T21:12:51.312Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v18.0.0)
2022-04-21T21:12:51.319Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-21T21:12:51.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bdad57938774d80c749cbb8ad72f2c7a1957301-b06b0722ff88d9b2-01 outer:exit 2b-3bdad57938774d80c749cbb8ad72f2c7a1957301-945c9285abe72248-01
2022-04-21T21:12:51.366Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:51.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-94fe2a0182c181778901b0313e9cbbfdf2686511-7ec8311beb9fc331-01 outer:exit 2b-94fe2a0182c181778901b0313e9cbbfdf2686511-ba59fd394cfa42b4-01
2022-04-21T21:12:51.414Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:51.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-80e50bb65450dd40f326eab7d49b9247e6ab5ef8-f5f67f7c015161bf-01 outer:exit 2b-80e50bb65450dd40f326eab7d49b9247e6ab5ef8-b1c5f8284ddccf54-01
2022-04-21T21:12:51.418Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:51.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fb506499e3cb9b66a4b8c7a54a25cb20fdecf6d-dc4de18b96b6d5db-01 outer:exit 2b-5fb506499e3cb9b66a4b8c7a54a25cb20fdecf6d-fc447e91a992e706-01
2022-04-21T21:12:51.439Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:51.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-0919c103b1181d8c3e98fb68d5dbd77b04424c21-24719549565115b7-01 outer:exit 2b-0919c103b1181d8c3e98fb68d5dbd77b04424c21-c820f8faac93fc1d-01
2022-04-21T21:12:51.445Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:51.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-859bc3d5f72216582f4098a955e10c1c982d64ff-4eb8678f4b7b037e-01 outer:exit 2b-859bc3d5f72216582f4098a955e10c1c982d64ff-3222ba05199dd74f-01
2022-04-21T21:12:51.449Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:51.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a34edba12e1c0b470aca8bd86bd1562ed478703-77025a1740727500-01 outer:exit 2b-0a34edba12e1c0b470aca8bd86bd1562ed478703-abe129e583503e84-01
2022-04-21T21:12:51.456Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:51.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-eab1b99f4795e9ed87a9fe67abadec23b7b53bd0-bbaca0c2a212874f-01 outer:exit 2b-eab1b99f4795e9ed87a9fe67abadec23b7b53bd0-035cdecb4628bd73-01
2022-04-21T21:12:51.460Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:51.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dda18e8079e24222c9c1caccfdcb960f23bd79b-6ae6bd81db4d42f9-01 outer:exit 2b-1dda18e8079e24222c9c1caccfdcb960f23bd79b-f3b2a24062b71fa1-01
2022-04-21T21:12:51.467Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:51.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da1c0209fd614bd1ae442ab5fdeab1411805f17-6dcce39f84caf87d-01 outer:exit 2b-7da1c0209fd614bd1ae442ab5fdeab1411805f17-371668b982d32629-01
2022-04-21T21:12:51.471Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:51.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e4f02d50a3d983fffb89c90290f95ce36d81d38-b6151d5c3701229a-01 outer:exit 2b-1e4f02d50a3d983fffb89c90290f95ce36d81d38-b24964195c05b4bd-01
2022-04-21T21:12:51.478Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:51.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-170d32ef778bd88acc83f2a88c39cd21cec5fa40-4a8ab350564556bf-01 outer:exit 2b-170d32ef778bd88acc83f2a88c39cd21cec5fa40-5fb029db1b318e0b-01
2022-04-21T21:12:51.484Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:51.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b546c7b38460adf5c33a372d6cb69df9b4f189c-b9580400bff59b39-01 outer:exit 2b-4b546c7b38460adf5c33a372d6cb69df9b4f189c-8c6ce19efc93f109-01
2022-04-21T21:12:51.503Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:51.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-20ea41e86f2b5c926b343db83ee0a1d521d2691d-4ebf0f4a7e5cf7ff-01 outer:exit 2b-20ea41e86f2b5c926b343db83ee0a1d521d2691d-6ad26dbfdd0b5ea9-01
2022-04-21T21:12:51.549Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:51.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-edcd21eb28bc14f3eead662da000b76397ca179b-73879b9f1bdccb18-01 outer:exit 2b-edcd21eb28bc14f3eead662da000b76397ca179b-76238809af0522ea-01
2022-04-21T21:12:51.552Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:51.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3104cb42cc0cfa53ea741e31c981e9eb4cc7d98-4b37bb53f3e3a105-01 outer:exit 2b-f3104cb42cc0cfa53ea741e31c981e9eb4cc7d98-18531a3174eff692-01
2022-04-21T21:12:51.554Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:51.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3d4541265decaa988b9129ed529deb03c732ca4-2ad7a5ea4796c94a-01 outer:exit 2b-c3d4541265decaa988b9129ed529deb03c732ca4-58bf48b80f10c85a-01
2022-04-21T21:12:51.557Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:51.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-a98ecbe2ce777a135b3b4417db2517c63f55e428-de49f5e7365ba072-01 outer:exit 2b-a98ecbe2ce777a135b3b4417db2517c63f55e428-b653f555334d1c44-01
2022-04-21T21:12:51.559Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:51.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-35cf49cc0076e31b4c404c82d9ad8a81dd326605-26605e80b0770330-01 outer:exit 2b-35cf49cc0076e31b4c404c82d9ad8a81dd326605-c59f3e4842f24645-01
2022-04-21T21:12:51.561Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:51.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fe6ffdc2957fea784565e9eabaa872c5473ca2d-e7a06732c7721988-01 outer:exit 2b-8fe6ffdc2957fea784565e9eabaa872c5473ca2d-edaf91a5a86d0ab8-01
2022-04-21T21:12:51.563Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:51.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0bbea21e216950063afb5383faad80f67691ff8-c5bb5066448a0f5c-01 outer:exit 2b-f0bbea21e216950063afb5383faad80f67691ff8-bc15ee3a8a7bee9f-01
2022-04-21T21:12:51.565Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:51.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0224634097c248cff3d6351e6acf934515520fd-14a33d87b6f68e05-01 outer:exit 2b-b0224634097c248cff3d6351e6acf934515520fd-24ca647fa8c4bdfc-01
2022-04-21T21:12:51.566Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:51.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-c90198498e13bdd97711d59d580b58d17f3f9a30-6142a32239b1d2f7-01 outer:exit 2b-c90198498e13bdd97711d59d580b58d17f3f9a30-8f020cbae56545be-01
2022-04-21T21:12:51.569Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:51.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fedf457e78db07ef1f39e64fa42d06f0357b580-b98da7bd64ace158-01 outer:exit 2b-9fedf457e78db07ef1f39e64fa42d06f0357b580-d858f73d48743abb-01
2022-04-21T21:12:51.572Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:51.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fd33f2c83aa8dbd364ecfc2a62a11d70b3d4fdc-d1f69d4d1a0a68e0-01 outer:exit 2b-5fd33f2c83aa8dbd364ecfc2a62a11d70b3d4fdc-0cb68ec9dcc386c4-01
2022-04-21T21:12:51.574Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:51.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-945ccf8065ff12bd0bdedd95c2f32822ba5e2bc8-33c6078c843b5106-01 outer:exit 2b-945ccf8065ff12bd0bdedd95c2f32822ba5e2bc8-78c5f7d746915c85-01
2022-04-21T21:12:51.576Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:51.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44e3101da9f9de7ce46946559dc5b848c6d38c6-c5e97878aba59b2e-01 outer:exit 2b-e44e3101da9f9de7ce46946559dc5b848c6d38c6-023dba3337d72873-01
2022-04-21T21:12:51.582Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:51.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-264a4b493b8ab4571d6eacf21f3d5048af6c1dc3-a1efd62c6968f65e-01 outer:exit 2b-264a4b493b8ab4571d6eacf21f3d5048af6c1dc3-67dfb73f13f5aa0d-01
2022-04-21T21:12:51.588Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:51.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-16ea0236c17c3ee868d0fddb2e3d5b966b13c8e2-de073a78df1a9028-01 outer:exit 2b-16ea0236c17c3ee868d0fddb2e3d5b966b13c8e2-760d9becdba29ef8-01
2022-04-21T21:12:51.597Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:51.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-be9918789737b943982e423aff64706d2371aa37-c72120c8be1e47a9-01 outer:exit 2b-be9918789737b943982e423aff64706d2371aa37-1a1954a378574273-01
2022-04-21T21:12:51.605Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:51.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-cadaff6fb9f76e2acbd49762cc8b4bd6d484fa24-2b096810c8d86a23-01 outer:exit 2b-cadaff6fb9f76e2acbd49762cc8b4bd6d484fa24-213338814e238746-01
2022-04-21T21:12:51.607Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:51.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-161c92e2299aa693e3de7ab1e5f25e3ed65e5633-e87bfbe580e355f5-01 outer:exit 2b-161c92e2299aa693e3de7ab1e5f25e3ed65e5633-0a209aaf584b6a4a-01
2022-04-21T21:12:51.611Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:51.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaa1d07c2caecbfb145f4fd69209b026da82da9c-befe0c53764ddd0d-01 outer:exit 2b-eaa1d07c2caecbfb145f4fd69209b026da82da9c-b04086caea98e579-01
2022-04-21T21:12:51.619Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:51.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-aae0e6cbc740978c694a298bf10580db9915e581-d0b50d603a04ed27-01 outer:exit 2b-aae0e6cbc740978c694a298bf10580db9915e581-ab90d33cd4401a2a-01
2022-04-21T21:12:51.621Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:51.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd4f51088c24d9cb68d0e274ada09081d6fb079d-eb321abf881de49e-01 outer:exit 2b-cd4f51088c24d9cb68d0e274ada09081d6fb079d-a6c43224d2a6cef4-01
2022-04-21T21:12:51.623Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:51.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9e405105ce4f54a7b9da76aa6f7f86ab2dcb669-78dc17c9b40e2386-01 outer:exit 2b-e9e405105ce4f54a7b9da76aa6f7f86ab2dcb669-16fb1852fb9827dd-01
2022-04-21T21:12:51.625Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:51.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-e54443ed937c60f3ed1edf12ffeff9eef9a02115-d48b928122e7fa29-01 outer:exit 2b-e54443ed937c60f3ed1edf12ffeff9eef9a02115-0d041f6f8a451738-01
2022-04-21T21:12:51.626Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:51.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-52590236f457bc65cb71dc35878bdedff8c8e8e5-94c7f1c59ab3e265-01 outer:exit 2b-52590236f457bc65cb71dc35878bdedff8c8e8e5-f0fd43e145ad0706-01
2022-04-21T21:12:51.629Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:51.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-799f1de93af6c01b50f1ca320942a7bb8d52e8d5-82657ec82955ca76-01 outer:exit 2b-799f1de93af6c01b50f1ca320942a7bb8d52e8d5-846b457efc83891e-01
2022-04-21T21:12:51.640Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:51.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-5aeb30832d8f5ea0297badc43790ea0920549142-d69e7ef3d822d0e6-01 outer:exit 2b-5aeb30832d8f5ea0297badc43790ea0920549142-3df084eb29413fce-01
2022-04-21T21:12:51.648Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:51.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-59b50463204c6369cc4039e34c32efcdfc0adc4b-ed92bda09204056c-01 outer:exit 2b-59b50463204c6369cc4039e34c32efcdfc0adc4b-923f025ad23b28d2-01
2022-04-21T21:12:51.651Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:51.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-4be02fe5e5908a8df91f9dbe368df6e00368d527-395f4c312c14f511-01 outer:exit 2b-4be02fe5e5908a8df91f9dbe368df6e00368d527-3d44b443c6cb1cf2-01
2022-04-21T21:12:51.654Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:51.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe67e81316624e98816c6e5455939155876f817e-cf5405fb2dc75f43-01 outer:exit 2b-fe67e81316624e98816c6e5455939155876f817e-987e6cee175f0bce-01
2022-04-21T21:12:51.661Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:51.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd585405ddebc79e9c8385a63f0929099aa7df86-a3f46e9b6466628a-01 outer:exit 2b-cd585405ddebc79e9c8385a63f0929099aa7df86-f194d6ab38ddfb20-01
2022-04-21T21:12:51.693Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (369ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:58.315Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:58.315Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:58.316Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:58.316Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:58.376Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:58.490Z appoptics:patching patched crypto 
2022-04-21T21:12:58.508Z appoptics:patching patched https 
2022-04-21T21:12:58.509Z appoptics:patching patched http 
2022-04-21T21:12:58.552Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:58.552Z appoptics:patching patched fs 
2022-04-21T21:12:58.577Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v18.0.0)
2022-04-21T21:12:58.582Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-21T21:12:58.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-fed68b488c5b60cf9c8983f4417b356c46d238d4-3e7d70b385fa601a-01 outer:exit 2b-fed68b488c5b60cf9c8983f4417b356c46d238d4-9fb6b12bb5bfc3fc-01
2022-04-21T21:12:58.631Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:12:58.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c5447bf803e2ab9f61e244be9175c594e85966f-af5b501d757699a8-01 outer:exit 2b-8c5447bf803e2ab9f61e244be9175c594e85966f-f81eaacf5214ce8c-01
2022-04-21T21:12:58.673Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:12:58.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-5006ace981ac4e7973569935e90dfbb5f6888411-05d10721deed892f-01 outer:exit 2b-5006ace981ac4e7973569935e90dfbb5f6888411-ac930f76b69bc86c-01
2022-04-21T21:12:58.677Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:12:58.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4be3e957cfa670b135e79c77846352a4716adc0-7673c43c5964d446-01 outer:exit 2b-d4be3e957cfa670b135e79c77846352a4716adc0-d101393b87577c33-01
2022-04-21T21:12:58.680Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:12:58.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0bf84d1fd7a4cd56bd181242314b73dc9319185-76b854a66c512e49-01 outer:exit 2b-e0bf84d1fd7a4cd56bd181242314b73dc9319185-152fa1b524e5ebab-01
2022-04-21T21:12:58.684Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:12:58.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-7716e5440dfab965ebe5de44516dbc47010cc88a-cf1605d7286ad0e2-01 outer:exit 2b-7716e5440dfab965ebe5de44516dbc47010cc88a-4dcd9433284245fb-01
2022-04-21T21:12:58.687Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:12:58.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-97a650b73b9c862168e9b7e4c65f9e589d517151-67917fdf7be6b181-01 outer:exit 2b-97a650b73b9c862168e9b7e4c65f9e589d517151-3ef68fbf08a155d0-01
2022-04-21T21:12:58.690Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:12:58.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-10ea2693eaf3ee4ea9fef82128b1ea310bbde931-cde6cc89bdf164f7-01 outer:exit 2b-10ea2693eaf3ee4ea9fef82128b1ea310bbde931-f448c517a98ff5f3-01
2022-04-21T21:12:58.692Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:12:58.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4aa4bc70c25b41c09627826942368f9d93fe4a8-6dcaab2d8659717a-01 outer:exit 2b-b4aa4bc70c25b41c09627826942368f9d93fe4a8-d7769235d532c03e-01
2022-04-21T21:12:58.695Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:12:58.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-576efeca609804dfa3a000c8b786403b456477d9-cc8fd54f1014805b-01 outer:exit 2b-576efeca609804dfa3a000c8b786403b456477d9-99c054cf984383e6-01
2022-04-21T21:12:58.700Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:12:58.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-86c83783dcb8127f9c335247917548b3177dfa74-863ed18d81ab51a2-01 outer:exit 2b-86c83783dcb8127f9c335247917548b3177dfa74-fd440890675d121b-01
2022-04-21T21:12:58.704Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:12:58.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c0a3e11176db958efecaa1598513fa71a788859-045e5f787aca5e9a-01 outer:exit 2b-7c0a3e11176db958efecaa1598513fa71a788859-c9da36532b01396c-01
2022-04-21T21:12:58.710Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:12:58.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ef60baa7cd4bb688f5ecc702007c652bd75bacf-435a16608046e2f1-01 outer:exit 2b-8ef60baa7cd4bb688f5ecc702007c652bd75bacf-ada514da276ad49e-01
2022-04-21T21:12:58.726Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:12:58.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-6405d41b733a05a7df027394df652a19e0ddf75f-0c1af3ebd1fb719b-01 outer:exit 2b-6405d41b733a05a7df027394df652a19e0ddf75f-d6759c9484370e8b-01
2022-04-21T21:12:58.764Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:12:58.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-76945c9a7857d304ac6a6847aa17e25e79736627-98a47dfd57afdd20-01 outer:exit 2b-76945c9a7857d304ac6a6847aa17e25e79736627-6b8d0a63fc8010d5-01
2022-04-21T21:12:58.767Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:12:58.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-9437b409b48612adb42b26656a6fa55c1077dd72-f9d74774ad05a059-01 outer:exit 2b-9437b409b48612adb42b26656a6fa55c1077dd72-c0fdc5199c6f6857-01
2022-04-21T21:12:58.769Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:12:58.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-450d1f45f7cca28e449fbe27eb6bf5616e0e7a0a-e0da6f86eb9f3e1a-01 outer:exit 2b-450d1f45f7cca28e449fbe27eb6bf5616e0e7a0a-7d3b54c966e55475-01
2022-04-21T21:12:58.772Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:12:58.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d0b19681132c4be43082e6f1362ea1f0368c3eb-370d569a579db0ef-01 outer:exit 2b-6d0b19681132c4be43082e6f1362ea1f0368c3eb-6189797eeecc529e-01
2022-04-21T21:12:58.774Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:12:58.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0d1ffcf608405078d9e5a02e732fa913bdfd8cc-9cf2b08df2476afc-01 outer:exit 2b-a0d1ffcf608405078d9e5a02e732fa913bdfd8cc-abfb18f1d78a6993-01
2022-04-21T21:12:58.776Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:12:58.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-0431e437e16693bd1e3334fea4fd02defd059af9-5b65c9513789edf6-01 outer:exit 2b-0431e437e16693bd1e3334fea4fd02defd059af9-ee78b144077f55b5-01
2022-04-21T21:12:58.778Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:12:58.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-068a2f392c23eee8c23cbfc808d0f2782ce3e9ae-3520726ebe4138b8-01 outer:exit 2b-068a2f392c23eee8c23cbfc808d0f2782ce3e9ae-b8197f67ba48feb9-01
2022-04-21T21:12:58.780Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:12:58.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ea07ba3e5e9d99d0eed4e7ed561b6f1a9d3ce69-f86b3395cdfbb1e8-01 outer:exit 2b-8ea07ba3e5e9d99d0eed4e7ed561b6f1a9d3ce69-3796b6f5c47bd59f-01
2022-04-21T21:12:58.782Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:12:58.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-02d1e49fd805545d3ad08cbfa66cecf9025c628f-b86bbb5e6c4bb068-01 outer:exit 2b-02d1e49fd805545d3ad08cbfa66cecf9025c628f-88a749ae747282bd-01
2022-04-21T21:12:58.785Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:12:58.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a35f9be95e6d8c01f1f30644d05ae2577a8b136-820c41db01b902a9-01 outer:exit 2b-5a35f9be95e6d8c01f1f30644d05ae2577a8b136-8a7562fa7382924d-01
2022-04-21T21:12:58.788Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:12:58.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e40a634ef6361dda771e44def7073bb92b2813f-34541599150d0479-01 outer:exit 2b-9e40a634ef6361dda771e44def7073bb92b2813f-83bc99a3823214c4-01
2022-04-21T21:12:58.790Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:12:58.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-589dc1daef547cf309e7fb9881f1a2360ba2cf5b-4e0362ccb69643ee-01 outer:exit 2b-589dc1daef547cf309e7fb9881f1a2360ba2cf5b-57cf45df5bfbc481-01
2022-04-21T21:12:58.792Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:12:58.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fa5236ea6d7d56584040be2e237b025ec819c44-da05aaabba15b83c-01 outer:exit 2b-0fa5236ea6d7d56584040be2e237b025ec819c44-1ad7ab804be086d6-01
2022-04-21T21:12:58.798Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:12:58.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a9ffc5c7a73f866f4afd35743534982d57f4d08-19cae14aca9e53df-01 outer:exit 2b-3a9ffc5c7a73f866f4afd35743534982d57f4d08-d8f21751ad169530-01
2022-04-21T21:12:58.804Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:12:58.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-14436845cd1be524bef5e43cc4dc673b7064a41d-9e7b8f4daad84841-01 outer:exit 2b-14436845cd1be524bef5e43cc4dc673b7064a41d-a2d68a40ddf2ff02-01
2022-04-21T21:12:58.812Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:12:58.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-029778abd60549d544e811baec65bdbdc64a95ef-1d5aa8aa2b3e7efd-01 outer:exit 2b-029778abd60549d544e811baec65bdbdc64a95ef-2e5b1438f51fbd98-01
2022-04-21T21:12:58.819Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:12:58.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-522eccc6cb1d6d2851c80d82d9bdb1dbe6f6ff49-d2ddcb366f06bc04-01 outer:exit 2b-522eccc6cb1d6d2851c80d82d9bdb1dbe6f6ff49-80f18491b487d15e-01
2022-04-21T21:12:58.821Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:12:58.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cb958184722ce44fb1a08f8ea3a58a31689ef1f-12938936802be1fc-01 outer:exit 2b-5cb958184722ce44fb1a08f8ea3a58a31689ef1f-d2f034c079b444f9-01
2022-04-21T21:12:58.824Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:12:58.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a58ff54f77b7546668c0eb84abc360ef32c2309-da8f9067bd1f7888-01 outer:exit 2b-1a58ff54f77b7546668c0eb84abc360ef32c2309-d753f13c874aaba9-01
2022-04-21T21:12:58.831Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:12:58.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-136cb6c402656afe9391a9143b034647d0cff91c-42f6c8c10fdbc443-01 outer:exit 2b-136cb6c402656afe9391a9143b034647d0cff91c-76ff5f8b3a79df93-01
2022-04-21T21:12:58.833Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:12:58.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-70616f1bb836f364036788ed631e247fbcfad25d-6de3fa06037e4ec3-01 outer:exit 2b-70616f1bb836f364036788ed631e247fbcfad25d-b0ea42131ae3b6bd-01
2022-04-21T21:12:58.835Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:12:58.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-86cedd906fbec32dba7dc6e30fcaafa01896dd6a-03d8e0de694e1236-01 outer:exit 2b-86cedd906fbec32dba7dc6e30fcaafa01896dd6a-d98c4a7e8c2af5c4-01
2022-04-21T21:12:58.838Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:12:58.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbe5ecc4116cc6d8116ff9923164306ab2fdf065-4f02b6e039b88091-01 outer:exit 2b-fbe5ecc4116cc6d8116ff9923164306ab2fdf065-b1ecad2d4ff1cbca-01
2022-04-21T21:12:58.840Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:12:58.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6dbd96a063f7f97dc5ff5197e65640967d7d16f-d74d4bd6a9d0bcb7-01 outer:exit 2b-a6dbd96a063f7f97dc5ff5197e65640967d7d16f-0abdd93e52cd1cb3-01
2022-04-21T21:12:58.842Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:12:58.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-b845859ca6f5e87e3245c1527fc354aa8cc2182b-7cfd6cb586fe4da7-01 outer:exit 2b-b845859ca6f5e87e3245c1527fc354aa8cc2182b-6a8f2b79cc72355d-01
2022-04-21T21:12:58.852Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:12:58.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-502d1a7874c2293c343b96fbbe42a6d89b7e29e9-a60fb5e57f82bb58-01 outer:exit 2b-502d1a7874c2293c343b96fbbe42a6d89b7e29e9-6d3769177cb25c0b-01
2022-04-21T21:12:58.862Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:12:58.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-2734001b38538fb560f93ab79b4bdf2c78cc6958-d7f71c9c521ac1a6-01 outer:exit 2b-2734001b38538fb560f93ab79b4bdf2c78cc6958-c24e348c89124721-01
2022-04-21T21:12:58.865Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:12:58.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e24dd9a2526b22d41f3f44177bfd82887e92aeb-4fe661303ea31536-01 outer:exit 2b-3e24dd9a2526b22d41f3f44177bfd82887e92aeb-72d818b60c689314-01
2022-04-21T21:12:58.867Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:12:58.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-b60dd6942635436aeb8037bc6985be07eda6737d-fddd48a298910b25-01 outer:exit 2b-b60dd6942635436aeb8037bc6985be07eda6737d-f0091d7528e60ed2-01
2022-04-21T21:12:58.869Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:12:58.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5c338587cf365e941febd01e3fc8c4dbce4b8f7-c76d7b719888c95b-01 outer:exit 2b-b5c338587cf365e941febd01e3fc8c4dbce4b8f7-3fa69154dec8cb8c-01
2022-04-21T21:12:58.898Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (311ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:05.552Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:05.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:05.553Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:05.554Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:05.647Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:05.792Z appoptics:patching patched crypto 
2022-04-21T21:13:05.836Z appoptics:patching patched https 
2022-04-21T21:13:05.837Z appoptics:patching patched http 
2022-04-21T21:13:05.887Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:05.888Z appoptics:patching patched fs 
2022-04-21T21:13:05.922Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v18.0.0)
2022-04-21T21:13:05.930Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-21T21:13:05.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-7661e6f00882d587f6cf4af87facbba54d066dce-ae2ad836d9aa1ddf-01 outer:exit 2b-7661e6f00882d587f6cf4af87facbba54d066dce-1bce073a1c9bbed1-01
2022-04-21T21:13:05.992Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:13:06.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f66833680be143c0c0011c183035258e50d5db8-c2249a899a26f1e4-01 outer:exit 2b-1f66833680be143c0c0011c183035258e50d5db8-5b29fbf953192e98-01
2022-04-21T21:13:06.042Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:13:06.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-d58155ab3d5d6beda28cf11df66392e680c2fb0e-6dc9826b521ab430-01 outer:exit 2b-d58155ab3d5d6beda28cf11df66392e680c2fb0e-4121263c765fe47e-01
2022-04-21T21:13:06.047Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:13:06.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb74b907c79097acb0c0ff2f61f6782bcc94248b-ba6b77c0a2c419dc-01 outer:exit 2b-cb74b907c79097acb0c0ff2f61f6782bcc94248b-16ea1b78adf27e29-01
2022-04-21T21:13:06.053Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:13:06.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-4471e3bdbc30de8f8460f8fd789f6a52c35afa6b-1a785222528c819b-01 outer:exit 2b-4471e3bdbc30de8f8460f8fd789f6a52c35afa6b-45659e3ac018114a-01
2022-04-21T21:13:06.064Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:13:06.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-17719db9fed1f82a8e095ee90861f2a35b3695de-f6a4ea11688ebf71-01 outer:exit 2b-17719db9fed1f82a8e095ee90861f2a35b3695de-c5cd389761e62e20-01
2022-04-21T21:13:06.068Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:13:06.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-6615dd3e8802fbecd895445e7893886750edcd40-f823f7cda3457569-01 outer:exit 2b-6615dd3e8802fbecd895445e7893886750edcd40-b82de161f934b180-01
2022-04-21T21:13:06.071Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:13:06.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b17956c3df9eded0aa22050756691fdb2f6d46-7aeeba7eaa5bbbb1-01 outer:exit 2b-a0b17956c3df9eded0aa22050756691fdb2f6d46-5a51f50a6b5008c5-01
2022-04-21T21:13:06.075Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:13:06.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9a0dc7490e2cf054e3578aaed851efd12e65e4e-dca75ded67be3d3a-01 outer:exit 2b-a9a0dc7490e2cf054e3578aaed851efd12e65e4e-1fe708854604d477-01
2022-04-21T21:13:06.080Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:13:06.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-f62649a90603fc7cbd0d6c2a42ce6a86b6c4807a-59ef96ea34ff6d10-01 outer:exit 2b-f62649a90603fc7cbd0d6c2a42ce6a86b6c4807a-905dd33be0d7d6b6-01
2022-04-21T21:13:06.086Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:13:06.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7e5e1e8aea0aeb263356d25e2e6bed54eb2ee80-69b9b83aa8bdd7ad-01 outer:exit 2b-a7e5e1e8aea0aeb263356d25e2e6bed54eb2ee80-144e630fe9173358-01
2022-04-21T21:13:06.093Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:13:06.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-aff09216d1ff91c7838646c9d641abfde1c9bcaf-22e212b135085c96-01 outer:exit 2b-aff09216d1ff91c7838646c9d641abfde1c9bcaf-1d66320c6e604415-01
2022-04-21T21:13:06.108Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:13:06.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-5aba902c4b5de7f8969d7494bb60a1ec255e0c6a-55662759745e8e1e-01 outer:exit 2b-5aba902c4b5de7f8969d7494bb60a1ec255e0c6a-0aeff212dbac4866-01
2022-04-21T21:13:06.132Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:13:06.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c2ec3ef74603659249a7d48408c53ecb4ff60a8-db10e7ffc699c5c7-01 outer:exit 2b-6c2ec3ef74603659249a7d48408c53ecb4ff60a8-f66cc4dba5147205-01
2022-04-21T21:13:06.174Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:13:06.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9ab6493da53cd6161a271ac5f58804cb5a4e90c-ef871700e436b04e-01 outer:exit 2b-e9ab6493da53cd6161a271ac5f58804cb5a4e90c-8e6e0f05b11e4468-01
2022-04-21T21:13:06.177Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:13:06.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a2e19ef25b6ffb3b23443728a2d2accbb1b62c5-fb32e93548a52d2b-01 outer:exit 2b-7a2e19ef25b6ffb3b23443728a2d2accbb1b62c5-4652ada22e6aed52-01
2022-04-21T21:13:06.180Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:13:06.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-924fb0429ea4a667385a37a2d536ae0e4c50133a-eb5bf1702f757e1e-01 outer:exit 2b-924fb0429ea4a667385a37a2d536ae0e4c50133a-bbeb57fa01af5d3b-01
2022-04-21T21:13:06.183Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:13:06.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-66b5d911c65e60b416608bc46d911d03aac8f07f-65aa2e3cc78c9ca5-01 outer:exit 2b-66b5d911c65e60b416608bc46d911d03aac8f07f-1b2ba11862926058-01
2022-04-21T21:13:06.186Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:13:06.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-082c3995e48a4cc3f8f6ff9fbf6b47e6cf16364b-27a6a5003b10d2e0-01 outer:exit 2b-082c3995e48a4cc3f8f6ff9fbf6b47e6cf16364b-a751d96c620e570f-01
2022-04-21T21:13:06.189Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:13:06.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-f675f01f4470d27f5cee0aad7dc13424cbc597c4-2c0f98b7991b0d73-01 outer:exit 2b-f675f01f4470d27f5cee0aad7dc13424cbc597c4-4731bc6bcc6e20cf-01
2022-04-21T21:13:06.192Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:13:06.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c40dbe4cfcba5a2d18cc9efd6112230073d791f-7aa954b894527f4b-01 outer:exit 2b-0c40dbe4cfcba5a2d18cc9efd6112230073d791f-d1454bd6068a7df2-01
2022-04-21T21:13:06.197Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:13:06.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b6c85f54f59fb5b141c6fe8f6da063b30dfba78-667785de6840d820-01 outer:exit 2b-9b6c85f54f59fb5b141c6fe8f6da063b30dfba78-ef5ceef60793db1f-01
2022-04-21T21:13:06.200Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:13:06.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-4da27ccb15f06a93c10fb8bd873299d47ed26d8a-fc632a936bf4636b-01 outer:exit 2b-4da27ccb15f06a93c10fb8bd873299d47ed26d8a-fef013315fab5152-01
2022-04-21T21:13:06.204Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:13:06.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-2545b3430c0345b9556fdf9c4353061205575f19-1754547c4092ec49-01 outer:exit 2b-2545b3430c0345b9556fdf9c4353061205575f19-39bc2e9ff2dc7591-01
2022-04-21T21:13:06.207Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:13:06.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-91af7e84c1251647b4f5d8672406b9370f8c8ef5-e84b90531ffedb06-01 outer:exit 2b-91af7e84c1251647b4f5d8672406b9370f8c8ef5-3a0cde47cd160813-01
2022-04-21T21:13:06.210Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:13:06.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab9053c2f4325079d7d093112cfea12bf3a2a868-8d71b014c9073704-01 outer:exit 2b-ab9053c2f4325079d7d093112cfea12bf3a2a868-fb0e174e1f42ceaf-01
2022-04-21T21:13:06.212Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:13:06.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-f852954fc10bef42fdf2aaeefd2e368fbddfc555-bda07b86b9a6dafd-01 outer:exit 2b-f852954fc10bef42fdf2aaeefd2e368fbddfc555-73548abee7c50b44-01
2022-04-21T21:13:06.218Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:13:06.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-22a4d1b25bb48e27b93a3c002d688fcaa337ca34-dd1cdf11f27a906d-01 outer:exit 2b-22a4d1b25bb48e27b93a3c002d688fcaa337ca34-4e2d3e6c94d9225e-01
2022-04-21T21:13:06.224Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:13:06.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b56e786630fb75756d449a16ca7a4c2e9eedb7-bd65b52fe3c1b903-01 outer:exit 2b-a1b56e786630fb75756d449a16ca7a4c2e9eedb7-9ac1da13671453d1-01
2022-04-21T21:13:06.239Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:13:06.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-52821d926b2eb127b501cacd626988c6b1186d7c-201069f626c1ecec-01 outer:exit 2b-52821d926b2eb127b501cacd626988c6b1186d7c-6f3c5a0427769b5c-01
2022-04-21T21:13:06.245Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:13:06.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-9949b0586fd3662d7490b1737c19efb0db6867f1-ef3891f4c28c1c11-01 outer:exit 2b-9949b0586fd3662d7490b1737c19efb0db6867f1-77d1556bf182380c-01
2022-04-21T21:13:06.248Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:13:06.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7f361759074784003ad26c33d1ecf8c36a7f966-a927cf686af03bb9-01 outer:exit 2b-c7f361759074784003ad26c33d1ecf8c36a7f966-fb592e62f7265b1b-01
2022-04-21T21:13:06.251Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:13:06.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-47ea320c67634d70f1f6a179ac973c2b214c915a-461b81c6036fb18d-01 outer:exit 2b-47ea320c67634d70f1f6a179ac973c2b214c915a-90770f3cb5cf39ac-01
2022-04-21T21:13:06.258Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:13:06.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-f94f7113146abd1fb094366e33956da8d211dd10-51deebb9b24ad930-01 outer:exit 2b-f94f7113146abd1fb094366e33956da8d211dd10-150c3c0e80a61bbf-01
2022-04-21T21:13:06.260Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:13:06.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d9bc816023ba4311fe563f2ee4d5f51c62619d2-c2d086a287dc584c-01 outer:exit 2b-7d9bc816023ba4311fe563f2ee4d5f51c62619d2-ecd05421cc431611-01
2022-04-21T21:13:06.262Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:13:06.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-f37701cbb8fbe14d8031d5802926c54326c8c7ff-7268b4cb6120ef05-01 outer:exit 2b-f37701cbb8fbe14d8031d5802926c54326c8c7ff-a6d09ab04366f2b0-01
2022-04-21T21:13:06.264Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:13:06.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-dabd89f0a1a51f3a7d4c0b4e840d02da8ba306c9-580bfc0405e8c2f6-01 outer:exit 2b-dabd89f0a1a51f3a7d4c0b4e840d02da8ba306c9-f0a7cae71ed6ae5e-01
2022-04-21T21:13:06.266Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:13:06.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e79769d06fb6fb72d88fc226501dfb04de69e6a-1c2e166cb574bec6-01 outer:exit 2b-8e79769d06fb6fb72d88fc226501dfb04de69e6a-93da4a741300769e-01
2022-04-21T21:13:06.271Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:13:06.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-7773d19850dc3633ef66f17047a3e183369267c1-c60bd66e468d03b2-01 outer:exit 2b-7773d19850dc3633ef66f17047a3e183369267c1-4f3c4c22a21c0adc-01
2022-04-21T21:13:06.281Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:13:06.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3e6b4ac021815fb00dddffd0cf1f5b34c774c99-19d490797ab2c128-01 outer:exit 2b-b3e6b4ac021815fb00dddffd0cf1f5b34c774c99-e83e8d07f7319708-01
2022-04-21T21:13:06.290Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:13:06.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4823fd8181d077858ff896e1d5495132f5da194-fb46bdcf9920ba12-01 outer:exit 2b-e4823fd8181d077858ff896e1d5495132f5da194-95d89ab76571c01c-01
2022-04-21T21:13:06.293Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:13:06.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-d025289538fc776f845a6e660743dbef020bd40a-a916a31b16f41f99-01 outer:exit 2b-d025289538fc776f845a6e660743dbef020bd40a-488514a02f0200d5-01
2022-04-21T21:13:06.295Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:13:06.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-9994f0943e0fd537f409cf2b7b5fa385c6c06919-1b66f184ea351136-01 outer:exit 2b-9994f0943e0fd537f409cf2b7b5fa385c6c06919-efd64df7e9810697-01
2022-04-21T21:13:06.298Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:13:06.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0bd87ac969e8b7002dea0707e1c8b6f7b7996ff-7dbede08273e237a-01 outer:exit 2b-c0bd87ac969e8b7002dea0707e1c8b6f7b7996ff-02cb64759190f536-01
2022-04-21T21:13:06.326Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (388ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:12.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:12.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:12.418Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:12.419Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:12.480Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:12.595Z appoptics:patching patched crypto 
2022-04-21T21:13:12.615Z appoptics:patching patched https 
2022-04-21T21:13:12.615Z appoptics:patching patched http 
2022-04-21T21:13:12.677Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:12.677Z appoptics:patching patched fs 
2022-04-21T21:13:12.709Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v18.0.0)
2022-04-21T21:13:12.716Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-21T21:13:12.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6c3493ac9aba64101265b60c0b2a99708293e02-33b0a6c59212b7f4-01 outer:exit 2b-b6c3493ac9aba64101265b60c0b2a99708293e02-e01f13727180b95f-01
2022-04-21T21:13:12.772Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:13:12.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-9176ed72730a472dc608e381dfc6858131bb9e08-c64187b5a0bf3b7b-01 outer:exit 2b-9176ed72730a472dc608e381dfc6858131bb9e08-d43ba62ff5567d1a-01
2022-04-21T21:13:12.816Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:13:12.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e79eeccd3d3bcb52f9776c9e15765568a7fe64a-501666550fb586e3-01 outer:exit 2b-2e79eeccd3d3bcb52f9776c9e15765568a7fe64a-ab1bfa6e548e93f1-01
2022-04-21T21:13:12.820Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:13:12.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-92fae8ecf5d07dfd1047a097b65ee0b52cec67d8-780c5b37b1d10061-01 outer:exit 2b-92fae8ecf5d07dfd1047a097b65ee0b52cec67d8-38ddcc7fd1bc4a24-01
2022-04-21T21:13:12.823Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:13:12.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ee17b3ae40e6940542c8d326a10d8dcaeb37a0-6feb1a3c8c0afd8f-01 outer:exit 2b-83ee17b3ae40e6940542c8d326a10d8dcaeb37a0-2bfb607c0df62aac-01
2022-04-21T21:13:12.829Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:13:12.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-af16a20a50133ca45422cd1a6cc8a8a7c3754b42-de176e09bdf8c035-01 outer:exit 2b-af16a20a50133ca45422cd1a6cc8a8a7c3754b42-88f5525e4fb89815-01
2022-04-21T21:13:12.832Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:13:12.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-517e8f725dd3d8871120f507c745a7c3e62ca4e0-f0838a28adc8268b-01 outer:exit 2b-517e8f725dd3d8871120f507c745a7c3e62ca4e0-fcc315a6f69ea678-01
2022-04-21T21:13:12.836Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:13:12.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b8fb571462db002942577da6acd8cba2f8bb1d-f07ec2e27b44c3ee-01 outer:exit 2b-82b8fb571462db002942577da6acd8cba2f8bb1d-f90f5db135fd1b7a-01
2022-04-21T21:13:12.839Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:13:12.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-5af3dfee45a8f1b8da3370c614fb34a7c5f44eee-c0caafa8b485b71b-01 outer:exit 2b-5af3dfee45a8f1b8da3370c614fb34a7c5f44eee-71037791209c2303-01
2022-04-21T21:13:12.842Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:13:12.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f302065934b93c88af2f1bd1718b06cd5e764f0-5eede4b43ccf3fef-01 outer:exit 2b-9f302065934b93c88af2f1bd1718b06cd5e764f0-c8107f21b1b24d58-01
2022-04-21T21:13:12.847Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:13:12.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-611da582b5d2b30a9e850122d6d38176c2473902-7c18cb75c0d59f4c-01 outer:exit 2b-611da582b5d2b30a9e850122d6d38176c2473902-7031c8c5d8031c46-01
2022-04-21T21:13:12.851Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:13:12.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbac1a5378348dc2ef39a32ecc660ab01b533217-530a39d0d6cad137-01 outer:exit 2b-cbac1a5378348dc2ef39a32ecc660ab01b533217-6d8a691e05c38604-01
2022-04-21T21:13:12.858Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:13:12.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bba60b3f46832bf7e165736958d886a1e33a08c-418cdff09d67d12e-01 outer:exit 2b-8bba60b3f46832bf7e165736958d886a1e33a08c-b8edbd62cbf53645-01
2022-04-21T21:13:12.875Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:13:12.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb23c9ea060f8fee1d5442ecf3e64400c28f5531-c572b8e0aecef70f-01 outer:exit 2b-fb23c9ea060f8fee1d5442ecf3e64400c28f5531-923e8c1f61f51f7c-01
2022-04-21T21:13:12.917Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:13:12.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-755760c91b6c69530435366839e00a566b84364a-7aeb419d3531536d-01 outer:exit 2b-755760c91b6c69530435366839e00a566b84364a-150dda979279a428-01
2022-04-21T21:13:12.921Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:13:12.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cd4ee261a2410754d5e20c7283d058bac03372f-086f4ae7286f1804-01 outer:exit 2b-2cd4ee261a2410754d5e20c7283d058bac03372f-3ec611abadccb9c7-01
2022-04-21T21:13:12.923Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:13:12.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b8977b549ab0c1e6f79e51bf20816e3582a85fa-e3b5fb95523049e3-01 outer:exit 2b-6b8977b549ab0c1e6f79e51bf20816e3582a85fa-4042ed12d746bdb4-01
2022-04-21T21:13:12.926Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:13:12.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-e908beb4f7c581eaa3dc4fd9b62d409b04d3acc7-c3629859294e5ec2-01 outer:exit 2b-e908beb4f7c581eaa3dc4fd9b62d409b04d3acc7-8981a27241329c11-01
2022-04-21T21:13:12.928Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:13:12.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f32e195dbf3778d2366cdca3b41ff8281090b48-6014b7fdc4182612-01 outer:exit 2b-2f32e195dbf3778d2366cdca3b41ff8281090b48-6d7026109c6363cd-01
2022-04-21T21:13:12.931Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:13:12.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-507adf0ae168b80ccfacc8769ed651f9ead8f57e-752b9246bb9f5da4-01 outer:exit 2b-507adf0ae168b80ccfacc8769ed651f9ead8f57e-16518a33f7620f14-01
2022-04-21T21:13:12.932Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:13:12.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8940caa703dd613aa958820cac61e584f756b85-d66e706baed74147-01 outer:exit 2b-e8940caa703dd613aa958820cac61e584f756b85-73d7aac55d8a111a-01
2022-04-21T21:13:12.934Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:13:12.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1f5d903939c44af6c33e1f725cdea323e991acf-b09404e6acb1fe0b-01 outer:exit 2b-a1f5d903939c44af6c33e1f725cdea323e991acf-9a2e589ea2e1377c-01
2022-04-21T21:13:12.936Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:13:12.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-141e1a783d05025aac9cf2f7ec95f7c52c879757-f5399123a64dcad2-01 outer:exit 2b-141e1a783d05025aac9cf2f7ec95f7c52c879757-9890cc8a943532f0-01
2022-04-21T21:13:12.939Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:13:12.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcf806f53aa3d335f10c33b0bf6aacfeaa6093b8-8fd52aea85da468f-01 outer:exit 2b-dcf806f53aa3d335f10c33b0bf6aacfeaa6093b8-1435b823c53b3d1e-01
2022-04-21T21:13:12.942Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:13:12.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dc94fc0d121d68cda8fcaab78f52c809e28a609-bc6514e65909b1db-01 outer:exit 2b-3dc94fc0d121d68cda8fcaab78f52c809e28a609-bce7e807bbabfab1-01
2022-04-21T21:13:12.944Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:13:12.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d73366bdca9081d70f819a2be2d73ce76f0dcd1-2cc2d875a84825d6-01 outer:exit 2b-0d73366bdca9081d70f819a2be2d73ce76f0dcd1-cd4fa367d046bee0-01
2022-04-21T21:13:12.947Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:13:12.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d5a726ff1d6930f9aac9eb40f4fa63b3baf14ad-eca1b38211f8a3fc-01 outer:exit 2b-1d5a726ff1d6930f9aac9eb40f4fa63b3baf14ad-7828cf2444043b7c-01
2022-04-21T21:13:12.953Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:13:12.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-30fcd35f68d825ce4ec6acdf93bec5af02e08572-85fd65b8cb83205a-01 outer:exit 2b-30fcd35f68d825ce4ec6acdf93bec5af02e08572-f03e36db4d318990-01
2022-04-21T21:13:12.958Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:13:12.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6ca155c0abb27b20ec0f57cba7975932bcb3b76-1eef20d1f61e2b67-01 outer:exit 2b-a6ca155c0abb27b20ec0f57cba7975932bcb3b76-7bfab871f5a51ca2-01
2022-04-21T21:13:12.966Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:13:12.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-82fc9d67ccb08c4b96bf87b6e8854d9330a87f51-c18bc83bc60f227b-01 outer:exit 2b-82fc9d67ccb08c4b96bf87b6e8854d9330a87f51-e07ccd8a2d9dc94b-01
2022-04-21T21:13:12.973Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:13:12.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-766be4bcde709acc44c3e252bff27b11bf0d59c1-afa2ba5a19088200-01 outer:exit 2b-766be4bcde709acc44c3e252bff27b11bf0d59c1-215c641f13777e30-01
2022-04-21T21:13:12.975Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:13:12.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb66bccaf3d6ea2cf910e9da65b43b698f64f8b9-fd166c25844343d4-01 outer:exit 2b-bb66bccaf3d6ea2cf910e9da65b43b698f64f8b9-9002947e59270379-01
2022-04-21T21:13:12.979Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:13:12.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0bfb719902ef403d2935e85b7fff2573cd889ab-3cb480c4bf61b269-01 outer:exit 2b-d0bfb719902ef403d2935e85b7fff2573cd889ab-c771f4a7068c8ea1-01
2022-04-21T21:13:12.985Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:13:12.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-62dd0ca883763cac074a774bd5bbb006fbb7cfa2-b30462eaedb9dee9-01 outer:exit 2b-62dd0ca883763cac074a774bd5bbb006fbb7cfa2-eff924455c3a551a-01
2022-04-21T21:13:12.987Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:13:12.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7a25ea34c7e9f51212d9d5070703902239e609f-f2f5a3b2f55c8480-01 outer:exit 2b-b7a25ea34c7e9f51212d9d5070703902239e609f-277c4de9c4e0a9cb-01
2022-04-21T21:13:12.989Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:13:12.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-60c5348f2cba13cec537528c01643d2554801362-b625d996efb9a430-01 outer:exit 2b-60c5348f2cba13cec537528c01643d2554801362-b81092ae996a5ea8-01
2022-04-21T21:13:12.992Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:13:12.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-a995995750cb1012d1fb02e4fa9c4c58b39239c5-d7abd42a3e82bc1a-01 outer:exit 2b-a995995750cb1012d1fb02e4fa9c4c58b39239c5-6c053dc767e7915d-01
2022-04-21T21:13:12.994Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:13:12.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-a11b2b5ab84bcf6ea2efa82a130ac96e7d09b7d8-cf640906cc3496bf-01 outer:exit 2b-a11b2b5ab84bcf6ea2efa82a130ac96e7d09b7d8-bf85b6d4945d54cb-01
2022-04-21T21:13:12.996Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:13:13.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-b68c2a73cd7e544347be91ebf7a05563bff747ee-ffea6dcbf48746e1-01 outer:exit 2b-b68c2a73cd7e544347be91ebf7a05563bff747ee-7c1628f5d9156453-01
2022-04-21T21:13:13.006Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:13:13.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c463eafff57acdc30866e006993d19874cf5d67-02582242c52de138-01 outer:exit 2b-0c463eafff57acdc30866e006993d19874cf5d67-e9ff110bfe0da652-01
2022-04-21T21:13:13.014Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:13:13.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-442dff684856264b77ed8c76975eb8abc15dfbd1-34815b3fedc2d170-01 outer:exit 2b-442dff684856264b77ed8c76975eb8abc15dfbd1-f2568992e2e082a5-01
2022-04-21T21:13:13.018Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:13:13.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-6601a8f59c64317203dc2405d35e3d42491501cf-5bb96614e009c395-01 outer:exit 2b-6601a8f59c64317203dc2405d35e3d42491501cf-41e154bed3fda41f-01
2022-04-21T21:13:13.021Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:13:13.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9abdbba528ba4bbb90bacc7254e2f9a48e5a2ce-63310cdc6ef37165-01 outer:exit 2b-b9abdbba528ba4bbb90bacc7254e2f9a48e5a2ce-4686761074d10e91-01
2022-04-21T21:13:13.023Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:13:13.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-561ae666c15f071aa18e4d902d44779f6d0d0c5a-7c1f847ebeb8ee61-01 outer:exit 2b-561ae666c15f071aa18e4d902d44779f6d0d0c5a-49055a07fbdf6dec-01
2022-04-21T21:13:13.054Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (332ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 27s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:40.472Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:40.473Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:40.473Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:40.474Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:40.535Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:40.655Z appoptics:patching patched crypto 
2022-04-21T21:13:40.698Z appoptics:patching patched https 
2022-04-21T21:13:40.699Z appoptics:patching patched http 
2022-04-21T21:13:40.745Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:40.745Z appoptics:patching patched fs 
2022-04-21T21:13:40.771Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v18.0.0)
2022-04-21T21:13:40.777Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-21T21:13:40.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8bd3d80530e02dab968379d52202f6633fbbe57-5c23ffe1f760630f-01 outer:exit 2b-f8bd3d80530e02dab968379d52202f6633fbbe57-4570cebc66ac1e92-01
2022-04-21T21:13:40.823Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:13:40.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-86637758a0aa90fb6b221e3ca73a894f4858840e-898496bbf6b3abd9-01 outer:exit 2b-86637758a0aa90fb6b221e3ca73a894f4858840e-75df938c4aa1e68f-01
2022-04-21T21:13:40.869Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:13:40.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-913ea9c000d520616e71caf5abcc38bb8a7db4c3-1b27d92aceb0d582-01 outer:exit 2b-913ea9c000d520616e71caf5abcc38bb8a7db4c3-a9ac73077d420ac6-01
2022-04-21T21:13:40.873Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:13:40.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-77042e7c570b367de29fe213b36e20cb6fa1b019-00a138b486674651-01 outer:exit 2b-77042e7c570b367de29fe213b36e20cb6fa1b019-fb08c9af14df78e3-01
2022-04-21T21:13:40.876Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:13:40.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d713907f594472c6eb6f947babe34c8cd1fd3cd-4684acf6336b1bc1-01 outer:exit 2b-0d713907f594472c6eb6f947babe34c8cd1fd3cd-0be705aa7ec22b7c-01
2022-04-21T21:13:40.881Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:13:40.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-8245cb6b009bf6222e3b52057a7fa13d0535d561-ca48c2ba98c44c30-01 outer:exit 2b-8245cb6b009bf6222e3b52057a7fa13d0535d561-028c57289d778191-01
2022-04-21T21:13:40.884Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:13:40.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd8ad4f5df780b20c8dce1a33eeee9e235ed73bf-f0c0969bb0ddf176-01 outer:exit 2b-fd8ad4f5df780b20c8dce1a33eeee9e235ed73bf-b89b3799510912ae-01
2022-04-21T21:13:40.886Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:13:40.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-99a3d63c6c7f84de9e848055e39e808594a885e1-e51c1e56b3da156d-01 outer:exit 2b-99a3d63c6c7f84de9e848055e39e808594a885e1-80063ceba25887a6-01
2022-04-21T21:13:40.888Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:13:40.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-b414ec397152930a9a06c0f4b922d1f6d5f7528b-795b481d55aa5f93-01 outer:exit 2b-b414ec397152930a9a06c0f4b922d1f6d5f7528b-8b67b9eb7c329364-01
2022-04-21T21:13:40.891Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:13:40.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4bd326e782f4924ff67b160ff82c6cfc5a1a08c-2e205cd49c3c0207-01 outer:exit 2b-a4bd326e782f4924ff67b160ff82c6cfc5a1a08c-d31a213d20191725-01
2022-04-21T21:13:40.894Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:13:40.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8caca9c252edcc57784e8c3db51ae26f22bdfeb-693aa86f99403aa9-01 outer:exit 2b-c8caca9c252edcc57784e8c3db51ae26f22bdfeb-30c997d566de92e9-01
2022-04-21T21:13:40.898Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:13:40.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac8780f3ee0b8f345a519ac2fd74ff60ece666b2-6696c4ed3a5134e5-01 outer:exit 2b-ac8780f3ee0b8f345a519ac2fd74ff60ece666b2-3881b4a6b5306121-01
2022-04-21T21:13:40.904Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:13:40.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bfeaf4b974010a114744f8d317a9f4bb4a76b48-e95941eb84f3e0b5-01 outer:exit 2b-2bfeaf4b974010a114744f8d317a9f4bb4a76b48-4c4d52812ba0f7e1-01
2022-04-21T21:13:40.920Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:13:40.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-03fb9fe9517fc6a9565b9cd72aefcd72327ce00f-7fd420007b7328ff-01 outer:exit 2b-03fb9fe9517fc6a9565b9cd72aefcd72327ce00f-1e99e22f71f47cf0-01
2022-04-21T21:13:40.957Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:13:40.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-38ffe4f3d99a19e001b971c6358f8a7f25e36d4d-c927071d2c91bb1f-01 outer:exit 2b-38ffe4f3d99a19e001b971c6358f8a7f25e36d4d-536b025722410bd1-01
2022-04-21T21:13:40.961Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:13:40.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-4315c52bc0f9678ac86f082b91f4fd63a23a55da-4bf662ae96e93c76-01 outer:exit 2b-4315c52bc0f9678ac86f082b91f4fd63a23a55da-9abcf8700ab2c888-01
2022-04-21T21:13:40.963Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:13:40.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-3de4a0dbde550c6da8603ee1113468f9456e8dec-dd5e81453720398a-01 outer:exit 2b-3de4a0dbde550c6da8603ee1113468f9456e8dec-78edc18251475dda-01
2022-04-21T21:13:40.965Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:13:40.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-3beb36043aa402c169e9d1701eae58f664f15c44-8f6fca429fd5bd64-01 outer:exit 2b-3beb36043aa402c169e9d1701eae58f664f15c44-801c647166d33148-01
2022-04-21T21:13:40.968Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:13:40.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cdd93b611a12017ebbcca19c7a40dda5c98d542-c82e31818b1011af-01 outer:exit 2b-5cdd93b611a12017ebbcca19c7a40dda5c98d542-c262f4b4a4780500-01
2022-04-21T21:13:40.970Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:13:40.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-247af627df1cba75bebf31c53f7590ecf4b78784-e9bcb6e616c2fe8f-01 outer:exit 2b-247af627df1cba75bebf31c53f7590ecf4b78784-85044a18c8c865f7-01
2022-04-21T21:13:40.972Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:13:40.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd57b73a30fbc0ecfec1b12c4f4d16a5e7199500-8f221dccf287a640-01 outer:exit 2b-cd57b73a30fbc0ecfec1b12c4f4d16a5e7199500-f9352590c6c9032c-01
2022-04-21T21:13:40.973Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:13:40.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a3ef8e2e98bb0d8afd6a72650d4366c3ea9def0-96027fe30e8e3455-01 outer:exit 2b-4a3ef8e2e98bb0d8afd6a72650d4366c3ea9def0-991e847e768a25e6-01
2022-04-21T21:13:40.975Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:13:40.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae3d005762bbcdcddbcb7c51d185a779e7489458-5a2d4317b5249f0f-01 outer:exit 2b-ae3d005762bbcdcddbcb7c51d185a779e7489458-dac8415cd93a8153-01
2022-04-21T21:13:40.978Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:13:40.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-61bc495edb08285a7630007a8e85a24ddcd666ce-43695530e6457b7f-01 outer:exit 2b-61bc495edb08285a7630007a8e85a24ddcd666ce-59bdc3fb448c0791-01
2022-04-21T21:13:40.981Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:13:40.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d656e1433eb62661a24d9f727cd9b6b578e6a24-5985d9d75506a500-01 outer:exit 2b-4d656e1433eb62661a24d9f727cd9b6b578e6a24-3942990f47800b4e-01
2022-04-21T21:13:40.983Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:13:40.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-36e33e0d5cbb572824cc803cf0b790489abb7e01-ac305351cceeb1f3-01 outer:exit 2b-36e33e0d5cbb572824cc803cf0b790489abb7e01-2e24fbaf5fa92517-01
2022-04-21T21:13:40.985Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:13:40.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-186199ced0597c18d634ec37915a9efb5fd625f6-1d9ec74b7fe7bba8-01 outer:exit 2b-186199ced0597c18d634ec37915a9efb5fd625f6-245374b5cceb8d8c-01
2022-04-21T21:13:40.991Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:13:40.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a9285643cc960a53b9d84bed71625bb134ed9d6-e12e74e25acc90d5-01 outer:exit 2b-4a9285643cc960a53b9d84bed71625bb134ed9d6-8eb5c522626590e9-01
2022-04-21T21:13:40.997Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:13:41.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-92bbd64dda480d0da35f8bf7eb97c2e93b778c6e-30953de10b9a6052-01 outer:exit 2b-92bbd64dda480d0da35f8bf7eb97c2e93b778c6e-17f8d3993766b858-01
2022-04-21T21:13:41.006Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:13:41.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf7524df3fb78a1e688360735800cba1feec111e-f5a1d8d4f65a5d25-01 outer:exit 2b-bf7524df3fb78a1e688360735800cba1feec111e-3da8117cb1b1618d-01
2022-04-21T21:13:41.012Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:13:41.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-a377d92ca9ab4f933c316e95c6c1465d34bfd559-bc8ac0780316c03f-01 outer:exit 2b-a377d92ca9ab4f933c316e95c6c1465d34bfd559-59186598f3af060a-01
2022-04-21T21:13:41.014Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:13:41.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-73965031d1a490ed931d43df122d2c05f5eb5a86-f4c42459ceabeb0e-01 outer:exit 2b-73965031d1a490ed931d43df122d2c05f5eb5a86-3b198c88fc8713e7-01
2022-04-21T21:13:41.017Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:13:41.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-c78be03855043c468aa79af8120a5d36081b8ee6-a1605edc3075a398-01 outer:exit 2b-c78be03855043c468aa79af8120a5d36081b8ee6-e7f50557dbf0c93b-01
2022-04-21T21:13:41.023Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:13:41.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-840a690777ab106dabaa97267ae1dc1d0cdd7670-242d5ad86aa67968-01 outer:exit 2b-840a690777ab106dabaa97267ae1dc1d0cdd7670-44561cd96eee7e49-01
2022-04-21T21:13:41.025Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:13:41.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd6edb778a6d1b2f072de4bd6cc5fae80784a9ae-30f97589006de59b-01 outer:exit 2b-cd6edb778a6d1b2f072de4bd6cc5fae80784a9ae-3d4723025731637d-01
2022-04-21T21:13:41.027Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:13:41.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-098f0a97f280b0f6fbaadb956380d341454035b0-50143658da46f3ce-01 outer:exit 2b-098f0a97f280b0f6fbaadb956380d341454035b0-0a2e6056301bbf15-01
2022-04-21T21:13:41.029Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:13:41.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d0c58bb5ce67c2746f395cc95da3a22cfcade02-b58b64e916cb52a1-01 outer:exit 2b-5d0c58bb5ce67c2746f395cc95da3a22cfcade02-fae80194e137239a-01
2022-04-21T21:13:41.031Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:13:41.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-21c35241a10cba7fd7e49eefcf260ff57cd62ede-1c6cf3fe1a4bc56d-01 outer:exit 2b-21c35241a10cba7fd7e49eefcf260ff57cd62ede-e1501ffb30c206a1-01
2022-04-21T21:13:41.037Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:13:41.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-3beb1a5ea8918e21c0588e0b4d6ddff47b697a00-8ce36c25ea3d3588-01 outer:exit 2b-3beb1a5ea8918e21c0588e0b4d6ddff47b697a00-295ef687d08f2c3f-01
2022-04-21T21:13:41.045Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:13:41.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-584c5f14685c92a3608d71a038f741cb958f6f88-fba4f04677585111-01 outer:exit 2b-584c5f14685c92a3608d71a038f741cb958f6f88-9aad7ef6943e523c-01
2022-04-21T21:13:41.053Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:13:41.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b6a3352cf47b0638b8fb49381ca9c4d34fb203e-790282d97cad158c-01 outer:exit 2b-2b6a3352cf47b0638b8fb49381ca9c4d34fb203e-a3d147fedcb6a098-01
2022-04-21T21:13:41.056Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:13:41.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1ff4dc0777b644c32f0dfe160d50e56226b960c-962e45c0bd1d006d-01 outer:exit 2b-d1ff4dc0777b644c32f0dfe160d50e56226b960c-8ea9fe0470c46da6-01
2022-04-21T21:13:41.058Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:13:41.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe192b5541b5150969ff1096381a4079808a2ed7-7dd7e6599276d732-01 outer:exit 2b-fe192b5541b5150969ff1096381a4079808a2ed7-50a4952378b7a9e5-01
2022-04-21T21:13:41.060Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:13:41.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cac0ef02f07ab46376432eca3fa4b197f283e19-25baf25abb38fcda-01 outer:exit 2b-2cac0ef02f07ab46376432eca3fa4b197f283e19-536da94062f90078-01
2022-04-21T21:13:41.086Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (304ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:47.525Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:47.525Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:47.525Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:47.526Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:47.580Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:47.682Z appoptics:patching patched crypto 
2022-04-21T21:13:47.698Z appoptics:patching patched https 
2022-04-21T21:13:47.699Z appoptics:patching patched http 
2022-04-21T21:13:47.738Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:47.738Z appoptics:patching patched fs 
2022-04-21T21:13:47.760Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v18.0.0)
2022-04-21T21:13:47.765Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-21T21:13:47.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-247b97bf06902f625041919294fedd293b3fc7ce-42566eebdec180ef-01 outer:exit 2b-247b97bf06902f625041919294fedd293b3fc7ce-4527ab59b55dfc68-01
2022-04-21T21:13:47.806Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:13:47.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a335e3a681bbba21190437c3def435b9f521175-6871847b3b5ee55f-01 outer:exit 2b-4a335e3a681bbba21190437c3def435b9f521175-9df2aa02e824d8af-01
2022-04-21T21:13:47.850Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:13:47.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a0dfa3c73bc6a0c95846132c6fa98f3b8b83fd3-f40634cb98f3f7d4-01 outer:exit 2b-6a0dfa3c73bc6a0c95846132c6fa98f3b8b83fd3-d3017247d7413c36-01
2022-04-21T21:13:47.854Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:13:47.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-33fbc7e85aacfba78593cb01fa91a832bac5e0b1-8c3b32dba1cea4f0-01 outer:exit 2b-33fbc7e85aacfba78593cb01fa91a832bac5e0b1-5ec1def4db912175-01
2022-04-21T21:13:47.857Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:13:47.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ee1a77fc2515e2a405d97f740243c0081564dbf-134b5b9fa9e546eb-01 outer:exit 2b-0ee1a77fc2515e2a405d97f740243c0081564dbf-3bcd86ad194ba70e-01
2022-04-21T21:13:47.861Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:13:47.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-a354dd90cfaee96c166a56b1f6622d6e5cd9f30b-8e29db46f28aac02-01 outer:exit 2b-a354dd90cfaee96c166a56b1f6622d6e5cd9f30b-ccbfcd9bdca861f9-01
2022-04-21T21:13:47.864Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:13:47.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae24050e2432bdfab21b06b6835186bcb19e3f0a-81f70f890204151e-01 outer:exit 2b-ae24050e2432bdfab21b06b6835186bcb19e3f0a-0e0ca10da3e6a2b6-01
2022-04-21T21:13:47.866Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:13:47.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae2ccfe316a36fa37f7c43bca1fd48b5b6bcd361-91775086e53f39cd-01 outer:exit 2b-ae2ccfe316a36fa37f7c43bca1fd48b5b6bcd361-5a5ba06e21022095-01
2022-04-21T21:13:47.868Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:13:47.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d0e10102a54105263eb63e91c6f68281ba3eb4d-bd9a9d49cf6a7abb-01 outer:exit 2b-9d0e10102a54105263eb63e91c6f68281ba3eb4d-e15da5a8a25ca4b2-01
2022-04-21T21:13:47.871Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:13:47.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-2396f92dce435522e9ee9ada312557800c3ec180-e68c86ca80f769bb-01 outer:exit 2b-2396f92dce435522e9ee9ada312557800c3ec180-54f1aaf5d775c089-01
2022-04-21T21:13:47.874Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:13:47.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-350683789823760eab6d8aff1ddd14d6152c36f8-e882345d0b1da884-01 outer:exit 2b-350683789823760eab6d8aff1ddd14d6152c36f8-c9849e59b57aaed8-01
2022-04-21T21:13:47.879Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:13:47.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a40e3a451cb198f50cb6da00336551544c8bfaa-e5843bcf4fe3c83e-01 outer:exit 2b-9a40e3a451cb198f50cb6da00336551544c8bfaa-f31cda4be31f6697-01
2022-04-21T21:13:47.885Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:13:47.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-f43e048e5a6be654936bdbca0c39e9796a3d7eb7-081b8dc199929357-01 outer:exit 2b-f43e048e5a6be654936bdbca0c39e9796a3d7eb7-81aaf0fb1b70e11f-01
2022-04-21T21:13:47.898Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:13:47.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-782234555a12f094536c66ef08f90f6ec1aaf071-0d31a3ce81248505-01 outer:exit 2b-782234555a12f094536c66ef08f90f6ec1aaf071-4b14322ed6e30034-01
2022-04-21T21:13:47.937Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:13:47.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c66b74091694faba5d3ec238689697fa7df56f6-7ce874e4053402b1-01 outer:exit 2b-9c66b74091694faba5d3ec238689697fa7df56f6-f03ac34d8e431c5a-01
2022-04-21T21:13:47.941Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:13:47.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcc00cb4d64cf47b418d5e74d3295d5e78d71dec-c7cd749fce083026-01 outer:exit 2b-bcc00cb4d64cf47b418d5e74d3295d5e78d71dec-b3e25aeca5a83d3e-01
2022-04-21T21:13:47.943Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:13:47.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-2eabc5fc3fafae4f7558bf643a3474064ff2ab88-83884b42cd02f12d-01 outer:exit 2b-2eabc5fc3fafae4f7558bf643a3474064ff2ab88-1889b4dca3347fc3-01
2022-04-21T21:13:47.945Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:13:47.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-82996b7637983266f9a7f002b8665b57e76e3118-e5eb9cddefb9bf51-01 outer:exit 2b-82996b7637983266f9a7f002b8665b57e76e3118-35f9f97e7dd9afb4-01
2022-04-21T21:13:47.947Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:13:47.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-83fb59d5c535b7127d924d0ca9bffda75159c33c-0a35c95384274c21-01 outer:exit 2b-83fb59d5c535b7127d924d0ca9bffda75159c33c-e994a00d7870b810-01
2022-04-21T21:13:47.949Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:13:47.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ae45716afacc8064c4aed6c57341b1a3e5677d6-cc9c74f88a63f1c7-01 outer:exit 2b-6ae45716afacc8064c4aed6c57341b1a3e5677d6-f47fbdab5ac18921-01
2022-04-21T21:13:47.951Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:13:47.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-4464e463cc9cd203429e752b633cbd56407de48e-4eba05368e5f4a5c-01 outer:exit 2b-4464e463cc9cd203429e752b633cbd56407de48e-50c6df081bb3d221-01
2022-04-21T21:13:47.953Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:13:47.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-0195b5c7565bbd5ddf0457c1fb1e26c83236fe43-1d85cb29bcc3464d-01 outer:exit 2b-0195b5c7565bbd5ddf0457c1fb1e26c83236fe43-d4fe581fe56cd423-01
2022-04-21T21:13:47.954Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:13:47.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-6323bae000aa2493a976d2e21192cf29b1bc5c39-59cb70ab28b20f1b-01 outer:exit 2b-6323bae000aa2493a976d2e21192cf29b1bc5c39-f26d73e85d34b463-01
2022-04-21T21:13:47.957Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:13:47.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-d47c5bf32a0595c6933b5a249769e22a2de4d1b8-0f9808ccbc1b4da6-01 outer:exit 2b-d47c5bf32a0595c6933b5a249769e22a2de4d1b8-ed94b34777cfecec-01
2022-04-21T21:13:47.960Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:13:47.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-30a5ea5da7792f4253f2b31860101a4b01a28188-ec3d4b6b94382c2d-01 outer:exit 2b-30a5ea5da7792f4253f2b31860101a4b01a28188-c7ae2ed670fbd2f0-01
2022-04-21T21:13:47.962Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:13:47.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-429f4bc199ac9b4a02be9989cc8e08cee2a50d43-e4d5e575f481fb95-01 outer:exit 2b-429f4bc199ac9b4a02be9989cc8e08cee2a50d43-44aeeabf2bcc0a57-01
2022-04-21T21:13:47.964Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:13:47.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-8358f5fff7b55e5d3c26d27f1d2b67f036ba41b2-f07c97095e5e7e4d-01 outer:exit 2b-8358f5fff7b55e5d3c26d27f1d2b67f036ba41b2-32dbe04ef8c5be77-01
2022-04-21T21:13:47.969Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:13:47.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-32e203c9ae198eacd1955827bdefd2f33f8d97ca-c54b3e32db0e1323-01 outer:exit 2b-32e203c9ae198eacd1955827bdefd2f33f8d97ca-ba04b802a1a2fbe2-01
2022-04-21T21:13:47.974Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:13:47.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-7921608ef91dbd4e4e9bd3c08764dd08fb6856e7-6d7070d1d83cac57-01 outer:exit 2b-7921608ef91dbd4e4e9bd3c08764dd08fb6856e7-faeecd5ff4c0a493-01
2022-04-21T21:13:47.982Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:13:47.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-d21b628b2968488e485033121224ca0d51bfbd53-d57de5184ed25fae-01 outer:exit 2b-d21b628b2968488e485033121224ca0d51bfbd53-5783793cd518d9aa-01
2022-04-21T21:13:47.989Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:13:47.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6f4c0659fe739c8d150b5751f508f215e261509-ab61aafb73c122e4-01 outer:exit 2b-e6f4c0659fe739c8d150b5751f508f215e261509-a498cbfacd6c4a03-01
2022-04-21T21:13:47.991Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:13:47.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-0715e456023ff486a1aecee20014bc712420c23e-895459d00ffe3f1b-01 outer:exit 2b-0715e456023ff486a1aecee20014bc712420c23e-3610f4e596ba88de-01
2022-04-21T21:13:47.994Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:13:47.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-35e5da07bb988bf866f721808bd36659b16f88b9-328ac51cc82067ba-01 outer:exit 2b-35e5da07bb988bf866f721808bd36659b16f88b9-dc7440c31de28dd1-01
2022-04-21T21:13:48.000Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:13:48.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-788d574ef6db07e43891e4ca3421fed7aaf3c518-0de83b003be7a986-01 outer:exit 2b-788d574ef6db07e43891e4ca3421fed7aaf3c518-5db335663fa14fd4-01
2022-04-21T21:13:48.001Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:13:48.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-65715b5e5a0f3a93c58a2dfbb8559ca0d7d29a5c-7e8f41b7237067c4-01 outer:exit 2b-65715b5e5a0f3a93c58a2dfbb8559ca0d7d29a5c-0016de53e74c01ec-01
2022-04-21T21:13:48.003Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:13:48.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ba9447479be425311bf0eb64f85c074795ef250-730e68cbe94a9061-01 outer:exit 2b-5ba9447479be425311bf0eb64f85c074795ef250-9f68984184d2f85f-01
2022-04-21T21:13:48.005Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:13:48.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-58213d20c1e4ea5f6819e6c15f01fd51900694be-19bf0f45fd7bc953-01 outer:exit 2b-58213d20c1e4ea5f6819e6c15f01fd51900694be-6bb95ee1ef366ca9-01
2022-04-21T21:13:48.007Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:13:48.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-113ee1b50513688030bd5cad98a5d59e06ccb7f5-f4fe9b285da3adac-01 outer:exit 2b-113ee1b50513688030bd5cad98a5d59e06ccb7f5-2edbd21ff286356b-01
2022-04-21T21:13:48.008Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:13:48.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-79d8de41c3beaca5f6cf3611a419a8a2965249de-7008ea93f06198cb-01 outer:exit 2b-79d8de41c3beaca5f6cf3611a419a8a2965249de-44ecb597f4b9e1bd-01
2022-04-21T21:13:48.018Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:13:48.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cb9e21e0f8f3e3a6b1c9ef09e3adf5d6a4aa6dd-dbc0df7a062fd7bf-01 outer:exit 2b-7cb9e21e0f8f3e3a6b1c9ef09e3adf5d6a4aa6dd-461363d67770e261-01
2022-04-21T21:13:48.025Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:13:48.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-68a4ca6f841ebc6b204faa11bfdae9315c1a18fc-289968ab2b75457b-01 outer:exit 2b-68a4ca6f841ebc6b204faa11bfdae9315c1a18fc-4e87bedfdbb41647-01
2022-04-21T21:13:48.028Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:13:48.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-362646db3ad2c5f9d70c63abdef860358f1d7bd1-2b4e2b8fb1d9d80b-01 outer:exit 2b-362646db3ad2c5f9d70c63abdef860358f1d7bd1-07c96ba79c3aeb89-01
2022-04-21T21:13:48.030Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:13:48.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-26506aff3ce40424b5697f0ebe33644964b7435a-5f896bfe49a05fcf-01 outer:exit 2b-26506aff3ce40424b5697f0ebe33644964b7435a-ce3dedf26899743d-01
2022-04-21T21:13:48.033Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:13:48.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-6089f56ac2989c98d897dbf8f9001e705aebaac9-b3dd1d18e6547a4b-01 outer:exit 2b-6089f56ac2989c98d897dbf8f9001e705aebaac9-c7eea81d205e7db2-01
2022-04-21T21:13:48.059Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (290ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:54.683Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:54.684Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:54.684Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:54.685Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:54.745Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:54.859Z appoptics:patching patched crypto 
2022-04-21T21:13:54.877Z appoptics:patching patched https 
2022-04-21T21:13:54.878Z appoptics:patching patched http 
2022-04-21T21:13:54.920Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:54.920Z appoptics:patching patched fs 
2022-04-21T21:13:54.945Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v18.0.0)
2022-04-21T21:13:54.951Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-21T21:13:55.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-072fbf831f5b48f6ba6c84dba273a1310afaa1e7-377cb7ad623e5d27-01 outer:exit 2b-072fbf831f5b48f6ba6c84dba273a1310afaa1e7-05e32c9e2955a7e5-01
2022-04-21T21:13:55.010Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:13:55.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-98c6c1c46f63f5594ea8e30ba62ae0e35d7fdff1-f8b1bbcd18f39772-01 outer:exit 2b-98c6c1c46f63f5594ea8e30ba62ae0e35d7fdff1-aa417b2ffe161189-01
2022-04-21T21:13:55.057Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:13:55.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-727c79b39dfe22f22065ecd7069b1cee8c60ca0a-868de7ce6669356d-01 outer:exit 2b-727c79b39dfe22f22065ecd7069b1cee8c60ca0a-51e76bf900c51762-01
2022-04-21T21:13:55.062Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:13:55.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7cde9e4b259b65fa54f966cc7a1c3093fb6797a-e5f3b0c9944f3223-01 outer:exit 2b-a7cde9e4b259b65fa54f966cc7a1c3093fb6797a-24961eeb1be25767-01
2022-04-21T21:13:55.066Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:13:55.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4802c8a53320d2a119f7eda3bd859d43f595640-2417c6b1e33b9d47-01 outer:exit 2b-d4802c8a53320d2a119f7eda3bd859d43f595640-e02e7844955b61c2-01
2022-04-21T21:13:55.072Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:13:55.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-39b20690e9b3fac609a747753fcb0818237c1235-96afe1ad8a4b58ba-01 outer:exit 2b-39b20690e9b3fac609a747753fcb0818237c1235-2fc132a29745ec0c-01
2022-04-21T21:13:55.076Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:13:55.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-b71f0517167a94033044fc24a7d6310443756f29-32a3935fd22a0b7b-01 outer:exit 2b-b71f0517167a94033044fc24a7d6310443756f29-e96ce874943c4354-01
2022-04-21T21:13:55.079Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:13:55.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e2c19381665b3d49a9edd64fcc7aece56cf4147-572a12ef40c5136e-01 outer:exit 2b-6e2c19381665b3d49a9edd64fcc7aece56cf4147-1156f8c31df42c0b-01
2022-04-21T21:13:55.081Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:13:55.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d7caeb2888421512d77948e8c065569415e4fca-36dc4b90bb580449-01 outer:exit 2b-0d7caeb2888421512d77948e8c065569415e4fca-8ddbd58a28ec53cb-01
2022-04-21T21:13:55.084Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:13:55.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dffa8c6b780b849f9f51d136eec982fcba021aa-3f62a137b73fa8cf-01 outer:exit 2b-6dffa8c6b780b849f9f51d136eec982fcba021aa-17cb5ae779946b29-01
2022-04-21T21:13:55.090Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:13:55.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ef3cd5c6730de1e896c9be0df2f9d8a8e3e8030-7a60b6139c8ee659-01 outer:exit 2b-2ef3cd5c6730de1e896c9be0df2f9d8a8e3e8030-d3d173fa2cb79160-01
2022-04-21T21:13:55.094Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:13:55.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-509bf9115a70687a45536b58118f7fe1912c21fa-f82fa24548c0cc2b-01 outer:exit 2b-509bf9115a70687a45536b58118f7fe1912c21fa-7dd3874d7ac7e6b2-01
2022-04-21T21:13:55.103Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:13:55.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c44c3a1153b660d8d0af323c1011cee3f9d9ffc-ea2154e636f1798f-01 outer:exit 2b-4c44c3a1153b660d8d0af323c1011cee3f9d9ffc-cf2c43efcbc668ff-01
2022-04-21T21:13:55.121Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:13:55.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cdf19783e11f7a307cd39d43f91c058b79cc7e3-20baadbd001d19d7-01 outer:exit 2b-5cdf19783e11f7a307cd39d43f91c058b79cc7e3-e640b6fea5734b39-01
2022-04-21T21:13:55.162Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:13:55.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-610d7f2981c28783b113418cc8ed9bec0f35fdd3-f94b84289911a726-01 outer:exit 2b-610d7f2981c28783b113418cc8ed9bec0f35fdd3-21e618cd60b45070-01
2022-04-21T21:13:55.165Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:13:55.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-3786694003124f7611e2276790b027886a258bf3-477f8f16a39d17b5-01 outer:exit 2b-3786694003124f7611e2276790b027886a258bf3-957e72c5af36093b-01
2022-04-21T21:13:55.167Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:13:55.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2d9df3a7f427188ed60de4272f00e65991adb4c-3a38b195b9967e8e-01 outer:exit 2b-e2d9df3a7f427188ed60de4272f00e65991adb4c-a48241c105e88b2e-01
2022-04-21T21:13:55.170Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:13:55.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-78eec9e939daad1630b5290b73525fbc5688889c-84dfd7bfbd7d332e-01 outer:exit 2b-78eec9e939daad1630b5290b73525fbc5688889c-474d6606e09efd60-01
2022-04-21T21:13:55.172Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:13:55.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd26d60141316c9b65a2ea00075e0b3739bc9872-42435d3d19fd063d-01 outer:exit 2b-bd26d60141316c9b65a2ea00075e0b3739bc9872-f004764edd058a75-01
2022-04-21T21:13:55.174Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:13:55.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4768683f6eb59ac2b45a91f81269b4b6ec2c8e7-a492393c7c8c2ca4-01 outer:exit 2b-d4768683f6eb59ac2b45a91f81269b4b6ec2c8e7-272b27ae313ee4d7-01
2022-04-21T21:13:55.176Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:13:55.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-0435f60152dc0cb4577f7bb80e8fadad317b66b2-d74200b8089552d2-01 outer:exit 2b-0435f60152dc0cb4577f7bb80e8fadad317b66b2-07b0a7287d56f737-01
2022-04-21T21:13:55.178Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:13:55.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-2abacd49905f0a9709c452298230ae855735ab6c-638fdf8defa83a22-01 outer:exit 2b-2abacd49905f0a9709c452298230ae855735ab6c-c43b08af8d33fc3a-01
2022-04-21T21:13:55.180Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:13:55.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-af968a9035551cc3461275bac7849a5aaba21d5d-d2c92eac14d890b4-01 outer:exit 2b-af968a9035551cc3461275bac7849a5aaba21d5d-3ceb221748adacf6-01
2022-04-21T21:13:55.183Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:13:55.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-56fb13f8eebdd7d38585c3887027c5e78fe7d7a8-31a2fc7a0226897b-01 outer:exit 2b-56fb13f8eebdd7d38585c3887027c5e78fe7d7a8-9f498fe9317122e3-01
2022-04-21T21:13:55.186Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:13:55.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-8047ff31fd5614de54ee6641b1a78f96a89c285a-5da593ec8e306d25-01 outer:exit 2b-8047ff31fd5614de54ee6641b1a78f96a89c285a-2197e485ac6f63fc-01
2022-04-21T21:13:55.188Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:13:55.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3380903bc79de6a50e7b19a597310cb264373df-f0b31d63585ea756-01 outer:exit 2b-b3380903bc79de6a50e7b19a597310cb264373df-d9569468ce3a04a2-01
2022-04-21T21:13:55.190Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:13:55.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbf389e91dd5224c94edf39c555c50e4c13ede6d-377ed466a3b9ebbb-01 outer:exit 2b-fbf389e91dd5224c94edf39c555c50e4c13ede6d-fd52eb65b94fc5c5-01
2022-04-21T21:13:55.196Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:13:55.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-e209891721a64c067e2cb85edf1c0b1bca37ece0-ad023bb92a2c7a20-01 outer:exit 2b-e209891721a64c067e2cb85edf1c0b1bca37ece0-f6388dd749916c4f-01
2022-04-21T21:13:55.202Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:13:55.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bc5b6e95187d247ff44e9d576a7c552621406a7-1a53db554e2d704b-01 outer:exit 2b-8bc5b6e95187d247ff44e9d576a7c552621406a7-f978eb682069b851-01
2022-04-21T21:13:55.209Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:13:55.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0bf0132e7ca3049a1fe4165f5d32bf6f4763582-63522fa976df8913-01 outer:exit 2b-a0bf0132e7ca3049a1fe4165f5d32bf6f4763582-99f3d1cc793a84b2-01
2022-04-21T21:13:55.216Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:13:55.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bbb941795732e98e6b17014e1984074a728bcdb-fe7806fd63f5b038-01 outer:exit 2b-8bbb941795732e98e6b17014e1984074a728bcdb-557a367e26ed13dd-01
2022-04-21T21:13:55.218Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:13:55.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-058555d5f176b13ec5d9367dd4d8285215a75283-87ab54ec163cb23e-01 outer:exit 2b-058555d5f176b13ec5d9367dd4d8285215a75283-2881a43210666578-01
2022-04-21T21:13:55.222Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:13:55.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-75e327ea8775295700b02c7f07cec034e73c64df-b53036ff4ace46b8-01 outer:exit 2b-75e327ea8775295700b02c7f07cec034e73c64df-7968068d92119a30-01
2022-04-21T21:13:55.228Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:13:55.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-54b70d6016df92991b37e98ed35fbd5fe9655fe1-3a4aa120121b5fda-01 outer:exit 2b-54b70d6016df92991b37e98ed35fbd5fe9655fe1-18ebec74154a8cbd-01
2022-04-21T21:13:55.230Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:13:55.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-86cfce31dc9ee4ee7459d869eafa54201c27c0d7-8d5f6d7421e9a20d-01 outer:exit 2b-86cfce31dc9ee4ee7459d869eafa54201c27c0d7-938e7e8df3f4bd2c-01
2022-04-21T21:13:55.232Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:13:55.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-ece06c392687d177290ff79c9e908a519924dedc-b2078d5047c322e0-01 outer:exit 2b-ece06c392687d177290ff79c9e908a519924dedc-325720d88db3db4c-01
2022-04-21T21:13:55.233Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:13:55.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5e699f50f4f3f586e794c0ad82eeb131bdf6a81-c3f9de266e8a11dc-01 outer:exit 2b-e5e699f50f4f3f586e794c0ad82eeb131bdf6a81-9866659de395808d-01
2022-04-21T21:13:55.235Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:13:55.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-5aa0db47da31b57c7f8cfc00a351fe37c0f1b8f4-bda619ec50b594b5-01 outer:exit 2b-5aa0db47da31b57c7f8cfc00a351fe37c0f1b8f4-a54f0241f2707399-01
2022-04-21T21:13:55.237Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:13:55.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2b1dabb361fd8b8deb0cf3f1c7f54ae52ce8fc3-e26987bff8369696-01 outer:exit 2b-d2b1dabb361fd8b8deb0cf3f1c7f54ae52ce8fc3-abcc195f0e69e80e-01
2022-04-21T21:13:55.247Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:13:55.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b7af74875dc01e16553c6a260c5e6e59af8135-f171db4f2bdeba17-01 outer:exit 2b-06b7af74875dc01e16553c6a260c5e6e59af8135-9bef1fec0d618cab-01
2022-04-21T21:13:55.256Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:13:55.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-722fd7540f369e9f611654c3d971b66da7aeb5a5-237a24e692c1f1d8-01 outer:exit 2b-722fd7540f369e9f611654c3d971b66da7aeb5a5-cc8da7fc0c0dce8d-01
2022-04-21T21:13:55.260Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:13:55.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-da55f10ca6b9bdcb3588c62b57c67e12b1becbc8-c6964aa2d76814a9-01 outer:exit 2b-da55f10ca6b9bdcb3588c62b57c67e12b1becbc8-61f45163fcab22fd-01
2022-04-21T21:13:55.262Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:13:55.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ce3eb7e06179ca87d0bcbf991f356044d90100d-c4df722eea033036-01 outer:exit 2b-6ce3eb7e06179ca87d0bcbf991f356044d90100d-9fe01ed0f7a4d4cd-01
2022-04-21T21:13:55.266Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:13:55.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e411891807707dc551d9550dbe5212e0d279b8c-2cacf9fa662d875a-01 outer:exit 2b-1e411891807707dc551d9550dbe5212e0d279b8c-883361262bc109cc-01
2022-04-21T21:13:55.294Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (338ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:01.512Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:01.513Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:01.513Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:01.514Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:01.570Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:01.674Z appoptics:patching patched crypto 
2022-04-21T21:14:01.690Z appoptics:patching patched https 
2022-04-21T21:14:01.691Z appoptics:patching patched http 
2022-04-21T21:14:01.731Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:01.731Z appoptics:patching patched fs 
2022-04-21T21:14:01.740Z appoptics:patching patched zlib 
2022-04-21T21:14:01.759Z appoptics:patching patched mongodb-core 3.0.0
2022-04-21T21:14:01.763Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (338ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:08.845Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:08.845Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:08.845Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:08.846Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:08.906Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:09.021Z appoptics:patching patched crypto 
2022-04-21T21:14:09.039Z appoptics:patching patched https 
2022-04-21T21:14:09.039Z appoptics:patching patched http 
2022-04-21T21:14:09.078Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:09.078Z appoptics:patching patched fs 
2022-04-21T21:14:09.088Z appoptics:patching patched zlib 
2022-04-21T21:14:09.108Z appoptics:patching patched mongodb-core 3.0.1
2022-04-21T21:14:09.113Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (264ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:15.953Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:15.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:15.954Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:15.954Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:16.035Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:16.192Z appoptics:patching patched crypto 
2022-04-21T21:14:16.240Z appoptics:patching patched https 
2022-04-21T21:14:16.241Z appoptics:patching patched http 
2022-04-21T21:14:16.313Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:16.314Z appoptics:patching patched fs 
2022-04-21T21:14:16.335Z appoptics:patching patched zlib 
2022-04-21T21:14:16.378Z appoptics:patching patched mongodb-core 3.0.2
2022-04-21T21:14:16.385Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (303ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:22.782Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:22.783Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:22.783Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:22.783Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:22.843Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:22.962Z appoptics:patching patched crypto 
2022-04-21T21:14:22.980Z appoptics:patching patched https 
2022-04-21T21:14:22.981Z appoptics:patching patched http 
2022-04-21T21:14:23.022Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:23.022Z appoptics:patching patched fs 
2022-04-21T21:14:23.031Z appoptics:patching patched zlib 
2022-04-21T21:14:23.053Z appoptics:patching patched mongodb-core 3.0.3
2022-04-21T21:14:23.058Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (274ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:30.225Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:30.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:30.226Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:30.227Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:30.286Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:30.400Z appoptics:patching patched crypto 
2022-04-21T21:14:30.418Z appoptics:patching patched https 
2022-04-21T21:14:30.419Z appoptics:patching patched http 
2022-04-21T21:14:30.460Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:30.461Z appoptics:patching patched fs 
2022-04-21T21:14:30.470Z appoptics:patching patched zlib 
2022-04-21T21:14:30.491Z appoptics:patching patched mongodb-core 3.0.4
2022-04-21T21:14:30.496Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (261ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:36.678Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:36.679Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:36.679Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:36.679Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:36.733Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:36.834Z appoptics:patching patched crypto 
2022-04-21T21:14:36.850Z appoptics:patching patched https 
2022-04-21T21:14:36.851Z appoptics:patching patched http 
2022-04-21T21:14:36.888Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:36.889Z appoptics:patching patched fs 
2022-04-21T21:14:36.897Z appoptics:patching patched zlib 
2022-04-21T21:14:36.917Z appoptics:patching patched mongodb-core 3.0.5
2022-04-21T21:14:36.921Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (277ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:43.915Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:43.916Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:43.916Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:43.917Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:43.976Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:44.094Z appoptics:patching patched crypto 
2022-04-21T21:14:44.113Z appoptics:patching patched https 
2022-04-21T21:14:44.113Z appoptics:patching patched http 
2022-04-21T21:14:44.154Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:44.155Z appoptics:patching patched fs 
2022-04-21T21:14:44.163Z appoptics:patching patched zlib 
2022-04-21T21:14:44.187Z appoptics:patching patched mongodb-core 3.0.6
2022-04-21T21:14:44.192Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (256ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:50.384Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:50.384Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:50.385Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:50.385Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:50.445Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:50.559Z appoptics:patching patched crypto 
2022-04-21T21:14:50.577Z appoptics:patching patched https 
2022-04-21T21:14:50.577Z appoptics:patching patched http 
2022-04-21T21:14:50.649Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:50.649Z appoptics:patching patched fs 
2022-04-21T21:14:50.665Z appoptics:patching patched zlib 
2022-04-21T21:14:50.718Z appoptics:patching patched mongodb-core 3.0.7
2022-04-21T21:14:50.725Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (438ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:14:58.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:14:58.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:14:58.113Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:14:58.114Z appoptics:debug using context provider: ace-context
2022-04-21T21:14:58.175Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:14:58.289Z appoptics:patching patched crypto 
2022-04-21T21:14:58.307Z appoptics:patching patched https 
2022-04-21T21:14:58.308Z appoptics:patching patched http 
2022-04-21T21:14:58.350Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:14:58.350Z appoptics:patching patched fs 
2022-04-21T21:14:58.360Z appoptics:patching patched zlib 
2022-04-21T21:14:58.384Z appoptics:patching patched mongodb-core 3.0.8
2022-04-21T21:14:58.389Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (267ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:05.427Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:05.428Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:05.428Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:05.428Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:05.489Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:05.603Z appoptics:patching patched crypto 
2022-04-21T21:15:05.622Z appoptics:patching patched https 
2022-04-21T21:15:05.622Z appoptics:patching patched http 
2022-04-21T21:15:05.665Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:05.665Z appoptics:patching patched fs 
2022-04-21T21:15:05.675Z appoptics:patching patched zlib 
2022-04-21T21:15:05.698Z appoptics:patching patched mongodb-core 3.0.9
2022-04-21T21:15:05.703Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (263ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:11.953Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:11.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:11.954Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:11.955Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:12.017Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:12.129Z appoptics:patching patched crypto 
2022-04-21T21:15:12.147Z appoptics:patching patched https 
2022-04-21T21:15:12.148Z appoptics:patching patched http 
2022-04-21T21:15:12.211Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:12.212Z appoptics:patching patched fs 
2022-04-21T21:15:12.221Z appoptics:patching patched zlib 
2022-04-21T21:15:12.248Z appoptics:patching patched mongodb-core 3.0.11
2022-04-21T21:15:12.254Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (265ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:19.788Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:19.789Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:19.789Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:19.790Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:19.850Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:19.962Z appoptics:patching patched crypto 
2022-04-21T21:15:19.980Z appoptics:patching patched https 
2022-04-21T21:15:19.980Z appoptics:patching patched http 
2022-04-21T21:15:20.023Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:20.023Z appoptics:patching patched fs 
2022-04-21T21:15:20.032Z appoptics:patching patched zlib 
2022-04-21T21:15:20.058Z appoptics:patching patched mongodb-core 3.1.0
2022-04-21T21:15:20.063Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (255ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:26.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:26.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:26.362Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:26.362Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:26.415Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:26.527Z appoptics:patching patched crypto 
2022-04-21T21:15:26.545Z appoptics:patching patched https 
2022-04-21T21:15:26.546Z appoptics:patching patched http 
2022-04-21T21:15:26.589Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:26.590Z appoptics:patching patched fs 
2022-04-21T21:15:26.599Z appoptics:patching patched zlib 
2022-04-21T21:15:26.626Z appoptics:patching patched mongodb-core 3.1.1
2022-04-21T21:15:26.631Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (320ms)


changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:33.951Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:33.951Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:33.951Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:33.952Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:34.031Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:34.160Z appoptics:patching patched crypto 
2022-04-21T21:15:34.179Z appoptics:patching patched https 
2022-04-21T21:15:34.180Z appoptics:patching patched http 
2022-04-21T21:15:34.238Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:34.238Z appoptics:patching patched fs 
2022-04-21T21:15:34.249Z appoptics:patching patched zlib 
2022-04-21T21:15:34.277Z appoptics:patching patched mongodb-core 3.1.2
2022-04-21T21:15:34.282Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (255ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:41.178Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:41.179Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:41.179Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:41.180Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:41.255Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:41.400Z appoptics:patching patched crypto 
2022-04-21T21:15:41.448Z appoptics:patching patched https 
2022-04-21T21:15:41.449Z appoptics:patching patched http 
2022-04-21T21:15:41.497Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:41.497Z appoptics:patching patched fs 
2022-04-21T21:15:41.525Z appoptics:patching patched zlib 
2022-04-21T21:15:41.583Z appoptics:patching patched mongodb-core 3.1.3
2022-04-21T21:15:41.596Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (257ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:48.017Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:48.017Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:48.018Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:48.018Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:48.082Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:48.201Z appoptics:patching patched crypto 
2022-04-21T21:15:48.244Z appoptics:patching patched https 
2022-04-21T21:15:48.244Z appoptics:patching patched http 
2022-04-21T21:15:48.287Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:48.287Z appoptics:patching patched fs 
2022-04-21T21:15:48.303Z appoptics:patching patched zlib 
2022-04-21T21:15:48.331Z appoptics:patching patched mongodb-core 3.1.4
2022-04-21T21:15:48.336Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (742ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:15:55.898Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:15:55.899Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:15:55.899Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:15:55.900Z appoptics:debug using context provider: ace-context
2022-04-21T21:15:55.979Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:15:56.139Z appoptics:patching patched crypto 
2022-04-21T21:15:56.157Z appoptics:patching patched https 
2022-04-21T21:15:56.157Z appoptics:patching patched http 
2022-04-21T21:15:56.198Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:15:56.199Z appoptics:patching patched fs 
2022-04-21T21:15:56.209Z appoptics:patching patched zlib 
2022-04-21T21:15:56.235Z appoptics:patching patched mongodb-core 3.1.5
2022-04-21T21:15:56.240Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (281ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:02.253Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:02.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:02.253Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:02.254Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:02.308Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:02.414Z appoptics:patching patched crypto 
2022-04-21T21:16:02.430Z appoptics:patching patched https 
2022-04-21T21:16:02.431Z appoptics:patching patched http 
2022-04-21T21:16:02.465Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:02.465Z appoptics:patching patched fs 
2022-04-21T21:16:02.475Z appoptics:patching patched zlib 
2022-04-21T21:16:02.499Z appoptics:patching patched mongodb-core 3.1.6
2022-04-21T21:16:02.503Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (247ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:09.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:09.215Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:09.215Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:09.215Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:09.274Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:09.390Z appoptics:patching patched crypto 
2022-04-21T21:16:09.417Z appoptics:patching patched https 
2022-04-21T21:16:09.418Z appoptics:patching patched http 
2022-04-21T21:16:09.452Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:09.453Z appoptics:patching patched fs 
2022-04-21T21:16:09.463Z appoptics:patching patched zlib 
2022-04-21T21:16:09.491Z appoptics:patching patched mongodb-core 3.1.7
2022-04-21T21:16:09.496Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (246ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:15.577Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:15.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:15.578Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:15.578Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:15.639Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:15.754Z appoptics:patching patched crypto 
2022-04-21T21:16:15.772Z appoptics:patching patched https 
2022-04-21T21:16:15.773Z appoptics:patching patched http 
2022-04-21T21:16:15.814Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:15.815Z appoptics:patching patched fs 
2022-04-21T21:16:15.824Z appoptics:patching patched zlib 
2022-04-21T21:16:15.850Z appoptics:patching patched mongodb-core 3.1.8
2022-04-21T21:16:15.856Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (328ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:22.795Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:22.795Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:22.795Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:22.796Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:22.851Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:22.970Z appoptics:patching patched crypto 
2022-04-21T21:16:22.997Z appoptics:patching patched https 
2022-04-21T21:16:22.997Z appoptics:patching patched http 
2022-04-21T21:16:23.038Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:23.038Z appoptics:patching patched fs 
2022-04-21T21:16:23.048Z appoptics:patching patched zlib 
2022-04-21T21:16:23.076Z appoptics:patching patched mongodb-core 3.1.9
2022-04-21T21:16:23.082Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (287ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:30.304Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:30.305Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:30.305Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:30.306Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:30.407Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:30.619Z appoptics:patching patched crypto 
2022-04-21T21:16:30.655Z appoptics:patching patched https 
2022-04-21T21:16:30.656Z appoptics:patching patched http 
2022-04-21T21:16:30.691Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:30.691Z appoptics:patching patched fs 
2022-04-21T21:16:30.701Z appoptics:patching patched zlib 
2022-04-21T21:16:30.729Z appoptics:patching patched mongodb-core 3.1.10
2022-04-21T21:16:30.735Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (250ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:37.088Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:37.088Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:37.088Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:37.089Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:37.149Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:37.262Z appoptics:patching patched crypto 
2022-04-21T21:16:37.281Z appoptics:patching patched https 
2022-04-21T21:16:37.281Z appoptics:patching patched http 
2022-04-21T21:16:37.322Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:37.322Z appoptics:patching patched fs 
2022-04-21T21:16:37.332Z appoptics:patching patched zlib 
2022-04-21T21:16:37.359Z appoptics:patching patched mongodb-core 3.1.11
2022-04-21T21:16:37.364Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (253ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:44.546Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:44.547Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:44.547Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:44.548Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:44.604Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:44.711Z appoptics:patching patched crypto 
2022-04-21T21:16:44.728Z appoptics:patching patched https 
2022-04-21T21:16:44.729Z appoptics:patching patched http 
2022-04-21T21:16:44.765Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:44.765Z appoptics:patching patched fs 
2022-04-21T21:16:44.775Z appoptics:patching patched zlib 
2022-04-21T21:16:44.805Z appoptics:patching patched mongodb-core 3.2.0
2022-04-21T21:16:44.810Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (260ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:51.178Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:51.178Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:51.179Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:51.179Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:51.240Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:51.375Z appoptics:patching patched crypto 
2022-04-21T21:16:51.403Z appoptics:patching patched https 
2022-04-21T21:16:51.403Z appoptics:patching patched http 
2022-04-21T21:16:51.464Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:51.465Z appoptics:patching patched fs 
2022-04-21T21:16:51.476Z appoptics:patching patched zlib 
2022-04-21T21:16:51.513Z appoptics:patching patched mongodb-core 3.2.1
2022-04-21T21:16:51.518Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (331ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:16:58.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:16:58.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:16:58.641Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:16:58.642Z appoptics:debug using context provider: ace-context
2022-04-21T21:16:58.702Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:16:58.820Z appoptics:patching patched crypto 
2022-04-21T21:16:58.838Z appoptics:patching patched https 
2022-04-21T21:16:58.839Z appoptics:patching patched http 
2022-04-21T21:16:58.881Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:16:58.881Z appoptics:patching patched fs 
2022-04-21T21:16:58.893Z appoptics:patching patched zlib 
2022-04-21T21:16:58.924Z appoptics:patching patched mongodb-core 3.2.2
2022-04-21T21:16:58.929Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (257ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:05.612Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:05.612Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:05.612Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:05.613Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:05.682Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:05.798Z appoptics:patching patched crypto 
2022-04-21T21:17:05.837Z appoptics:patching patched https 
2022-04-21T21:17:05.838Z appoptics:patching patched http 
2022-04-21T21:17:05.878Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:05.879Z appoptics:patching patched fs 
2022-04-21T21:17:05.890Z appoptics:patching patched zlib 
2022-04-21T21:17:05.931Z appoptics:patching patched mongodb-core 3.2.3
2022-04-21T21:17:05.936Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (324ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:12.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:12.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:12.676Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:12.677Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:12.736Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:12.850Z appoptics:patching patched crypto 
2022-04-21T21:17:12.869Z appoptics:patching patched https 
2022-04-21T21:17:12.869Z appoptics:patching patched http 
2022-04-21T21:17:12.912Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:12.912Z appoptics:patching patched fs 
2022-04-21T21:17:12.922Z appoptics:patching patched zlib 
2022-04-21T21:17:12.951Z appoptics:patching patched mongodb-core 3.2.4
2022-04-21T21:17:12.956Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (283ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:20.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:20.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:20.084Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:20.085Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:20.145Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:20.258Z appoptics:patching patched crypto 
2022-04-21T21:17:20.276Z appoptics:patching patched https 
2022-04-21T21:17:20.277Z appoptics:patching patched http 
2022-04-21T21:17:20.317Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:20.317Z appoptics:patching patched fs 
2022-04-21T21:17:20.328Z appoptics:patching patched zlib 
2022-04-21T21:17:20.359Z appoptics:patching patched mongodb-core 3.2.5
2022-04-21T21:17:20.364Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (256ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:26.628Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:26.629Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:26.629Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:26.629Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:26.689Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:26.804Z appoptics:patching patched crypto 
2022-04-21T21:17:26.822Z appoptics:patching patched https 
2022-04-21T21:17:26.823Z appoptics:patching patched http 
2022-04-21T21:17:26.892Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:26.892Z appoptics:patching patched fs 
2022-04-21T21:17:26.904Z appoptics:patching patched zlib 
2022-04-21T21:17:26.943Z appoptics:patching patched mongodb-core 3.2.6
2022-04-21T21:17:26.948Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (267ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:17:33.798Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:17:33.798Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:17:33.799Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:17:33.799Z appoptics:debug using context provider: ace-context
2022-04-21T21:17:33.861Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:17:33.979Z appoptics:patching patched crypto 
2022-04-21T21:17:33.997Z appoptics:patching patched https 
2022-04-21T21:17:33.997Z appoptics:patching patched http 
2022-04-21T21:17:34.040Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:17:34.040Z appoptics:patching patched fs 
2022-04-21T21:17:34.051Z appoptics:patching patched zlib 
2022-04-21T21:17:34.085Z appoptics:patching patched mongodb-core 3.2.7
2022-04-21T21:17:34.090Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (297ms)


up to date, audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
