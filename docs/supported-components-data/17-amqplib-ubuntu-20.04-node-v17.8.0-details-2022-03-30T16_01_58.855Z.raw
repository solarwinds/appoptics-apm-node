npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.2.0',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

added 1 package, removed 4 packages, changed 3 packages, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:08.357Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:08.357Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:08.357Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:08.358Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:08.358Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:08.436Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:08.779Z appoptics:patching patched crypto 
2022-03-30T16:02:08.815Z appoptics:patching patched https 
2022-03-30T16:02:08.815Z appoptics:patching patched http 
2022-03-30T16:02:08.878Z appoptics:patching patched amqplib 0.2.0
2022-03-30T16:02:08.881Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:08.884Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.0
    ✔ UDP might lose a message
    promises
      1) "before all" hook for "should report send and consume in existing trace"
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      3) "before all" hook for "should report send and consume in existing trace"
      4) "after all" hook for "should include SourceTrace in consume external to traced publish"


  1 passing (4s)
  4 failing

  1) probes.amqplib 0.2.0
       promises
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  2) probes.amqplib 0.2.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read properties of undefined (reading 'close')
      at Context.<anonymous> (test/probes/amqplib.test.js:181:23)
      at processImmediate (node:internal/timers:466:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.amqplib 0.2.0
       callbacks
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  4) probes.amqplib 0.2.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read properties of undefined (reading 'close')
      at Context.<anonymous> (test/probes/amqplib.test.js:211:23)
      at processImmediate (node:internal/timers:466:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.2.1',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 2 packages, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:21.122Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:21.123Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:21.123Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:21.123Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:21.123Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:21.240Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:21.397Z appoptics:patching patched crypto 
2022-03-30T16:02:21.419Z appoptics:patching patched https 
2022-03-30T16:02:21.420Z appoptics:patching patched http 
2022-03-30T16:02:21.539Z appoptics:patching patched amqplib 0.2.1
2022-03-30T16:02:21.542Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:21.545Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.1
    ✔ UDP might lose a message
    promises
(node:1335) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (57ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)


  7 passing (290ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.0',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:30.543Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:30.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:30.544Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:30.544Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:30.544Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:30.613Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:30.749Z appoptics:patching patched crypto 
2022-03-30T16:02:30.782Z appoptics:patching patched https 
2022-03-30T16:02:30.782Z appoptics:patching patched http 
2022-03-30T16:02:30.843Z appoptics:patching patched amqplib 0.3.0
2022-03-30T16:02:30.846Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:30.848Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.0
    ✔ UDP might lose a message
    promises
(node:1400) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (67ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)


  7 passing (251ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.1',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11 || 0.12 || 1.0 || 1.1' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 2 packages, and audited 919 packages in 9s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:40.134Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:40.135Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:40.135Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:40.135Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:40.135Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:40.223Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:40.379Z appoptics:patching patched crypto 
2022-03-30T16:02:40.402Z appoptics:patching patched https 
2022-03-30T16:02:40.402Z appoptics:patching patched http 
2022-03-30T16:02:40.462Z appoptics:patching patched amqplib 0.3.1
2022-03-30T16:02:40.465Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:40.467Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.1
    ✔ UDP might lose a message
    promises
(node:1465) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (62ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (244ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <0.13 || ^1' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 7s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:48.075Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:48.076Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:48.076Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:48.076Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:48.076Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:48.149Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:48.285Z appoptics:patching patched crypto 
2022-03-30T16:02:48.305Z appoptics:patching patched https 
2022-03-30T16:02:48.306Z appoptics:patching patched http 
2022-03-30T16:02:48.374Z appoptics:patching patched amqplib 0.3.2
2022-03-30T16:02:48.376Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:48.379Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.2
    ✔ UDP might lose a message
    promises
(node:1530) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (69ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (262ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <4 || ^4' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:56.842Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:56.843Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:56.843Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:56.843Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:56.843Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:56.917Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:57.053Z appoptics:patching patched crypto 
2022-03-30T16:02:57.075Z appoptics:patching patched https 
2022-03-30T16:02:57.075Z appoptics:patching patched http 
2022-03-30T16:02:57.141Z appoptics:patching patched amqplib 0.4.0
2022-03-30T16:02:57.143Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:57.145Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.0
    ✔ UDP might lose a message
    promises
(node:1595) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
      1) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (53ms)
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"


  7 passing (260ms)
  2 failing

  1) probes.amqplib 0.4.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at ChannelModel.emit (node:events:527:28)
      at Connection.emit (node:events:527:28)
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at Socket.emit (node:events:527:28)
      at emitReadable_ (node:internal/streams/readable:601:12)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)

  2) probes.amqplib 0.4.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at CallbackModel.emit (node:events:527:28)
      at Connection.emit (node:events:527:28)
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at Socket.emit (node:events:527:28)
      at emitReadable_ (node:internal/streams/readable:601:12)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <5 || ^5' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:05.806Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:05.807Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:05.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:05.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:05.807Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:05.886Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:06.019Z appoptics:patching patched crypto 
2022-03-30T16:03:06.039Z appoptics:patching patched https 
2022-03-30T16:03:06.040Z appoptics:patching patched http 
2022-03-30T16:03:06.103Z appoptics:patching patched amqplib 0.4.1
2022-03-30T16:03:06.105Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:06.108Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.1
    ✔ UDP might lose a message
    promises
(node:1660) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (63ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (52ms)


  7 passing (246ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <6 || ^6' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 7s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:13.891Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:13.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:13.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:13.892Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:13.892Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:13.962Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:14.095Z appoptics:patching patched crypto 
2022-03-30T16:03:14.116Z appoptics:patching patched https 
2022-03-30T16:03:14.116Z appoptics:patching patched http 
2022-03-30T16:03:14.182Z appoptics:patching patched amqplib 0.4.2
2022-03-30T16:03:14.184Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:14.187Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.2
    ✔ UDP might lose a message
    promises
(node:1725) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (49ms)


  7 passing (259ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <6 || ^6' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 918 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:22.627Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:22.628Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:22.628Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:22.628Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:22.628Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:22.717Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:22.914Z appoptics:patching patched crypto 
2022-03-30T16:03:22.936Z appoptics:patching patched https 
2022-03-30T16:03:22.936Z appoptics:patching patched http 
2022-03-30T16:03:23.019Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:23.022Z appoptics:patching patched amqplib 0.5.1
2022-03-30T16:03:23.024Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:23.027Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.1
    ✔ UDP might lose a message
    promises
(node:1790) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (66ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (50ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (254ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <=9' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 918 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:31.841Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:31.842Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:31.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:31.842Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:31.842Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:31.911Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:32.044Z appoptics:patching patched crypto 
2022-03-30T16:03:32.064Z appoptics:patching patched https 
2022-03-30T16:03:32.065Z appoptics:patching patched http 
2022-03-30T16:03:32.137Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:32.139Z appoptics:patching patched amqplib 0.5.2
2022-03-30T16:03:32.142Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:32.144Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.2
    ✔ UDP might lose a message
    promises
(node:1855) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (51ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (207ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.3',
npm WARN EBADENGINE   required: { node: '>=0.8 <=9' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

added 14 packages, removed 7 packages, changed 4 packages, and audited 925 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:03:40.695Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:40.696Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:40.696Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:40.696Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:40.696Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:40.864Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:41.019Z appoptics:patching patched crypto 
2022-03-30T16:03:41.041Z appoptics:patching patched https 
2022-03-30T16:03:41.041Z appoptics:patching patched http 
2022-03-30T16:03:41.159Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:41.162Z appoptics:patching patched amqplib 0.5.3
2022-03-30T16:03:41.164Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:41.168Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.3
    ✔ UDP might lose a message
    promises
(node:1920) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (51ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (278ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.4',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN deprecated amqplib@0.5.4: See github.com/squaremo/amqp.node/issues/534

changed 1 package, and audited 925 packages in 7s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:03:48.960Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:48.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:48.961Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:48.961Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:48.961Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:49.031Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:49.175Z appoptics:patching patched crypto 
2022-03-30T16:03:49.196Z appoptics:patching patched https 
2022-03-30T16:03:49.197Z appoptics:patching patched http 

Error: Cannot find module './defs'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:999:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js:7:12)
    at Module._compile (node:internal/modules/cjs/loader:1099:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:975:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:999:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js:11:18)
    at Module._compile (node:internal/modules/cjs/loader:1099:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:975:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:999:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js:1:19)
    at Module._compile (node:internal/modules/cjs/loader:1099:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:975:32)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.5',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:03:57.393Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:57.394Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:57.394Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:57.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:57.394Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:57.464Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:57.602Z appoptics:patching patched crypto 
2022-03-30T16:03:57.624Z appoptics:patching patched https 
2022-03-30T16:03:57.624Z appoptics:patching patched http 
2022-03-30T16:03:57.700Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:57.703Z appoptics:patching patched amqplib 0.5.5
2022-03-30T16:03:57.705Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:57.708Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.5
    ✔ UDP might lose a message
    promises
(node:2046) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (70ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (53ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (303ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 7s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:04:05.885Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:05.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:05.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:05.886Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:05.886Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:05.972Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:06.138Z appoptics:patching patched crypto 
2022-03-30T16:04:06.160Z appoptics:patching patched https 
2022-03-30T16:04:06.161Z appoptics:patching patched http 
2022-03-30T16:04:06.275Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:04:06.278Z appoptics:patching patched amqplib 0.5.6
2022-03-30T16:04:06.281Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:04:06.284Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.6
    ✔ UDP might lose a message
    promises
(node:2111) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (71ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (279ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.6.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <=14' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 7s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:04:14.600Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:14.601Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:14.601Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:14.601Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:14.601Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:14.671Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:14.816Z appoptics:patching patched crypto 
2022-03-30T16:04:14.848Z appoptics:patching patched https 
2022-03-30T16:04:14.848Z appoptics:patching patched http 
2022-03-30T16:04:14.918Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:04:14.920Z appoptics:patching patched amqplib 0.6.0
2022-03-30T16:04:14.922Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:04:14.925Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.6.0
    ✔ UDP might lose a message
    promises
(node:2176) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (45ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (53ms)


  7 passing (250ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.7.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <=15' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-03-30T16:04:23.411Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:23.412Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:23.412Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:23.412Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:23.412Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:23.491Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:23.651Z appoptics:patching patched crypto 
2022-03-30T16:04:23.703Z appoptics:patching patched https 
2022-03-30T16:04:23.703Z appoptics:patching patched http 
2022-03-30T16:04:23.767Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:04:23.769Z appoptics:patching patched amqplib 0.7.0
2022-03-30T16:04:23.772Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:04:23.774Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.0
    ✔ UDP might lose a message
    promises
(node:2241) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (88ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (323ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.7.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <=15' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

added 8 packages, removed 11 packages, changed 3 packages, and audited 922 packages in 7s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:04:32.095Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:32.096Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:32.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:32.096Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:32.096Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:32.222Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:32.527Z appoptics:patching patched crypto 
2022-03-30T16:04:32.567Z appoptics:patching patched https 
2022-03-30T16:04:32.567Z appoptics:patching patched http 
2022-03-30T16:04:32.719Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:04:32.722Z appoptics:patching patched amqplib 0.7.1
2022-03-30T16:04:32.724Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:04:32.727Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.1
    ✔ UDP might lose a message
    promises
(node:2306) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (47ms)


  7 passing (212ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 922 packages in 7s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:04:40.377Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:40.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:40.378Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:40.378Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:40.378Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:40.450Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:40.595Z appoptics:patching patched crypto 
2022-03-30T16:04:40.624Z appoptics:patching patched https 
2022-03-30T16:04:40.624Z appoptics:patching patched http 
2022-03-30T16:04:40.711Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:04:40.714Z appoptics:patching patched amqplib 0.8.0
2022-03-30T16:04:40.716Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:04:40.719Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.8.0
    ✔ UDP might lose a message
    promises
(node:2371) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (68ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (253ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.7.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.8.0', npm: '8.5.5' }
npm WARN EBADENGINE }

up to date, audited 922 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
