npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:38:58.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:38:58.801Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:38:58.801Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:38:58.802Z appoptics:debug using context provider: ace-context
2022-04-25T18:38:58.873Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:38:59.020Z appoptics:patching patched crypto 
2022-04-25T18:38:59.046Z appoptics:patching patched https 
2022-04-25T18:38:59.047Z appoptics:patching patched http 
2022-04-25T18:38:59.105Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:38:59.106Z appoptics:patching patched fs 
2022-04-25T18:38:59.121Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v18.0.0)
2022-04-25T18:38:59.128Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-25T18:38:59.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-01948c32def6d96a76dba535cd6098fe099a224c-55d923fc6ca60b93-01 outer:exit 2b-01948c32def6d96a76dba535cd6098fe099a224c-ffc3ea79cf1fc593-01
2022-04-25T18:38:59.213Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:38:59.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-a480f0d37a0095baf56ce26fe9f41e815ee0cf37-e46e5f903fff3e95-01 outer:exit 2b-a480f0d37a0095baf56ce26fe9f41e815ee0cf37-7a954a68dbdfb038-01
2022-04-25T18:38:59.284Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:38:59.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2a56bebd6e716d00dbbbbe9b9786dff331b0088-2f4f6c9a97b3a5d0-01 outer:exit 2b-c2a56bebd6e716d00dbbbbe9b9786dff331b0088-7d67cbcc90384a66-01
2022-04-25T18:38:59.297Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:38:59.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f3b73b53dd3d8680aa97cc6d648328fea3b2326-a5e514a65b8d3042-01 outer:exit 2b-7f3b73b53dd3d8680aa97cc6d648328fea3b2326-4ddebd331eb604f1-01
2022-04-25T18:38:59.301Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:38:59.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca7fe3027475b80f1269397a86361a07a4d2499f-1495bf619678849b-01 outer:exit 2b-ca7fe3027475b80f1269397a86361a07a4d2499f-7b3c26d571961976-01
2022-04-25T18:38:59.307Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:38:59.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-59c2c7191cee55c7d5482062a4efe11a9ef990f7-14a3e45ff1ae8004-01 outer:exit 2b-59c2c7191cee55c7d5482062a4efe11a9ef990f7-28e207deab1ab9f9-01
2022-04-25T18:38:59.312Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:38:59.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bce6bbac621ca686d6869e930cc5dc63553530c-3f55353dea3654e6-01 outer:exit 2b-3bce6bbac621ca686d6869e930cc5dc63553530c-07f7b3e53cb8505b-01
2022-04-25T18:38:59.318Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:38:59.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-59707b0d9eb0985a11f95fcd883e86e45a5497ab-b30846c95233d65b-01 outer:exit 2b-59707b0d9eb0985a11f95fcd883e86e45a5497ab-ff0345353c1a35f2-01
2022-04-25T18:38:59.322Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:38:59.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc248a30364ef8034cf3a65065e9c61df8fcaffb-633c7cc03ec92fff-01 outer:exit 2b-dc248a30364ef8034cf3a65065e9c61df8fcaffb-e33f67e75952df5e-01
2022-04-25T18:38:59.325Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:38:59.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b719129797acea7f6c62fc944ac8d93fd23173d-172fee68c554db48-01 outer:exit 2b-2b719129797acea7f6c62fc944ac8d93fd23173d-58dba0fff2a2e866-01
2022-04-25T18:38:59.328Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:38:59.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-facc6cec02db3890d061b693580dd26fc5c198f9-83016ba42772bd92-01 outer:exit 2b-facc6cec02db3890d061b693580dd26fc5c198f9-32859f0241c4b42b-01
2022-04-25T18:38:59.332Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:38:59.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ba4b9fdc9ef7064f79d69a6f074d11ab72f325d-4e240f390ee08c93-01 outer:exit 2b-5ba4b9fdc9ef7064f79d69a6f074d11ab72f325d-c92abec17805f0ca-01
2022-04-25T18:38:59.378Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:38:59.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea39b09e3380153cd2c7bfc55c11f1c6f6c3f06a-7a328d1ec708d5fa-01 outer:exit 2b-ea39b09e3380153cd2c7bfc55c11f1c6f6c3f06a-c58d1ccb06eac3aa-01
2022-04-25T18:38:59.404Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:38:59.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-b15de5c6ffaaf51a4ba23721194e5f80f298f094-49e94890f2416f29-01 outer:exit 2b-b15de5c6ffaaf51a4ba23721194e5f80f298f094-990723d07625d563-01
2022-04-25T18:38:59.458Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:38:59.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cb15fb6f083273fc294e8352bdb69ad592915aa-f4fe37336ed3aedb-01 outer:exit 2b-7cb15fb6f083273fc294e8352bdb69ad592915aa-27c806e4450596e5-01
2022-04-25T18:38:59.465Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:38:59.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad00cdf47a6099e48f6f21ebad56390605de9979-3524c14bf9deda3b-01 outer:exit 2b-ad00cdf47a6099e48f6f21ebad56390605de9979-3a566830a791215b-01
2022-04-25T18:38:59.467Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:38:59.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-08d590d1b1a612fcfb45fc03f74b95da1252b8c4-406a3c741268f28e-01 outer:exit 2b-08d590d1b1a612fcfb45fc03f74b95da1252b8c4-4b46bd5aa85d9ca6-01
2022-04-25T18:38:59.475Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:38:59.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b73ceb32c707bb9c188e99868c2ee3731ce2bcc-ea27156712366c54-01 outer:exit 2b-5b73ceb32c707bb9c188e99868c2ee3731ce2bcc-75d0741f657e4723-01
2022-04-25T18:38:59.478Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:38:59.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ea3b7b70ba61fce85fd3d77c8e572b4f1dea10-a8edb1ceb776b8a4-01 outer:exit 2b-77ea3b7b70ba61fce85fd3d77c8e572b4f1dea10-9e8c968d719b3833-01
2022-04-25T18:38:59.482Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:38:59.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4b2abf8b32b526a2dadf38844810c66916868ef-d3dfabadce6d79be-01 outer:exit 2b-c4b2abf8b32b526a2dadf38844810c66916868ef-2a9c764b1c5a5f07-01
2022-04-25T18:38:59.486Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:38:59.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-63a0d57937c6c5eed91a48ffc714eb6e3d876445-0fda2f39589cbcd9-01 outer:exit 2b-63a0d57937c6c5eed91a48ffc714eb6e3d876445-609347a5decb8707-01
2022-04-25T18:38:59.488Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:38:59.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-daf438ff73bb17a11413d369ea41c4afd2e0d5d7-871a891973324b27-01 outer:exit 2b-daf438ff73bb17a11413d369ea41c4afd2e0d5d7-0816d6651637a676-01
2022-04-25T18:38:59.491Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:38:59.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f1f776ccdbd19c6caee1c6cf13502846dc13659-9ed5da4308525fbc-01 outer:exit 2b-4f1f776ccdbd19c6caee1c6cf13502846dc13659-5273ac5da6feffb8-01
2022-04-25T18:38:59.494Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:38:59.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0bfce4c9b2eb60c70009a2ddaae67de82e56288-ca795e8783a0eb82-01 outer:exit 2b-a0bfce4c9b2eb60c70009a2ddaae67de82e56288-249e51e9b3f827f7-01
2022-04-25T18:38:59.498Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:38:59.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad6afde2bf9e64d65834a462e7bafa426a5ddfc3-fefe0cb81aa03e60-01 outer:exit 2b-ad6afde2bf9e64d65834a462e7bafa426a5ddfc3-2ab498160bf00bc5-01
2022-04-25T18:38:59.501Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:38:59.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd8c97a0818eef66a745aaa628c49e9470e2b95-4adadccce94ab58b-01 outer:exit 2b-bfd8c97a0818eef66a745aaa628c49e9470e2b95-c8c4fbc3e379b919-01
2022-04-25T18:38:59.503Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:38:59.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a2996020b150de72881f7c9704c68df61c92f95-d6e3bb6fb7a02b74-01 outer:exit 2b-7a2996020b150de72881f7c9704c68df61c92f95-ba5505fddac060c5-01
2022-04-25T18:38:59.552Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:38:59.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-00ef6d27e99008ac88588e3fb1ec03e78954c8c3-d45fd4a6cd84b3c1-01 outer:exit 2b-00ef6d27e99008ac88588e3fb1ec03e78954c8c3-297f564056085598-01
2022-04-25T18:38:59.575Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:38:59.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-b43d4b0589d9be48cc6b3869d43672a51fa03558-e98c07e53d86a610-01 outer:exit 2b-b43d4b0589d9be48cc6b3869d43672a51fa03558-70c5a62131f81c4d-01
2022-04-25T18:38:59.596Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:38:59.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ac7d14d353eaef06c5e7a35ed45b8ee1b3b402-60bb561d1587a487-01 outer:exit 2b-e5ac7d14d353eaef06c5e7a35ed45b8ee1b3b402-216bd4ae7a176a9b-01
2022-04-25T18:38:59.677Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:38:59.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd206e5d57e8920b360965a156b08faf4ba1ea8-d1ed19528c565157-01 outer:exit 2b-bfd206e5d57e8920b360965a156b08faf4ba1ea8-9199ab0b44b2802c-01
2022-04-25T18:38:59.684Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:38:59.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-0390ab5d06e6dd21b92b440fff8986c929fa1bd2-1445ef5befcc15c6-01 outer:exit 2b-0390ab5d06e6dd21b92b440fff8986c929fa1bd2-f6193c47ae164bc9-01
2022-04-25T18:38:59.688Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:38:59.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-747a5b6e82b2c68cde7e68868833f8281b11f76b-9802db96a9ea2887-01 outer:exit 2b-747a5b6e82b2c68cde7e68868833f8281b11f76b-8fe77766b607ea5f-01
2022-04-25T18:38:59.700Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:38:59.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-635a5be73f200efc97a12ec3a173b85d57e6bcd1-ba376ebf366d0805-01 outer:exit 2b-635a5be73f200efc97a12ec3a173b85d57e6bcd1-2562750f04d36724-01
2022-04-25T18:38:59.712Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:38:59.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5241fe6ce4dce1df4bb740f323d5e1afb46558c-0e0956bd5ea2d825-01 outer:exit 2b-e5241fe6ce4dce1df4bb740f323d5e1afb46558c-c2164198d61d458b-01
2022-04-25T18:38:59.716Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:38:59.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-2782fa85962d93386b4833b5e7fb48236ca35fbe-378146993185939d-01 outer:exit 2b-2782fa85962d93386b4833b5e7fb48236ca35fbe-475605381cb843ea-01
2022-04-25T18:38:59.719Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:38:59.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c396cc8a1351077c8a7951dac866ffaf5a24db9-065f10af49e0a433-01 outer:exit 2b-5c396cc8a1351077c8a7951dac866ffaf5a24db9-ba1d05d2df9ba7dd-01
2022-04-25T18:38:59.721Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:38:59.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-911c9e517e0042ba51bbff916843474fe8b7836e-3dd248dc0a3b144a-01 outer:exit 2b-911c9e517e0042ba51bbff916843474fe8b7836e-edd8f33a977f24e0-01
2022-04-25T18:38:59.726Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:38:59.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-90423db20b0540f4111f61600feebeb249351bfa-89c524c9ecba4ce6-01 outer:exit 2b-90423db20b0540f4111f61600feebeb249351bfa-01f1f9fbeb1cf3a3-01
2022-04-25T18:38:59.742Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:38:59.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fdd9fa1dcfeb3e3f6409559de05723785962428-dd76fc1ce7b17593-01 outer:exit 2b-8fdd9fa1dcfeb3e3f6409559de05723785962428-610eafa3ca5b63f5-01
2022-04-25T18:38:59.757Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:38:59.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-83722ff6ef94735908b3d944bf4a6e3b04c602da-e5389d15637d58df-01 outer:exit 2b-83722ff6ef94735908b3d944bf4a6e3b04c602da-baf9e449182bcf43-01
2022-04-25T18:38:59.761Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:38:59.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd36864e48c662e2d03a12af5ee891e6171a13be-c0c5e1ba2ff54642-01 outer:exit 2b-cd36864e48c662e2d03a12af5ee891e6171a13be-8690a7f85da4c014-01
2022-04-25T18:38:59.764Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:38:59.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-9213406f6db61218cdfe9470c9ea44f82a25cc1e-82ffb96a77a5c632-01 outer:exit 2b-9213406f6db61218cdfe9470c9ea44f82a25cc1e-600aa019f122b38f-01
2022-04-25T18:38:59.847Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:38:59.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-be761f03d35c61c49e55b0c6e1f3ae90d3455340-0e40c9a601d185c5-01 outer:exit 2b-be761f03d35c61c49e55b0c6e1f3ae90d3455340-6884a3888201680a-01
2022-04-25T18:38:59.898Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (763ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:08.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:08.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:08.458Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:08.459Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:08.535Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:08.668Z appoptics:patching patched crypto 
2022-04-25T18:39:08.689Z appoptics:patching patched https 
2022-04-25T18:39:08.690Z appoptics:patching patched http 
2022-04-25T18:39:08.751Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:08.752Z appoptics:patching patched fs 
2022-04-25T18:39:08.770Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v18.0.0)
2022-04-25T18:39:08.777Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-25T18:39:08.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a36f50d177496a3030b63c4a303179e061d8df8-a642cb1de4934280-01 outer:exit 2b-6a36f50d177496a3030b63c4a303179e061d8df8-626bf4d0d7b4f2ec-01
2022-04-25T18:39:08.828Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:08.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6abfe8523968e408466fa0b9b18621555843625-8f3fb89cfade26ee-01 outer:exit 2b-b6abfe8523968e408466fa0b9b18621555843625-4a19f716d51c2ec5-01
2022-04-25T18:39:08.876Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:08.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d75d88298cbe642e9f36d068a1d3b7d7c49274e-bd6beafa296ac11e-01 outer:exit 2b-6d75d88298cbe642e9f36d068a1d3b7d7c49274e-c9a18807858d7570-01
2022-04-25T18:39:08.880Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:08.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-47ba80e3077e965e11637149699a327859551995-68dc306b60f7aeb1-01 outer:exit 2b-47ba80e3077e965e11637149699a327859551995-3c75045ec1b99ecc-01
2022-04-25T18:39:08.884Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:08.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0136755abd3b78677d9395340a9fa3ba12d953c-84e9cab1d93b1081-01 outer:exit 2b-f0136755abd3b78677d9395340a9fa3ba12d953c-8feebb0b2dcb3975-01
2022-04-25T18:39:08.888Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:08.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4ba04e3853b799c2b48b4f6a3982446b19cdd3d-ed59160aeaa301e4-01 outer:exit 2b-e4ba04e3853b799c2b48b4f6a3982446b19cdd3d-04230ee957570abb-01
2022-04-25T18:39:08.892Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:08.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b368bd8fdd56bfdc6318b2d7242da8f9ef14f8-5ffd8a274bbaeccb-01 outer:exit 2b-51b368bd8fdd56bfdc6318b2d7242da8f9ef14f8-244a9d7b637e01ce-01
2022-04-25T18:39:08.895Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:08.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-c67efec2a48625b872d3404c278a7e5bcd2ce8a6-799985547678fdfe-01 outer:exit 2b-c67efec2a48625b872d3404c278a7e5bcd2ce8a6-eff9e18c97d51634-01
2022-04-25T18:39:08.898Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:08.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8117e490e031290740c32d325d6cadf841ac840-7fd6817ee02a13e6-01 outer:exit 2b-e8117e490e031290740c32d325d6cadf841ac840-5f87f82496cc8e91-01
2022-04-25T18:39:08.901Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:08.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec6de05e82c9044f0644616ee05b401358e8e430-5b9eee01b5f0ffc4-01 outer:exit 2b-ec6de05e82c9044f0644616ee05b401358e8e430-f33b222d22b1f92e-01
2022-04-25T18:39:08.907Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:08.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-68739864c8a48c608e629f85e01040f1e74d816b-bc2b713776d181bf-01 outer:exit 2b-68739864c8a48c608e629f85e01040f1e74d816b-c33f5e66c71d00f0-01
2022-04-25T18:39:08.911Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:08.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-48f3a64081706a1a86aacbd79d7b50d5d39b351c-3ab8944fbc998290-01 outer:exit 2b-48f3a64081706a1a86aacbd79d7b50d5d39b351c-d5eb4fd3d6a86434-01
2022-04-25T18:39:08.918Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:08.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eddeaf10ffcf38d6687d941c8c4c6bdc0267a8b-a6bd98e93be89dd2-01 outer:exit 2b-1eddeaf10ffcf38d6687d941c8c4c6bdc0267a8b-d8417a2a1daa4beb-01
2022-04-25T18:39:08.936Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:08.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-56d3e9ea28a27fd0dc9bd075a232a1cf35f13735-e0e0be55e2997e4b-01 outer:exit 2b-56d3e9ea28a27fd0dc9bd075a232a1cf35f13735-50b19aac123462c9-01
2022-04-25T18:39:08.981Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:08.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a77157d0142b6436629e11cc8e7e755aa08a5c4-e8c7e8bf680813dd-01 outer:exit 2b-2a77157d0142b6436629e11cc8e7e755aa08a5c4-8892ee8b12397f74-01
2022-04-25T18:39:08.984Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:08.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-09aa105ba6ccbb1fa5b8c0986d619c7c4dad3aba-a7ca10622f228fae-01 outer:exit 2b-09aa105ba6ccbb1fa5b8c0986d619c7c4dad3aba-e497c81bab825a67-01
2022-04-25T18:39:08.987Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:08.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-02189939bb268e907d025c2389d2d7fe8918fe88-7f75cd219511e5de-01 outer:exit 2b-02189939bb268e907d025c2389d2d7fe8918fe88-877ccafdb6eb13d2-01
2022-04-25T18:39:08.990Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:08.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-866e2e1854f7ba21c73fb335b7abcfbfb7769a12-29f278e39b79888d-01 outer:exit 2b-866e2e1854f7ba21c73fb335b7abcfbfb7769a12-56489450d2a73fb9-01
2022-04-25T18:39:08.992Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:08.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-44eff2c9c4e0c469489e31d70dbfdba1adca35d9-eb2c014cbd362e15-01 outer:exit 2b-44eff2c9c4e0c469489e31d70dbfdba1adca35d9-99f078a7723388fa-01
2022-04-25T18:39:08.997Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:09.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-35046b981c3bad2961c828415ca0a4a4c2fb1bb8-fb2d7a640360f5e2-01 outer:exit 2b-35046b981c3bad2961c828415ca0a4a4c2fb1bb8-a693f938dcd43e7c-01
2022-04-25T18:39:09.000Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:09.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1559219ba42815c6bde007668a5156fbb6fb487-217db244494744e9-01 outer:exit 2b-e1559219ba42815c6bde007668a5156fbb6fb487-0f210ec38723d41d-01
2022-04-25T18:39:09.004Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:09.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a41a328fc61d8b87618e6d586617e9a0bbf5b68-f23850db6e087ea7-01 outer:exit 2b-9a41a328fc61d8b87618e6d586617e9a0bbf5b68-c11d7c7363f715aa-01
2022-04-25T18:39:09.007Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:09.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-e52f575c58a13737bd9008d469d574777e5711f1-a0655224d85f8bd5-01 outer:exit 2b-e52f575c58a13737bd9008d469d574777e5711f1-9a58d53b5fe9d7c9-01
2022-04-25T18:39:09.010Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:09.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-c76f04f3e0576db1051c50eaaa7a661fba946f26-0f4acffab3d499f1-01 outer:exit 2b-c76f04f3e0576db1051c50eaaa7a661fba946f26-60738951d3276f24-01
2022-04-25T18:39:09.014Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:09.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7e78ecc101e1598ddbaa0511ed302440e57e81e-b403e835ee9ef75e-01 outer:exit 2b-b7e78ecc101e1598ddbaa0511ed302440e57e81e-ed65baa5f592bf24-01
2022-04-25T18:39:09.016Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:09.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c5685346531d79de75fb6e1c05f3c62d5677f2f-8a8482100474efea-01 outer:exit 2b-8c5685346531d79de75fb6e1c05f3c62d5677f2f-00f2760d6c74691a-01
2022-04-25T18:39:09.019Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:09.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-64b66921c0eef563851bc98b0f3761ff54e42f64-e63aa2ab0292a1fe-01 outer:exit 2b-64b66921c0eef563851bc98b0f3761ff54e42f64-0c19821a8006da4e-01
2022-04-25T18:39:09.026Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:09.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-814b34f5b61d29dd62080aae8ce43b9833b718d7-7ef22d4c28b2ecbf-01 outer:exit 2b-814b34f5b61d29dd62080aae8ce43b9833b718d7-4493608286b97c74-01
2022-04-25T18:39:09.031Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:09.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-5536809ab105c6db7edc70b4a789f695631ddb5b-68d3f9b8c5735c3c-01 outer:exit 2b-5536809ab105c6db7edc70b4a789f695631ddb5b-d9d0e52ba6c6c90e-01
2022-04-25T18:39:09.042Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:09.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-385dbdb8daaaf26956b3d15a9ad86885c927edc3-35f23a0aa666ed37-01 outer:exit 2b-385dbdb8daaaf26956b3d15a9ad86885c927edc3-23cccf0edae23960-01
2022-04-25T18:39:09.050Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:09.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0dd67d34480a07a4521acc68cd6e433d96922ca-61c32c97caa431ab-01 outer:exit 2b-d0dd67d34480a07a4521acc68cd6e433d96922ca-637977a13416aefd-01
2022-04-25T18:39:09.053Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:09.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-771b3fecae6bd538b603916ab33b0d90717abfaf-f06cc001ab5f61ec-01 outer:exit 2b-771b3fecae6bd538b603916ab33b0d90717abfaf-db9eb15120c30d2b-01
2022-04-25T18:39:09.060Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:09.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bc2623392d946be4f9986bf5e3dcff637e707f5-1a083b00cf275280-01 outer:exit 2b-2bc2623392d946be4f9986bf5e3dcff637e707f5-7fcd03cbb6a98882-01
2022-04-25T18:39:09.069Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:09.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-2def7342b68975e2538d6884e0a2346c9be22476-37a8200cc0d4bb7e-01 outer:exit 2b-2def7342b68975e2538d6884e0a2346c9be22476-263a52af4538534d-01
2022-04-25T18:39:09.071Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:09.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-9818a4dbb60251b207cfa1fdf15edf55ae4ae453-49e5db47affc0034-01 outer:exit 2b-9818a4dbb60251b207cfa1fdf15edf55ae4ae453-7e5c1d90a040c70f-01
2022-04-25T18:39:09.073Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:09.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f72bcf667eda69c721e3140e83205dc60dba8cf-df5829b0a97560ce-01 outer:exit 2b-7f72bcf667eda69c721e3140e83205dc60dba8cf-252d0e7d28bece94-01
2022-04-25T18:39:09.075Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:09.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf6fb0364991767914a0e1763c09968667ebae54-d4e06ccc3842e9cc-01 outer:exit 2b-cf6fb0364991767914a0e1763c09968667ebae54-769229e33a9b33a5-01
2022-04-25T18:39:09.077Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:09.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-675909650c8338d1dda23ec746bf444028131df6-791ae8389cb0c12e-01 outer:exit 2b-675909650c8338d1dda23ec746bf444028131df6-f5907f10d3212680-01
2022-04-25T18:39:09.080Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:09.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed11a244d669cff0ba3419d8c098ed41259156f3-a8182e28e2c34451-01 outer:exit 2b-ed11a244d669cff0ba3419d8c098ed41259156f3-c6c11e2bff60a3f4-01
2022-04-25T18:39:09.091Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:09.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8f52d1edb623d974c652f4b0abb934b9ae31b0f-c892013580934a8b-01 outer:exit 2b-d8f52d1edb623d974c652f4b0abb934b9ae31b0f-03458db53e623f20-01
2022-04-25T18:39:09.103Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:09.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d53eaec20b1f8d40b6564ee76c9b563e0e8c7b4-2d895490316f794f-01 outer:exit 2b-1d53eaec20b1f8d40b6564ee76c9b563e0e8c7b4-76a99fbd5c2325c6-01
2022-04-25T18:39:09.106Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:09.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9d3b6b12ac620c83aad8cdaec92976ee070edf8-fc71a685410599df-01 outer:exit 2b-f9d3b6b12ac620c83aad8cdaec92976ee070edf8-edace678c64be8b9-01
2022-04-25T18:39:09.112Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:09.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b27984b742ed97aaf602b84915f4acd8d0491b6-0b2f28e299e3f324-01 outer:exit 2b-8b27984b742ed97aaf602b84915f4acd8d0491b6-39939820eba6838b-01
2022-04-25T18:39:09.114Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:09.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ffcdd3da6e0f98e7cb0a4bf35b837769174271-96a52a7b2cdfd626-01 outer:exit 2b-b8ffcdd3da6e0f98e7cb0a4bf35b837769174271-fc75469362b3022d-01
2022-04-25T18:39:09.146Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (364ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:17.127Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:17.128Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:17.128Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:17.129Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:17.200Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:17.338Z appoptics:patching patched crypto 
2022-04-25T18:39:17.381Z appoptics:patching patched https 
2022-04-25T18:39:17.382Z appoptics:patching patched http 
2022-04-25T18:39:17.490Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:17.491Z appoptics:patching patched fs 
2022-04-25T18:39:17.508Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v18.0.0)
2022-04-25T18:39:17.515Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-25T18:39:17.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-710b231868aa60a22b2bf4db2eb2dc413ef520fc-63e86d9c3f31f771-01 outer:exit 2b-710b231868aa60a22b2bf4db2eb2dc413ef520fc-67a735bbff4fe715-01
2022-04-25T18:39:17.570Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:17.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-582e3b778e718a10e108b59192d2a3c4e7ed73d7-265a186b8469f7de-01 outer:exit 2b-582e3b778e718a10e108b59192d2a3c4e7ed73d7-2dcdf444cb46f57e-01
2022-04-25T18:39:17.623Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:17.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a81e1b90e43df81ed6b0e295fdbbb306d729eea-64638cda5beda568-01 outer:exit 2b-4a81e1b90e43df81ed6b0e295fdbbb306d729eea-7dcca36f047b7d09-01
2022-04-25T18:39:17.628Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:17.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4e4b86d55a524fab92423811ea681c6f67a0d66-199df3f9b65f1e8b-01 outer:exit 2b-c4e4b86d55a524fab92423811ea681c6f67a0d66-343cab4f20836d53-01
2022-04-25T18:39:17.632Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:17.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-c610e240f4608c26603b782fc306779a0792cb51-1051be5611ee61c5-01 outer:exit 2b-c610e240f4608c26603b782fc306779a0792cb51-80a2c6b80f4b6933-01
2022-04-25T18:39:17.637Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:17.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac3f8d5980cf9411765e0bced773146d44e7a0d-b8be5851271cf814-01 outer:exit 2b-3ac3f8d5980cf9411765e0bced773146d44e7a0d-828db5172a5b8f08-01
2022-04-25T18:39:17.644Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:17.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9bc3f183efd0d033bb98e75a690cb3655063ca1-d327ab55d5d04515-01 outer:exit 2b-b9bc3f183efd0d033bb98e75a690cb3655063ca1-33a3a4d924c7d3d2-01
2022-04-25T18:39:17.647Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:17.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14caa4172d00c5a2801acba18c65bd6be5ff8ac-74c390b88ea9b42c-01 outer:exit 2b-f14caa4172d00c5a2801acba18c65bd6be5ff8ac-d52d14255b682e16-01
2022-04-25T18:39:17.650Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:17.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-c06a266e4c160ab0e2a28307ce73c3bdfdef8a84-31856c45e210c946-01 outer:exit 2b-c06a266e4c160ab0e2a28307ce73c3bdfdef8a84-1e9266bb0aa8befb-01
2022-04-25T18:39:17.653Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:17.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c720d511fd5391dcfa7c6f2890c3635ecb2aef7-5e27e4c2a2c87b1b-01 outer:exit 2b-7c720d511fd5391dcfa7c6f2890c3635ecb2aef7-c4240706051973a9-01
2022-04-25T18:39:17.656Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:17.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-7691534c55ddb680a95697e1b88626f19b42750b-c56c99bdbd707173-01 outer:exit 2b-7691534c55ddb680a95697e1b88626f19b42750b-67b0cf8332f48b0d-01
2022-04-25T18:39:17.661Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:17.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-da70852eef162fca2b009bd06c297d8874e61dc3-d546df60dc042198-01 outer:exit 2b-da70852eef162fca2b009bd06c297d8874e61dc3-17d7cc33afa04b4f-01
2022-04-25T18:39:17.668Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:17.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cbe0d2e2e7bb8a421464339d0619980a206bc67-634968fcd5b996af-01 outer:exit 2b-9cbe0d2e2e7bb8a421464339d0619980a206bc67-658818aa8afd9a71-01
2022-04-25T18:39:17.690Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:17.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e57fbdd678ca1deb9feeec6f60e8ead078730b1-42a4a950c365826b-01 outer:exit 2b-9e57fbdd678ca1deb9feeec6f60e8ead078730b1-5b4c2e7a60a75cf4-01
2022-04-25T18:39:17.738Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:17.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fe12bd051b17db397e035739423202edbc3991e-8880c917192fe440-01 outer:exit 2b-9fe12bd051b17db397e035739423202edbc3991e-4ee198dea52858d9-01
2022-04-25T18:39:17.742Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:17.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-32d07694971c0bf365e0f116a2439133fb7be756-b46292e67d862dee-01 outer:exit 2b-32d07694971c0bf365e0f116a2439133fb7be756-a35c2b4d1a789814-01
2022-04-25T18:39:17.745Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:17.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f38966373d30c68025db19723b6ba122ce89b32-a9598699106b30c6-01 outer:exit 2b-2f38966373d30c68025db19723b6ba122ce89b32-22afc5983ad327ad-01
2022-04-25T18:39:17.749Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:17.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf245326e8d42ee108a0b7becf726578e34e24d8-b12c6966ccd706c9-01 outer:exit 2b-cf245326e8d42ee108a0b7becf726578e34e24d8-3e5f29b0711c231d-01
2022-04-25T18:39:17.751Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:17.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-08872d999fec3e422effae90bdf15069fbb4df89-7c311e59a0fa21ae-01 outer:exit 2b-08872d999fec3e422effae90bdf15069fbb4df89-063fff9722ec93f0-01
2022-04-25T18:39:17.754Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:17.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fae0a1febb6c6c4603a92a5ec9d39b38c32c8e2-2adc579017c5a20b-01 outer:exit 2b-5fae0a1febb6c6c4603a92a5ec9d39b38c32c8e2-17e80178a41fc5fb-01
2022-04-25T18:39:17.756Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:17.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c57f859f4c9b3e332e46caed51c3c46d37664b7-f35278fcaed974cd-01 outer:exit 2b-0c57f859f4c9b3e332e46caed51c3c46d37664b7-1f5d1722f81f550a-01
2022-04-25T18:39:17.758Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:17.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-18821476e9b4d20702563d5d8257151560761eb9-a3b600e1d988275b-01 outer:exit 2b-18821476e9b4d20702563d5d8257151560761eb9-7adc965118da959d-01
2022-04-25T18:39:17.761Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:17.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b3e8664619f00432f30fdb12dc9f2d19b6eb4f9-d23cc94ce2919d08-01 outer:exit 2b-8b3e8664619f00432f30fdb12dc9f2d19b6eb4f9-7052127db082d0d9-01
2022-04-25T18:39:17.764Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:17.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-53dc2e53845e89d2ee6c4d7f2973560f258c638f-15338f436a4970d3-01 outer:exit 2b-53dc2e53845e89d2ee6c4d7f2973560f258c638f-3f828e8cd27d24a8-01
2022-04-25T18:39:17.767Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:17.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-b376cf9b25734f633df99e7a854cdb390e59d42a-6bc932a3516623fb-01 outer:exit 2b-b376cf9b25734f633df99e7a854cdb390e59d42a-17a93294e2de9849-01
2022-04-25T18:39:17.769Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:17.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-379c77266f15b839826812d2f3a719a76bd2f8ce-17e6d125fc757510-01 outer:exit 2b-379c77266f15b839826812d2f3a719a76bd2f8ce-100b01b46c4ca7ff-01
2022-04-25T18:39:17.772Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:17.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-324ef31cc0c6dde24e92458063085ca5e922ea27-8733798d82ba2dda-01 outer:exit 2b-324ef31cc0c6dde24e92458063085ca5e922ea27-0ac6f822bf3ede17-01
2022-04-25T18:39:17.778Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:17.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-5288b09d5e8f3956df27358af08bebbb613d2e5b-26e7dda0e9d079f5-01 outer:exit 2b-5288b09d5e8f3956df27358af08bebbb613d2e5b-6e56a5a9f67c6ff7-01
2022-04-25T18:39:17.788Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:17.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb689e58a93a21d38673c3156c1fca6911e43325-55edcec01d77ef10-01 outer:exit 2b-fb689e58a93a21d38673c3156c1fca6911e43325-1536a993795fdac0-01
2022-04-25T18:39:17.803Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:17.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-aadd03ae0abccca4a14de27d8564fa85e6de45a9-3d93b4d02815f546-01 outer:exit 2b-aadd03ae0abccca4a14de27d8564fa85e6de45a9-a936f8b063264c76-01
2022-04-25T18:39:17.813Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:17.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-94df6d8dd5b95906731e9390878654da9ae0595b-7370c765b486fa70-01 outer:exit 2b-94df6d8dd5b95906731e9390878654da9ae0595b-d260636df3fb533e-01
2022-04-25T18:39:17.816Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:17.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d9482702d189d25a0d3bd5ff8d3383d5334a574-bf63d60d1428a679-01 outer:exit 2b-9d9482702d189d25a0d3bd5ff8d3383d5334a574-ff22de80438d315e-01
2022-04-25T18:39:17.819Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:17.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-acff6d8fc2dc16e3d725b7b75de37d953ed7db0d-302868c3adc0d2cc-01 outer:exit 2b-acff6d8fc2dc16e3d725b7b75de37d953ed7db0d-0675818e078f26d8-01
2022-04-25T18:39:17.829Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:17.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bd6bce9df27ec95933413bd62ad2226fcf8aff8-f216ffff29731b63-01 outer:exit 2b-1bd6bce9df27ec95933413bd62ad2226fcf8aff8-cb367b16fe25ee79-01
2022-04-25T18:39:17.831Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:17.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d423c8c24a0f140d48c795cbbdddac9e9544bc5-37eaaa3644d90d02-01 outer:exit 2b-0d423c8c24a0f140d48c795cbbdddac9e9544bc5-7f3c888b850c2724-01
2022-04-25T18:39:17.833Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:17.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-119ad67b347bd99d398da2fc91b41f936168297f-ed603718af1ca1dc-01 outer:exit 2b-119ad67b347bd99d398da2fc91b41f936168297f-0e86806f0676bb9d-01
2022-04-25T18:39:17.835Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:17.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-c70877737a932083ac8aeac18c9bd84e45f19b95-b7a46c08da4dd140-01 outer:exit 2b-c70877737a932083ac8aeac18c9bd84e45f19b95-7f440255806d4bc6-01
2022-04-25T18:39:17.837Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:17.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-e386b19c698a006facca6d63b2988f24051c3dfa-4b2d5c9bda616f47-01 outer:exit 2b-e386b19c698a006facca6d63b2988f24051c3dfa-4b80868bea9e6fe6-01
2022-04-25T18:39:17.839Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:17.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-a20d03d11aade26464011f3ea45d78f5cafa1755-ba5e010e69cf51bb-01 outer:exit 2b-a20d03d11aade26464011f3ea45d78f5cafa1755-4e27382b6460add3-01
2022-04-25T18:39:17.851Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:17.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-56e4f7c723097c987c300785cf8deebc9b44c879-1c9a7c0aba514387-01 outer:exit 2b-56e4f7c723097c987c300785cf8deebc9b44c879-a7758cab30b2f9ce-01
2022-04-25T18:39:17.863Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:17.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-4359c4e6bcbc2760a090cb2110c4705d3ab33de5-b06278fab1f9ca23-01 outer:exit 2b-4359c4e6bcbc2760a090cb2110c4705d3ab33de5-1d5c3feb81131eb9-01
2022-04-25T18:39:17.866Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:17.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-ece349e58fd4b6502b966a67de440d80542e9e92-19db3bf778ebd58f-01 outer:exit 2b-ece349e58fd4b6502b966a67de440d80542e9e92-01510747b5482971-01
2022-04-25T18:39:17.869Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:17.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c1eb6d1e11d637b5de227ebf6d7c09407a19b9c-bd2f46d2d9832c0b-01 outer:exit 2b-0c1eb6d1e11d637b5de227ebf6d7c09407a19b9c-baad919b6962da47-01
2022-04-25T18:39:17.872Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:17.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa022cbe8ec08c5a8b4cd25f3b830ebeaeacd184-426d7af18aed2fa8-01 outer:exit 2b-fa022cbe8ec08c5a8b4cd25f3b830ebeaeacd184-fe8500fcdfe82713-01
2022-04-25T18:39:17.907Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (389ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:25.269Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:25.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:25.270Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:25.270Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:25.358Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:25.548Z appoptics:patching patched crypto 
2022-04-25T18:39:25.612Z appoptics:patching patched https 
2022-04-25T18:39:25.613Z appoptics:patching patched http 
2022-04-25T18:39:25.730Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:25.730Z appoptics:patching patched fs 
2022-04-25T18:39:25.761Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v18.0.0)
2022-04-25T18:39:25.773Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-25T18:39:25.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6124adb7f66ed63405847306b57748dc6ce18c3-8ea03b596a288768-01 outer:exit 2b-c6124adb7f66ed63405847306b57748dc6ce18c3-f63c7234bcc136eb-01
2022-04-25T18:39:25.861Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:25.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-88f6ca1091d385c793e03a690798834794c47df9-bcaf85a0cf48b9f3-01 outer:exit 2b-88f6ca1091d385c793e03a690798834794c47df9-a8b984a418a5d25b-01
2022-04-25T18:39:25.920Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:25.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe0bece15993efc72e1797091121327d9f4aacce-d6606452e7af065f-01 outer:exit 2b-fe0bece15993efc72e1797091121327d9f4aacce-4b6812429ffd5657-01
2022-04-25T18:39:25.924Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:25.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-3064d1ae61f6f218d3061467f76550174d83d38b-c646d7a8cce29e76-01 outer:exit 2b-3064d1ae61f6f218d3061467f76550174d83d38b-e5e145aefe5e646b-01
2022-04-25T18:39:25.931Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:25.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e841893c9bdf6947ebc4cd4f77693fe33d3cb50-a318cb7df94499b3-01 outer:exit 2b-6e841893c9bdf6947ebc4cd4f77693fe33d3cb50-51417f6c22a079f5-01
2022-04-25T18:39:25.944Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:25.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1acf1a9e55897daace3a54dfc4a992caa2d32f8-6366dbbd20554ad2-01 outer:exit 2b-f1acf1a9e55897daace3a54dfc4a992caa2d32f8-9ea77c5a95d60541-01
2022-04-25T18:39:25.952Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:25.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-90896731b6cd789ef5455aaeb7d8015466463af6-9cfabb90945f7d9d-01 outer:exit 2b-90896731b6cd789ef5455aaeb7d8015466463af6-786ecb9edad397f2-01
2022-04-25T18:39:25.960Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:25.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-c975408744525f611ca636e2a25ca78be5c68e8f-cfb9e017b873d32a-01 outer:exit 2b-c975408744525f611ca636e2a25ca78be5c68e8f-f0926330a6f98149-01
2022-04-25T18:39:25.966Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:25.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-220d288c9c650f01b0d83cf7c3ebdf9ddc09caed-6f9f7bd7bba2b392-01 outer:exit 2b-220d288c9c650f01b0d83cf7c3ebdf9ddc09caed-4e701a4fa7953a77-01
2022-04-25T18:39:25.971Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:25.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b28b1976d893e9e0469923bc34f2c6c15715cd-7a12f97293129b4f-01 outer:exit 2b-06b28b1976d893e9e0469923bc34f2c6c15715cd-e0661c2743c3e0a8-01
2022-04-25T18:39:25.978Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:25.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-202a7463b64eb2465f82688daaf2de6a62c411cb-b055cd6925cdb249-01 outer:exit 2b-202a7463b64eb2465f82688daaf2de6a62c411cb-9d8cfd9ea18b0960-01
2022-04-25T18:39:25.987Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:25.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-0037616bf62f6fd7c183f4d70b4cbe9f94aebb27-4b10d75fce56404f-01 outer:exit 2b-0037616bf62f6fd7c183f4d70b4cbe9f94aebb27-30dc9a9ed502dab7-01
2022-04-25T18:39:25.996Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:26.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-07399bb95df192a4e48fa07eaf1da08e77b1bbe0-f454913b3fc8b195-01 outer:exit 2b-07399bb95df192a4e48fa07eaf1da08e77b1bbe0-b4dee876180eb5dd-01
2022-04-25T18:39:26.019Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:26.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-45c01f7313cd68f3b9bb71a1351ffbfbacc6a89e-d82d61163dd9af1e-01 outer:exit 2b-45c01f7313cd68f3b9bb71a1351ffbfbacc6a89e-8a5fcac8e7ae293d-01
2022-04-25T18:39:26.071Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:26.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf754c77eeb8d4bd0b518c5d64bbab24c4bca0b2-9a393d2a4754989c-01 outer:exit 2b-cf754c77eeb8d4bd0b518c5d64bbab24c4bca0b2-da8c80e657b418a6-01
2022-04-25T18:39:26.074Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:26.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-7533f0d81567c6fa468f73e3bf292b4c40662bb9-1c212294e85a256b-01 outer:exit 2b-7533f0d81567c6fa468f73e3bf292b4c40662bb9-b0183ca459a0a751-01
2022-04-25T18:39:26.078Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:26.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfb7ddc3bbee8f9265535c4e6b0e1b22f85788b0-14fa90324d02a82c-01 outer:exit 2b-cfb7ddc3bbee8f9265535c4e6b0e1b22f85788b0-483b88f3386a312a-01
2022-04-25T18:39:26.083Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:26.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-81467cdc81804f2879a91f66f665b1715929ef47-6ac0bb61b3c94a97-01 outer:exit 2b-81467cdc81804f2879a91f66f665b1715929ef47-4ca49e48f74aaa1b-01
2022-04-25T18:39:26.090Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:26.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ad001ad3a6e519e0eadb0e1df864768443931ed-5cc6c77030bb3b0f-01 outer:exit 2b-2ad001ad3a6e519e0eadb0e1df864768443931ed-aa3c35e6131f6584-01
2022-04-25T18:39:26.092Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:26.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c599ceec323d5f3a1d903147a8fa795527bf877-192f42a1217f379f-01 outer:exit 2b-8c599ceec323d5f3a1d903147a8fa795527bf877-8a4b6368a26a4a51-01
2022-04-25T18:39:26.097Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:26.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-54609ee3d0292eab12c64e61b0933fc0f0a78af7-a13f6f59de681e5f-01 outer:exit 2b-54609ee3d0292eab12c64e61b0933fc0f0a78af7-0df088407f395e4f-01
2022-04-25T18:39:26.103Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:26.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4b21d21ea846973fe68d405a94a1052a133e5b2-74976d22eea1d3cf-01 outer:exit 2b-b4b21d21ea846973fe68d405a94a1052a133e5b2-04dd228472c51b21-01
2022-04-25T18:39:26.105Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:26.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-be2d81d23f76e2dc15ba03e730a2738bc7e6a665-ec8731e864f0aaab-01 outer:exit 2b-be2d81d23f76e2dc15ba03e730a2738bc7e6a665-cb965ec926134789-01
2022-04-25T18:39:26.113Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:26.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-22f4c7a233dad66af6a90290123a8d8e0acee794-1e4756f94efd82b4-01 outer:exit 2b-22f4c7a233dad66af6a90290123a8d8e0acee794-79ab1f272eb758b4-01
2022-04-25T18:39:26.119Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:26.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-f619389796070ea3fc5cdded61d9e37109ae77ea-2bcc246b876cbccc-01 outer:exit 2b-f619389796070ea3fc5cdded61d9e37109ae77ea-11c52ca3ab0d8508-01
2022-04-25T18:39:26.122Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:26.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-4113c7d1799eab07e0bf2fa5e57099b7f327d2fb-c4a112e538a7c50a-01 outer:exit 2b-4113c7d1799eab07e0bf2fa5e57099b7f327d2fb-0d4831e86fa06bf5-01
2022-04-25T18:39:26.125Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:26.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-27910c79702acdf627a58ffbf220e496787d0424-b8b0dd55f716e8a2-01 outer:exit 2b-27910c79702acdf627a58ffbf220e496787d0424-ca5192669e610e79-01
2022-04-25T18:39:26.135Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:26.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-38a07825a308353ec650eee579b0336e8ef6bf79-67ec583adf58d85b-01 outer:exit 2b-38a07825a308353ec650eee579b0336e8ef6bf79-8d207a59f43b4a29-01
2022-04-25T18:39:26.140Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:26.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-dab522c9fb33193a7a607099b041f046a705767a-e2be42e31cd1fc3e-01 outer:exit 2b-dab522c9fb33193a7a607099b041f046a705767a-ae8cb5add374a840-01
2022-04-25T18:39:26.151Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:26.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c06097ddb74859a091c159ad139b07799b251dc-ba7777d83f0d4c50-01 outer:exit 2b-4c06097ddb74859a091c159ad139b07799b251dc-797b44dfc2459c6a-01
2022-04-25T18:39:26.161Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:26.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f0c56e395b48b1f2ba10a7c8b5b6ed68c176d0c-bb6163cd7a3523f2-01 outer:exit 2b-3f0c56e395b48b1f2ba10a7c8b5b6ed68c176d0c-0b7904d3fbe18c40-01
2022-04-25T18:39:26.164Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:26.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6ecc40bddfadc59ae1197b911de1acc87b2757a-57fc107212d012ca-01 outer:exit 2b-d6ecc40bddfadc59ae1197b911de1acc87b2757a-ee14e6a54ce90c2a-01
2022-04-25T18:39:26.167Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:26.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-58cd5bb434704f16ace0d2c55eb9bd58d6dd9036-185fc3c092076687-01 outer:exit 2b-58cd5bb434704f16ace0d2c55eb9bd58d6dd9036-686159c7ea46cb5e-01
2022-04-25T18:39:26.176Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:26.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9fe7d1e05f8ecda306016d0da299ed53d4e9eef-24adcc418601fcee-01 outer:exit 2b-c9fe7d1e05f8ecda306016d0da299ed53d4e9eef-164e30eaccab6b28-01
2022-04-25T18:39:26.178Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:26.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-0837660ea99fddd2e38bbe5f77eb5536a2de4e88-80597537f69a10ea-01 outer:exit 2b-0837660ea99fddd2e38bbe5f77eb5536a2de4e88-078dfe769f6e9e70-01
2022-04-25T18:39:26.180Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:26.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-072b290debefa4bdaaa68ca2f115b799120cdff7-4149482415172f6d-01 outer:exit 2b-072b290debefa4bdaaa68ca2f115b799120cdff7-c0f55e30831e40df-01
2022-04-25T18:39:26.184Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:26.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d9ed7d4deb7b08b93c09cf68e8535761435ba04-9f6b868165061c58-01 outer:exit 2b-8d9ed7d4deb7b08b93c09cf68e8535761435ba04-9ee3c8596c1f2792-01
2022-04-25T18:39:26.186Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:26.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbdbdf18c01c29d63d496eefc1a5884f8a197431-99a706a1226b67d5-01 outer:exit 2b-dbdbdf18c01c29d63d496eefc1a5884f8a197431-2e7c75f3abfa3b60-01
2022-04-25T18:39:26.191Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:26.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-a646fa59a50f4edc29d321ab5b30abb9c645e018-af0cae2a003ffb1d-01 outer:exit 2b-a646fa59a50f4edc29d321ab5b30abb9c645e018-e811646956c9d2ef-01
2022-04-25T18:39:26.212Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:26.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5e0dcadcb71ef1f8ba0fea9a6c210d302eb4b2b-0330d25c9a0e7f04-01 outer:exit 2b-b5e0dcadcb71ef1f8ba0fea9a6c210d302eb4b2b-80f665a62948f894-01
2022-04-25T18:39:26.223Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:26.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-a62d346c86aa780813ae401103274260651e7765-6e83f149f510e263-01 outer:exit 2b-a62d346c86aa780813ae401103274260651e7765-0adce70a39bcd09d-01
2022-04-25T18:39:26.232Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:26.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc23a61504464745ed3d52fc370eae349642d050-925cb4ba0bfe822e-01 outer:exit 2b-cc23a61504464745ed3d52fc370eae349642d050-ae111ae1f2df3d66-01
2022-04-25T18:39:26.235Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:26.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-d926dddac8a4646a308f8f6aaf55b6f83f3e9a58-332a42377b97f200-01 outer:exit 2b-d926dddac8a4646a308f8f6aaf55b6f83f3e9a58-25a4078ee812595d-01
2022-04-25T18:39:26.239Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:26.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-64dea8331aeb313813075d12b32735e32d2d27a1-94c56c03251f8690-01 outer:exit 2b-64dea8331aeb313813075d12b32735e32d2d27a1-1c30fba034108aca-01
2022-04-25T18:39:26.292Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (505ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:34.035Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:34.035Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:34.036Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:34.037Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:34.109Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:34.246Z appoptics:patching patched crypto 
2022-04-25T18:39:34.267Z appoptics:patching patched https 
2022-04-25T18:39:34.268Z appoptics:patching patched http 
2022-04-25T18:39:34.326Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:34.326Z appoptics:patching patched fs 
2022-04-25T18:39:34.342Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v18.0.0)
2022-04-25T18:39:34.348Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-25T18:39:34.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-7505d1265df23ba7973904c60870720b6e70c80e-6550eb7bd0cddcfa-01 outer:exit 2b-7505d1265df23ba7973904c60870720b6e70c80e-663a4f92bd86b221-01
2022-04-25T18:39:34.398Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:34.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-9df1ef60954c49c90e142b8d8fa901a21af3dd8a-7187a54d7382364b-01 outer:exit 2b-9df1ef60954c49c90e142b8d8fa901a21af3dd8a-3911ec9605b21458-01
2022-04-25T18:39:34.449Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:34.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-23afcb8a0db6b2e48fbaf0171d81926815ffbe3f-162edb900e032c61-01 outer:exit 2b-23afcb8a0db6b2e48fbaf0171d81926815ffbe3f-11d11f5da306c2bb-01
2022-04-25T18:39:34.454Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:34.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5126718d8e40bdeeb68670ba1fddf53d502d825-fca2a725da1ce183-01 outer:exit 2b-a5126718d8e40bdeeb68670ba1fddf53d502d825-c519290dd43355e9-01
2022-04-25T18:39:34.457Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:34.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a2b423561bae347082396d54a1484cd8da0a7ec-5a7a453b8e8897f7-01 outer:exit 2b-3a2b423561bae347082396d54a1484cd8da0a7ec-038035b1e0ca6a37-01
2022-04-25T18:39:34.462Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:34.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-23c2485b9122b23751e57f4ed8dd00ced188c605-b61c56a694a6f996-01 outer:exit 2b-23c2485b9122b23751e57f4ed8dd00ced188c605-c7ed2b1c0d788fd7-01
2022-04-25T18:39:34.467Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:34.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-2366a6d7d6d315db00be924a3ae0179cb81e050c-b448268da0bc30cf-01 outer:exit 2b-2366a6d7d6d315db00be924a3ae0179cb81e050c-11c077b1d84cc3b7-01
2022-04-25T18:39:34.471Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:34.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b72a10d8b34ba504d16e861342c1ade73c3b96-ccd579d2fc08f78b-01 outer:exit 2b-58b72a10d8b34ba504d16e861342c1ade73c3b96-1a27a497df234a17-01
2022-04-25T18:39:34.473Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:34.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3aa1f7e0767dd5dd00e83230d12e7ff00492b37-9e2373aef4a5b555-01 outer:exit 2b-d3aa1f7e0767dd5dd00e83230d12e7ff00492b37-d92e67462d3e0e47-01
2022-04-25T18:39:34.476Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:34.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aae53554657541cd6d6c867df85aa743300dd18-9fcd790383419f49-01 outer:exit 2b-3aae53554657541cd6d6c867df85aa743300dd18-481a05cef7185ebe-01
2022-04-25T18:39:34.480Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:34.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-c770c2fa7495d3953db4c5f10991e0031004ee78-a96d66400b5e17cb-01 outer:exit 2b-c770c2fa7495d3953db4c5f10991e0031004ee78-66bf867962344235-01
2022-04-25T18:39:34.486Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:34.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-152282d20f928cdf83e2105313fce60c4c28fd21-34f608428ee15cf8-01 outer:exit 2b-152282d20f928cdf83e2105313fce60c4c28fd21-c2d38bf3c45ff9c8-01
2022-04-25T18:39:34.493Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:34.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dc616f4f3e0fcd86cfc4e17ce818060c9753a1f-f62d853a0f241533-01 outer:exit 2b-9dc616f4f3e0fcd86cfc4e17ce818060c9753a1f-c6232a88a31ada45-01
2022-04-25T18:39:34.510Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:34.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-50379b206441ef6c2d9dddbd02f14864be009719-c535400824365534-01 outer:exit 2b-50379b206441ef6c2d9dddbd02f14864be009719-d69986c8023a99e4-01
2022-04-25T18:39:34.560Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:34.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f4a00002a998a54a0a2ae0a5ea9dd126c0e8a15-e0f6398ad6c12f50-01 outer:exit 2b-0f4a00002a998a54a0a2ae0a5ea9dd126c0e8a15-a62d51dd40a92228-01
2022-04-25T18:39:34.563Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:34.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-89c72bf34aa01c7c2cd83bce31ed02e660a79079-ad90efcd4607d49d-01 outer:exit 2b-89c72bf34aa01c7c2cd83bce31ed02e660a79079-a62cdf68f6ab7afe-01
2022-04-25T18:39:34.566Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:34.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-eda90e3f119cdd4d9a895baf2d170262a79969b7-afd46d98e18eca23-01 outer:exit 2b-eda90e3f119cdd4d9a895baf2d170262a79969b7-f9a4b932e212cf19-01
2022-04-25T18:39:34.575Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:34.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-df3e7ccc795c8ed3eb48185878ef7d51e58811d2-20cb2b30fce5bd6e-01 outer:exit 2b-df3e7ccc795c8ed3eb48185878ef7d51e58811d2-3767ad707b4aa2b6-01
2022-04-25T18:39:34.578Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:34.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ed0a4583b422c4756f4f095ae734d7444bda1a6-11dc4e0d10a6be3a-01 outer:exit 2b-3ed0a4583b422c4756f4f095ae734d7444bda1a6-31dfa84cdaf5ecf5-01
2022-04-25T18:39:34.580Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:34.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cba18c871f425f6ab29ae55c0dc64d2040c4e1f-aa1a5b45938e4c90-01 outer:exit 2b-4cba18c871f425f6ab29ae55c0dc64d2040c4e1f-e1aef9926559bfcb-01
2022-04-25T18:39:34.583Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:34.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-93f835172532fd16b14baeb84608da1d7097d9bc-cb4ee9b77eda1d33-01 outer:exit 2b-93f835172532fd16b14baeb84608da1d7097d9bc-f9427be6245b0f64-01
2022-04-25T18:39:34.585Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:34.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1f5c837fd141ee70d00552e6bde99c27f846a60-96c905656c7b7c30-01 outer:exit 2b-a1f5c837fd141ee70d00552e6bde99c27f846a60-a71b68d44d7b29bc-01
2022-04-25T18:39:34.587Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:34.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b9fe6e4c2d4716903992be37c62975cb77eb27d-0bcb44d0559d41b1-01 outer:exit 2b-7b9fe6e4c2d4716903992be37c62975cb77eb27d-fa65850f648f8864-01
2022-04-25T18:39:34.591Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:34.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-c72f857b73da66408b7daabfa708b303d7579f30-1841d6a5c66d8556-01 outer:exit 2b-c72f857b73da66408b7daabfa708b303d7579f30-31ebb37a4f2f8b29-01
2022-04-25T18:39:34.594Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:34.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-93398438755b23c609facac11836e40b69d4ca11-f5196fee38888a9f-01 outer:exit 2b-93398438755b23c609facac11836e40b69d4ca11-4ec6b11f7414d7fb-01
2022-04-25T18:39:34.597Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:34.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-d78bdb96ba1ba901b60160bc66a929b9dc0c744b-c834c37016d43c2f-01 outer:exit 2b-d78bdb96ba1ba901b60160bc66a929b9dc0c744b-a1a75928f8dc7f43-01
2022-04-25T18:39:34.599Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:34.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-83722972d4fd74765fb0b00a145ec2799fa64eae-d6182aa4fd6330fb-01 outer:exit 2b-83722972d4fd74765fb0b00a145ec2799fa64eae-baf67d39a79f5b86-01
2022-04-25T18:39:34.606Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:34.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-15f43542762acefc07e087fd3164ab50bcad2f2b-965eb942190628b6-01 outer:exit 2b-15f43542762acefc07e087fd3164ab50bcad2f2b-1a98f3219d51aa81-01
2022-04-25T18:39:34.612Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:34.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ce21a872b5002f89c531ba042215b684bb33980-5f6e94550aa96d8b-01 outer:exit 2b-8ce21a872b5002f89c531ba042215b684bb33980-112114ccdbf8f88b-01
2022-04-25T18:39:34.621Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:34.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8a7b26272854f8972cc02e9fdaa5ef4ae156054-011fbf29c537fa41-01 outer:exit 2b-d8a7b26272854f8972cc02e9fdaa5ef4ae156054-fc3cc7542512a8bd-01
2022-04-25T18:39:34.632Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:34.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-5460994312a33ae4c58b5eb1d5dfba8f7fbb796a-d62210a75737d442-01 outer:exit 2b-5460994312a33ae4c58b5eb1d5dfba8f7fbb796a-e707525001a105fc-01
2022-04-25T18:39:34.635Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:34.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-b55445b64c7c66f1e50704e22daa3be013e165ff-efc60c33093f7830-01 outer:exit 2b-b55445b64c7c66f1e50704e22daa3be013e165ff-52ed67395c3f59d3-01
2022-04-25T18:39:34.638Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:34.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-22c9109de82487ab288c8af38648a0d8027f565b-06bfed776506e94d-01 outer:exit 2b-22c9109de82487ab288c8af38648a0d8027f565b-21a820d4c5328496-01
2022-04-25T18:39:34.646Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:34.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-48f894e818f7068d1a4f2105485d07216ed965af-03d3890170d0264f-01 outer:exit 2b-48f894e818f7068d1a4f2105485d07216ed965af-95fee15a52dd14ea-01
2022-04-25T18:39:34.648Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:34.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-25e6d56935a9d09bc253aed09b0553cf1fd9a2da-4643af7e44162d3c-01 outer:exit 2b-25e6d56935a9d09bc253aed09b0553cf1fd9a2da-9ef8e4a486f83176-01
2022-04-25T18:39:34.650Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:34.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-94c2b44a04864f27b63f316613710f69c0c88dce-0c3d5f82baa27865-01 outer:exit 2b-94c2b44a04864f27b63f316613710f69c0c88dce-adbcdaec917cf531-01
2022-04-25T18:39:34.652Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:34.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-362d813de892483b97ebbb872858d260d1896d09-8c06bca42e2ce4bf-01 outer:exit 2b-362d813de892483b97ebbb872858d260d1896d09-2222e78dccf68465-01
2022-04-25T18:39:34.654Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:34.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc6486e7fbc5564132c39cee98e7841e77479d48-2378b209cfd6cb95-01 outer:exit 2b-fc6486e7fbc5564132c39cee98e7841e77479d48-64932adedb6d23f1-01
2022-04-25T18:39:34.656Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:34.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-89079b9d5829561f3b60799433490b99a06f9623-ebda151b33c49886-01 outer:exit 2b-89079b9d5829561f3b60799433490b99a06f9623-b6992482da7e34fe-01
2022-04-25T18:39:34.666Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:34.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-7299238b8eaa64a9800b5aa32ec0a0a1d09b4642-5e8d91ce3c2f06e1-01 outer:exit 2b-7299238b8eaa64a9800b5aa32ec0a0a1d09b4642-0186647168334afb-01
2022-04-25T18:39:34.680Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:34.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-f424c4d74bdf5f48302f15a943a711511f042b1e-da8a695840341641-01 outer:exit 2b-f424c4d74bdf5f48302f15a943a711511f042b1e-3c654edc9f75d5d7-01
2022-04-25T18:39:34.684Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:34.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b3d11e0d091b9a17ae241d34b9a3628b16e07c0-a1281dbd0ef5ed6c-01 outer:exit 2b-6b3d11e0d091b9a17ae241d34b9a3628b16e07c0-59c914ae7a97c552-01
2022-04-25T18:39:34.687Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:34.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-067ab219e2bba03d82649d642a3d9cf95a7c133a-5dc1a5b05fb56f65-01 outer:exit 2b-067ab219e2bba03d82649d642a3d9cf95a7c133a-2971b4bd73419049-01
2022-04-25T18:39:34.690Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:34.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea75a69b92ce1a73685581ac273328798ef4b324-3de433cd6c139256-01 outer:exit 2b-ea75a69b92ce1a73685581ac273328798ef4b324-397d1fee9ec1909c-01
2022-04-25T18:39:34.724Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (370ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:43.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:43.107Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:43.107Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:43.107Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:43.177Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:43.305Z appoptics:patching patched crypto 
2022-04-25T18:39:43.326Z appoptics:patching patched https 
2022-04-25T18:39:43.327Z appoptics:patching patched http 
2022-04-25T18:39:43.382Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:43.382Z appoptics:patching patched fs 
2022-04-25T18:39:43.397Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v18.0.0)
2022-04-25T18:39:43.403Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-25T18:39:43.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba3041cb213508d5ad1cff892b0f54559a0800d3-14c939c3ddd96464-01 outer:exit 2b-ba3041cb213508d5ad1cff892b0f54559a0800d3-95744be98aa199b9-01
2022-04-25T18:39:43.457Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:43.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-4984a2eb55a980077f280d1653fe2bf337617838-4b361f009fbab911-01 outer:exit 2b-4984a2eb55a980077f280d1653fe2bf337617838-90803304b6a7dce0-01
2022-04-25T18:39:43.507Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:43.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6e40cb2f37c03181ba63ba411389453ec508ca-cb90b39f0c4b2c20-01 outer:exit 2b-bc6e40cb2f37c03181ba63ba411389453ec508ca-3e884617fc4267ef-01
2022-04-25T18:39:43.511Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:43.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-e773bd814543be9a04f9f4fa153dc99cc128b095-b134cbe0f6d51627-01 outer:exit 2b-e773bd814543be9a04f9f4fa153dc99cc128b095-61f8cc19ae2cba01-01
2022-04-25T18:39:43.515Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:43.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4f9e8a5584510256eaf8733f144d2abaa31d7b-a6679d213f2c61c3-01 outer:exit 2b-0e4f9e8a5584510256eaf8733f144d2abaa31d7b-f041e2a6860ad24c-01
2022-04-25T18:39:43.520Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:43.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-5499d61ecd792f1e9a46d018a071ef3874a9014e-39c87a0ff7f3e270-01 outer:exit 2b-5499d61ecd792f1e9a46d018a071ef3874a9014e-0c42dfba69abdafb-01
2022-04-25T18:39:43.523Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:43.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-487b6bc848aaf884a707297651779fbe2945e91f-c813b5c224a95219-01 outer:exit 2b-487b6bc848aaf884a707297651779fbe2945e91f-9f18ac262d28edd8-01
2022-04-25T18:39:43.526Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:43.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-18f9f94e0e12c94ccf4f3727a1e8a33c3caafdb2-b15ad52d1451f638-01 outer:exit 2b-18f9f94e0e12c94ccf4f3727a1e8a33c3caafdb2-c36f0dc99dd08b51-01
2022-04-25T18:39:43.529Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:43.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-0527d4bf05d0da6e0fad1a8a44d845455a750d79-ff45cbff078ab064-01 outer:exit 2b-0527d4bf05d0da6e0fad1a8a44d845455a750d79-1f8b70c827d6c81f-01
2022-04-25T18:39:43.532Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:43.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e95a468be96ab5d5f75b5da060151889c141e07-378167ffa0e1bd9c-01 outer:exit 2b-4e95a468be96ab5d5f75b5da060151889c141e07-ef37848fb4457cf5-01
2022-04-25T18:39:43.535Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:43.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebac09e839b78abe0dab4c8f858a3436612209e9-db95eddefa3e9c0a-01 outer:exit 2b-ebac09e839b78abe0dab4c8f858a3436612209e9-c183fd48f32a29e2-01
2022-04-25T18:39:43.539Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:43.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aa5e08bc1301235353a5b074e54dcfb31398d0c-fbc889fcfb81404f-01 outer:exit 2b-8aa5e08bc1301235353a5b074e54dcfb31398d0c-78d4135415e36e32-01
2022-04-25T18:39:43.548Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:43.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-4900a50b407164c97b282355a6d24840b65bdbbe-fc64cf843e787411-01 outer:exit 2b-4900a50b407164c97b282355a6d24840b65bdbbe-c2cb1da03ec7280c-01
2022-04-25T18:39:43.563Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:43.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a727474b03715274e98dea5d1510f61783252bd-73d11729341d4455-01 outer:exit 2b-8a727474b03715274e98dea5d1510f61783252bd-087a66fe39d9244f-01
2022-04-25T18:39:43.613Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:43.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-e87d687a7f5b378135e2b66550ef2de73d220f48-3803902e7930b6b0-01 outer:exit 2b-e87d687a7f5b378135e2b66550ef2de73d220f48-2177bb5111b9cf5a-01
2022-04-25T18:39:43.616Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:43.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-61e64146d308b7663f7f7f5e1f2edca2fffe26e0-aa4f4ce08bcc8f31-01 outer:exit 2b-61e64146d308b7663f7f7f5e1f2edca2fffe26e0-8f05a4981144711a-01
2022-04-25T18:39:43.619Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:43.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a15ad6e4ed35271ca34365c2a9ce16665543de4-5f0ef05920e6d05b-01 outer:exit 2b-2a15ad6e4ed35271ca34365c2a9ce16665543de4-dadfe0dd685bc0ce-01
2022-04-25T18:39:43.622Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:43.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec848424b4a081f5cfad11953c8c493aeda7b39c-17556b3af7557720-01 outer:exit 2b-ec848424b4a081f5cfad11953c8c493aeda7b39c-348e852db658014b-01
2022-04-25T18:39:43.624Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:43.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5cd4d7d5ce0278ef0d02b429b4e186f32e68711-ae61a9870931f4e5-01 outer:exit 2b-e5cd4d7d5ce0278ef0d02b429b4e186f32e68711-0b8559b619e13a8c-01
2022-04-25T18:39:43.627Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:43.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-31b1aa186756b3de516f1dd4d01fe0ff6e0a3eff-60dd3b9498a138d7-01 outer:exit 2b-31b1aa186756b3de516f1dd4d01fe0ff6e0a3eff-ab60ad147932bced-01
2022-04-25T18:39:43.629Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:43.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-a62ed1c3083649de6e1876b6c99a0543eda91e8a-f8368b23988e4f0d-01 outer:exit 2b-a62ed1c3083649de6e1876b6c99a0543eda91e8a-ee24f3612e46698b-01
2022-04-25T18:39:43.631Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:43.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0ea4f2806e6ed863196f6689fa15b5bbb291116-d7b88f240c180d7c-01 outer:exit 2b-e0ea4f2806e6ed863196f6689fa15b5bbb291116-38c17f4a6f7de804-01
2022-04-25T18:39:43.633Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:43.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-09963d9a4e1642853d50b372ba92ff8e1a8c683a-1153996d48acb2f3-01 outer:exit 2b-09963d9a4e1642853d50b372ba92ff8e1a8c683a-c5819b4baee12241-01
2022-04-25T18:39:43.637Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:43.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ae74698456748cf0d32f693580c71b94847c4b6-f4b9e5a9be8c4822-01 outer:exit 2b-1ae74698456748cf0d32f693580c71b94847c4b6-24ab662476e6239a-01
2022-04-25T18:39:43.640Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:43.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fbbecb68227bce4a4c1d7c2537913888104739e-f6aa4ecf7aab05ac-01 outer:exit 2b-8fbbecb68227bce4a4c1d7c2537913888104739e-3688fbd01606868f-01
2022-04-25T18:39:43.642Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:43.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-a917275123b0f755d1331b98f45fbe533da93293-6f7c39769135c10b-01 outer:exit 2b-a917275123b0f755d1331b98f45fbe533da93293-9b7e55e9fd50e6b5-01
2022-04-25T18:39:43.645Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:43.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d0e70bc556556e3b776700e15e2c96486242712-42fe1e36e075df53-01 outer:exit 2b-0d0e70bc556556e3b776700e15e2c96486242712-44d799500f526fa4-01
2022-04-25T18:39:43.652Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:43.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6eab6219e9bcd796bb1c99dc852877d0aabb440-1361eaf4025450bb-01 outer:exit 2b-c6eab6219e9bcd796bb1c99dc852877d0aabb440-3c738bd8c80af8d0-01
2022-04-25T18:39:43.656Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:43.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-4329d7a11a14ae4481cad28d867cd7a1b8c3b00f-a9c74f2cb9dc77c6-01 outer:exit 2b-4329d7a11a14ae4481cad28d867cd7a1b8c3b00f-b3fc555beb3b8c7f-01
2022-04-25T18:39:43.671Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:43.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-03bdfed8be1f1fc9271b739380b87a3489d73cdb-72183be5a55e9731-01 outer:exit 2b-03bdfed8be1f1fc9271b739380b87a3489d73cdb-24a52e950745923a-01
2022-04-25T18:39:43.681Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:43.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-969b7fae1abe9c70dc38cd23e31a44bcc4777c62-9f8fe85afbdf3c5d-01 outer:exit 2b-969b7fae1abe9c70dc38cd23e31a44bcc4777c62-82cae70031634d05-01
2022-04-25T18:39:43.684Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:43.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-f40d81427ae7b3922b80c8171c79144f83b2a8d1-09290209786cce07-01 outer:exit 2b-f40d81427ae7b3922b80c8171c79144f83b2a8d1-d9a3e86fc882a26b-01
2022-04-25T18:39:43.688Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:43.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-c239f78e07ab6db4d8a93cdf61aba931f0138204-24d8b079358d3f8a-01 outer:exit 2b-c239f78e07ab6db4d8a93cdf61aba931f0138204-a0bd3be45a410d48-01
2022-04-25T18:39:43.697Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:43.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c632ee479aeb6f49bf473080fad8f7e24822c27-8865a426b13cda0f-01 outer:exit 2b-4c632ee479aeb6f49bf473080fad8f7e24822c27-ae15ea843ff1bc60-01
2022-04-25T18:39:43.700Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:43.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-b340f076b38441e0b9c84458efc1119ba86055ce-4320b1405fa1fd44-01 outer:exit 2b-b340f076b38441e0b9c84458efc1119ba86055ce-3e90426e6f1c2d3a-01
2022-04-25T18:39:43.701Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:43.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4f2ff3368ab8becf90c77866b78480c00957b3e-5985cf5a06835ac8-01 outer:exit 2b-c4f2ff3368ab8becf90c77866b78480c00957b3e-3a012058f7c0604d-01
2022-04-25T18:39:43.704Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:43.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-806a29f0123b3fc315611082e4a452eee65c1f6d-1841ac325ed7a0cf-01 outer:exit 2b-806a29f0123b3fc315611082e4a452eee65c1f6d-ed1c45c0727f768e-01
2022-04-25T18:39:43.706Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:43.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-b736cb7c0bd21a67657c2f0aecb863136d418513-3f245820b478a621-01 outer:exit 2b-b736cb7c0bd21a67657c2f0aecb863136d418513-ae0e05e00767f7fb-01
2022-04-25T18:39:43.708Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:43.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b2cb246e269e48facf8b9dc3179647a3872973d-5161bd0ae7f1eb01-01 outer:exit 2b-5b2cb246e269e48facf8b9dc3179647a3872973d-a57273e545c82d1c-01
2022-04-25T18:39:43.723Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:43.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-081bd0613b4cb3cf03088a30cc4c086224128dd0-2b53bc9d0c0f236f-01 outer:exit 2b-081bd0613b4cb3cf03088a30cc4c086224128dd0-e4713f9543006f9e-01
2022-04-25T18:39:43.733Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:43.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c676ec09c453927d318db8107beaafb8a03791d-d76cf20ad3ef236c-01 outer:exit 2b-7c676ec09c453927d318db8107beaafb8a03791d-cd5a07a328c553fc-01
2022-04-25T18:39:43.737Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:43.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa3f0a59a3f125c8a19522db6b433711c2838fd5-88a2d277f122d5ca-01 outer:exit 2b-fa3f0a59a3f125c8a19522db6b433711c2838fd5-239b1bc3d2b205c4-01
2022-04-25T18:39:43.740Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:43.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-94c680dc7d35cc41d82cfa7395acf60567a89cc8-780e31955f47d538-01 outer:exit 2b-94c680dc7d35cc41d82cfa7395acf60567a89cc8-94a7b9e9ad3d2b38-01
2022-04-25T18:39:43.742Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:43.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-710e03bc95ddc5aa5dd441e58a68f56bc6586eaa-2186548adf844cab-01 outer:exit 2b-710e03bc95ddc5aa5dd441e58a68f56bc6586eaa-c8ce61d84bcfa45f-01
2022-04-25T18:39:43.780Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (370ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:51.071Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:51.072Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:51.072Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:51.073Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:51.200Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:51.367Z appoptics:patching patched crypto 
2022-04-25T18:39:51.418Z appoptics:patching patched https 
2022-04-25T18:39:51.419Z appoptics:patching patched http 
2022-04-25T18:39:51.482Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:51.482Z appoptics:patching patched fs 
2022-04-25T18:39:51.502Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v18.0.0)
2022-04-25T18:39:51.510Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-25T18:39:51.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-b475f1b0fdf85ae020469c44463fff18b4faa916-10a46f6b1dcdb68f-01 outer:exit 2b-b475f1b0fdf85ae020469c44463fff18b4faa916-34dc10f3de50dbc2-01
2022-04-25T18:39:51.565Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:51.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-907ecf8e022109efc404542f20e381a69a886865-0cb105980de0ed62-01 outer:exit 2b-907ecf8e022109efc404542f20e381a69a886865-875f10a7e812c821-01
2022-04-25T18:39:51.618Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:51.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a957df2f6d390eed944dd0ded1ee28b3fa119c9-c0ccd294800471f0-01 outer:exit 2b-8a957df2f6d390eed944dd0ded1ee28b3fa119c9-da7937c5f92e6763-01
2022-04-25T18:39:51.624Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:51.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b0b49473e2aacf0575241d6bb8ae25b07e65797-ae7fd19d84415173-01 outer:exit 2b-2b0b49473e2aacf0575241d6bb8ae25b07e65797-bc255ad206bc831f-01
2022-04-25T18:39:51.628Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:51.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-9729a39facb8ada41ba5e3d4dd31626a879c465b-9285296082018d05-01 outer:exit 2b-9729a39facb8ada41ba5e3d4dd31626a879c465b-43eebcf581ce8487-01
2022-04-25T18:39:51.634Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:51.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-6527fd39617ec3d4fa11d4815420ad367df2d31b-b53bf4f29989e06e-01 outer:exit 2b-6527fd39617ec3d4fa11d4815420ad367df2d31b-996861077c425509-01
2022-04-25T18:39:51.638Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:51.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-50d39377ad43eeccf4bf4d51d2c5fd8c87cec39d-a4d93da3ce76400d-01 outer:exit 2b-50d39377ad43eeccf4bf4d51d2c5fd8c87cec39d-5d970beaa9daad74-01
2022-04-25T18:39:51.641Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:51.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4fa45dbc05835cac99be0078060d7788e7298e5-9c1d0816bd0b8203-01 outer:exit 2b-b4fa45dbc05835cac99be0078060d7788e7298e5-2e7004917b4eba5f-01
2022-04-25T18:39:51.644Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:51.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-afcf38c296a3576b78863636446fa71ef676d32a-a2054ab41076aef1-01 outer:exit 2b-afcf38c296a3576b78863636446fa71ef676d32a-b155997ea1568a71-01
2022-04-25T18:39:51.647Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:51.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-69a69a9156e7561d6c83f62e70b89ae0d76a43bf-a1bb590cc4abd6fd-01 outer:exit 2b-69a69a9156e7561d6c83f62e70b89ae0d76a43bf-f1599f32977510fb-01
2022-04-25T18:39:51.650Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:51.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-33c93ad6e527767a9b7e9f56df11539f9b6f63dd-9b9764c87091fbf5-01 outer:exit 2b-33c93ad6e527767a9b7e9f56df11539f9b6f63dd-59e889a12ccad20a-01
2022-04-25T18:39:51.655Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:51.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cebd2ef70d1051d599217492681acdc5f985aa1-f6ea5d3f4d7991a5-01 outer:exit 2b-4cebd2ef70d1051d599217492681acdc5f985aa1-adc6d62a83e16ae6-01
2022-04-25T18:39:51.662Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:51.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1fb83dcf665933d657e7f23d5272cd342e90d21-4ba0565d9142ed00-01 outer:exit 2b-f1fb83dcf665933d657e7f23d5272cd342e90d21-27a58444eaa2e0c9-01
2022-04-25T18:39:51.681Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:51.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b4d699b64d16eb0612cccc6160df8115a51812f-f7caec40efd174ed-01 outer:exit 2b-2b4d699b64d16eb0612cccc6160df8115a51812f-37ccee4235e6f0df-01
2022-04-25T18:39:51.727Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:51.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-b47c0827bf1d543cab78eb17d1f39959d44458f0-09d371b57fab419e-01 outer:exit 2b-b47c0827bf1d543cab78eb17d1f39959d44458f0-4b84d788f6a1c577-01
2022-04-25T18:39:51.730Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:51.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-387c92f6378caf9c227f7377bbd7f387d50663e1-ec0a1f170546f68a-01 outer:exit 2b-387c92f6378caf9c227f7377bbd7f387d50663e1-517f220987b54c68-01
2022-04-25T18:39:51.735Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:51.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dece6db02a259b3c723f226f1c9da336fb64b92-c7a328982f04dfed-01 outer:exit 2b-2dece6db02a259b3c723f226f1c9da336fb64b92-ef90c6624804da26-01
2022-04-25T18:39:51.739Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:51.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2879d026f51572aa3bcf3a706482e0e6df7ca49-f0d74794c5e2b8ca-01 outer:exit 2b-c2879d026f51572aa3bcf3a706482e0e6df7ca49-bc42f4d8d89d85aa-01
2022-04-25T18:39:51.741Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:51.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec66a95a0053036767c0fbb483564f8d97fa0a74-64560ed889e8d8f9-01 outer:exit 2b-ec66a95a0053036767c0fbb483564f8d97fa0a74-2a1336284f53efdf-01
2022-04-25T18:39:51.745Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:51.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-be5d9dd42fa4d47eb5c2a65c5287a4bf281f2b43-f02c2554d7eac5bf-01 outer:exit 2b-be5d9dd42fa4d47eb5c2a65c5287a4bf281f2b43-1e9f0a24a7718a82-01
2022-04-25T18:39:51.749Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:51.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-10a9f0f6171358c6d3559e46949753c96ce8d3cc-a733610954da08dd-01 outer:exit 2b-10a9f0f6171358c6d3559e46949753c96ce8d3cc-130871356dfdc8dd-01
2022-04-25T18:39:51.754Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:51.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da16be7f91697e83046e711ffda6d60451edf84-603530904aa95a4f-01 outer:exit 2b-9da16be7f91697e83046e711ffda6d60451edf84-40fc259a997a6a0b-01
2022-04-25T18:39:51.757Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:51.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-8635d358ba9082c7eef448c37c6fb96059d9532d-231e00c1d6593f44-01 outer:exit 2b-8635d358ba9082c7eef448c37c6fb96059d9532d-94544365a1df7fd1-01
2022-04-25T18:39:51.760Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:51.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e118c6149c75205682a8886ead28090e852716c-fbeeebafa1d4624d-01 outer:exit 2b-2e118c6149c75205682a8886ead28090e852716c-08ab7207950ea602-01
2022-04-25T18:39:51.763Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:51.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c6cfb719f4e7532f58b48b530c50be4e69cc353-791b81e2ed4c7b8b-01 outer:exit 2b-8c6cfb719f4e7532f58b48b530c50be4e69cc353-a68e801148930c24-01
2022-04-25T18:39:51.767Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:51.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-166a6bdfa52f4fe1376450772fb0bb18ea65327d-b0eb5b3f8e2beefd-01 outer:exit 2b-166a6bdfa52f4fe1376450772fb0bb18ea65327d-0ae65774818611b1-01
2022-04-25T18:39:51.771Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:51.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-d733db263e5775e2f8227e0d68d1bb4a40de73fa-11c5b764590aedc9-01 outer:exit 2b-d733db263e5775e2f8227e0d68d1bb4a40de73fa-94ffbebbe1e23560-01
2022-04-25T18:39:51.778Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:51.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b9f64b96d376bb8be6f6b2261a2cfd2a05df1bb-211be7b514e57ce1-01 outer:exit 2b-0b9f64b96d376bb8be6f6b2261a2cfd2a05df1bb-be3afc36cfe95435-01
2022-04-25T18:39:51.783Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:51.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3481513cb0cbced16eb6cc12d057e1c74fc9cd6-acf17c610e8fb958-01 outer:exit 2b-e3481513cb0cbced16eb6cc12d057e1c74fc9cd6-30ebcc4fb80179ae-01
2022-04-25T18:39:51.793Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:51.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-c86752dfa1eb88e7eb94cbf04cf0efeb63d09a94-6e12f854dec59b82-01 outer:exit 2b-c86752dfa1eb88e7eb94cbf04cf0efeb63d09a94-d75800ea5f081f9b-01
2022-04-25T18:39:51.804Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:51.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c9bd0217574b40a724ac35322096e1656cda4f5-509f1c91b7a67dd4-01 outer:exit 2b-0c9bd0217574b40a724ac35322096e1656cda4f5-5f938fb371058397-01
2022-04-25T18:39:51.807Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:51.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-e48d82561168dd5b031cfaa6e57360c3b7d23362-ec73d1488fe2bd93-01 outer:exit 2b-e48d82561168dd5b031cfaa6e57360c3b7d23362-23c54b8a2c78b534-01
2022-04-25T18:39:51.810Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:51.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0fabc4ee044729b271cb1ca35ae1c29a12c8fb1-fa32f1656a1a96a4-01 outer:exit 2b-a0fabc4ee044729b271cb1ca35ae1c29a12c8fb1-d8b1c9f06b4c9d2e-01
2022-04-25T18:39:51.821Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:51.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d760c22835928e44955bc9bf8ed3a46ec33e84b-014f77096fdd0b29-01 outer:exit 2b-0d760c22835928e44955bc9bf8ed3a46ec33e84b-105b8f86502a569e-01
2022-04-25T18:39:51.824Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:51.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-804c7bad0c525f9ccc82be62c0048e72c8f70c14-9849a57f7c23cfa5-01 outer:exit 2b-804c7bad0c525f9ccc82be62c0048e72c8f70c14-4d7396832031e0d4-01
2022-04-25T18:39:51.826Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:51.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce779c08f1011ba5ec27f71e22dc3467221df7d7-06749458b8e4b4ba-01 outer:exit 2b-ce779c08f1011ba5ec27f71e22dc3467221df7d7-2bbf8201c2560e7c-01
2022-04-25T18:39:51.828Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:51.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-de9eef47f337e0c1424b52a17fe7acbc29a9e9d1-b7dcee535742a563-01 outer:exit 2b-de9eef47f337e0c1424b52a17fe7acbc29a9e9d1-b408a4e404940a25-01
2022-04-25T18:39:51.830Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:51.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a4d3c61318a5ecf467d1a1d646161e8fa02fc6e-54f99149ffe97172-01 outer:exit 2b-6a4d3c61318a5ecf467d1a1d646161e8fa02fc6e-5335a1bd4c93e564-01
2022-04-25T18:39:51.832Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:51.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-104e12aad7af0f4b45941c97133c0babf96e5d87-867325902bcceeb9-01 outer:exit 2b-104e12aad7af0f4b45941c97133c0babf96e5d87-73d1db5ffaca3a15-01
2022-04-25T18:39:51.845Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:51.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-c866b3156fe784120d8ea63195c423d5cacf2fbf-ccdae688d672bd78-01 outer:exit 2b-c866b3156fe784120d8ea63195c423d5cacf2fbf-1ff36e98130afeb8-01
2022-04-25T18:39:51.860Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:51.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b21519aef19a503941e7eee67ddb36416be6c3a-811a13b0e2ece7ec-01 outer:exit 2b-4b21519aef19a503941e7eee67ddb36416be6c3a-328627b65f907c33-01
2022-04-25T18:39:51.864Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:51.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-c06e440157eecd100f8dde70f11a7bec9d4e54f2-8394e9e9a4305481-01 outer:exit 2b-c06e440157eecd100f8dde70f11a7bec9d4e54f2-2cea2bf8ec2bb669-01
2022-04-25T18:39:51.867Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:51.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ce0a7db27f191cb24f2025811612f916d2b3f10-fe46299de1fe1528-01 outer:exit 2b-0ce0a7db27f191cb24f2025811612f916d2b3f10-368a0f51fdea08d1-01
2022-04-25T18:39:51.872Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:51.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-946ffd8292d3279fa538fa17d95e0d8e77f8a6af-7b0cae3d767a38d4-01 outer:exit 2b-946ffd8292d3279fa538fa17d95e0d8e77f8a6af-cae834e23612353b-01
2022-04-25T18:39:51.915Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (398ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:58.860Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:58.861Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:58.861Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:58.861Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:58.931Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:59.059Z appoptics:patching patched crypto 
2022-04-25T18:39:59.080Z appoptics:patching patched https 
2022-04-25T18:39:59.081Z appoptics:patching patched http 
2022-04-25T18:39:59.135Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:59.135Z appoptics:patching patched fs 
2022-04-25T18:39:59.150Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v18.0.0)
2022-04-25T18:39:59.156Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-25T18:39:59.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8befef0731b8fe399989d938305fba708c872ee-7f27bbc6e7072fef-01 outer:exit 2b-c8befef0731b8fe399989d938305fba708c872ee-ea1e0efc73516952-01
2022-04-25T18:39:59.210Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:59.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e5eaf34625f2fc3c8a997c7a8d855cbfe31ccfa-345fcd5da7aabae0-01 outer:exit 2b-9e5eaf34625f2fc3c8a997c7a8d855cbfe31ccfa-a58ece75525b57e3-01
2022-04-25T18:39:59.264Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:59.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cd4fa16a21993689908647a442dfcd1cdafab77-5cf2520ada4b4252-01 outer:exit 2b-5cd4fa16a21993689908647a442dfcd1cdafab77-465206181cad385b-01
2022-04-25T18:39:59.269Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:59.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e668f1b499c6a5e18fde9e51dcaa2d0ff8982ba-5a778cfc19e6aa71-01 outer:exit 2b-1e668f1b499c6a5e18fde9e51dcaa2d0ff8982ba-c43655af5ac37db4-01
2022-04-25T18:39:59.272Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:59.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d33e5f2dc75456bb09e7309a694af25396c45e6-4d5ae2d4b5727865-01 outer:exit 2b-3d33e5f2dc75456bb09e7309a694af25396c45e6-f2a331d8b6faf0fa-01
2022-04-25T18:39:59.279Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:59.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-32f790f3e3465586ab9fc3f7f06ada54269ef4cf-db14174d307fc97a-01 outer:exit 2b-32f790f3e3465586ab9fc3f7f06ada54269ef4cf-15ed60ddfe9052c1-01
2022-04-25T18:39:59.283Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:59.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f2421824bb08ac14a62d9ee31fbdb37ae951981-2933afc4f31f2294-01 outer:exit 2b-7f2421824bb08ac14a62d9ee31fbdb37ae951981-321756659b3f8915-01
2022-04-25T18:39:59.287Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:59.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-a36b30fcb8e2793dc8f334d6b7ece6daec79b660-fc09571fad007184-01 outer:exit 2b-a36b30fcb8e2793dc8f334d6b7ece6daec79b660-a71ca8958e61b36f-01
2022-04-25T18:39:59.289Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:59.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c7df5772c2ac6ee33b40572c8c51b44d33189aa-17444d05d65a2ca1-01 outer:exit 2b-8c7df5772c2ac6ee33b40572c8c51b44d33189aa-728afac51eacd12d-01
2022-04-25T18:39:59.292Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:59.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7be4e035e0453c48429f632650dd795eceddc4c-6032de053108c101-01 outer:exit 2b-a7be4e035e0453c48429f632650dd795eceddc4c-ee52dabc8fcd62bf-01
2022-04-25T18:39:59.296Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:59.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-57dc73851003135103977be82b5f5dbaebdd0046-c8090da8852f319e-01 outer:exit 2b-57dc73851003135103977be82b5f5dbaebdd0046-c83260b4d462a2c4-01
2022-04-25T18:39:59.300Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:59.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a0ebbc5792f1e75ec04db2fd8de855bb2a7c6e5-f230c0babe19e4db-01 outer:exit 2b-5a0ebbc5792f1e75ec04db2fd8de855bb2a7c6e5-df84d8db37434e3e-01
2022-04-25T18:39:59.311Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:59.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-9572b5ff8be4d4fdf4fc297e05153d8e5adccd2f-1514d2123f3ebcad-01 outer:exit 2b-9572b5ff8be4d4fdf4fc297e05153d8e5adccd2f-14791764fd3b7e6d-01
2022-04-25T18:39:59.330Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:59.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ea5f624d64d75d807421629d48e65bdfeff1a5-f0e70f3008064950-01 outer:exit 2b-27ea5f624d64d75d807421629d48e65bdfeff1a5-82ed45918e2188eb-01
2022-04-25T18:39:59.375Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:59.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-841f05d14fd8b1237142ef3833c158d7c3005a03-8aea7462a9bb6aad-01 outer:exit 2b-841f05d14fd8b1237142ef3833c158d7c3005a03-0ae0b28f4ed51991-01
2022-04-25T18:39:59.379Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:59.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-869f74d99fe6304463d5bda540b5cba76777bbd9-f2d43a229461f9e8-01 outer:exit 2b-869f74d99fe6304463d5bda540b5cba76777bbd9-4938910515e746d6-01
2022-04-25T18:39:59.382Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:59.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a2af6a9120e0f7b972892edab7560dbbf3cc29a-d213ead80af2d573-01 outer:exit 2b-6a2af6a9120e0f7b972892edab7560dbbf3cc29a-4886352f496dc2c1-01
2022-04-25T18:39:59.386Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:59.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-a02aec8ea334882bc9fc8d6f724c9d07a1654f00-1ec44f825deeaee4-01 outer:exit 2b-a02aec8ea334882bc9fc8d6f724c9d07a1654f00-09156966d1ad1317-01
2022-04-25T18:39:59.389Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:59.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5dacfb46a4cf0c91d749291b96cd5f28dec9355-7ff3ecf26634bc68-01 outer:exit 2b-a5dacfb46a4cf0c91d749291b96cd5f28dec9355-518c99e72ee228a4-01
2022-04-25T18:39:59.391Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:59.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9b6bb633ace6d9774512f6a96098a1096ddd1a5-6ec105b16563d49b-01 outer:exit 2b-c9b6bb633ace6d9774512f6a96098a1096ddd1a5-0c143cba1376907d-01
2022-04-25T18:39:59.394Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:59.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d16e22368313a73f09458c118cd5ed9dafbcca-b39b9776944fe3ae-01 outer:exit 2b-48d16e22368313a73f09458c118cd5ed9dafbcca-b224c834511ff099-01
2022-04-25T18:39:59.397Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:59.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9c3dbfb8a23a3e58743f289276e2062898ce481-e7de5a26494c48c2-01 outer:exit 2b-c9c3dbfb8a23a3e58743f289276e2062898ce481-fb38183bf291c7d0-01
2022-04-25T18:39:59.399Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:59.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e2e80f47a20c4e0af189ce6167154ecea7ef87c-69a1f74f49fe6b1e-01 outer:exit 2b-5e2e80f47a20c4e0af189ce6167154ecea7ef87c-022feb8069aa078a-01
2022-04-25T18:39:59.403Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:59.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-b868827cfc179a15f9dbbc31cf3cfcc918d1ce55-ee25f8ff8f9f63c7-01 outer:exit 2b-b868827cfc179a15f9dbbc31cf3cfcc918d1ce55-8dcfbda3eb816fa7-01
2022-04-25T18:39:59.406Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:59.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-de0cf94ee4e6622105d5c138f727892d1821ea33-454ef20f0f945862-01 outer:exit 2b-de0cf94ee4e6622105d5c138f727892d1821ea33-aec701fb963e491c-01
2022-04-25T18:39:59.410Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:59.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-84b3028b39ce756974ec8a14615c9e129c565e4f-d094d66ffbcdca62-01 outer:exit 2b-84b3028b39ce756974ec8a14615c9e129c565e4f-885c280f08bc0a4b-01
2022-04-25T18:39:59.412Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:59.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a241f444d7606317c1b64012219050007d1ef38-4c14f70a78c1a27c-01 outer:exit 2b-4a241f444d7606317c1b64012219050007d1ef38-08fedc18da8e3e0c-01
2022-04-25T18:39:59.419Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:59.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-45bdfa5395b6176db8c2773b5666bf3d36fb8fdc-79d1f3cde3063b8a-01 outer:exit 2b-45bdfa5395b6176db8c2773b5666bf3d36fb8fdc-a2401a85bd7add5f-01
2022-04-25T18:39:59.424Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:59.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03ca66aa2d4e080b8ac120452a41ced15bbf50f-9edee7a55952347e-01 outer:exit 2b-b03ca66aa2d4e080b8ac120452a41ced15bbf50f-9644c00f061e1095-01
2022-04-25T18:39:59.435Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:59.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbd4e5a23e6808deb29d77873abd88624dac4179-26e0d575223cd7dd-01 outer:exit 2b-bbd4e5a23e6808deb29d77873abd88624dac4179-9eebdd1324d8d3ce-01
2022-04-25T18:39:59.445Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:59.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f77f08bdc1ee75a402e6ec93d83fb4ee4dc6092-0bde44be988ec880-01 outer:exit 2b-2f77f08bdc1ee75a402e6ec93d83fb4ee4dc6092-05e8b1061626dd29-01
2022-04-25T18:39:59.447Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:59.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7e35813420d6aa1fd83399ab8e7ab6bbd65f01-73beca23dcbbfa5e-01 outer:exit 2b-ed7e35813420d6aa1fd83399ab8e7ab6bbd65f01-1eab58e799954647-01
2022-04-25T18:39:59.451Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:59.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc19e10c9d633c1b5e371f7d1e4b5ee6c5157dbe-fa9eacf0c75093e9-01 outer:exit 2b-fc19e10c9d633c1b5e371f7d1e4b5ee6c5157dbe-b947ae9a1069b65a-01
2022-04-25T18:39:59.462Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:59.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7df59ea0b4b112c5f50aabf51d91769a8e7ec56-00e4f71c0564e94e-01 outer:exit 2b-e7df59ea0b4b112c5f50aabf51d91769a8e7ec56-fce0bdf29044c988-01
2022-04-25T18:39:59.464Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:59.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb033a6ffd9f90bcfb7e236c9f94aee99737777f-4379c8a1f2587fff-01 outer:exit 2b-bb033a6ffd9f90bcfb7e236c9f94aee99737777f-d964c2875c9025a2-01
2022-04-25T18:39:59.466Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:59.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-89d810ef78b87ba1a19bb4b2fd178445931a3d41-2dd755f3ee40ac9e-01 outer:exit 2b-89d810ef78b87ba1a19bb4b2fd178445931a3d41-fc74c4995fcc7a7f-01
2022-04-25T18:39:59.471Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:59.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5531a7f476c9a8a22cefb6336eb84606a67e6af-103e61aa34a2bc66-01 outer:exit 2b-c5531a7f476c9a8a22cefb6336eb84606a67e6af-4195596f10c5393f-01
2022-04-25T18:39:59.473Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:59.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-6428ca5b075751b2aee2d2d06089c7bc35894fd5-a514eb92bb4ca27f-01 outer:exit 2b-6428ca5b075751b2aee2d2d06089c7bc35894fd5-656aea2d0d2850f4-01
2022-04-25T18:39:59.475Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:59.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cba0340d1fe25ae2ec75e1c8b3af459258647c3-bc9f49c955ec2c3e-01 outer:exit 2b-7cba0340d1fe25ae2ec75e1c8b3af459258647c3-c95de816d7cd35ca-01
2022-04-25T18:39:59.487Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:59.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-15989a5885cfc266606c7974e55ed560b839eaf1-f6ac474b3d9fb005-01 outer:exit 2b-15989a5885cfc266606c7974e55ed560b839eaf1-139a6b7f58aada38-01
2022-04-25T18:39:59.499Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:59.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e87f0fad52e205cdbc81c8d52141b9f02e51664-a6cf30e2208f4a07-01 outer:exit 2b-6e87f0fad52e205cdbc81c8d52141b9f02e51664-9c51e8677cd69859-01
2022-04-25T18:39:59.502Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:59.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-f133adf3a283774ec2579f9e51c2a889bfa434ff-3675251b4a7898e1-01 outer:exit 2b-f133adf3a283774ec2579f9e51c2a889bfa434ff-165a2362d87ef221-01
2022-04-25T18:39:59.505Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:59.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb38d7c44e630912e526ec00bbe76b481da676f4-bf3e86b6dcc2b24f-01 outer:exit 2b-cb38d7c44e630912e526ec00bbe76b481da676f4-158fcaf088649fe9-01
2022-04-25T18:39:59.508Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:59.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9f541ccdfdb35bc335019463bf5b55e08593db6-66b12a41f98e5ff9-01 outer:exit 2b-b9f541ccdfdb35bc335019463bf5b55e08593db6-2fbe827f2661a250-01
2022-04-25T18:39:59.544Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (381ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:07.528Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:07.528Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:07.528Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:07.529Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:07.604Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:07.763Z appoptics:patching patched crypto 
2022-04-25T18:40:07.800Z appoptics:patching patched https 
2022-04-25T18:40:07.800Z appoptics:patching patched http 
2022-04-25T18:40:07.847Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:07.848Z appoptics:patching patched fs 
2022-04-25T18:40:07.863Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v18.0.0)
2022-04-25T18:40:07.870Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-25T18:40:07.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d103b095bd945df20d08c1cbe585b872c826502-f625ff2783c316ac-01 outer:exit 2b-1d103b095bd945df20d08c1cbe585b872c826502-92c83f6eaedea1e4-01
2022-04-25T18:40:07.922Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:07.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b81db1c71093eab10f22edd9776d348ad6d8e91-4843e67bf10d31d4-01 outer:exit 2b-8b81db1c71093eab10f22edd9776d348ad6d8e91-b5bce72f72672023-01
2022-04-25T18:40:07.974Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:07.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-c26bd491cffdaa7555986bb126a17a07356a962d-5ce54498fb079c8b-01 outer:exit 2b-c26bd491cffdaa7555986bb126a17a07356a962d-08157ea46f97dd89-01
2022-04-25T18:40:07.983Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:07.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-55400b29c075206e32105cac40fbb4c8f9e31c6c-5de17c9ba2c91fcc-01 outer:exit 2b-55400b29c075206e32105cac40fbb4c8f9e31c6c-df596f27e065f319-01
2022-04-25T18:40:07.987Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:07.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-de902e975d0f47d1f318e355f05b990a041f7833-fe33907da6c148f4-01 outer:exit 2b-de902e975d0f47d1f318e355f05b990a041f7833-e42821a00a08b822-01
2022-04-25T18:40:07.992Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:07.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cdfaf2c248b5cda189970d4ef54b6d5344de468-c242e218d5e2c29e-01 outer:exit 2b-0cdfaf2c248b5cda189970d4ef54b6d5344de468-5411d464239a3e02-01
2022-04-25T18:40:07.996Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:08.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-92db511a3692ab4ac7b7ca880c2a7d6a8494727e-58e9e8fced3aa97e-01 outer:exit 2b-92db511a3692ab4ac7b7ca880c2a7d6a8494727e-f98940d21f29a095-01
2022-04-25T18:40:08.002Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:08.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-692d8f358e9958c3783b015d2429c980c4175669-4a6b95ea220b4115-01 outer:exit 2b-692d8f358e9958c3783b015d2429c980c4175669-7ada9d036175e1b1-01
2022-04-25T18:40:08.005Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:08.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5cd55f261464b386f6db1140c045aeb0dd21582-d9ad874858055357-01 outer:exit 2b-a5cd55f261464b386f6db1140c045aeb0dd21582-b1f65daad8d0afec-01
2022-04-25T18:40:08.008Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:08.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-424aac1c65d587b072728bfd7e7d5f4d80f8fcc1-ae4eb9cbaeb36d04-01 outer:exit 2b-424aac1c65d587b072728bfd7e7d5f4d80f8fcc1-bd29873b436ef574-01
2022-04-25T18:40:08.011Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:08.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-faa12982af96d68e7bac0f775406e06422618ded-8ee2dd1af81cc0c6-01 outer:exit 2b-faa12982af96d68e7bac0f775406e06422618ded-6d44901f914af231-01
2022-04-25T18:40:08.016Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:08.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-07f781b5393f68d41873f96a7d20f0a1a1c05e67-5b6c6a12bd56f693-01 outer:exit 2b-07f781b5393f68d41873f96a7d20f0a1a1c05e67-123aee5105ac22b1-01
2022-04-25T18:40:08.025Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:08.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-3334bcee3a674e79887d8c6cd91d7c1e057d891c-a78c6119ef1b06d0-01 outer:exit 2b-3334bcee3a674e79887d8c6cd91d7c1e057d891c-f6242c19a6ce8a35-01
2022-04-25T18:40:08.045Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:08.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-6409d1b03db85a350e991d04ed3db9ff43939510-aebc5896202a6fc4-01 outer:exit 2b-6409d1b03db85a350e991d04ed3db9ff43939510-a5dc26050aebb3e0-01
2022-04-25T18:40:08.091Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:08.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cc8ffaef99bdf856b6aa11463a9a87eec866af8-fdd264c7be1762f4-01 outer:exit 2b-2cc8ffaef99bdf856b6aa11463a9a87eec866af8-7ed1f88d59bb8415-01
2022-04-25T18:40:08.094Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:08.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-10dc0ce94713066ea6e409276ad35861d957a426-f99e9617b91595ae-01 outer:exit 2b-10dc0ce94713066ea6e409276ad35861d957a426-142b4d2f46672b2b-01
2022-04-25T18:40:08.098Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:08.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a0ec2f4d5a526108d7874470c6a607ba814f6f7-8787c05f6bd43df4-01 outer:exit 2b-7a0ec2f4d5a526108d7874470c6a607ba814f6f7-02319dac45f1347e-01
2022-04-25T18:40:08.112Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:08.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9a03c19dc28037550dc67399cd5f6d0d03a95cb-982212e95278bf04-01 outer:exit 2b-f9a03c19dc28037550dc67399cd5f6d0d03a95cb-ac51498b9e8fd629-01
2022-04-25T18:40:08.120Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:08.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-94facca1e29af05e4093ba28d5dd4bb0a7805469-604a5100f8617186-01 outer:exit 2b-94facca1e29af05e4093ba28d5dd4bb0a7805469-b7e4cd47b37da402-01
2022-04-25T18:40:08.131Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:08.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d02598cad2855b3d7373c642e789a4c8ecc2933-94b7f6224ef1c9db-01 outer:exit 2b-0d02598cad2855b3d7373c642e789a4c8ecc2933-04e8b0cecfe20216-01
2022-04-25T18:40:08.145Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:08.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-c979b53ddcc1224ab65a5dfaa0e7d034e4b56461-c9d5717079d8e33d-01 outer:exit 2b-c979b53ddcc1224ab65a5dfaa0e7d034e4b56461-9d71785eee49ee1f-01
2022-04-25T18:40:08.153Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:08.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-55f011f108dc5791a63aa31624bad6f0594b875d-c27568c71ee872e0-01 outer:exit 2b-55f011f108dc5791a63aa31624bad6f0594b875d-ceff7159d838b1d1-01
2022-04-25T18:40:08.157Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:08.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-01d54d3a6dbd8f76a21234fe35f0e83159581e9f-c55f6dba24f5f726-01 outer:exit 2b-01d54d3a6dbd8f76a21234fe35f0e83159581e9f-fc9c2961eabd225d-01
2022-04-25T18:40:08.162Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:08.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-02610a85b214021534fba95368c58b86dc07d586-c62495859cdb8454-01 outer:exit 2b-02610a85b214021534fba95368c58b86dc07d586-92032b4d27db8a9e-01
2022-04-25T18:40:08.168Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:08.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e5fdb35b5c33b556d16a4a528e4ce24c2006adc-64b04020ef916f05-01 outer:exit 2b-3e5fdb35b5c33b556d16a4a528e4ce24c2006adc-a14f19069d91b46a-01
2022-04-25T18:40:08.174Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:08.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-949102f869b7be72a39f16bd7d8a81337497ca4f-5cf4b7541423d936-01 outer:exit 2b-949102f869b7be72a39f16bd7d8a81337497ca4f-e9a3161824745ae4-01
2022-04-25T18:40:08.179Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:08.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f386a9363913863e453641d57c7c217b4391bc6-0dd56806e5560ac5-01 outer:exit 2b-6f386a9363913863e453641d57c7c217b4391bc6-07d200d89a0f659f-01
2022-04-25T18:40:08.189Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:08.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-80c977143c200d7586ab29295080e7b6ce925f55-84cedaa07e8c1eb8-01 outer:exit 2b-80c977143c200d7586ab29295080e7b6ce925f55-4277de46a484157c-01
2022-04-25T18:40:08.194Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:08.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-9345d994f08c95501cdf9da0b6adbc74132766be-0219b4e9698c32c4-01 outer:exit 2b-9345d994f08c95501cdf9da0b6adbc74132766be-53ca101f849f103a-01
2022-04-25T18:40:08.216Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:08.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-b66f75f34b562669cba78dd2601b140e1d15bcf2-eee9637ac41da7ea-01 outer:exit 2b-b66f75f34b562669cba78dd2601b140e1d15bcf2-b3038fd80ad143b0-01
2022-04-25T18:40:08.226Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:08.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d249fd3ea6bd1ee4d874a52b0b596a20c7d17a1-97e2e233d060493b-01 outer:exit 2b-4d249fd3ea6bd1ee4d874a52b0b596a20c7d17a1-d25ed4129acd47a8-01
2022-04-25T18:40:08.228Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:08.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd1f0dd11c6772d8ba8010ec43659c7db9a8d853-6d5c78071b149dd4-01 outer:exit 2b-bd1f0dd11c6772d8ba8010ec43659c7db9a8d853-f67f51fe7bd70788-01
2022-04-25T18:40:08.233Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:08.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-00fc05ce97d3edf2a9350baee3679733960eaf38-b3efde7a0c47e4f0-01 outer:exit 2b-00fc05ce97d3edf2a9350baee3679733960eaf38-26d2568ac4698ff1-01
2022-04-25T18:40:08.249Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:08.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd49a453b5a7e66d524c40a8f4ee4e90578f8df9-42c2667fa793e509-01 outer:exit 2b-cd49a453b5a7e66d524c40a8f4ee4e90578f8df9-89321038510148ea-01
2022-04-25T18:40:08.252Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:08.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-76472f0d76e4c4bb7241388fa2b4b0242df28815-cf41713c8beab25c-01 outer:exit 2b-76472f0d76e4c4bb7241388fa2b4b0242df28815-e23ff25e176c50b9-01
2022-04-25T18:40:08.254Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:08.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-b569fa8d6c3415a60e2efd04c8644139feb9095b-ec0bb8b3ef0d6841-01 outer:exit 2b-b569fa8d6c3415a60e2efd04c8644139feb9095b-370aa86bb075dd57-01
2022-04-25T18:40:08.256Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:08.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-72067ca92559f93e7838bbf2d9b5caab07205b16-8aa59e09d4c66456-01 outer:exit 2b-72067ca92559f93e7838bbf2d9b5caab07205b16-6607b3befc6c9701-01
2022-04-25T18:40:08.258Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:08.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cb073c904ae719a699010f313a50f72bd151297-75759e11894319d9-01 outer:exit 2b-3cb073c904ae719a699010f313a50f72bd151297-40a9532992f9e110-01
2022-04-25T18:40:08.260Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:08.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d51884992971c5626cd1bdbe64ce1c1a312ce1b-182a0a9e5ced50e8-01 outer:exit 2b-7d51884992971c5626cd1bdbe64ce1c1a312ce1b-cb2235ab333b78f7-01
2022-04-25T18:40:08.272Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:08.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-677506de9db16a18e8aaab5cf419ac8c03d6c7b8-416deb1ac9f0c650-01 outer:exit 2b-677506de9db16a18e8aaab5cf419ac8c03d6c7b8-ee07ffc10f592b2c-01
2022-04-25T18:40:08.283Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:08.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-6446c239958d2d99f0f872c386b063683c43c212-6c18d37b45e76ce7-01 outer:exit 2b-6446c239958d2d99f0f872c386b063683c43c212-26dfa4b929c923bb-01
2022-04-25T18:40:08.286Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:08.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-5866d170c7e54dd46a3f94b34b1ee5ce93f06955-85f1f2cd8bb02d80-01 outer:exit 2b-5866d170c7e54dd46a3f94b34b1ee5ce93f06955-b1f25482533a8103-01
2022-04-25T18:40:08.288Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:08.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb55f71cafe075fbf22e59834572089baf5b1e35-dd97486944a580ab-01 outer:exit 2b-bb55f71cafe075fbf22e59834572089baf5b1e35-6239926f3884cd1f-01
2022-04-25T18:40:08.291Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:08.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab3ef2201bc7115ece75316fb184a1ac86f49068-7cb73fd434b1e5aa-01 outer:exit 2b-ab3ef2201bc7115ece75316fb184a1ac86f49068-5563c06b6d76ed8e-01
2022-04-25T18:40:08.335Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (458ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:15.717Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:15.718Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:15.718Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:15.719Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:15.808Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:15.956Z appoptics:patching patched crypto 
2022-04-25T18:40:16.004Z appoptics:patching patched https 
2022-04-25T18:40:16.005Z appoptics:patching patched http 
2022-04-25T18:40:16.068Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:16.068Z appoptics:patching patched fs 
2022-04-25T18:40:16.089Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v18.0.0)
2022-04-25T18:40:16.096Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-25T18:40:16.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-626238ee1395f7726be7df85c3a13e5820eeb87c-ab590314e68391c5-01 outer:exit 2b-626238ee1395f7726be7df85c3a13e5820eeb87c-440fd2d30b97ad0d-01
2022-04-25T18:40:16.163Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:16.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5dbcb1beb491c029bda5cbd3429224ef7851227-d2f344ddfa61aa18-01 outer:exit 2b-b5dbcb1beb491c029bda5cbd3429224ef7851227-c95930c2c896273e-01
2022-04-25T18:40:16.214Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:16.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-35075387c95bed4f73a3ee9ac53399442ef47b44-0771c0e9e3eb8cd9-01 outer:exit 2b-35075387c95bed4f73a3ee9ac53399442ef47b44-57fddb2ef8ebec21-01
2022-04-25T18:40:16.219Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:16.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-c643c13d8ec31a94d5cf1e46c5b56ba82193b4aa-08306b313c074c6d-01 outer:exit 2b-c643c13d8ec31a94d5cf1e46c5b56ba82193b4aa-3b22ea36dc30c584-01
2022-04-25T18:40:16.226Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:16.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-6db317ab165428715dead112045ed778d99d759f-1bf7c053e68f12d6-01 outer:exit 2b-6db317ab165428715dead112045ed778d99d759f-80cf69747f6492fc-01
2022-04-25T18:40:16.235Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:16.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-7357d1f34ca287047c3ba15b8a0b3377fe051733-5d9665d70fb16e4f-01 outer:exit 2b-7357d1f34ca287047c3ba15b8a0b3377fe051733-224b0ae8e7bb63d5-01
2022-04-25T18:40:16.238Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:16.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-d00e2e0d437f710a92fc3013f92f4a427ab8f8da-c2377a98ba088ec9-01 outer:exit 2b-d00e2e0d437f710a92fc3013f92f4a427ab8f8da-416ef357a9970132-01
2022-04-25T18:40:16.245Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:16.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff3c4e6d8c95f78f1b3b5fe2a65d24249b8b6516-de06f1a0bd6cd8c8-01 outer:exit 2b-ff3c4e6d8c95f78f1b3b5fe2a65d24249b8b6516-bd0c09e71ed138e1-01
2022-04-25T18:40:16.248Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:16.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-6875d24c9924dcee52223c96226c0033da6536aa-3adcf781f63631d6-01 outer:exit 2b-6875d24c9924dcee52223c96226c0033da6536aa-721bc23aa4e7727c-01
2022-04-25T18:40:16.255Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:16.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9efd9dea1e05a97cb8b1853fec60de26de01c16-84e9d7a8e075fddd-01 outer:exit 2b-d9efd9dea1e05a97cb8b1853fec60de26de01c16-94631f044bde068a-01
2022-04-25T18:40:16.258Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:16.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-81b3a19888f59829dd8c24455a627cecca68fd74-ab2e1060c9c46686-01 outer:exit 2b-81b3a19888f59829dd8c24455a627cecca68fd74-1e1cc6fc61327d91-01
2022-04-25T18:40:16.266Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:16.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-96b6087e4c2ad0c825f634e6d1017b38b0021aad-72a58e629104b81d-01 outer:exit 2b-96b6087e4c2ad0c825f634e6d1017b38b0021aad-0d0341d17808baba-01
2022-04-25T18:40:16.276Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:16.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-91cb254d42189bcd96e1ec195921c2c9d4bc97e3-807e789c2221db86-01 outer:exit 2b-91cb254d42189bcd96e1ec195921c2c9d4bc97e3-8e145816cebae42d-01
2022-04-25T18:40:16.295Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:16.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1c29d7f4c2d2cb9e9917ded6c535b645f6d129e-5cff252f833ea0e0-01 outer:exit 2b-f1c29d7f4c2d2cb9e9917ded6c535b645f6d129e-8d103cb4a4f54133-01
2022-04-25T18:40:16.340Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:16.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-a727527b0c13252cb378f9826eb85589887fc646-20b2b51eae1d92dd-01 outer:exit 2b-a727527b0c13252cb378f9826eb85589887fc646-37991fe5ed3348bb-01
2022-04-25T18:40:16.343Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:16.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-f72d15ec6c27ba21d51ea777b13183c3ab3b222b-8ee31b70caa6fbdd-01 outer:exit 2b-f72d15ec6c27ba21d51ea777b13183c3ab3b222b-5545457a489239bd-01
2022-04-25T18:40:16.346Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:16.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-c607b617eb540f560f0cee7703c8da0d466b1d27-c423a2133f176557-01 outer:exit 2b-c607b617eb540f560f0cee7703c8da0d466b1d27-a20ce13cf3718587-01
2022-04-25T18:40:16.351Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:16.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-e91a67fa709dc675696ba8e4a422d4b75f030ffa-b7def7f3038acecb-01 outer:exit 2b-e91a67fa709dc675696ba8e4a422d4b75f030ffa-d237b508f6bdd0f9-01
2022-04-25T18:40:16.354Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:16.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa4a559a854197b03489792bed74867e4951c6ea-d79ede2ab2582a73-01 outer:exit 2b-aa4a559a854197b03489792bed74867e4951c6ea-c2e9675f0b561ec2-01
2022-04-25T18:40:16.356Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:16.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-340e4b4cfc68ae3514cb7db270aba35c21f8949a-8ce97b53836bc580-01 outer:exit 2b-340e4b4cfc68ae3514cb7db270aba35c21f8949a-2d94229fa33c50bc-01
2022-04-25T18:40:16.363Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:16.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-e42fe05d39b2c3814c1768fcca383b3da4585b4f-d320e92ef36b21e9-01 outer:exit 2b-e42fe05d39b2c3814c1768fcca383b3da4585b4f-9a8d72efc28d8368-01
2022-04-25T18:40:16.365Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:16.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-4db475ca5d047b3b87739ff963ec19e971817051-d68bd2f5cbc44c15-01 outer:exit 2b-4db475ca5d047b3b87739ff963ec19e971817051-d6786f80bcfbfa19-01
2022-04-25T18:40:16.368Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:16.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-9818ecc88caa28c57b81f366fc7599597fcfeea6-980de9c3bf4c5ee9-01 outer:exit 2b-9818ecc88caa28c57b81f366fc7599597fcfeea6-6146608fc88bc812-01
2022-04-25T18:40:16.371Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:16.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfbeac40abc61924f8be50cdb96f080c7699e39b-d4a51314d90b58e8-01 outer:exit 2b-bfbeac40abc61924f8be50cdb96f080c7699e39b-af9fb15d00c4c957-01
2022-04-25T18:40:16.378Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:16.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-e89c378ef1f0dc67dd8e503df3af5c597148d64f-f1ce187036c20450-01 outer:exit 2b-e89c378ef1f0dc67dd8e503df3af5c597148d64f-fa02f114420a561b-01
2022-04-25T18:40:16.380Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:16.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc7173c1cdd9a0d909ef2f076b01f934ab463053-1d0bff7382860ff9-01 outer:exit 2b-cc7173c1cdd9a0d909ef2f076b01f934ab463053-49f632e062a7c602-01
2022-04-25T18:40:16.383Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:16.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb3e7bd4333bcce65536fc65d39b4c2b9b10ab7d-b758f74456efbbc4-01 outer:exit 2b-fb3e7bd4333bcce65536fc65d39b4c2b9b10ab7d-d5e310bc18ceae51-01
2022-04-25T18:40:16.389Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:16.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c368f0a8bb40901a60d0dc82fa0a0bff4d2681f-d04e260c2d5c8a74-01 outer:exit 2b-4c368f0a8bb40901a60d0dc82fa0a0bff4d2681f-7138a304e523a583-01
2022-04-25T18:40:16.398Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:16.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-c30c85799bca2d27dd1743e6b205ce8c83ded67c-94e50897e12e8c97-01 outer:exit 2b-c30c85799bca2d27dd1743e6b205ce8c83ded67c-f0e14ac68311d8b5-01
2022-04-25T18:40:16.409Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:16.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c56c2c688d080f28189ab60a8f8e9b04c7d01a6-1bb105e13a3f04fa-01 outer:exit 2b-6c56c2c688d080f28189ab60a8f8e9b04c7d01a6-c2868a3aacb5887d-01
2022-04-25T18:40:16.418Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:16.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-49afb2e9591444ca6fad26d980b16327491614fd-3d2115f3d791d9b7-01 outer:exit 2b-49afb2e9591444ca6fad26d980b16327491614fd-c596cf5923aedcdb-01
2022-04-25T18:40:16.420Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:16.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-184ed3fe76dc445681aac540162ea1dc1972c0c2-203ebfb3afc25bcc-01 outer:exit 2b-184ed3fe76dc445681aac540162ea1dc1972c0c2-155f75520853386c-01
2022-04-25T18:40:16.424Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:16.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4bcb8eecac687144a6b737693b0bd0467d574e0-0cce3d59d47e32f7-01 outer:exit 2b-c4bcb8eecac687144a6b737693b0bd0467d574e0-bd8fb1942e317e8c-01
2022-04-25T18:40:16.432Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:16.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec19ab4ec614df2eba919b82ffdb192232d59c42-80e98d8a8fe01d15-01 outer:exit 2b-ec19ab4ec614df2eba919b82ffdb192232d59c42-cee92e2e12f9e69d-01
2022-04-25T18:40:16.435Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:16.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff6220e5b54c222ea589537773a39786351e2b01-baa56c7983b4b77d-01 outer:exit 2b-ff6220e5b54c222ea589537773a39786351e2b01-4d9f7985dbf68526-01
2022-04-25T18:40:16.437Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:16.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-173e27426293f5a587031b3150d903a0046e16f4-db52762671e3a133-01 outer:exit 2b-173e27426293f5a587031b3150d903a0046e16f4-de350d321690f5b7-01
2022-04-25T18:40:16.439Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:16.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-324ea2877315429280f4e67e8322b57869146a19-9138a4da4fc55d3d-01 outer:exit 2b-324ea2877315429280f4e67e8322b57869146a19-5201fcd63f0ffdf2-01
2022-04-25T18:40:16.442Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:16.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-89ca273355a22f87d5b43b5df537becbb0da060b-894d1c74b2c5f21b-01 outer:exit 2b-89ca273355a22f87d5b43b5df537becbb0da060b-30e0afaf8477edbc-01
2022-04-25T18:40:16.444Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:16.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-454a2b5db9758b6e2240c7adf8d300334343112e-5a64247452749fb8-01 outer:exit 2b-454a2b5db9758b6e2240c7adf8d300334343112e-199d62c9ebc37492-01
2022-04-25T18:40:16.456Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:16.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-d84b457912cd51d78e06774183a43bfd90ba940f-05d09bb70f69cba3-01 outer:exit 2b-d84b457912cd51d78e06774183a43bfd90ba940f-06d10fa28b3024dc-01
2022-04-25T18:40:16.469Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:16.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-c983f218e85bda649ab37d3ec2a574113de159a4-680111608182c44e-01 outer:exit 2b-c983f218e85bda649ab37d3ec2a574113de159a4-ac911ad2a3f10181-01
2022-04-25T18:40:16.472Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:16.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2099dc6dbdecb01513589f931baf438de3eb35c-53fb72182252a281-01 outer:exit 2b-d2099dc6dbdecb01513589f931baf438de3eb35c-4ecdc5c6df38718e-01
2022-04-25T18:40:16.480Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:16.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-68fbe5afda145370f37e4d6af358fa555636d0e0-412b512418c84e02-01 outer:exit 2b-68fbe5afda145370f37e4d6af358fa555636d0e0-3b1c8f4e2eccf28e-01
2022-04-25T18:40:16.483Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:16.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc50a318a02834ddc64996eee7dc733bdd66987e-e16d6509fad57a43-01 outer:exit 2b-fc50a318a02834ddc64996eee7dc733bdd66987e-93f14ec2af1ceab9-01
2022-04-25T18:40:16.522Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (419ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:23.782Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:23.783Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:23.783Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:23.784Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:23.856Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:23.991Z appoptics:patching patched crypto 
2022-04-25T18:40:24.016Z appoptics:patching patched https 
2022-04-25T18:40:24.016Z appoptics:patching patched http 
2022-04-25T18:40:24.073Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:24.074Z appoptics:patching patched fs 
2022-04-25T18:40:24.089Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v18.0.0)
2022-04-25T18:40:24.096Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-25T18:40:24.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd8b290e4296622e54aaa75f496b91866867ce16-f2672e15c314f7bb-01 outer:exit 2b-bd8b290e4296622e54aaa75f496b91866867ce16-910e113dbfc7cd69-01
2022-04-25T18:40:24.153Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:24.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-eabd0373e12546779332bd6afc3023baafcea9c3-2679fd1cef568033-01 outer:exit 2b-eabd0373e12546779332bd6afc3023baafcea9c3-89eaf4e879d737d2-01
2022-04-25T18:40:24.209Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:24.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-0651f16f14ecc6a13c216acee9964374b352d23c-031f81e688d8810a-01 outer:exit 2b-0651f16f14ecc6a13c216acee9964374b352d23c-cb9f80dfa2538477-01
2022-04-25T18:40:24.214Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:24.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-68898f5f7bf7246c91abeb74a53850ca0ee29be0-90a091008bf1f068-01 outer:exit 2b-68898f5f7bf7246c91abeb74a53850ca0ee29be0-29943af45b485428-01
2022-04-25T18:40:24.217Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:24.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5838674e9bac589c5c2a549c507bd7510501347-2d9448bf1481dca8-01 outer:exit 2b-f5838674e9bac589c5c2a549c507bd7510501347-c858421f109eae75-01
2022-04-25T18:40:24.222Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:24.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-2167e93c6005c7be99f6a7a6ffa81b8691fcefcb-65adc4601e73a51b-01 outer:exit 2b-2167e93c6005c7be99f6a7a6ffa81b8691fcefcb-8d5f963fa147e32a-01
2022-04-25T18:40:24.226Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:24.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd860262ac24e59634b8fa61c059116e7b54e574-5c5144c2fc79f4ca-01 outer:exit 2b-fd860262ac24e59634b8fa61c059116e7b54e574-a065b231198821c9-01
2022-04-25T18:40:24.229Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:24.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-9689288b7c757e85ddff19c59553be1d908a7c51-df828249920bed77-01 outer:exit 2b-9689288b7c757e85ddff19c59553be1d908a7c51-f1a370218005c02d-01
2022-04-25T18:40:24.232Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:24.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bd1c88d1586c233375d94e1f751019b9c0e27dc-7ef3c77861a53620-01 outer:exit 2b-9bd1c88d1586c233375d94e1f751019b9c0e27dc-4b939fbeeb3892b2-01
2022-04-25T18:40:24.235Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:24.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1160ae1843f072057c6a86c19146b77a4bf4da2-113c66f5f63b9aab-01 outer:exit 2b-c1160ae1843f072057c6a86c19146b77a4bf4da2-0b76ae5be5db2e68-01
2022-04-25T18:40:24.238Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:24.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b236992f58f2aae46f8fb12aa82eb4473694c69-b1ac92ed600cf811-01 outer:exit 2b-8b236992f58f2aae46f8fb12aa82eb4473694c69-de51b893317ffbb2-01
2022-04-25T18:40:24.243Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:24.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dfe64e1075fc7c10190644f59ef803d670369e0-1fb6bceffced2007-01 outer:exit 2b-0dfe64e1075fc7c10190644f59ef803d670369e0-a2618b127af09841-01
2022-04-25T18:40:24.250Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:24.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cff71aa8c13a2161ffadd9d13d690feb9c8cff8-83a46852c0326db6-01 outer:exit 2b-5cff71aa8c13a2161ffadd9d13d690feb9c8cff8-d84f3882332cb7a3-01
2022-04-25T18:40:24.266Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:24.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-40820d1271e30bef697404d7ac21c9b02d4a472b-644f7c6abcce5e9f-01 outer:exit 2b-40820d1271e30bef697404d7ac21c9b02d4a472b-3b6e9be4e6b17d38-01
2022-04-25T18:40:24.310Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:24.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-d342de0fd6ae9e17d8df0b1b3e392d18a2c31af2-7e05fd2c55a8b079-01 outer:exit 2b-d342de0fd6ae9e17d8df0b1b3e392d18a2c31af2-09333a5a94195d6c-01
2022-04-25T18:40:24.315Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:24.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-c328517fa3e7e27a776bf917340b8a4b0eb72f83-b86601fc2e7bf267-01 outer:exit 2b-c328517fa3e7e27a776bf917340b8a4b0eb72f83-771bbc7d4baadbc1-01
2022-04-25T18:40:24.318Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:24.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d07c3be03675fb3285cd525b6eaf3f7dae6e73a-a9d8acc859d75743-01 outer:exit 2b-8d07c3be03675fb3285cd525b6eaf3f7dae6e73a-5a82a24245b38e92-01
2022-04-25T18:40:24.322Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:24.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f1d04bbc77cb37dabce082ec3ad531719214a26-1e44e774d0d2584e-01 outer:exit 2b-8f1d04bbc77cb37dabce082ec3ad531719214a26-1a552a60decb7332-01
2022-04-25T18:40:24.324Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:24.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d4bb46c69cabac2f1d4866ac6256977607d3a4b-bfac06ccb7c1e7f1-01 outer:exit 2b-6d4bb46c69cabac2f1d4866ac6256977607d3a4b-a9b59a5006d13c36-01
2022-04-25T18:40:24.327Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:24.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-f23cb2fcbee932aa2a2e9fbbdad87f6c0e324594-f0218475a11b36b9-01 outer:exit 2b-f23cb2fcbee932aa2a2e9fbbdad87f6c0e324594-ec6f982a3b966264-01
2022-04-25T18:40:24.330Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:24.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-2679160db9718c1ee07330eb12f561c7362c49dd-d797e06aed907e7b-01 outer:exit 2b-2679160db9718c1ee07330eb12f561c7362c49dd-02b82ef068740412-01
2022-04-25T18:40:24.332Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:24.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b9c32cba2592f8e4ec32574a2b2917a257bdb7a-e0816c0b5ee561f9-01 outer:exit 2b-0b9c32cba2592f8e4ec32574a2b2917a257bdb7a-7766d2ba829d58e0-01
2022-04-25T18:40:24.335Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:24.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-137bf325b690864d992d38af089d003cafa736f0-c10bd59686a68c68-01 outer:exit 2b-137bf325b690864d992d38af089d003cafa736f0-a3660825af0798fe-01
2022-04-25T18:40:24.338Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:24.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5c32bc92e08a13b86eba3bb421143ad5b5b0d29-40cc418c861b5040-01 outer:exit 2b-e5c32bc92e08a13b86eba3bb421143ad5b5b0d29-4cf5fb6bd20e5dec-01
2022-04-25T18:40:24.341Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:24.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-29930ed2aca4c3a31115d2f658351a9df37d504e-e64b0757d814a86e-01 outer:exit 2b-29930ed2aca4c3a31115d2f658351a9df37d504e-02c20eea76bc84ea-01
2022-04-25T18:40:24.344Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:24.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-00685dd33e4f3e9168ca749e92110da2c5df287a-4a025f93f803bb1d-01 outer:exit 2b-00685dd33e4f3e9168ca749e92110da2c5df287a-d70ed434453a89bc-01
2022-04-25T18:40:24.346Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:24.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a67b7645c8116695e4a5776b432cdd3461fa29e-32b6c6c0689284f9-01 outer:exit 2b-7a67b7645c8116695e4a5776b432cdd3461fa29e-7dc3263c209d5ad8-01
2022-04-25T18:40:24.353Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:24.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8476c802116c44bab621447fcbdcf6da59acd9b-8e50eff15eedd6eb-01 outer:exit 2b-d8476c802116c44bab621447fcbdcf6da59acd9b-38ec0fea73ac2318-01
2022-04-25T18:40:24.358Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:24.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-840306d2b003a2a102f632512e81948805bfff3f-f34bb5bcf8f29bf9-01 outer:exit 2b-840306d2b003a2a102f632512e81948805bfff3f-64551e9e8f39f810-01
2022-04-25T18:40:24.369Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:24.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-69e2996f7464e58137d3b013823d4b1d021be151-2b6a672400640590-01 outer:exit 2b-69e2996f7464e58137d3b013823d4b1d021be151-4ab9ab439c205e0c-01
2022-04-25T18:40:24.380Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:24.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9b6875e1013f6ca31b7d84a17c1ef9faac200da-6bf281fb418f9e38-01 outer:exit 2b-b9b6875e1013f6ca31b7d84a17c1ef9faac200da-07a2b9748ee94fbb-01
2022-04-25T18:40:24.383Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:24.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1d4db53ed200632c6625cd25788b2df9a9c3403-30ed4ad994b93e42-01 outer:exit 2b-a1d4db53ed200632c6625cd25788b2df9a9c3403-9ad2df3f05b8ee44-01
2022-04-25T18:40:24.397Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:24.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-855f5fef1aeab35f88e689e32c167b9c4d998c64-697b7d342bacd8f1-01 outer:exit 2b-855f5fef1aeab35f88e689e32c167b9c4d998c64-f1f2a6f65b3cd9f1-01
2022-04-25T18:40:24.411Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:24.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bfc464ad32dc69f035aa703d422229b99c731af-4694c8d5c057859a-01 outer:exit 2b-6bfc464ad32dc69f035aa703d422229b99c731af-9c2f8623e514b6be-01
2022-04-25T18:40:24.413Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:24.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba24a9a52e83c44d2f4faf98fe54a880c1a88276-857d387ab9f1079c-01 outer:exit 2b-ba24a9a52e83c44d2f4faf98fe54a880c1a88276-d531b8696e93fb04-01
2022-04-25T18:40:24.417Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:24.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3cd7197b488081c3f8e1baa87a9c1a762748ce6-4266cf8009cc54da-01 outer:exit 2b-e3cd7197b488081c3f8e1baa87a9c1a762748ce6-ae48a1d77b8331b8-01
2022-04-25T18:40:24.419Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:24.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d2bfa17ce8cfd3e7ed0b0873aa584c233eb1587-226039448cf822c5-01 outer:exit 2b-5d2bfa17ce8cfd3e7ed0b0873aa584c233eb1587-902f0b54647e839d-01
2022-04-25T18:40:24.421Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:24.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-729a3c9fbd6de82c5325ab506cf3de4e5dd3f236-94db5d445969a91f-01 outer:exit 2b-729a3c9fbd6de82c5325ab506cf3de4e5dd3f236-f7a5d3364f435f6b-01
2022-04-25T18:40:24.423Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:24.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfb8213c971c81e123ddeee12869aa209eb3479e-41e9c2812e5b3b6d-01 outer:exit 2b-dfb8213c971c81e123ddeee12869aa209eb3479e-918f11b109818c94-01
2022-04-25T18:40:24.437Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:24.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b42c485e2089e5820ff2e4740576a2fc9db13b0-9b0367768ba6ee03-01 outer:exit 2b-9b42c485e2089e5820ff2e4740576a2fc9db13b0-5662ee130f8e03ab-01
2022-04-25T18:40:24.450Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:24.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-f20924439c85d8fdb0314e49066880ba396bd1ff-2b211f274526716b-01 outer:exit 2b-f20924439c85d8fdb0314e49066880ba396bd1ff-4a39244db55872fd-01
2022-04-25T18:40:24.453Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:24.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-a82cd5dd481f1ae7bbe3fd99bc471a66ef5fc766-bc703e63ba2771fb-01 outer:exit 2b-a82cd5dd481f1ae7bbe3fd99bc471a66ef5fc766-2079555a6f39159f-01
2022-04-25T18:40:24.457Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:24.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-844fc3f036fee9154dd85956d13fac6d26096dec-6a950bafedaabbdc-01 outer:exit 2b-844fc3f036fee9154dd85956d13fac6d26096dec-a78de3784e78931e-01
2022-04-25T18:40:24.460Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:24.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce36843a6d4bb9d2bb1d61dc5d62fca411551384-7f3f03926cac03f4-01 outer:exit 2b-ce36843a6d4bb9d2bb1d61dc5d62fca411551384-d2a8db45cf3ef29f-01
2022-04-25T18:40:24.495Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (391ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:32.601Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:32.602Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:32.602Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:32.608Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:32.681Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:32.828Z appoptics:patching patched crypto 
2022-04-25T18:40:32.875Z appoptics:patching patched https 
2022-04-25T18:40:32.875Z appoptics:patching patched http 
2022-04-25T18:40:32.931Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:32.932Z appoptics:patching patched fs 
2022-04-25T18:40:32.952Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v18.0.0)
2022-04-25T18:40:32.959Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-25T18:40:33.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f8de7376e0d1ad83f5603ba62f49c15345eac9d-20bf0e63d27b615d-01 outer:exit 2b-2f8de7376e0d1ad83f5603ba62f49c15345eac9d-04557ffdd9e1dbb0-01
2022-04-25T18:40:33.020Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:33.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-914836fbebaee65210f194815cf90ff51c936d7b-9daee3d6a88785ca-01 outer:exit 2b-914836fbebaee65210f194815cf90ff51c936d7b-944f093aaf263bba-01
2022-04-25T18:40:33.097Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:33.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceecd2dbe21dd6ec2ee1685401bc85742507d072-24baf4a82efb5a48-01 outer:exit 2b-ceecd2dbe21dd6ec2ee1685401bc85742507d072-7b4fe1c626e5f77b-01
2022-04-25T18:40:33.101Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:33.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9191f265a0c41768f81431eef0d42835f2f68fb-ddfcdafec1e7cc68-01 outer:exit 2b-e9191f265a0c41768f81431eef0d42835f2f68fb-031e555cdbf3462d-01
2022-04-25T18:40:33.105Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:33.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-65a794da608c3167a4d237027ea5217ad6f51fce-c25509e1ed5f8c4b-01 outer:exit 2b-65a794da608c3167a4d237027ea5217ad6f51fce-05016f9c206cbfa7-01
2022-04-25T18:40:33.111Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:33.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-f35cfe36066c17278dc8b85f282f7ec2aa4198b5-89048b2e609a884c-01 outer:exit 2b-f35cfe36066c17278dc8b85f282f7ec2aa4198b5-bbf496115360611a-01
2022-04-25T18:40:33.114Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:33.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-755295d4e5b09689fab4e8d6d07d72ac652db7df-d924261bd69ca6eb-01 outer:exit 2b-755295d4e5b09689fab4e8d6d07d72ac652db7df-2d1bd4f28f9f6a9c-01
2022-04-25T18:40:33.117Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:33.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-6302c47f8022b75d5d4bdbfbdc686ec172eccac6-ff7a571dbef6958c-01 outer:exit 2b-6302c47f8022b75d5d4bdbfbdc686ec172eccac6-06749d999dc95c59-01
2022-04-25T18:40:33.120Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:33.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-44aabb60bffc341cae28f412669558c1a8819809-22ce44f2fb3cbaec-01 outer:exit 2b-44aabb60bffc341cae28f412669558c1a8819809-3333411900afca7e-01
2022-04-25T18:40:33.123Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:33.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-7455771a8571f200523ab92d6c7de816ad3d0fd4-76f9e001a87fed66-01 outer:exit 2b-7455771a8571f200523ab92d6c7de816ad3d0fd4-2dab0b61f81c1223-01
2022-04-25T18:40:33.127Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:33.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-24bf43cd07b2684d2402b293ad9af293ca180eee-e86a6ec50c9c1adb-01 outer:exit 2b-24bf43cd07b2684d2402b293ad9af293ca180eee-ba269955557dfaea-01
2022-04-25T18:40:33.131Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:33.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf49c751fecf06a0101475438fa90909232aae22-13a05a92d0e5d766-01 outer:exit 2b-bf49c751fecf06a0101475438fa90909232aae22-09bce3f92d4a04ed-01
2022-04-25T18:40:33.139Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:33.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-02521986247edaafd20d8bc1e26e297304e85413-fb2dca457d01de0e-01 outer:exit 2b-02521986247edaafd20d8bc1e26e297304e85413-4e6edd07a99cadfe-01
2022-04-25T18:40:33.157Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:33.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a7073ac8ab0a8ce272bab96411dea5a80da91b8-e58387b838a4192d-01 outer:exit 2b-2a7073ac8ab0a8ce272bab96411dea5a80da91b8-47aafa815d88a45d-01
2022-04-25T18:40:33.209Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:33.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eebdc29bdac36804df87c5c91cf101d74d648a2-c0d001ca4b475a2c-01 outer:exit 2b-1eebdc29bdac36804df87c5c91cf101d74d648a2-6f139937199f1d63-01
2022-04-25T18:40:33.213Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:33.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed5c7afab492865f66a0b074d78011f6cdf9d2ae-bf235e349b08b725-01 outer:exit 2b-ed5c7afab492865f66a0b074d78011f6cdf9d2ae-ebce145be4a9132e-01
2022-04-25T18:40:33.216Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:33.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-8500faf2b13c7a1fa574fd55c045558dec582891-1b5bded88cf84a2e-01 outer:exit 2b-8500faf2b13c7a1fa574fd55c045558dec582891-630ec7781528a1c6-01
2022-04-25T18:40:33.219Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:33.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-59a7978794d6109c11f43ada06002ec9261d5918-3b7a6260fce41211-01 outer:exit 2b-59a7978794d6109c11f43ada06002ec9261d5918-c8b97ecc6306500f-01
2022-04-25T18:40:33.222Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:33.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-c521e9652fbf75177c35e970de98b7245e8185e8-c38d3c7bed1a2470-01 outer:exit 2b-c521e9652fbf75177c35e970de98b7245e8185e8-40a6c3960e3c533d-01
2022-04-25T18:40:33.224Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:33.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1f51cee46ab89b9b758579621518aaa84b38542-7a55d83710218412-01 outer:exit 2b-b1f51cee46ab89b9b758579621518aaa84b38542-f387f77c1ea7a003-01
2022-04-25T18:40:33.226Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:33.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-2eb4de6e4c8d841ecfaa9253270c588e0608833d-86f47b90475cfb08-01 outer:exit 2b-2eb4de6e4c8d841ecfaa9253270c588e0608833d-46df9c2125387276-01
2022-04-25T18:40:33.228Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:33.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5f1a2fd1992df375c4968233ca02e2faecd4e4-b7d3e065492a655c-01 outer:exit 2b-6a5f1a2fd1992df375c4968233ca02e2faecd4e4-be14564464e2bca2-01
2022-04-25T18:40:33.231Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:33.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-91eed54115609dc445ae815f88e66341ee7ee3cc-9f9be2d174140814-01 outer:exit 2b-91eed54115609dc445ae815f88e66341ee7ee3cc-45c2a57bdf2597c6-01
2022-04-25T18:40:33.233Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:33.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e885cfcfa3526d926b685b5860e533a980aefcb-9fbe3a42d675b8b5-01 outer:exit 2b-9e885cfcfa3526d926b685b5860e533a980aefcb-7401eaff6b113bee-01
2022-04-25T18:40:33.237Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:33.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-3405f059138d4c25a30c405e9542bd56be146832-c6ce8d0e5350a9d4-01 outer:exit 2b-3405f059138d4c25a30c405e9542bd56be146832-fb90c41e487c9150-01
2022-04-25T18:40:33.239Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:33.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-839b90b36ae7a23abfd012f1752135ab2c9eb9cc-f13facb4dc47959f-01 outer:exit 2b-839b90b36ae7a23abfd012f1752135ab2c9eb9cc-911286a166fef86a-01
2022-04-25T18:40:33.241Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:33.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da0d1ac6747d4a54386094641bdab0e3f79e93e-2ae884dce74a25ae-01 outer:exit 2b-9da0d1ac6747d4a54386094641bdab0e3f79e93e-e8fa4481c04acfa5-01
2022-04-25T18:40:33.249Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:33.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c815476f0d70fa1d5569cfcbb4ab539816163d0-ff2e426a6e2ef4a5-01 outer:exit 2b-5c815476f0d70fa1d5569cfcbb4ab539816163d0-313904a5c4c90efc-01
2022-04-25T18:40:33.255Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:33.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd0fe1d69123926bb5836a2b6b6905142cb33ed0-be2c14af53800c74-01 outer:exit 2b-dd0fe1d69123926bb5836a2b6b6905142cb33ed0-29c69f17209c6b52-01
2022-04-25T18:40:33.267Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:33.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-7818692c123e88d26b330a8c8f00ca8b9eaa2881-081cad2622a1e79e-01 outer:exit 2b-7818692c123e88d26b330a8c8f00ca8b9eaa2881-f5f710a538705e11-01
2022-04-25T18:40:33.276Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:33.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1a8520f078551369ffa8c2be4fd73753828152e-3e2e45c4420f1626-01 outer:exit 2b-b1a8520f078551369ffa8c2be4fd73753828152e-35a0033544a0a3b5-01
2022-04-25T18:40:33.278Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:33.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb285cc84232474c63578907cc8b2ba078e485e-aff3c22d44bdc1be-01 outer:exit 2b-abb285cc84232474c63578907cc8b2ba078e485e-7a7715547b27f03c-01
2022-04-25T18:40:33.281Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:33.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-d77d8fc7b9b578dee2bb5e83c4885d349acee960-7498356cc34471a5-01 outer:exit 2b-d77d8fc7b9b578dee2bb5e83c4885d349acee960-d05c468fc5fa4103-01
2022-04-25T18:40:33.290Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:33.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c1ee6878b739274b35b388dff8599bfe9b93277-d2b9bb69539e7b5f-01 outer:exit 2b-8c1ee6878b739274b35b388dff8599bfe9b93277-dbc8ab70a9b9eb12-01
2022-04-25T18:40:33.292Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:33.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-25049d6495f6031d3f715353db7636d50e340219-b3a90e27b63bfd18-01 outer:exit 2b-25049d6495f6031d3f715353db7636d50e340219-b1adf2e69a570e9e-01
2022-04-25T18:40:33.294Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:33.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce82be4533f51fcf88fbce7dc88ee167251539a9-9bc00b40f47dd4b6-01 outer:exit 2b-ce82be4533f51fcf88fbce7dc88ee167251539a9-65e49829105b01af-01
2022-04-25T18:40:33.296Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:33.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9b2893e53de22eccbf2b0b98f9fe8c981b037e8-fb26dce7c6f71129-01 outer:exit 2b-f9b2893e53de22eccbf2b0b98f9fe8c981b037e8-8b36832d76c77148-01
2022-04-25T18:40:33.298Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:33.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-66bd22ff4e5a4cf9911583fa56e7deb163c1787c-611bffb86e86a35a-01 outer:exit 2b-66bd22ff4e5a4cf9911583fa56e7deb163c1787c-9dc733b0ecddafa6-01
2022-04-25T18:40:33.300Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:33.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-63f3e18e47a54bb61ecb6f58ebb08a1d076a806c-685cb614aa89cddb-01 outer:exit 2b-63f3e18e47a54bb61ecb6f58ebb08a1d076a806c-2c43e06c2511d754-01
2022-04-25T18:40:33.310Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:33.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7d13ded6cb797e616b77869016e994053c024b5-ca8a789e8017f2e6-01 outer:exit 2b-a7d13ded6cb797e616b77869016e994053c024b5-6e2b2ed256638be5-01
2022-04-25T18:40:33.321Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:33.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-20db71bf1ab9c7fe7aef14e4bcb1fd5b6581109a-02ce859e562d9a0c-01 outer:exit 2b-20db71bf1ab9c7fe7aef14e4bcb1fd5b6581109a-54e23a3cc2858485-01
2022-04-25T18:40:33.325Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:33.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-95a327efba879d33ec9a381e832921b702af83b3-cf7f8ceeefccac72-01 outer:exit 2b-95a327efba879d33ec9a381e832921b702af83b3-8057013f3960544f-01
2022-04-25T18:40:33.333Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:33.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5146a0a4107513f43b34c878f3e735a849849e5-69bc49b1c368c0b9-01 outer:exit 2b-f5146a0a4107513f43b34c878f3e735a849849e5-81df039c92d971fb-01
2022-04-25T18:40:33.336Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:33.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7d946438dea9524f231359f8fa9970eaafa66bf-d28fc6afb1b719a1-01 outer:exit 2b-e7d946438dea9524f231359f8fa9970eaafa66bf-8a56df589a9ea132-01
2022-04-25T18:40:33.372Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (406ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:40.611Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:40.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:40.611Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:40.612Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:40.699Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:40.842Z appoptics:patching patched crypto 
2022-04-25T18:40:40.888Z appoptics:patching patched https 
2022-04-25T18:40:40.889Z appoptics:patching patched http 
2022-04-25T18:40:40.944Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:40.944Z appoptics:patching patched fs 
2022-04-25T18:40:40.967Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v18.0.0)
2022-04-25T18:40:40.976Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-25T18:40:41.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ea69c1c79c7376c18d697dd5f4b03905e17a3f5-228237901d80e831-01 outer:exit 2b-8ea69c1c79c7376c18d697dd5f4b03905e17a3f5-85dc52d0941015ff-01
2022-04-25T18:40:41.056Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:41.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5e2502fc836f69b7387ff97bd57d4c5a8a76801-d5b58e8a1e97f197-01 outer:exit 2b-a5e2502fc836f69b7387ff97bd57d4c5a8a76801-4e305c3b457070ec-01
2022-04-25T18:40:41.111Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:41.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a74235ef13c88b594059af3f53b343e6931cfb9-6d29c9194ba3b970-01 outer:exit 2b-6a74235ef13c88b594059af3f53b343e6931cfb9-e5b2b20636d68b69-01
2022-04-25T18:40:41.117Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:41.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab0337090a2813360ca72a0e2245ab0d03e827c7-9504d64cc8a1ba61-01 outer:exit 2b-ab0337090a2813360ca72a0e2245ab0d03e827c7-f252ed91de4b253b-01
2022-04-25T18:40:41.121Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:41.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d8a5a9814b6547d5538e1e196bf559abc25dddb-9701c3e8d892d8ee-01 outer:exit 2b-0d8a5a9814b6547d5538e1e196bf559abc25dddb-8051ad2e73b8daff-01
2022-04-25T18:40:41.132Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:41.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8c82fbad12bc2102036e0f826158d9404059e50-fcbdce3b5021c8c4-01 outer:exit 2b-f8c82fbad12bc2102036e0f826158d9404059e50-a225db6e4ee2eed2-01
2022-04-25T18:40:41.136Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:41.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dddada7a184b8f6fb63d9843166ca1a13549480-7dbb4e75ab6717e7-01 outer:exit 2b-1dddada7a184b8f6fb63d9843166ca1a13549480-530db9945976d994-01
2022-04-25T18:40:41.140Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:41.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d3d26d2bf3148ea98fbb688d82b0f8ed3a6f8a0-000a337a638650d5-01 outer:exit 2b-1d3d26d2bf3148ea98fbb688d82b0f8ed3a6f8a0-3f2c17655ec5567c-01
2022-04-25T18:40:41.144Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:41.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-e805b87e40cf22f021017b412b6de434c2c57030-43e11875e3d6790e-01 outer:exit 2b-e805b87e40cf22f021017b412b6de434c2c57030-fa2751a96e209475-01
2022-04-25T18:40:41.147Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:41.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-bec0fcced57d2da352a2d41dce82a08286a9d2c5-f8cf271c6df5f237-01 outer:exit 2b-bec0fcced57d2da352a2d41dce82a08286a9d2c5-0d232e3a3cbe19bd-01
2022-04-25T18:40:41.151Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:41.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-52fcd6eee51068ac2837edf96594a62b922d5792-2a0e9bdc89aba008-01 outer:exit 2b-52fcd6eee51068ac2837edf96594a62b922d5792-5b44cb98fed859b6-01
2022-04-25T18:40:41.156Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:41.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-562dcc3a136fe4aedf5df41ad1e00a5208516d36-d3832763b1690fe3-01 outer:exit 2b-562dcc3a136fe4aedf5df41ad1e00a5208516d36-12c76593635d978f-01
2022-04-25T18:40:41.191Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:41.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ca915dba890a757c0c329e61427697f1ab2187c-0c68a39aad1bd5c9-01 outer:exit 2b-3ca915dba890a757c0c329e61427697f1ab2187c-aeee26714e0aac8c-01
2022-04-25T18:40:41.210Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:41.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c473f5ce39c394a13629c12c01c2fe08d46fb17-87bc250e92303781-01 outer:exit 2b-3c473f5ce39c394a13629c12c01c2fe08d46fb17-87c95d6d8c68772d-01
2022-04-25T18:40:41.273Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:41.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cfa93a483a7d13105f63ef4d35ee9f26046ad70-566fb43b16f8e310-01 outer:exit 2b-3cfa93a483a7d13105f63ef4d35ee9f26046ad70-5a262ebd2578e8be-01
2022-04-25T18:40:41.280Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:41.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d7d74cdd353c62e30b27ef221f3bb13bbdb2552-d3fd00737a2fc86b-01 outer:exit 2b-5d7d74cdd353c62e30b27ef221f3bb13bbdb2552-258487f082ebad08-01
2022-04-25T18:40:41.283Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:41.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f899238372c18a2e7b7f11163f50825af1915fa-de5d2e7363bb4b75-01 outer:exit 2b-0f899238372c18a2e7b7f11163f50825af1915fa-2fcb0ddd5a444075-01
2022-04-25T18:40:41.288Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:41.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0f5c157e23e71b0b3f40ffaff9283a2739f5973-0fbb460c5da2bf4e-01 outer:exit 2b-b0f5c157e23e71b0b3f40ffaff9283a2739f5973-bd92f7ef1bf969fa-01
2022-04-25T18:40:41.293Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:41.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-92e54b46e3cb23080baa8c5a5fc1281a845be8c4-f9f827b015ae01c7-01 outer:exit 2b-92e54b46e3cb23080baa8c5a5fc1281a845be8c4-39bebcc8c71a0e57-01
2022-04-25T18:40:41.300Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:41.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc8490d5c670e0eda7081c2ca85c7e8d93e7a04d-6bcd73bbed5d6e4e-01 outer:exit 2b-cc8490d5c670e0eda7081c2ca85c7e8d93e7a04d-b28813dcd00d3a5b-01
2022-04-25T18:40:41.304Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:41.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-99f2d9c2e2209691c64feec113c92cdecbc6d03c-b453fc9716af03d4-01 outer:exit 2b-99f2d9c2e2209691c64feec113c92cdecbc6d03c-8a94335705a32c05-01
2022-04-25T18:40:41.307Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:41.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2242e203287766c69d737e1d0e4368b15d58900-598fb3e4e6db573d-01 outer:exit 2b-f2242e203287766c69d737e1d0e4368b15d58900-a9448d12f6c684c3-01
2022-04-25T18:40:41.310Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:41.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-32910b5c65a7c78f842e0420f2df02ead3719ac5-4e6274603d56bc7d-01 outer:exit 2b-32910b5c65a7c78f842e0420f2df02ead3719ac5-4bd267c2164ad302-01
2022-04-25T18:40:41.314Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:41.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ccc4b914ad6227d9203e405618dc8e0d0a75b4a-4cab4b81403ad542-01 outer:exit 2b-8ccc4b914ad6227d9203e405618dc8e0d0a75b4a-3aad6201cc52f872-01
2022-04-25T18:40:41.317Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:41.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-527c7007c470c83f96f70f7f7df8e13af72462f3-1af2977f85c40061-01 outer:exit 2b-527c7007c470c83f96f70f7f7df8e13af72462f3-21067224754de847-01
2022-04-25T18:40:41.321Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:41.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f0b7f28cb02b6fd9e54d537e13e6fe3b1d09658-466464559c1edf65-01 outer:exit 2b-5f0b7f28cb02b6fd9e54d537e13e6fe3b1d09658-5f1c0f2547ff2757-01
2022-04-25T18:40:41.323Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:41.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-6da1bd89009ada9505dde52bcc19c38f553ee43c-ede8f1dc62f8f452-01 outer:exit 2b-6da1bd89009ada9505dde52bcc19c38f553ee43c-70bb41f5deb1647a-01
2022-04-25T18:40:41.347Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:41.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-e767716f5e15d9edb52a07173a6a7defc8e8c624-76675e4bb4f01b25-01 outer:exit 2b-e767716f5e15d9edb52a07173a6a7defc8e8c624-e153ff97a5a41bcd-01
2022-04-25T18:40:41.373Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:41.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-be92c4c8fd0fdd3e80b0c4bccc1ad3877455cfa6-9f5404b988a8ea24-01 outer:exit 2b-be92c4c8fd0fdd3e80b0c4bccc1ad3877455cfa6-522fd4ba336f9b4b-01
2022-04-25T18:40:41.389Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:41.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-578f9bbdf9e00caa11f94219681bc254ba5f587b-91e2bb153ed66777-01 outer:exit 2b-578f9bbdf9e00caa11f94219681bc254ba5f587b-858da58644216103-01
2022-04-25T18:40:41.400Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:41.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-45355a7cac9a0000b1c26fdf2e1852bae5e26f62-33f7063686cbdb53-01 outer:exit 2b-45355a7cac9a0000b1c26fdf2e1852bae5e26f62-32f57bc9db34b1a5-01
2022-04-25T18:40:41.403Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:41.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fa9dd37218d1cd4a637d7a3eb6e29d7fee23e69-3c73b7599951141c-01 outer:exit 2b-6fa9dd37218d1cd4a637d7a3eb6e29d7fee23e69-c88394d6361711dd-01
2022-04-25T18:40:41.408Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:41.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdefd81d0e5d69477a7828c7e5580135269a5a73-6d13e94e4ded346d-01 outer:exit 2b-bdefd81d0e5d69477a7828c7e5580135269a5a73-f5bd7c194e481b54-01
2022-04-25T18:40:41.417Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:41.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-261c2773cf1d528887703c805f08c490b8688802-9ab6cf2d258c0fc5-01 outer:exit 2b-261c2773cf1d528887703c805f08c490b8688802-dacf74566fca2244-01
2022-04-25T18:40:41.420Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:41.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-65b337a8b1ded11e587077f1228e99cb5ab925a0-703463f261f668ff-01 outer:exit 2b-65b337a8b1ded11e587077f1228e99cb5ab925a0-e0fd22777c44e3fa-01
2022-04-25T18:40:41.423Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:41.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-d385bcaee7948a38a30c3c43b986ae18c34adbec-31940535458312a4-01 outer:exit 2b-d385bcaee7948a38a30c3c43b986ae18c34adbec-39d22ad5e996db24-01
2022-04-25T18:40:41.427Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:41.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d5477afc3d3f41506555d3ee4b094a2d272deb-16d39c50cc5c7b56-01 outer:exit 2b-b2d5477afc3d3f41506555d3ee4b094a2d272deb-4371054e84207d19-01
2022-04-25T18:40:41.432Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:41.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-e703af9547d080fd67a4264885fa01db2c17c82a-fa80a2776d367315-01 outer:exit 2b-e703af9547d080fd67a4264885fa01db2c17c82a-5e6f32db9639dd73-01
2022-04-25T18:40:41.437Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:41.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-da602e5170904750f20723f07b2b1c860564a984-810d22b148d66b1b-01 outer:exit 2b-da602e5170904750f20723f07b2b1c860564a984-941ac69c9be20e27-01
2022-04-25T18:40:41.453Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:41.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-4746e89b753928b6bd06cb88f91a4c398c871c52-9341f5a5c5687c4d-01 outer:exit 2b-4746e89b753928b6bd06cb88f91a4c398c871c52-6737c00eed25c0db-01
2022-04-25T18:40:41.466Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:41.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b01a46312e1d863a2a755c62063d03a457ae338-f6f9da915e136dca-01 outer:exit 2b-7b01a46312e1d863a2a755c62063d03a457ae338-a8dda127e0a9527e-01
2022-04-25T18:40:41.470Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:41.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-be0c318b58cde32fe5d1645992a9d7692ccfaae4-bd98b6848804c672-01 outer:exit 2b-be0c318b58cde32fe5d1645992a9d7692ccfaae4-0a3c7f394aff138f-01
2022-04-25T18:40:41.474Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:41.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aee81b7c4a5e878371ed4910fb50595ca6bae70-46a458278d071672-01 outer:exit 2b-2aee81b7c4a5e878371ed4910fb50595ca6bae70-d0584724403da00e-01
2022-04-25T18:40:41.496Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:41.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-03ef1a39407649c1dd4f305e2f08e5963fdcc525-227bf93981d69e8b-01 outer:exit 2b-03ef1a39407649c1dd4f305e2f08e5963fdcc525-e7e33e1be9beff27-01
2022-04-25T18:40:41.561Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (576ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:48.585Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:48.586Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:48.586Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:48.587Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:48.657Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:48.863Z appoptics:patching patched crypto 
2022-04-25T18:40:48.884Z appoptics:patching patched https 
2022-04-25T18:40:48.885Z appoptics:patching patched http 
2022-04-25T18:40:48.940Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:48.941Z appoptics:patching patched fs 
2022-04-25T18:40:48.956Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v18.0.0)
2022-04-25T18:40:48.962Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-25T18:40:49.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-99195817e822166bcc5b0fa7b856dc75e66cf923-973fcb9ab905a787-01 outer:exit 2b-99195817e822166bcc5b0fa7b856dc75e66cf923-76b455738a05d6f0-01
2022-04-25T18:40:49.011Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:49.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-c31616d67ffa01146cb3885e91966d24bb47f37c-8a4c835a63bf8a31-01 outer:exit 2b-c31616d67ffa01146cb3885e91966d24bb47f37c-30eba308732aa0c7-01
2022-04-25T18:40:49.066Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:49.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-75bde093158d0ad0c635d3e777c00924a3cdf94f-f7a62b911eeeb6f9-01 outer:exit 2b-75bde093158d0ad0c635d3e777c00924a3cdf94f-e9cb72d100d20fd8-01
2022-04-25T18:40:49.070Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:49.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e99c4f7fb156ce23825cd67c0242b50d23723b5-76d07c17488878c3-01 outer:exit 2b-8e99c4f7fb156ce23825cd67c0242b50d23723b5-1ea1001d40ad1d60-01
2022-04-25T18:40:49.073Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:49.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-c731d05e86b81e82bbe9931f627e5ce298b8ab08-2b6f8b980568880d-01 outer:exit 2b-c731d05e86b81e82bbe9931f627e5ce298b8ab08-095f784a2675587b-01
2022-04-25T18:40:49.079Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:49.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-779efb4a9d60ca619554994c4b70bca191abeb9e-a6863184bc4de7fc-01 outer:exit 2b-779efb4a9d60ca619554994c4b70bca191abeb9e-ac6d69e92ac5a16a-01
2022-04-25T18:40:49.082Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:49.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-bea407bcc2d97bc18e6e57fb3dc6d41b0b38bade-a1f2837368bf8b9a-01 outer:exit 2b-bea407bcc2d97bc18e6e57fb3dc6d41b0b38bade-ee15a7296d2a173a-01
2022-04-25T18:40:49.085Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:49.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-a30bce3308893a3fdd93d5fb15df93c4fe875168-f62dc59d478ff8f7-01 outer:exit 2b-a30bce3308893a3fdd93d5fb15df93c4fe875168-1f173fb019c4f166-01
2022-04-25T18:40:49.088Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:49.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dbed971744164bfc225d27073f0aced8363b449-3433a08bb0db7a03-01 outer:exit 2b-9dbed971744164bfc225d27073f0aced8363b449-d52d17efcd5ec5e2-01
2022-04-25T18:40:49.091Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:49.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-a419e65ef494c713d2c70c77ea506b454b49e2f8-7dd4e9e135e197af-01 outer:exit 2b-a419e65ef494c713d2c70c77ea506b454b49e2f8-9427e973ad0b4913-01
2022-04-25T18:40:49.094Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:49.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-31f6dfc30e63095b978edf6547d312d6b9e34fbe-1b6b9f64c0d64bc4-01 outer:exit 2b-31f6dfc30e63095b978edf6547d312d6b9e34fbe-967f910e3838eaad-01
2022-04-25T18:40:49.099Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:49.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-897f86e977ea59cd80a6593af03f93553627d00f-43c070980ba02142-01 outer:exit 2b-897f86e977ea59cd80a6593af03f93553627d00f-acc7e3c3cc03e6b4-01
2022-04-25T18:40:49.106Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:49.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-81f9983ce5f095c6d55a2f779bc0b4b1baf1ba09-1501eeddd20eade5-01 outer:exit 2b-81f9983ce5f095c6d55a2f779bc0b4b1baf1ba09-fa6b81db89c0f16a-01
2022-04-25T18:40:49.127Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:49.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-a751b9ad39e8aa1464d6dfe685d0facba7f7bc71-8b05d2478156fce9-01 outer:exit 2b-a751b9ad39e8aa1464d6dfe685d0facba7f7bc71-760ba593c2a5d674-01
2022-04-25T18:40:49.172Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:49.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-22bb56ebc523a72ae1e5a612cc330455f878bf42-41331c937d8cd468-01 outer:exit 2b-22bb56ebc523a72ae1e5a612cc330455f878bf42-643ad7f7349eadaf-01
2022-04-25T18:40:49.175Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:49.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aafa5bc0b89e029877497ecd126748a71c44714-c034c51569677138-01 outer:exit 2b-0aafa5bc0b89e029877497ecd126748a71c44714-b79fd7b39a275362-01
2022-04-25T18:40:49.178Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:49.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f3ac5ffd6ce62aedfbb56bb278f74536858fb11-717694978f076755-01 outer:exit 2b-6f3ac5ffd6ce62aedfbb56bb278f74536858fb11-a8fda3206fa9adc3-01
2022-04-25T18:40:49.181Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:49.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ea29423914420af1b716651d9a5225d528c2827-d0f62af2c2ccc173-01 outer:exit 2b-5ea29423914420af1b716651d9a5225d528c2827-68ef5e94c2222f22-01
2022-04-25T18:40:49.184Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:49.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-91695ec07eaa3303c1026ddc3b81a05a16496725-083b43e3cba57eb1-01 outer:exit 2b-91695ec07eaa3303c1026ddc3b81a05a16496725-2679a2c87f3b21bd-01
2022-04-25T18:40:49.186Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:49.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2bd13c1274eb2f83b0bc085bce24a51aae75f98-b481a73d4b973261-01 outer:exit 2b-d2bd13c1274eb2f83b0bc085bce24a51aae75f98-76a16f77505e2887-01
2022-04-25T18:40:49.188Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:49.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17bb356cb406fecc81f7b8601eb0b046b41e9f3-f839f00a498cea09-01 outer:exit 2b-c17bb356cb406fecc81f7b8601eb0b046b41e9f3-5b42149e90df43ff-01
2022-04-25T18:40:49.191Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:49.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-9de7eb17e3746e91f4ee72370fcb1d7a42156239-c3c2dadc64a8728e-01 outer:exit 2b-9de7eb17e3746e91f4ee72370fcb1d7a42156239-9f56e56eb39dce4a-01
2022-04-25T18:40:49.193Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:49.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e64b2e94683fe4e9dfc1eafb01d144ad82ab5b9-0e44b1c72e7df780-01 outer:exit 2b-6e64b2e94683fe4e9dfc1eafb01d144ad82ab5b9-8e6363b32dad6ef8-01
2022-04-25T18:40:49.196Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:49.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ad8eee8df9a2c1c70cff8b6137c47b1c1825cef-315b240bd2415755-01 outer:exit 2b-0ad8eee8df9a2c1c70cff8b6137c47b1c1825cef-fec2c8ef141e49fc-01
2022-04-25T18:40:49.199Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:49.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bdcfe6742011eb33d6affb5183410fe2f48e5ec-e72e667cda089bc5-01 outer:exit 2b-1bdcfe6742011eb33d6affb5183410fe2f48e5ec-5795905c103277a7-01
2022-04-25T18:40:49.202Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:49.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-08e18d53742851c87dc97ce63bb39756fd547cb3-f53c8f34f41b8459-01 outer:exit 2b-08e18d53742851c87dc97ce63bb39756fd547cb3-7eef36d44f0663ec-01
2022-04-25T18:40:49.204Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:49.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3b464cf983ff61666875c85220b46bac7a5077f-8499b8221d2ee32f-01 outer:exit 2b-b3b464cf983ff61666875c85220b46bac7a5077f-7ac579945ee70ebe-01
2022-04-25T18:40:49.211Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:49.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e6d50680134df8907a89cdedb9618a84c7c6ea2-203c59a9598531ac-01 outer:exit 2b-9e6d50680134df8907a89cdedb9618a84c7c6ea2-514bb10349416739-01
2022-04-25T18:40:49.218Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:49.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-e13988f4e95ffa350f48a4fd5279f4baeba13cf8-bea3ad90c6963770-01 outer:exit 2b-e13988f4e95ffa350f48a4fd5279f4baeba13cf8-3224ebc1c4d72169-01
2022-04-25T18:40:49.226Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:49.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d8e7828d11ad1abb5d1804069a4d6f4b56a7c22-18884f2ef20bd2c8-01 outer:exit 2b-8d8e7828d11ad1abb5d1804069a4d6f4b56a7c22-995467150c75e67f-01
2022-04-25T18:40:49.234Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:49.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e63c97638e9a47473ae78ccf315b645aebf112e-1133d0e85cd40aa2-01 outer:exit 2b-5e63c97638e9a47473ae78ccf315b645aebf112e-65c0e618083eae59-01
2022-04-25T18:40:49.236Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:49.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-b039a180ea1571891529100993805f02f6a6178c-a9bcc2836763cbf3-01 outer:exit 2b-b039a180ea1571891529100993805f02f6a6178c-b79e77108f2f0153-01
2022-04-25T18:40:49.240Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:49.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5847e2e5aff98c242b2d2aaa325ca6a17d585c6-44b396091e8655c5-01 outer:exit 2b-a5847e2e5aff98c242b2d2aaa325ca6a17d585c6-4f98471a18bd7653-01
2022-04-25T18:40:49.249Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:49.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ae46882313bdd93c26457b17d18ce8b9be985bf-246375c8c9b704ea-01 outer:exit 2b-2ae46882313bdd93c26457b17d18ce8b9be985bf-ff8c681d543937c2-01
2022-04-25T18:40:49.252Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:49.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-5571ce573154cb4623ec66e8c37bdec8e61f1e0b-e2b5312eca5a761b-01 outer:exit 2b-5571ce573154cb4623ec66e8c37bdec8e61f1e0b-ae2cd676948be6f9-01
2022-04-25T18:40:49.254Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:49.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb0efe4ed7b3047a313a570ce881ad0fb06e34c4-2a58c15e2a479c81-01 outer:exit 2b-eb0efe4ed7b3047a313a570ce881ad0fb06e34c4-4324a0d512b6fb7a-01
2022-04-25T18:40:49.256Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:49.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0f799bc4779281e0ac23bf749abafb93f1465c4-1d6037faacd9de56-01 outer:exit 2b-d0f799bc4779281e0ac23bf749abafb93f1465c4-9772bb7cefb76f91-01
2022-04-25T18:40:49.258Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:49.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a08b95eb6d59971d6e83ee7d0665d341c92a4fa-9d0822dc09fe7486-01 outer:exit 2b-8a08b95eb6d59971d6e83ee7d0665d341c92a4fa-102134deb8492261-01
2022-04-25T18:40:49.261Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:49.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ba9e0ff1b5953ea21decdff0632540cefb0a895-8f14e62d2a458d59-01 outer:exit 2b-3ba9e0ff1b5953ea21decdff0632540cefb0a895-62b886543be35422-01
2022-04-25T18:40:49.276Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:49.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-13d1e889e8e40e6a4911940aa16df5dfcf1c73ac-77c6d94becf1c696-01 outer:exit 2b-13d1e889e8e40e6a4911940aa16df5dfcf1c73ac-793f8d4179bdf449-01
2022-04-25T18:40:49.289Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:49.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-48944fe5e332faea3308bf3f55d89e4f2235050a-b2d63d6628d2d562-01 outer:exit 2b-48944fe5e332faea3308bf3f55d89e4f2235050a-38a6d27a4903a0c5-01
2022-04-25T18:40:49.293Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:49.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccc2da525964515b11e2965f42ac54f82ce7878d-3b53a3eb9ce786c7-01 outer:exit 2b-ccc2da525964515b11e2965f42ac54f82ce7878d-53e451b53cd32825-01
2022-04-25T18:40:49.296Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:49.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fab4ae81c919ddb0d99669bb026b6699078befe-f1d3d3adb42d97b1-01 outer:exit 2b-0fab4ae81c919ddb0d99669bb026b6699078befe-715504c211ccf854-01
2022-04-25T18:40:49.299Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:49.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-813ac358e9b9639128b126b90242812380641aef-90a84af56686bda2-01 outer:exit 2b-813ac358e9b9639128b126b90242812380641aef-37d0869aa0a3ab6e-01
2022-04-25T18:40:49.332Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (365ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:57.116Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:57.117Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:57.117Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:57.118Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:57.189Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:57.320Z appoptics:patching patched crypto 
2022-04-25T18:40:57.341Z appoptics:patching patched https 
2022-04-25T18:40:57.342Z appoptics:patching patched http 
2022-04-25T18:40:57.397Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:57.398Z appoptics:patching patched fs 
2022-04-25T18:40:57.413Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v18.0.0)
2022-04-25T18:40:57.419Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-25T18:40:57.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-9602109396fb1e507243409bec5bfb07b20bc51a-f508438889d70f06-01 outer:exit 2b-9602109396fb1e507243409bec5bfb07b20bc51a-e4c91c6848f9ac4f-01
2022-04-25T18:40:57.472Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:57.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6c07da65dec219887146700cc5e66c9e7702645-f43f8c3b77479ea7-01 outer:exit 2b-d6c07da65dec219887146700cc5e66c9e7702645-786933ad6dc477bc-01
2022-04-25T18:40:57.523Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:57.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-c918a7cfa58342351dd550b00ec942f0d4740157-efc23ebe70c199ad-01 outer:exit 2b-c918a7cfa58342351dd550b00ec942f0d4740157-dd17355d0d4cdfd0-01
2022-04-25T18:40:57.527Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:57.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-d26200759e1e4915e438663d4858d06e5f5ced3e-1abf762fde77654c-01 outer:exit 2b-d26200759e1e4915e438663d4858d06e5f5ced3e-de540020fbcb307a-01
2022-04-25T18:40:57.530Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:57.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-34e6c8b8e24af48d97970cacd79710a08ac5e3de-4f326b2801489eaf-01 outer:exit 2b-34e6c8b8e24af48d97970cacd79710a08ac5e3de-bc65597e0451a703-01
2022-04-25T18:40:57.535Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:57.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ee57333640ac0af0172caa770fcb06e2346f151-aa19ae30fd9b451d-01 outer:exit 2b-9ee57333640ac0af0172caa770fcb06e2346f151-11b346653b9f4612-01
2022-04-25T18:40:57.539Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:57.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-90c9a8137c7398d6af30be19c89cc4182cbee088-79170f05176bcc3d-01 outer:exit 2b-90c9a8137c7398d6af30be19c89cc4182cbee088-d9de9ef558683b27-01
2022-04-25T18:40:57.542Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:57.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ba0ea98acf65fd5b14c5882a659c8010289137c-276f355de42f39a3-01 outer:exit 2b-0ba0ea98acf65fd5b14c5882a659c8010289137c-d86105eb41b59ba7-01
2022-04-25T18:40:57.545Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:57.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b028629ae713b5e4a8928cef36f32a8d71320b1-0471d7b4f578a855-01 outer:exit 2b-1b028629ae713b5e4a8928cef36f32a8d71320b1-3c4011c31c6f59fa-01
2022-04-25T18:40:57.548Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:57.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6b49387211eea2b9f6c12e5a1672479e66ea432-a5070340080c7f51-01 outer:exit 2b-f6b49387211eea2b9f6c12e5a1672479e66ea432-be9cbbc5190a30b0-01
2022-04-25T18:40:57.551Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:57.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-da0e94c36fecad44bfeeb68e9f3289e1e9980b96-2d8ae982e66a686b-01 outer:exit 2b-da0e94c36fecad44bfeeb68e9f3289e1e9980b96-6631c338973489c8-01
2022-04-25T18:40:57.555Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:57.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-e585c9f285b662609fed83d172d86d07e34154b6-f23c1d770e2268d4-01 outer:exit 2b-e585c9f285b662609fed83d172d86d07e34154b6-54a6e906b700fac4-01
2022-04-25T18:40:57.562Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:57.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c0633900775f522829f1e84f743a6f5a7910680-6140a0a9aec4dd0b-01 outer:exit 2b-3c0633900775f522829f1e84f743a6f5a7910680-5924390f104213cd-01
2022-04-25T18:40:57.581Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:57.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a7b2b205c34ee7267bdfbe2cb662c2838278539-504bab6886f22df1-01 outer:exit 2b-3a7b2b205c34ee7267bdfbe2cb662c2838278539-73a4dc8f35c952e2-01
2022-04-25T18:40:57.628Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:57.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c42b147be65cef3db2e4104713a00a27782426b-b4d6a24c6062c767-01 outer:exit 2b-2c42b147be65cef3db2e4104713a00a27782426b-80e7e06281a678ff-01
2022-04-25T18:40:57.631Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:57.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfd08e79cedf8990a59679b88ae5017f4e8dc0a9-e08c7139fcc60fe6-01 outer:exit 2b-dfd08e79cedf8990a59679b88ae5017f4e8dc0a9-b3c5c7715e1af622-01
2022-04-25T18:40:57.634Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:57.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bf2c088797dbe90f7cd57c7a597d2e4e06a7f7f-7b73ca0b933e1306-01 outer:exit 2b-7bf2c088797dbe90f7cd57c7a597d2e4e06a7f7f-e8a85bc411bbaf3b-01
2022-04-25T18:40:57.637Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:57.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-23494ad325df5cf6b83c0aa1386069718e08dac8-80271dddf7f88412-01 outer:exit 2b-23494ad325df5cf6b83c0aa1386069718e08dac8-9ad243410a96ceb3-01
2022-04-25T18:40:57.640Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:57.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-5685ef91aa0de32f021907c3c3c855e7de16bf5e-e397acf30aa478c9-01 outer:exit 2b-5685ef91aa0de32f021907c3c3c855e7de16bf5e-8a6e62e67755dc3d-01
2022-04-25T18:40:57.642Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:57.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-62ad636fc3fe2690e498a3601702163080e5b0eb-28ab50e7626d385b-01 outer:exit 2b-62ad636fc3fe2690e498a3601702163080e5b0eb-5256d496d6cb609e-01
2022-04-25T18:40:57.644Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:57.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-661a5dd5ac1fa3fba12e343308818fd08e99bb92-7f9883b986a9473e-01 outer:exit 2b-661a5dd5ac1fa3fba12e343308818fd08e99bb92-959f3303e46ca1e7-01
2022-04-25T18:40:57.647Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:57.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-752a3fd5c602f3ef51ed3de088e44cdea22173a9-523bc3fc1e2e2a58-01 outer:exit 2b-752a3fd5c602f3ef51ed3de088e44cdea22173a9-58354d8fc10ae7dd-01
2022-04-25T18:40:57.649Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:57.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d162fbf3a65cb3f68108f5eeec6a1c78103cf05-61a360a0eaa279b6-01 outer:exit 2b-2d162fbf3a65cb3f68108f5eeec6a1c78103cf05-50bf6d8ad9ceeed6-01
2022-04-25T18:40:57.654Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:57.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-50883fc96f26d4105d6cbae534f0d0804f76b136-f00fdd7c761ebf72-01 outer:exit 2b-50883fc96f26d4105d6cbae534f0d0804f76b136-2aa817f62bd96cd2-01
2022-04-25T18:40:57.657Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:57.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-739b6a97035a341b5037143f7b72c9ae986f9910-4bbd790b8a7debd1-01 outer:exit 2b-739b6a97035a341b5037143f7b72c9ae986f9910-d0fd91c70f1f9930-01
2022-04-25T18:40:57.660Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:57.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-e285c6edaba25d3cabb1723b7f791624e2f210a4-325c6b68f2c1beff-01 outer:exit 2b-e285c6edaba25d3cabb1723b7f791624e2f210a4-204b7e5e03d0de8f-01
2022-04-25T18:40:57.662Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:57.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ed8540b2033ae0ef49ef71ea78b5d9e0864ded-2e53d8a1a277918e-01 outer:exit 2b-83ed8540b2033ae0ef49ef71ea78b5d9e0864ded-f5dc3c91f2432238-01
2022-04-25T18:40:57.669Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:57.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5f5536a2f520d1ae031a9176c993085cd7ed7b9-50944da7ac60d603-01 outer:exit 2b-f5f5536a2f520d1ae031a9176c993085cd7ed7b9-d17c6fb2565d2369-01
2022-04-25T18:40:57.676Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:57.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-96470f6ef0fd1c6c39eafa545244510fac4fc08d-7d1735e4786c04f6-01 outer:exit 2b-96470f6ef0fd1c6c39eafa545244510fac4fc08d-c35aa66133dc3839-01
2022-04-25T18:40:57.687Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:57.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cd07c6750642ef3b9efd76faeb13438f84d519f-d83774fc1535a84f-01 outer:exit 2b-9cd07c6750642ef3b9efd76faeb13438f84d519f-b18ff8c2bb93987b-01
2022-04-25T18:40:57.695Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:57.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-bef3f96a26d6466954f98f259bbe13c4109649f9-50618aea709ee18c-01 outer:exit 2b-bef3f96a26d6466954f98f259bbe13c4109649f9-0c1802dacccba81c-01
2022-04-25T18:40:57.697Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:57.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1c627cf5b9a35410dda7b7f754455e237f0adc0-67b87bad4961766d-01 outer:exit 2b-b1c627cf5b9a35410dda7b7f754455e237f0adc0-3ea3e5960aa1e4cf-01
2022-04-25T18:40:57.701Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:57.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-16f7f253913efd63b894ca3856425c75de2fb5e5-356a882e6cbea37d-01 outer:exit 2b-16f7f253913efd63b894ca3856425c75de2fb5e5-880c4f83e964932e-01
2022-04-25T18:40:57.710Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:57.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-49c8a0e36191516d568e9a5939b1485f642ad4d1-c13d82f9d8fe90bd-01 outer:exit 2b-49c8a0e36191516d568e9a5939b1485f642ad4d1-ae519bb49816e91f-01
2022-04-25T18:40:57.712Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:57.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-0823738d83ebcb10990f988f8345caa84d8b33e4-29c45f0a4f489b68-01 outer:exit 2b-0823738d83ebcb10990f988f8345caa84d8b33e4-65eb8a725e6c3ae5-01
2022-04-25T18:40:57.714Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:57.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e1deab706236ec6e2736a09bbfecd18ef671764-ee6a708344dbefef-01 outer:exit 2b-8e1deab706236ec6e2736a09bbfecd18ef671764-2c6e8ddef4fbbec5-01
2022-04-25T18:40:57.716Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:57.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-14fe4cc044967967495ebacc900f0f928743490b-972943fc5286f02f-01 outer:exit 2b-14fe4cc044967967495ebacc900f0f928743490b-07cb72e82a7dbf7f-01
2022-04-25T18:40:57.718Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:57.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-9886d1776c7e0f7e7fb5e70a4f5aadac63887a23-6f363e509c160aec-01 outer:exit 2b-9886d1776c7e0f7e7fb5e70a4f5aadac63887a23-62ead5ebb8300ffb-01
2022-04-25T18:40:57.720Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:57.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-37c5437ca8e345c42346b458e47b2d3d062103e0-dab78fb373a5421a-01 outer:exit 2b-37c5437ca8e345c42346b458e47b2d3d062103e0-5d4f19d8fdc20351-01
2022-04-25T18:40:57.732Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:57.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4f5fcaecda6ecf18b45bba700f062731a0e4062-0c8daa90ddabb289-01 outer:exit 2b-f4f5fcaecda6ecf18b45bba700f062731a0e4062-53907a9a3dda425e-01
2022-04-25T18:40:57.743Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:57.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-a67b516dc63b3710d05f8a3ce403d1943872e96c-682da1dcc055c183-01 outer:exit 2b-a67b516dc63b3710d05f8a3ce403d1943872e96c-79a5619fcbc264d0-01
2022-04-25T18:40:57.746Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:57.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-e00806ec24dd4c9310e0304feee47130f1ee197f-254857395141a8f0-01 outer:exit 2b-e00806ec24dd4c9310e0304feee47130f1ee197f-2d69c5a0f4104c93-01
2022-04-25T18:40:57.749Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:57.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-055caa4c969bcd9a7f6ed41bf4879a5434781772-13c47f47a1af7d40-01 outer:exit 2b-055caa4c969bcd9a7f6ed41bf4879a5434781772-e56bcca0d7ee989a-01
2022-04-25T18:40:57.752Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:57.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-2175647724da553d118ae225c85da4e0204338f7-bf9965262317a458-01 outer:exit 2b-2175647724da553d118ae225c85da4e0204338f7-3e80916037552b2a-01
2022-04-25T18:40:57.785Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (360ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:04.825Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:04.826Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:04.826Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:04.827Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:04.928Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:05.073Z appoptics:patching patched crypto 
2022-04-25T18:41:05.121Z appoptics:patching patched https 
2022-04-25T18:41:05.122Z appoptics:patching patched http 
2022-04-25T18:41:05.172Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:05.172Z appoptics:patching patched fs 
2022-04-25T18:41:05.205Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v18.0.0)
2022-04-25T18:41:05.212Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-25T18:41:05.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-d76d34450409ce4136b791ea76de843b1072a1d3-33faedd4ce02a77a-01 outer:exit 2b-d76d34450409ce4136b791ea76de843b1072a1d3-3ff448d71215bb5d-01
2022-04-25T18:41:05.268Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:05.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-23a9619be4ae8c518db15aef94a7016d27a8f64c-956307bc52be832d-01 outer:exit 2b-23a9619be4ae8c518db15aef94a7016d27a8f64c-bbac9576be6ad185-01
2022-04-25T18:41:05.320Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:05.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b746f8c3c5f02f726a3c39bc6b465140b6abf9e-4c36d0f60336362e-01 outer:exit 2b-5b746f8c3c5f02f726a3c39bc6b465140b6abf9e-e19fc3074efaa6a7-01
2022-04-25T18:41:05.324Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:05.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aa593c11d1460434cba65dd3dc2fdc48331d5c9-eb70ed5760b51e9f-01 outer:exit 2b-4aa593c11d1460434cba65dd3dc2fdc48331d5c9-742863449290019a-01
2022-04-25T18:41:05.329Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:05.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-29185e13349d60378576c54224bc72b796e02145-a0b48287782d04c9-01 outer:exit 2b-29185e13349d60378576c54224bc72b796e02145-de57baaa0aba81b8-01
2022-04-25T18:41:05.343Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:05.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e6b7b04536dec68164135bd0e3c9ba324628628-5ac1679983f795d2-01 outer:exit 2b-1e6b7b04536dec68164135bd0e3c9ba324628628-556ac1626e9b3f19-01
2022-04-25T18:41:05.348Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:05.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-3336c5950c8abcabaa4072f69b09680c98c7c08f-4eadb82954e1c3aa-01 outer:exit 2b-3336c5950c8abcabaa4072f69b09680c98c7c08f-3a69925b6f4e3812-01
2022-04-25T18:41:05.351Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:05.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff690e36b35aa2ca88c69ec2b4bc231f1ed55793-ca1298ec7d59e9f3-01 outer:exit 2b-ff690e36b35aa2ca88c69ec2b4bc231f1ed55793-84981f1e175a807e-01
2022-04-25T18:41:05.360Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:05.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-2114e3c21e4cadb0ca09ca9f42979a82fce9392a-6dcd9a872bdd7723-01 outer:exit 2b-2114e3c21e4cadb0ca09ca9f42979a82fce9392a-0e5674031a480850-01
2022-04-25T18:41:05.366Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:05.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-e95c6082a62e47271c5c7954c7207936a8681628-33c4aa64147a4aa4-01 outer:exit 2b-e95c6082a62e47271c5c7954c7207936a8681628-516cb6be417fb821-01
2022-04-25T18:41:05.384Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:05.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-4db8de113ae2c7346c3c388dfb43857551c8fda4-39f88bc1782ed8c5-01 outer:exit 2b-4db8de113ae2c7346c3c388dfb43857551c8fda4-771edfc01e75e6e4-01
2022-04-25T18:41:05.394Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:05.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-471f80122157312ef40653813204af67a2a6f837-b93003e72cc3b6f6-01 outer:exit 2b-471f80122157312ef40653813204af67a2a6f837-c1da16e9e80ff1e9-01
2022-04-25T18:41:05.401Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:05.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-c79e08d6ec00d3ab233cf25a6d431d64e1dc7d41-6213a152d9bb5dba-01 outer:exit 2b-c79e08d6ec00d3ab233cf25a6d431d64e1dc7d41-cf4adbceb726f2f1-01
2022-04-25T18:41:05.420Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:05.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-9451c0a63bd1d8d1df01df3f13f6357fbf46cd8d-272e2f4d4c2b53d4-01 outer:exit 2b-9451c0a63bd1d8d1df01df3f13f6357fbf46cd8d-0b14337e120b5b5a-01
2022-04-25T18:41:05.476Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:05.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9aac55a3f2bd690cbac0f2f2fef9660624b2204-dcdbecafb6c150c0-01 outer:exit 2b-e9aac55a3f2bd690cbac0f2f2fef9660624b2204-d228202fa7b8816c-01
2022-04-25T18:41:05.479Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:05.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a5c1db23dd2b969713d34e66adb4ceaf32e2890-f4bd15949cbc5070-01 outer:exit 2b-2a5c1db23dd2b969713d34e66adb4ceaf32e2890-d68246ef2d82dafb-01
2022-04-25T18:41:05.482Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:05.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-e79a11788773ae59478ae25d4aba7b5009b16a5d-0b37c2ab2d1be88e-01 outer:exit 2b-e79a11788773ae59478ae25d4aba7b5009b16a5d-303545dd67741c37-01
2022-04-25T18:41:05.488Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:05.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d010791b6bd788c2dde80c31dfa1b8894781d64-1610e6e3105af682-01 outer:exit 2b-6d010791b6bd788c2dde80c31dfa1b8894781d64-16f215cef0827c7b-01
2022-04-25T18:41:05.497Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:05.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d93f61797ebf79a65b8dc07d176f09380641529-94b1d1211eee1c83-01 outer:exit 2b-1d93f61797ebf79a65b8dc07d176f09380641529-0dd6dfccb2bfec60-01
2022-04-25T18:41:05.499Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:05.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-99adf372ffc911d8c16425413fc7292f47358382-f801c2ab500aecd6-01 outer:exit 2b-99adf372ffc911d8c16425413fc7292f47358382-e996c2d3bbe8b9b1-01
2022-04-25T18:41:05.502Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:05.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca8226fe38d8a5103b80202e6e6d41a7d4dca8fd-0b4a9999020e06a0-01 outer:exit 2b-ca8226fe38d8a5103b80202e6e6d41a7d4dca8fd-7ea722a9cceb5515-01
2022-04-25T18:41:05.504Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:05.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c0080f166e1a3bac24e67992c50e5e62a7f5d7e-f966d29e92dca1dd-01 outer:exit 2b-2c0080f166e1a3bac24e67992c50e5e62a7f5d7e-dcc6fe9f07e4e4b8-01
2022-04-25T18:41:05.506Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:05.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-955642cfdd0faeb6a7ebf66eb0e8cbf242193c60-0c54f9f20aae2a17-01 outer:exit 2b-955642cfdd0faeb6a7ebf66eb0e8cbf242193c60-eccdb3ebfd73b9cd-01
2022-04-25T18:41:05.516Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:05.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff5f75032160aa2243110a914250bf1ad2abd0ec-faaad335b6f50c0e-01 outer:exit 2b-ff5f75032160aa2243110a914250bf1ad2abd0ec-d94c141bdea64956-01
2022-04-25T18:41:05.519Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:05.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3c793437c6780567e45c916e8fc88e25039a5de-bbb2bbb0e170dcd2-01 outer:exit 2b-c3c793437c6780567e45c916e8fc88e25039a5de-a167ba26e923ad56-01
2022-04-25T18:41:05.522Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:05.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb50b57db2c6ad4e92ddbc47119908b8f6083516-99e4eb14a0fb3575-01 outer:exit 2b-bb50b57db2c6ad4e92ddbc47119908b8f6083516-4746ef44320b565e-01
2022-04-25T18:41:05.524Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:05.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-9738ad2339e36efcc0ecf6fc20705126b696d4d0-1352961d724f659c-01 outer:exit 2b-9738ad2339e36efcc0ecf6fc20705126b696d4d0-c091580aa46c42f1-01
2022-04-25T18:41:05.531Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:05.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-6638172d09b76fbfdc4dc79ec36c8eb0e9993f9d-15ea9101a387ac10-01 outer:exit 2b-6638172d09b76fbfdc4dc79ec36c8eb0e9993f9d-fbdab8c7033133d0-01
2022-04-25T18:41:05.543Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:05.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a789006836be8311f573cb8abadcc897e94de2f-fa2c5e16eb7f5abb-01 outer:exit 2b-0a789006836be8311f573cb8abadcc897e94de2f-fa169605dec811e7-01
2022-04-25T18:41:05.554Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:05.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-f109d79006c3542676f02015a761c06b3695139e-5fc02058d903932a-01 outer:exit 2b-f109d79006c3542676f02015a761c06b3695139e-a884fcc26a6c5f7c-01
2022-04-25T18:41:05.561Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:05.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-417cc6f137a60ec274388c3dacbf37af6eeff62a-424ed5aec0d003de-01 outer:exit 2b-417cc6f137a60ec274388c3dacbf37af6eeff62a-2af27ec1d4cc0fe6-01
2022-04-25T18:41:05.564Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:05.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-01c3395ec8f998fdd59776bd8b26d8375444ab96-39267f374947680d-01 outer:exit 2b-01c3395ec8f998fdd59776bd8b26d8375444ab96-7e8bdc6b14512f94-01
2022-04-25T18:41:05.568Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:05.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-58309b7067ff0ad04fc37954da25938e4c434cb4-7e459c563650e812-01 outer:exit 2b-58309b7067ff0ad04fc37954da25938e4c434cb4-dc1d6d77e0eb1b13-01
2022-04-25T18:41:05.576Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:05.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfb57db1ffea931020404d1cdffc52958a36b386-04794cee71966679-01 outer:exit 2b-bfb57db1ffea931020404d1cdffc52958a36b386-dc76387e70397bcb-01
2022-04-25T18:41:05.586Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:05.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-43f22d95ec52171e59ecc5ab00979983c8ab80d4-0c5708c5ff0e3fb5-01 outer:exit 2b-43f22d95ec52171e59ecc5ab00979983c8ab80d4-29e0846f22ea68c5-01
2022-04-25T18:41:05.588Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:05.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6289c21e5f7b6974ab3934489a394c21ed2c324-43396aacb454a7da-01 outer:exit 2b-c6289c21e5f7b6974ab3934489a394c21ed2c324-ade316fd6fcabec8-01
2022-04-25T18:41:05.590Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:05.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b6cb94143f8a173960368d8c35928f7c7e3181f-5a776a39285c8aa0-01 outer:exit 2b-7b6cb94143f8a173960368d8c35928f7c7e3181f-15ea15c09c6641f8-01
2022-04-25T18:41:05.592Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:05.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-f014a5fc8400e552e869e33797913aa5e2d0ee77-15b3fe590dfdcf31-01 outer:exit 2b-f014a5fc8400e552e869e33797913aa5e2d0ee77-7273c7d8d7f51915-01
2022-04-25T18:41:05.595Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:05.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-63dd7a68a58f1338289b53af803bdffb00be26bc-57a279f065d399db-01 outer:exit 2b-63dd7a68a58f1338289b53af803bdffb00be26bc-b67f919de4e4ee49-01
2022-04-25T18:41:05.606Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:05.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-1026b23bbff26cdfd5c4df3eac63662dc8d17d8f-87d075e453691987-01 outer:exit 2b-1026b23bbff26cdfd5c4df3eac63662dc8d17d8f-0ccc0ccc20656edb-01
2022-04-25T18:41:05.617Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:05.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1d3090f758d145a54033e8c9799d4f1d80fb162-bd950ddcd16b7ae8-01 outer:exit 2b-a1d3090f758d145a54033e8c9799d4f1d80fb162-7690afbc0e5ea237-01
2022-04-25T18:41:05.620Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:05.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e6eb63961ba9e348d05d0aab16aadddbe77edaf-d45fd824efd9ef3c-01 outer:exit 2b-7e6eb63961ba9e348d05d0aab16aadddbe77edaf-fe11b6aadf477f16-01
2022-04-25T18:41:05.623Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:05.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-46bf444a49a073756b0e1f00c6176c1174d68a1a-5284d0fff0930205-01 outer:exit 2b-46bf444a49a073756b0e1f00c6176c1174d68a1a-d578c2e9eee54c5e-01
2022-04-25T18:41:05.626Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:05.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6351e57762d05701ead30453fd7df3a01602f6c-5d7db9bd00edf25b-01 outer:exit 2b-c6351e57762d05701ead30453fd7df3a01602f6c-d6e2a8551708b7dc-01
2022-04-25T18:41:05.674Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (451ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:13.955Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:13.955Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:13.955Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:13.956Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:14.030Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:14.169Z appoptics:patching patched crypto 
2022-04-25T18:41:14.190Z appoptics:patching patched https 
2022-04-25T18:41:14.191Z appoptics:patching patched http 
2022-04-25T18:41:14.244Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:14.244Z appoptics:patching patched fs 
2022-04-25T18:41:14.272Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v18.0.0)
2022-04-25T18:41:14.279Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-25T18:41:14.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-06a9ab8a351cadbfe0e05fc819d26fa3275d0eaf-75e63ba62e04cb8f-01 outer:exit 2b-06a9ab8a351cadbfe0e05fc819d26fa3275d0eaf-08245a17231e70bc-01
2022-04-25T18:41:14.329Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:14.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-d21d93572d4a2efc7852b7b6232349df60bd8b4a-e5b09faa01c4dc90-01 outer:exit 2b-d21d93572d4a2efc7852b7b6232349df60bd8b4a-2fcbc28d83f14c7d-01
2022-04-25T18:41:14.381Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:14.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-0abb8f18f18a7532154f2d3391d06a3197123a36-fd27395e0ddca3e0-01 outer:exit 2b-0abb8f18f18a7532154f2d3391d06a3197123a36-87314f6815dff3bf-01
2022-04-25T18:41:14.385Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:14.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-0994295016925f85f167c587b75490ed97c2e7b8-afbfbfce17fd3bbf-01 outer:exit 2b-0994295016925f85f167c587b75490ed97c2e7b8-7100f72608a34f08-01
2022-04-25T18:41:14.389Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:14.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-c832d020e76207937bbfc7b8efcc50c80c47b0a3-e949292ad278af93-01 outer:exit 2b-c832d020e76207937bbfc7b8efcc50c80c47b0a3-910c83fdf3ea2525-01
2022-04-25T18:41:14.395Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:14.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-66201c861432d4b128848ec6a2f2ac0101bafb10-7951782499e0880d-01 outer:exit 2b-66201c861432d4b128848ec6a2f2ac0101bafb10-e4ef62d90402160f-01
2022-04-25T18:41:14.402Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:14.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-af916aaae0287182ec731844a4b8b8c1af08fdcb-d9ee4533f38026af-01 outer:exit 2b-af916aaae0287182ec731844a4b8b8c1af08fdcb-522d2f16b2f34237-01
2022-04-25T18:41:14.405Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:14.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c7207885606034d308bd8ae9bf0ebacc7dd8ec6-c42ce021dd52b4df-01 outer:exit 2b-3c7207885606034d308bd8ae9bf0ebacc7dd8ec6-9b4c0b80ddc11134-01
2022-04-25T18:41:14.408Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:14.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-a071dbfdb5be2409748a0a6ad10f1b4aef457935-1678eba834be57af-01 outer:exit 2b-a071dbfdb5be2409748a0a6ad10f1b4aef457935-50ab303202f00768-01
2022-04-25T18:41:14.412Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:14.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-050b55bc9a1309a15e0c614ede5a88828f573502-6a0437cdcbde565b-01 outer:exit 2b-050b55bc9a1309a15e0c614ede5a88828f573502-3c979f3d41ebecba-01
2022-04-25T18:41:14.416Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:14.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f285b0283df7b7c21ad743a1fa9ea1c48e2bafc-e3ffda3bc78dc8e7-01 outer:exit 2b-6f285b0283df7b7c21ad743a1fa9ea1c48e2bafc-39fec95964616efe-01
2022-04-25T18:41:14.421Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:14.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-50cb901c233eb88adb2683c3c0a1b228fe6865c3-f3ec36f277bd6e8e-01 outer:exit 2b-50cb901c233eb88adb2683c3c0a1b228fe6865c3-5ba4c6ec9cddcad7-01
2022-04-25T18:41:14.429Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:14.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-855ac36915d4adf3a2e7f9ee2485c72ee8b806f3-cd60b3b0f2104bb5-01 outer:exit 2b-855ac36915d4adf3a2e7f9ee2485c72ee8b806f3-4b032bfb6d0fae61-01
2022-04-25T18:41:14.449Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:14.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b5f685f68a11ab9a01483233f14f1e13bb90324-761c48ba0c5a3dc5-01 outer:exit 2b-1b5f685f68a11ab9a01483233f14f1e13bb90324-e6ea864e952706b0-01
2022-04-25T18:41:14.495Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:14.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-9994487f7258e3b6ace45dd242cda613d13c7294-bababa100545f06d-01 outer:exit 2b-9994487f7258e3b6ace45dd242cda613d13c7294-24b8e6407200b373-01
2022-04-25T18:41:14.499Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:14.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dae787223a835348af35df3e8c773f5e346b09e-3df265dd33aa4082-01 outer:exit 2b-9dae787223a835348af35df3e8c773f5e346b09e-653ad8c8a595de22-01
2022-04-25T18:41:14.503Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:14.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-12f06b6e65718f1f77c6fccd60e00624edc769d8-7ddd1fdc25ea020e-01 outer:exit 2b-12f06b6e65718f1f77c6fccd60e00624edc769d8-4dfc19d389afba11-01
2022-04-25T18:41:14.506Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:14.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-c55f1651e3d1afa6cc807862d6f514c3272d43f5-456e3b237a43d0b4-01 outer:exit 2b-c55f1651e3d1afa6cc807862d6f514c3272d43f5-06f63f55cd0be986-01
2022-04-25T18:41:14.510Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:14.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1d2db63729317832d9004198a7feea3ec7af4b7-2aa3efd532c1f30f-01 outer:exit 2b-c1d2db63729317832d9004198a7feea3ec7af4b7-d45b2d6d92cf1f0e-01
2022-04-25T18:41:14.513Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:14.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4cee310e4c474c3f968fea90f6b5dae5643651c-8aa84a9790a89e23-01 outer:exit 2b-f4cee310e4c474c3f968fea90f6b5dae5643651c-40fb40802b80fb41-01
2022-04-25T18:41:14.518Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:14.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b90d4768954f2edd1cadedca315012fe908ddfb-abd198c4958f5372-01 outer:exit 2b-7b90d4768954f2edd1cadedca315012fe908ddfb-bb6bb2a861423e94-01
2022-04-25T18:41:14.520Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:14.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-3127057e058306b886db09f19d3d011025ba22f8-1f00d9e2d51ebd1e-01 outer:exit 2b-3127057e058306b886db09f19d3d011025ba22f8-33579e5a32604405-01
2022-04-25T18:41:14.522Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:14.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a3acd011321a27b279589fce7e6b49cf7aa3598-8b89c5bcbc63eff6-01 outer:exit 2b-0a3acd011321a27b279589fce7e6b49cf7aa3598-b6ec8137090ce842-01
2022-04-25T18:41:14.526Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:14.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5918d08d26c8fdde3325c1ed15d6ad635a7a721-b89be8e6f1c4aa55-01 outer:exit 2b-c5918d08d26c8fdde3325c1ed15d6ad635a7a721-2e9e6a5a75f1634c-01
2022-04-25T18:41:14.529Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:14.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4485da09d7ecb4ac8c478091467f8903e3ae445-8c0ff0004eb960b6-01 outer:exit 2b-e4485da09d7ecb4ac8c478091467f8903e3ae445-15c30d8cf6ebd98c-01
2022-04-25T18:41:14.531Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:14.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-28cdc691247f0ca4fe45a929a59d8e6fbf3781e0-305e52fe6eb9c775-01 outer:exit 2b-28cdc691247f0ca4fe45a929a59d8e6fbf3781e0-5f243f919d61c756-01
2022-04-25T18:41:14.534Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:14.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a553fee8b020db79ad5a267bbb341fc0cf7e34f-2078b439b7c724cd-01 outer:exit 2b-4a553fee8b020db79ad5a267bbb341fc0cf7e34f-bfbe3d6448b124a7-01
2022-04-25T18:41:14.540Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:14.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-14e9f5f0bcd1de3bff4029242d6f96a8fa18b8e3-aa7d7ed4615d941c-01 outer:exit 2b-14e9f5f0bcd1de3bff4029242d6f96a8fa18b8e3-93c9c027c3920699-01
2022-04-25T18:41:14.547Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:14.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-567271e2a1f4d8b8ab19c370a6fe754a8e052334-1be6d4b9e3dd3efd-01 outer:exit 2b-567271e2a1f4d8b8ab19c370a6fe754a8e052334-c7f96a454e2b664e-01
2022-04-25T18:41:14.555Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:14.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-be4a196fc4e4903f36945599561283c0ceb34e80-d461b248effebfb6-01 outer:exit 2b-be4a196fc4e4903f36945599561283c0ceb34e80-59c5c9a82508adb5-01
2022-04-25T18:41:14.564Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:14.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d682a80a973df462ee740f401427c651d6bf2a4-ea8d8419d25fcb96-01 outer:exit 2b-4d682a80a973df462ee740f401427c651d6bf2a4-722c030b9761b5c6-01
2022-04-25T18:41:14.566Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:14.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3d4d140e505a6a981d1eade258f5997102d6c90-0d1efa27270a9f86-01 outer:exit 2b-c3d4d140e505a6a981d1eade258f5997102d6c90-ea9f2a80353738b8-01
2022-04-25T18:41:14.571Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:14.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c85bd794c210ea8d1c0cfc3911c25e058bc3ba1-c70e4cb99e0d44df-01 outer:exit 2b-0c85bd794c210ea8d1c0cfc3911c25e058bc3ba1-5d90bd40268ca351-01
2022-04-25T18:41:14.579Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:14.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-6321745b9e9d50e36e49ca65096c64c011bb9b2f-8a95785e49f2d52f-01 outer:exit 2b-6321745b9e9d50e36e49ca65096c64c011bb9b2f-5bb0592bb321e521-01
2022-04-25T18:41:14.581Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:14.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-578a117a1b0bc34e518698c79e4836dbe326c550-5c22cd915c944d49-01 outer:exit 2b-578a117a1b0bc34e518698c79e4836dbe326c550-93797225dcc49b84-01
2022-04-25T18:41:14.583Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:14.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-42b4f5153134a5d3008d73f7543c632bbf47e0ec-ec946c5a772b3155-01 outer:exit 2b-42b4f5153134a5d3008d73f7543c632bbf47e0ec-077dfc404e2d011a-01
2022-04-25T18:41:14.585Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:14.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b9c14cd3c8695094700eca1957cf7ed273df674-ee47ba60a28ded3d-01 outer:exit 2b-0b9c14cd3c8695094700eca1957cf7ed273df674-eea2140c043d2942-01
2022-04-25T18:41:14.587Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:14.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-f87802fc266f9b8e782ad0fd4e55ab8cdc54ac06-2da458e5048b0db0-01 outer:exit 2b-f87802fc266f9b8e782ad0fd4e55ab8cdc54ac06-9f653756eaf83e3a-01
2022-04-25T18:41:14.589Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:14.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e73170ffb1d732ffbebc2c674b0751f979701a8-3bd27357c20ecd43-01 outer:exit 2b-9e73170ffb1d732ffbebc2c674b0751f979701a8-6c4efa1aca34a586-01
2022-04-25T18:41:14.601Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:14.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a60ecc0ea61b1e012681cd76b291179c412a846-7e59607fbe131961-01 outer:exit 2b-0a60ecc0ea61b1e012681cd76b291179c412a846-89d9ab7957c42573-01
2022-04-25T18:41:14.616Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:14.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-992b0bb6c5f3a9d0bfc005a772cf513b24216c6b-503d5df16636e543-01 outer:exit 2b-992b0bb6c5f3a9d0bfc005a772cf513b24216c6b-fc6b2d90410cbfda-01
2022-04-25T18:41:14.620Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:14.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-fce58523d846ac27bbb4b6a9e155ed0cdeb03b55-c23bb1b704ad888e-01 outer:exit 2b-fce58523d846ac27bbb4b6a9e155ed0cdeb03b55-862e5f77582c8472-01
2022-04-25T18:41:14.622Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:14.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-26bf5022cdae899ba20c5f6d319e5f30ba7fd8e5-22cabf14a1fe5fa7-01 outer:exit 2b-26bf5022cdae899ba20c5f6d319e5f30ba7fd8e5-71f3871a56f8efa3-01
2022-04-25T18:41:14.625Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:14.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ee5023e78d0baee0444bc277684bbb907949721-777e0d6748f63133-01 outer:exit 2b-0ee5023e78d0baee0444bc277684bbb907949721-beb655ac6c682153-01
2022-04-25T18:41:14.659Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (373ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:22.992Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:22.992Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:22.992Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:22.993Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:23.081Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:23.235Z appoptics:patching patched crypto 
2022-04-25T18:41:23.267Z appoptics:patching patched https 
2022-04-25T18:41:23.268Z appoptics:patching patched http 
2022-04-25T18:41:23.320Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:23.320Z appoptics:patching patched fs 
2022-04-25T18:41:23.349Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v18.0.0)
2022-04-25T18:41:23.355Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-25T18:41:23.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c7ec4dbd8435dc7453c9a682c952bea3c213a6-1daedd2a5c1aa56c-01 outer:exit 2b-69c7ec4dbd8435dc7453c9a682c952bea3c213a6-d6cd561e3d24e16f-01
2022-04-25T18:41:23.409Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:23.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-b70b86d13d5740642ba89726663fd35993641492-1f748e9783f7a33c-01 outer:exit 2b-b70b86d13d5740642ba89726663fd35993641492-cb64633a250d1d60-01
2022-04-25T18:41:23.458Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:23.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfdbc32df02ce7db60285a9f3218d884d9d89e36-b7445714d521a81c-01 outer:exit 2b-cfdbc32df02ce7db60285a9f3218d884d9d89e36-7847ab0c7a87ab7e-01
2022-04-25T18:41:23.462Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:23.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c0b917404bab572d06b3416793adf74b13bc89a-014462c53787d11d-01 outer:exit 2b-8c0b917404bab572d06b3416793adf74b13bc89a-17598176b663783e-01
2022-04-25T18:41:23.467Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:23.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-e23ec09de5d8dc34312b3b59feda0cc0628dc10f-c619caec07c5842f-01 outer:exit 2b-e23ec09de5d8dc34312b3b59feda0cc0628dc10f-316351c9b0a6a0f9-01
2022-04-25T18:41:23.473Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:23.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-279784b0f29b378da8a9b50c786e87edcec74fa0-c273919b4d5ea167-01 outer:exit 2b-279784b0f29b378da8a9b50c786e87edcec74fa0-791f567bc901871c-01
2022-04-25T18:41:23.477Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:23.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f77933f39d09f926d3385949ec658e111162c50-c4778d5f6d12a738-01 outer:exit 2b-2f77933f39d09f926d3385949ec658e111162c50-8a63cda66dc11cd3-01
2022-04-25T18:41:23.480Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:23.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-79266c004201b65f19f79797697f1c66eb0d9746-dcdfc86f02f852d9-01 outer:exit 2b-79266c004201b65f19f79797697f1c66eb0d9746-32d10a7c30710755-01
2022-04-25T18:41:23.483Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:23.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-d04be2c4fbe1aa82f85d5cabee8e3f10d3adebae-652af083d8c1584f-01 outer:exit 2b-d04be2c4fbe1aa82f85d5cabee8e3f10d3adebae-f0ec3f3def8bc6d6-01
2022-04-25T18:41:23.485Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:23.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee54d9da79868a7ebc2b4b62533144178cdf8fcb-97135ccf8d2c781e-01 outer:exit 2b-ee54d9da79868a7ebc2b4b62533144178cdf8fcb-fe437a7c332b2b5f-01
2022-04-25T18:41:23.489Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:23.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-19c2f14a5b80960ee007b3219d2987e7f3163f17-1dda640f47a50fa5-01 outer:exit 2b-19c2f14a5b80960ee007b3219d2987e7f3163f17-ae991f42a0922c12-01
2022-04-25T18:41:23.493Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:23.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ba1984e2d795a7df16b2f49dc35222c456a645c-53b700aacc668521-01 outer:exit 2b-1ba1984e2d795a7df16b2f49dc35222c456a645c-68ddda8a864b657a-01
2022-04-25T18:41:23.500Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:23.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-a446c3bf2dc6f4c029f0f47b388b93ea3104db2f-0cfa99b16065f769-01 outer:exit 2b-a446c3bf2dc6f4c029f0f47b388b93ea3104db2f-ab83fc6a9f7d3d97-01
2022-04-25T18:41:23.524Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:23.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-77246e3e2ab4cc62361c8c29ce360ed43348c759-d16b0c73a2db5e0c-01 outer:exit 2b-77246e3e2ab4cc62361c8c29ce360ed43348c759-2219156920338f9d-01
2022-04-25T18:41:23.573Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:23.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-d608915049cc72533b02a5ddc63620426e4a8730-3be9f7998b753427-01 outer:exit 2b-d608915049cc72533b02a5ddc63620426e4a8730-ec87ae79da7ec2b0-01
2022-04-25T18:41:23.576Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:23.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e512a170f1466c460af5393e6d832960cdcb42f-69306c70c0446cec-01 outer:exit 2b-8e512a170f1466c460af5393e6d832960cdcb42f-9b44b681b45238cd-01
2022-04-25T18:41:23.579Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:23.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-6abc7310746ed57cfb341b76d2f1a7e5ef9b11de-3d3ca50e9b79015c-01 outer:exit 2b-6abc7310746ed57cfb341b76d2f1a7e5ef9b11de-5d92a65ad2eb021d-01
2022-04-25T18:41:23.582Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:23.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-c86872dbf90d5c6c9be7be77ff3dd05dcf51bffa-c0c437e40c03214a-01 outer:exit 2b-c86872dbf90d5c6c9be7be77ff3dd05dcf51bffa-c8bf468b81da794c-01
2022-04-25T18:41:23.585Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:23.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-ade50cb84d5bbb0b2168bea8187b934ed2e7ec9a-3b3a7a5988827843-01 outer:exit 2b-ade50cb84d5bbb0b2168bea8187b934ed2e7ec9a-88c73a982edde682-01
2022-04-25T18:41:23.587Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:23.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-408bbcab44028781af5833bfbeff04536a6b8b29-17980e72689ec64c-01 outer:exit 2b-408bbcab44028781af5833bfbeff04536a6b8b29-645c9d6fff2bddce-01
2022-04-25T18:41:23.589Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:23.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-791b19ec5af979350f20eed22a29749beb36626c-211a9338ff7a7c18-01 outer:exit 2b-791b19ec5af979350f20eed22a29749beb36626c-c773ad73e31bc3c5-01
2022-04-25T18:41:23.592Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:23.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f176592400be9da3fd9f5dbba0dc9e6eb663555-e0c4e7351548c0a8-01 outer:exit 2b-5f176592400be9da3fd9f5dbba0dc9e6eb663555-44317218c0397bac-01
2022-04-25T18:41:23.594Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:23.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec4518e457fb21fb6e752b6a463f8e95977c3963-a0c8d88a90c41b6a-01 outer:exit 2b-ec4518e457fb21fb6e752b6a463f8e95977c3963-e592f7e3d3665886-01
2022-04-25T18:41:23.597Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:23.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-5909d0eb7d8408321702b700b4c40e8ce41b7a45-2f8e799a2620740a-01 outer:exit 2b-5909d0eb7d8408321702b700b4c40e8ce41b7a45-70fe33995229b7e3-01
2022-04-25T18:41:23.600Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:23.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-27337303dc84550fbbb52e808ec5cd5aaf47bc4c-b45c40dc258be2a5-01 outer:exit 2b-27337303dc84550fbbb52e808ec5cd5aaf47bc4c-e56d05308e2a453d-01
2022-04-25T18:41:23.602Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:23.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4b57f1cca88750848be5c5a885cf2540471cb4a-064dc88ceb07f1c2-01 outer:exit 2b-c4b57f1cca88750848be5c5a885cf2540471cb4a-8929aec4dac31906-01
2022-04-25T18:41:23.605Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:23.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05211e19c2ae29490150706d9911fea09291dbe-86655cde59664f00-01 outer:exit 2b-b05211e19c2ae29490150706d9911fea09291dbe-a2a29f41486fbdff-01
2022-04-25T18:41:23.612Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:23.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-90105aac0c6fcd267fd4e67c371477d663f04241-a690a23935fac53f-01 outer:exit 2b-90105aac0c6fcd267fd4e67c371477d663f04241-3282dcd3f09bd433-01
2022-04-25T18:41:23.618Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:23.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e54c57e8bd0d05e340517ebe2c36772f4aa563a-c2168e0ef6f96c98-01 outer:exit 2b-2e54c57e8bd0d05e340517ebe2c36772f4aa563a-47a94beadd1a573a-01
2022-04-25T18:41:23.631Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:23.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-febaa915d0c164cf334fa899f5b5447c57369fa6-a68db6cb8edc9d8c-01 outer:exit 2b-febaa915d0c164cf334fa899f5b5447c57369fa6-9df996e72f98eb2b-01
2022-04-25T18:41:23.640Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:23.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-267c19d77d039f9a17852f37c718f1771529b109-bce3ed579b0756d3-01 outer:exit 2b-267c19d77d039f9a17852f37c718f1771529b109-0257e9f126b0b7d3-01
2022-04-25T18:41:23.642Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:23.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-e09ed6a446d76a64528ee3964b524a0a26f4ebb0-d0d30dd3cca127de-01 outer:exit 2b-e09ed6a446d76a64528ee3964b524a0a26f4ebb0-cf3b77ff9fed0ba5-01
2022-04-25T18:41:23.645Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:23.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-297fd5da441995f73754cbc23a08396a6c3a2a5d-e1c2b519c4bac04b-01 outer:exit 2b-297fd5da441995f73754cbc23a08396a6c3a2a5d-617c71ccbcd31f8a-01
2022-04-25T18:41:23.654Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:23.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-e384bbe6f4628defd856b4442721d2174f461e88-8172c4e905ecb886-01 outer:exit 2b-e384bbe6f4628defd856b4442721d2174f461e88-3d96dbaa5c0d1f82-01
2022-04-25T18:41:23.656Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:23.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9cefcbac0b7924fc90b770b2e79f2f167332721-bb31ef774ede380e-01 outer:exit 2b-f9cefcbac0b7924fc90b770b2e79f2f167332721-cfdb9d4a52f50881-01
2022-04-25T18:41:23.658Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:23.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-688c454c6de000ab1538d97d8a194662c175c878-774582a134b74d8d-01 outer:exit 2b-688c454c6de000ab1538d97d8a194662c175c878-65b2c931c31fa318-01
2022-04-25T18:41:23.661Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:23.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-7af0e2f923c05c64d2c88ddd242a35b69d6716c0-7f2c7ff28338f136-01 outer:exit 2b-7af0e2f923c05c64d2c88ddd242a35b69d6716c0-f2132b9b128eaf84-01
2022-04-25T18:41:23.663Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:23.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2e6bc5296618bcac02eff2202a24d2303cf762d-7db34cdfdcd98a26-01 outer:exit 2b-a2e6bc5296618bcac02eff2202a24d2303cf762d-99ad799e3534f1d0-01
2022-04-25T18:41:23.665Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:23.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-32eab2a8301e574c32d60611f88c487466bcb0af-727cffb5911e5fef-01 outer:exit 2b-32eab2a8301e574c32d60611f88c487466bcb0af-b9527fef32ef219d-01
2022-04-25T18:41:23.676Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:23.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-efda4c7a89dcd960ee5b52a4e980981ac9ae86ea-74e0315e0c1996da-01 outer:exit 2b-efda4c7a89dcd960ee5b52a4e980981ac9ae86ea-5eed563982feb4d5-01
2022-04-25T18:41:23.686Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:23.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6f0eb81d85a6f534bb2a9394ecef1e9a499ca11-117415847d65dee0-01 outer:exit 2b-a6f0eb81d85a6f534bb2a9394ecef1e9a499ca11-f5d9c51345726dc6-01
2022-04-25T18:41:23.690Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:23.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-59bd529d2d27979b202cf0a84763ae9bca9d4d14-4003954a3283690a-01 outer:exit 2b-59bd529d2d27979b202cf0a84763ae9bca9d4d14-42c0e079901e0c65-01
2022-04-25T18:41:23.693Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:23.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-89a97ca8d450e94aded8d75b72e7762a6e820a29-90d17059491e9e6f-01 outer:exit 2b-89a97ca8d450e94aded8d75b72e7762a6e820a29-fd822f137273cf46-01
2022-04-25T18:41:23.700Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:23.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc9968205bd22089f7eb8d6b7ae704faf6e3af10-1934eab413fcea78-01 outer:exit 2b-bc9968205bd22089f7eb8d6b7ae704faf6e3af10-35f6528d2a2ee8a9-01
2022-04-25T18:41:23.747Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (383ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:31.292Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:31.293Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:31.293Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:31.294Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:31.372Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:31.512Z appoptics:patching patched crypto 
2022-04-25T18:41:31.557Z appoptics:patching patched https 
2022-04-25T18:41:31.578Z appoptics:patching patched http 
2022-04-25T18:41:31.614Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:31.614Z appoptics:patching patched fs 
2022-04-25T18:41:31.647Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v18.0.0)
2022-04-25T18:41:31.654Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-25T18:41:31.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-20b092c9a3308f4afcf4c5fb328f4c4cf192b5a4-43bc81d43ec0d156-01 outer:exit 2b-20b092c9a3308f4afcf4c5fb328f4c4cf192b5a4-85ff8095a957bda7-01
2022-04-25T18:41:31.709Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:31.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-d201271b86f55b0c5eaf8b842b890fd001507b54-d54f36712e44fb25-01 outer:exit 2b-d201271b86f55b0c5eaf8b842b890fd001507b54-9cd16e992e33ca30-01
2022-04-25T18:41:31.759Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:31.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a862db083ee68b0c1b71d7bd2a18d995a0c2b36-f4167617a6611b4f-01 outer:exit 2b-1a862db083ee68b0c1b71d7bd2a18d995a0c2b36-49310d3907e03c04-01
2022-04-25T18:41:31.763Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:31.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b2fa07fd5c33df9c7bd3be37db16c0317149d84-6afea4dbd3d3d9f2-01 outer:exit 2b-1b2fa07fd5c33df9c7bd3be37db16c0317149d84-c088f4a6e08d307d-01
2022-04-25T18:41:31.766Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:31.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-c43421c14ba8ce477b32033ac3e933d82f58c1e1-1a000cda5fe45cab-01 outer:exit 2b-c43421c14ba8ce477b32033ac3e933d82f58c1e1-1bad33be948dd739-01
2022-04-25T18:41:31.776Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:31.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-85e5f2b0cb4f1bd9616e82fe67eba1f2575690fb-145475aebcf28a72-01 outer:exit 2b-85e5f2b0cb4f1bd9616e82fe67eba1f2575690fb-ad9c3959e1d2de2f-01
2022-04-25T18:41:31.779Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:31.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-d71196367e634ce447476df01b30b32417b92787-8bf817d2bace16a3-01 outer:exit 2b-d71196367e634ce447476df01b30b32417b92787-24c4ef0871447c6a-01
2022-04-25T18:41:31.783Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:31.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-540335f44b8356367673af90d2712004ae1c66b6-74410c6ac70e8186-01 outer:exit 2b-540335f44b8356367673af90d2712004ae1c66b6-0eb9cd4826fd738c-01
2022-04-25T18:41:31.786Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:31.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-e096feaed640bd1c2912baf314f389ba99526731-d3e7fd84ce8c87d8-01 outer:exit 2b-e096feaed640bd1c2912baf314f389ba99526731-dd062e5f4a53048e-01
2022-04-25T18:41:31.789Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:31.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-1442141489ffb1ba92d26ff86c84ebb737842a35-575c29e50a031fe9-01 outer:exit 2b-1442141489ffb1ba92d26ff86c84ebb737842a35-43351f785ed609dc-01
2022-04-25T18:41:31.792Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:31.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-18b1baa358d5541817f5793740d18ae6b3f64bb0-7763b020f93fad47-01 outer:exit 2b-18b1baa358d5541817f5793740d18ae6b3f64bb0-efc7c2be520f9491-01
2022-04-25T18:41:31.797Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:31.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf3a76aa7a165f41e88fe82445c8e65895d8d1de-7559af8f13e92ce3-01 outer:exit 2b-bf3a76aa7a165f41e88fe82445c8e65895d8d1de-306b38a3777e65cb-01
2022-04-25T18:41:31.804Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:31.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e8eb4b5bb62f221c381df5638d1591ab56a46a6-306903cef78902b8-01 outer:exit 2b-8e8eb4b5bb62f221c381df5638d1591ab56a46a6-ed81d0de4d542534-01
2022-04-25T18:41:31.825Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:31.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-a958d3ba73867df39cd84cc67dd111431d0e0c67-a94f7d02a449979c-01 outer:exit 2b-a958d3ba73867df39cd84cc67dd111431d0e0c67-24bf00c19edf91a0-01
2022-04-25T18:41:31.875Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:31.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-d79419d53944305aed580e7d4b5aad673e2a5bbd-e386bbcae68912d0-01 outer:exit 2b-d79419d53944305aed580e7d4b5aad673e2a5bbd-c9e68129c4127ac9-01
2022-04-25T18:41:31.878Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:31.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-2276de6cca1a63abaf6314e9a4c353aad28ecc40-1efdc4c26473cfaf-01 outer:exit 2b-2276de6cca1a63abaf6314e9a4c353aad28ecc40-753edb1c849e4619-01
2022-04-25T18:41:31.881Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:31.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-cea9d7952d615e148c229ad2bfaea0a2a0d8d0a1-23dc5afb00eb3e8e-01 outer:exit 2b-cea9d7952d615e148c229ad2bfaea0a2a0d8d0a1-b6a256144a482960-01
2022-04-25T18:41:31.887Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:31.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-d06d9d8686e2898567e2463adb334cbca32f0624-ee0c854dac14c8e6-01 outer:exit 2b-d06d9d8686e2898567e2463adb334cbca32f0624-a4b3c8a94edaf15a-01
2022-04-25T18:41:31.891Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:31.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b8c401ca5da692fe8c8489f30b16c57b86c01bd-e89d81651d890f57-01 outer:exit 2b-8b8c401ca5da692fe8c8489f30b16c57b86c01bd-821f86dbc4eed1b6-01
2022-04-25T18:41:31.897Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:31.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-2893c84cff80d040af8bbe6b3c69c8e8669abe7d-8f19bd665d0d331c-01 outer:exit 2b-2893c84cff80d040af8bbe6b3c69c8e8669abe7d-8f78b2e820597c3b-01
2022-04-25T18:41:31.900Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:31.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f5f97a1b7aa94985a8fb3b9fc474621debc42c2-9651dbef0e97e343-01 outer:exit 2b-7f5f97a1b7aa94985a8fb3b9fc474621debc42c2-683365be19930562-01
2022-04-25T18:41:31.902Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:31.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc11b70a9972684b2366d0477c921aac6ffe30a1-64cae21662f2e791-01 outer:exit 2b-bc11b70a9972684b2366d0477c921aac6ffe30a1-f9f542a28d987e74-01
2022-04-25T18:41:31.906Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:31.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-433f2245f6ba35544fc4759ae421bcc916beb8d5-0cb88786f3764a1c-01 outer:exit 2b-433f2245f6ba35544fc4759ae421bcc916beb8d5-74c6d24e1151df47-01
2022-04-25T18:41:31.910Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:31.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dc248808ecba2923a03519c13f147eff2d88ea4-9ee7588901c9c025-01 outer:exit 2b-2dc248808ecba2923a03519c13f147eff2d88ea4-69b1efe4e8c44a0d-01
2022-04-25T18:41:31.915Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:31.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-befe37bf5d69ae87f25ccca6607b17c48ce80f84-9690740f58844417-01 outer:exit 2b-befe37bf5d69ae87f25ccca6607b17c48ce80f84-27a06b8ab6ba5a27-01
2022-04-25T18:41:31.918Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:31.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-94134527995dc237f31ab3b4c6d6cfb731bbd493-bfa8030396d9240b-01 outer:exit 2b-94134527995dc237f31ab3b4c6d6cfb731bbd493-d63ef1cdcbb98e24-01
2022-04-25T18:41:31.922Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:31.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-81986b0507181e128b1d873c12871a7c041e73f9-2e60a046237e45fb-01 outer:exit 2b-81986b0507181e128b1d873c12871a7c041e73f9-1aedcb02a25a699c-01
2022-04-25T18:41:31.929Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:31.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-16f347d1b06e01f64404109de4f3d7360cf38f72-54255aca1c2a3a54-01 outer:exit 2b-16f347d1b06e01f64404109de4f3d7360cf38f72-59d4b18ca9ca7b5f-01
2022-04-25T18:41:31.935Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:31.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-7918ed22a7e187e4390973a5d63c686c1d8d18c3-d988e08bd849da24-01 outer:exit 2b-7918ed22a7e187e4390973a5d63c686c1d8d18c3-5f25f85a65f83ef5-01
2022-04-25T18:41:31.946Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:31.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-755885182537b86c37e156fbbfacb66b890dba47-f8db4810274b1176-01 outer:exit 2b-755885182537b86c37e156fbbfacb66b890dba47-ef2d726702a96790-01
2022-04-25T18:41:31.955Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:31.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-396fe621fa9208345f235b6ea05f2cc94b18e562-01dead749007d1d3-01 outer:exit 2b-396fe621fa9208345f235b6ea05f2cc94b18e562-0294a8a983b7fc95-01
2022-04-25T18:41:31.958Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:31.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9b32d0843a0484d99006318219b0fd180c138e1-13be4bd3647e9bca-01 outer:exit 2b-b9b32d0843a0484d99006318219b0fd180c138e1-981e625beecd00f8-01
2022-04-25T18:41:31.966Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:31.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5929a7b5edaa41b5355d33fe3bb38deae534b3a-8ec1dd2a459cd732-01 outer:exit 2b-d5929a7b5edaa41b5355d33fe3bb38deae534b3a-f4373c62780a6f09-01
2022-04-25T18:41:31.979Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:31.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5d92eca5693b181a7731939bd3d998adb0ea7b2-e02ca453139d5617-01 outer:exit 2b-a5d92eca5693b181a7731939bd3d998adb0ea7b2-1d6b93ad2f9ba0ed-01
2022-04-25T18:41:31.981Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:31.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-5029474e526787ee4f62e101f7abdb5626d1aca0-ca6358fde5a42529-01 outer:exit 2b-5029474e526787ee4f62e101f7abdb5626d1aca0-f4ec49e6ee629a35-01
2022-04-25T18:41:31.984Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:31.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-770823a9de963487a896d882891803cfe98e3ada-f3db1b3c06826fc2-01 outer:exit 2b-770823a9de963487a896d882891803cfe98e3ada-6bad252f174b393a-01
2022-04-25T18:41:31.987Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:31.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-65903dc2700bc2fc193ea54285b844612f0eeac1-0b037153b2730dff-01 outer:exit 2b-65903dc2700bc2fc193ea54285b844612f0eeac1-c5f770bafdad6126-01
2022-04-25T18:41:31.990Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:31.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfefaf700b0ad1e16530848b2a7a2609ca89cb7a-83d5c8739de6e5c0-01 outer:exit 2b-bfefaf700b0ad1e16530848b2a7a2609ca89cb7a-b9501b14d8e5b5a6-01
2022-04-25T18:41:31.994Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:32.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f9539363dcdec8deb6c5b3d2178fc2fab4eb912-8c1555b4d9dba121-01 outer:exit 2b-0f9539363dcdec8deb6c5b3d2178fc2fab4eb912-c3a3855b67156bea-01
2022-04-25T18:41:32.008Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:32.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0148012cb9a434634e1c4a35c3053bc7ac985fb-92b7ef5e1010cf94-01 outer:exit 2b-b0148012cb9a434634e1c4a35c3053bc7ac985fb-87226498cbb0d0b9-01
2022-04-25T18:41:32.020Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:32.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-a85ea7730df4da3ad9384f462a899da735065b2d-ced649d5131b9e61-01 outer:exit 2b-a85ea7730df4da3ad9384f462a899da735065b2d-7e9c97abdcac58f2-01
2022-04-25T18:41:32.024Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:32.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd4b8f842dc021ec6925251c39b4f77367dac1c-9d649b21ed0b21a7-01 outer:exit 2b-bfd4b8f842dc021ec6925251c39b4f77367dac1c-dca261aeb91f68f9-01
2022-04-25T18:41:32.026Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:32.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca4a65deda93b777ce13fb872fb0cca912ab4385-961f3f962dab23d0-01 outer:exit 2b-ca4a65deda93b777ce13fb872fb0cca912ab4385-c7f113d22690329d-01
2022-04-25T18:41:32.031Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:32.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-51f33fad171491c0c206edb5891e6ba96d57fb98-af00f25530e0b361-01 outer:exit 2b-51f33fad171491c0c206edb5891e6ba96d57fb98-31a3217b254ebd4b-01
2022-04-25T18:41:32.067Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (403ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:39.277Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:39.278Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:39.278Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:39.279Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:39.348Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:39.568Z appoptics:patching patched crypto 
2022-04-25T18:41:39.592Z appoptics:patching patched https 
2022-04-25T18:41:39.593Z appoptics:patching patched http 
2022-04-25T18:41:39.680Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:39.681Z appoptics:patching patched fs 
2022-04-25T18:41:39.713Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v18.0.0)
2022-04-25T18:41:39.719Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-25T18:41:39.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-012a67e1524a1f4ab3955d9bc8c29689c3d5b0de-a41febe77dc52d6e-01 outer:exit 2b-012a67e1524a1f4ab3955d9bc8c29689c3d5b0de-5d43eb5c45a296a2-01
2022-04-25T18:41:39.770Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:39.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f1e009e8b2226efc18a2e624c3e685f3ee846a4-b2209f790d9949c4-01 outer:exit 2b-6f1e009e8b2226efc18a2e624c3e685f3ee846a4-e472a4fb9fd2ff22-01
2022-04-25T18:41:39.821Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:39.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd451852cfbc5a575f0b25e0f4c04e3052bf87a1-09949482719a7285-01 outer:exit 2b-bd451852cfbc5a575f0b25e0f4c04e3052bf87a1-99086f4dca20cc22-01
2022-04-25T18:41:39.825Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:39.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f306cc1afb1689f3ad7ff08708e722cf3065c4d-9b27489b935d4bad-01 outer:exit 2b-5f306cc1afb1689f3ad7ff08708e722cf3065c4d-6d13eb029a99dfea-01
2022-04-25T18:41:39.828Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:39.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-6747abfac8565469c7427d98c68299380f5b4036-c9335014bd6de770-01 outer:exit 2b-6747abfac8565469c7427d98c68299380f5b4036-505f8525d98f3317-01
2022-04-25T18:41:39.833Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:39.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-96d9661607f9c2bac2c189b6795688febafdaf30-fa8498c6f62362d4-01 outer:exit 2b-96d9661607f9c2bac2c189b6795688febafdaf30-80b6895790512104-01
2022-04-25T18:41:39.837Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:39.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-b708858378237476a24c20718e342734443e056c-f96aadc0745c34ff-01 outer:exit 2b-b708858378237476a24c20718e342734443e056c-b3c8604d25ebf29b-01
2022-04-25T18:41:39.840Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:39.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f05178f87fdea218200b86ea9408ab063e32b45-b2e45db4b35a395c-01 outer:exit 2b-2f05178f87fdea218200b86ea9408ab063e32b45-b0abd928a95d211a-01
2022-04-25T18:41:39.845Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:39.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b042ea073e8bd2db46cbb81c8cbcab9b0904d63-37983ebc94e4a0ea-01 outer:exit 2b-7b042ea073e8bd2db46cbb81c8cbcab9b0904d63-0ac938a81ae6a3f5-01
2022-04-25T18:41:39.848Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:39.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-858276f80538e1eca00e9c4333379a069ae43c7d-b15c3d162eec51e9-01 outer:exit 2b-858276f80538e1eca00e9c4333379a069ae43c7d-46b95e2ecc17d2d6-01
2022-04-25T18:41:39.852Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:39.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-36aed20ece09102dd2614b3899427b1fbf9c4905-4a6f1708aa0419ed-01 outer:exit 2b-36aed20ece09102dd2614b3899427b1fbf9c4905-b76afe94adec62c3-01
2022-04-25T18:41:39.856Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:39.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-94f61106abfa213d1fb1ef684e22e469e3fbb2bb-5146547e3bd3d553-01 outer:exit 2b-94f61106abfa213d1fb1ef684e22e469e3fbb2bb-5c2822d5d0965cbb-01
2022-04-25T18:41:39.864Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:39.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9448deaa75a75ba862a29696773957095ed3e9d-5f90bd5c729f7c09-01 outer:exit 2b-a9448deaa75a75ba862a29696773957095ed3e9d-f778e2150830fb2d-01
2022-04-25T18:41:39.883Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:39.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-abdbc3a58c2daf5b92aecfe1d2129c0ba4a8e002-041b3998e9230b2e-01 outer:exit 2b-abdbc3a58c2daf5b92aecfe1d2129c0ba4a8e002-092a4d327040afc8-01
2022-04-25T18:41:39.931Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:39.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b0c23f150ec97a70dc469f1e5b7f6e03fed2288-7693c2061808b637-01 outer:exit 2b-7b0c23f150ec97a70dc469f1e5b7f6e03fed2288-737b7d2a6013e8d2-01
2022-04-25T18:41:39.935Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:39.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2e0fa65bedbccc318e3b96559d573780b5db47c-be033e226a93ee1b-01 outer:exit 2b-b2e0fa65bedbccc318e3b96559d573780b5db47c-897d0fcde3cff70e-01
2022-04-25T18:41:39.944Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:39.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5126c03a31a093269a0adadc999acba8b9239c9-f372948a6eebd6b8-01 outer:exit 2b-f5126c03a31a093269a0adadc999acba8b9239c9-1ec51841f01d4eca-01
2022-04-25T18:41:39.948Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:39.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-e22bba3ec5802c8ae84943a9fb204a6e6b49da42-bfa2016e718130fb-01 outer:exit 2b-e22bba3ec5802c8ae84943a9fb204a6e6b49da42-c82da9a81e1aca0d-01
2022-04-25T18:41:39.950Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:39.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-97398472141eb2083da7e3e928f8532475764b2b-cedde4989ea7427f-01 outer:exit 2b-97398472141eb2083da7e3e928f8532475764b2b-d8f6503042e3ee48-01
2022-04-25T18:41:39.952Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:39.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-816625ee9a98b9c4eb50967a2b9f1250f1f585b5-a27a91258ec62532-01 outer:exit 2b-816625ee9a98b9c4eb50967a2b9f1250f1f585b5-4bc04981ac025201-01
2022-04-25T18:41:39.955Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:39.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-75dc78a026ecd6ab078a727a14b55bab1be3e117-f06418396da06e21-01 outer:exit 2b-75dc78a026ecd6ab078a727a14b55bab1be3e117-8e77ad33fae2c02e-01
2022-04-25T18:41:39.957Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:39.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f3d6b4b5694cf790324d2dc938f793b4dc27e0-b8578d55af05dcad-01 outer:exit 2b-f7f3d6b4b5694cf790324d2dc938f793b4dc27e0-9e43e28851a6ecb6-01
2022-04-25T18:41:39.959Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:39.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-87de37c1e71d16aa53707283962d08126ac90720-8ba7502e662d5518-01 outer:exit 2b-87de37c1e71d16aa53707283962d08126ac90720-09136177331baf47-01
2022-04-25T18:41:39.963Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:39.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ef64787fa7d51257051124b588c3e146464c94-b5c65595564adcc2-01 outer:exit 2b-58ef64787fa7d51257051124b588c3e146464c94-f84573760ea1c8e9-01
2022-04-25T18:41:39.966Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:39.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccd505aa083f654b6629dbc07104c0a195e294d4-72c78ae348176298-01 outer:exit 2b-ccd505aa083f654b6629dbc07104c0a195e294d4-fc3dbfb516580208-01
2022-04-25T18:41:39.969Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:39.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-3257e0a9d6e1391805cc2e1a52109ef6a827cdca-3bb13b0b8a6cd33f-01 outer:exit 2b-3257e0a9d6e1391805cc2e1a52109ef6a827cdca-931244fa1563d38d-01
2022-04-25T18:41:39.972Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:39.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-250529b87b15eeac63c60dd591b68e73cbc5b77d-4743f4f60753f228-01 outer:exit 2b-250529b87b15eeac63c60dd591b68e73cbc5b77d-876fdea4ce9defa9-01
2022-04-25T18:41:39.979Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:39.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-b21df3b454d283f98ffa9d4c2b230e3619b39111-47ec0aba8c8fe7bd-01 outer:exit 2b-b21df3b454d283f98ffa9d4c2b230e3619b39111-8adaf25f1eb07a42-01
2022-04-25T18:41:39.987Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:39.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-056be15ae04a8ad2a7fa505341da3e0bee79a02e-9f490b76981f808e-01 outer:exit 2b-056be15ae04a8ad2a7fa505341da3e0bee79a02e-1360425c35350419-01
2022-04-25T18:41:39.997Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:40.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-a38ff8e04cea3abf221099aa22c4f9e3922d008e-9d2a2db95179c181-01 outer:exit 2b-a38ff8e04cea3abf221099aa22c4f9e3922d008e-49904da5eef62879-01
2022-04-25T18:41:40.010Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:40.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-f965bc76a0a3253b5e59e32f1565a35b7ce2be1b-919dc9b486db0c62-01 outer:exit 2b-f965bc76a0a3253b5e59e32f1565a35b7ce2be1b-f7bcb9ba8da11f46-01
2022-04-25T18:41:40.013Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:40.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-545a59fb6ba4c859bee4a75c8dd9e3534f57960e-2f29e51bdf96afbd-01 outer:exit 2b-545a59fb6ba4c859bee4a75c8dd9e3534f57960e-2f91d0769761c604-01
2022-04-25T18:41:40.018Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:40.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-c09e306befab2468dd0f04a79984754f00a48aef-d75b1f447a02f5aa-01 outer:exit 2b-c09e306befab2468dd0f04a79984754f00a48aef-b8bc02692d3b7581-01
2022-04-25T18:41:40.028Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:40.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a31bb24197e197cc9019b244b8065844e1a2eef-5bb64e99352984a7-01 outer:exit 2b-6a31bb24197e197cc9019b244b8065844e1a2eef-8873593acd00f979-01
2022-04-25T18:41:40.030Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:40.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e039d9ec2e2f911d739862b55428ece1b8c7178-7c47936c37513dd8-01 outer:exit 2b-5e039d9ec2e2f911d739862b55428ece1b8c7178-edd1ccc117b32405-01
2022-04-25T18:41:40.032Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:40.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-71f9c816a17e0a8c921c26de4fcccb7fe25d0edd-46f9a5d503912441-01 outer:exit 2b-71f9c816a17e0a8c921c26de4fcccb7fe25d0edd-a89d3b764bba3d66-01
2022-04-25T18:41:40.034Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:40.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b3d14f6e8c192b8c04bff23ddd88f3c82e21cbf-716cd6b8cd808fd7-01 outer:exit 2b-0b3d14f6e8c192b8c04bff23ddd88f3c82e21cbf-06988913fa6d00c1-01
2022-04-25T18:41:40.036Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:40.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec1f77643bce736e7a67c34f9a94a788d14943fd-248f8c0f81cb8328-01 outer:exit 2b-ec1f77643bce736e7a67c34f9a94a788d14943fd-b1cb1819b629d50c-01
2022-04-25T18:41:40.038Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:40.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a1995ad271429583aa9c698a5a7fef9ab63735d-463963c6fd2034cb-01 outer:exit 2b-5a1995ad271429583aa9c698a5a7fef9ab63735d-07083521977d55b3-01
2022-04-25T18:41:40.058Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:40.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-127025b66f7ca55ab4baa6f36b4e13800e58721e-b46d9a887e727495-01 outer:exit 2b-127025b66f7ca55ab4baa6f36b4e13800e58721e-0ee18fe649a77ff0-01
2022-04-25T18:41:40.070Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:40.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0cf5b6d89864d5cedda13b4244beb978cf61f75-d56afed92ce1e1a9-01 outer:exit 2b-c0cf5b6d89864d5cedda13b4244beb978cf61f75-7b543af9e0296909-01
2022-04-25T18:41:40.081Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:40.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b0b918284029af882b07dc89eee1e6e71eb24a-c74f3f398f5fbe33-01 outer:exit 2b-92b0b918284029af882b07dc89eee1e6e71eb24a-3d65d0e72e9a1de5-01
2022-04-25T18:41:40.085Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:40.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-030c6bd1551e72a35624bc0d8dc72f2cf725f232-b00accbae4245b83-01 outer:exit 2b-030c6bd1551e72a35624bc0d8dc72f2cf725f232-e14b05ccb4ab6321-01
2022-04-25T18:41:40.088Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:40.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-717fd899abc3689701caa5d71b868a74334ed6ac-2277f70dde6a9385-01 outer:exit 2b-717fd899abc3689701caa5d71b868a74334ed6ac-a40d0e0b2d9dde57-01
2022-04-25T18:41:40.127Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (402ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:47.939Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:47.939Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:47.939Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:47.940Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:48.014Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:48.145Z appoptics:patching patched crypto 
2022-04-25T18:41:48.165Z appoptics:patching patched https 
2022-04-25T18:41:48.165Z appoptics:patching patched http 
2022-04-25T18:41:48.215Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:48.215Z appoptics:patching patched fs 
2022-04-25T18:41:48.242Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v18.0.0)
2022-04-25T18:41:48.248Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-25T18:41:48.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-43c3ea82cae79ab572e575ab954ce91e9f5c5868-a0ce5809dabd76be-01 outer:exit 2b-43c3ea82cae79ab572e575ab954ce91e9f5c5868-c124dff421b29a72-01
2022-04-25T18:41:48.301Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:48.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e0cd80bb3e30ce20605b954aebce3861d23964c-2c39ba5f1add845e-01 outer:exit 2b-3e0cd80bb3e30ce20605b954aebce3861d23964c-6f25e46a9ab7eba6-01
2022-04-25T18:41:48.351Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:48.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-32bda06eb3bee87424592cb314c5db4ee3383d18-148902fe5985aea6-01 outer:exit 2b-32bda06eb3bee87424592cb314c5db4ee3383d18-4a2448abc9e90458-01
2022-04-25T18:41:48.356Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:48.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-c93051949050a1c8979185ec7e9126ae803bedb2-068ccc3105b35c15-01 outer:exit 2b-c93051949050a1c8979185ec7e9126ae803bedb2-789e4c61fe81d8df-01
2022-04-25T18:41:48.360Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:48.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7b8966affb82c04f2decfa5cff64f7ce6aa6c9c-4d5a786036e197e1-01 outer:exit 2b-a7b8966affb82c04f2decfa5cff64f7ce6aa6c9c-b948d434bb7ee124-01
2022-04-25T18:41:48.366Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:48.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-f547720b18910a131ed1cfad8cf38cd92c05d086-8f1a6ff5c63c43a1-01 outer:exit 2b-f547720b18910a131ed1cfad8cf38cd92c05d086-c331a4dc2dce4c9e-01
2022-04-25T18:41:48.369Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:48.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e4945a1418091b8c51c0de482c9240506bc3c43-845911606a4fc693-01 outer:exit 2b-2e4945a1418091b8c51c0de482c9240506bc3c43-c6c86ff550ddcc9c-01
2022-04-25T18:41:48.372Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:48.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-441004cb7f5546a7c9aa4ae84b422000a72c0477-d21dec440d30c4ba-01 outer:exit 2b-441004cb7f5546a7c9aa4ae84b422000a72c0477-45407158ce31f857-01
2022-04-25T18:41:48.376Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:48.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd7939288ea320a49056798cb2bfccd2d5430449-8aa30326698f1a7f-01 outer:exit 2b-fd7939288ea320a49056798cb2bfccd2d5430449-c0dfafbc6657c129-01
2022-04-25T18:41:48.379Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:48.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-84b40f0bf1c2ef4f27c54aa8fae5b45bbcedfd77-563615b183afccb9-01 outer:exit 2b-84b40f0bf1c2ef4f27c54aa8fae5b45bbcedfd77-9d07663640044482-01
2022-04-25T18:41:48.383Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:48.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-b16c2a888065137ae82a18f09b4b760e10da815b-c1817a0965f0498b-01 outer:exit 2b-b16c2a888065137ae82a18f09b4b760e10da815b-1958dbf1aaa934a4-01
2022-04-25T18:41:48.387Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:48.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-fad0e6dfa9d40ac483ff26fa8064b409d127f50f-61d009f56163e46e-01 outer:exit 2b-fad0e6dfa9d40ac483ff26fa8064b409d127f50f-6b25bb85c6c90e8c-01
2022-04-25T18:41:48.394Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:48.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fd0063f54caa70364b2645e386653015ecebf75-f507c022016dee22-01 outer:exit 2b-6fd0063f54caa70364b2645e386653015ecebf75-4a1eec6ea8912a60-01
2022-04-25T18:41:48.411Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:48.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-dde2bdc40fa92acd2ad12fb92bbea6ab0089f69b-0178e29b5979a0a7-01 outer:exit 2b-dde2bdc40fa92acd2ad12fb92bbea6ab0089f69b-a729b4574aeb87bf-01
2022-04-25T18:41:48.456Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:48.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-450e79e7017732ce3d269580ce00ba2855c9fbec-55c0b89a4df96454-01 outer:exit 2b-450e79e7017732ce3d269580ce00ba2855c9fbec-e64ad9d59ac6f996-01
2022-04-25T18:41:48.460Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:48.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe05f46d63a1245004710dc4e2d8b2627b9ac408-57674eb993c12071-01 outer:exit 2b-fe05f46d63a1245004710dc4e2d8b2627b9ac408-0d4a5673bbf6c043-01
2022-04-25T18:41:48.462Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:48.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-b451665a343f484e3431f3d08614a44040e7ad16-faa65f631b66d94e-01 outer:exit 2b-b451665a343f484e3431f3d08614a44040e7ad16-5f49f703f9978e2b-01
2022-04-25T18:41:48.466Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:48.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-44568582fd0da9b54a05f2d696c6c3d80af41fc4-0d6bc5bca2d7505e-01 outer:exit 2b-44568582fd0da9b54a05f2d696c6c3d80af41fc4-b8669ecc087ceeb9-01
2022-04-25T18:41:48.468Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:48.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-5873fc399d6e8d5904419e4c6d9c081bb96d68bc-7ba3deb533ae5180-01 outer:exit 2b-5873fc399d6e8d5904419e4c6d9c081bb96d68bc-2dcb08cf535e4410-01
2022-04-25T18:41:48.471Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:48.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7654fe763d4f6b2c847781cf9f534c8322a32e4-1f9dcb1af4024fcf-01 outer:exit 2b-a7654fe763d4f6b2c847781cf9f534c8322a32e4-e5f795aa19273378-01
2022-04-25T18:41:48.473Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:48.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea86e1c7002e6d5dec67b2f62d5727b7f8d7a5e5-30772a8579059bb0-01 outer:exit 2b-ea86e1c7002e6d5dec67b2f62d5727b7f8d7a5e5-2b241bfe13438651-01
2022-04-25T18:41:48.475Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:48.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c9b9c341220dda747c848f1f2775f53203c794f-46a1ac33ec325881-01 outer:exit 2b-7c9b9c341220dda747c848f1f2775f53203c794f-d6cbec5f4b873188-01
2022-04-25T18:41:48.479Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:48.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-c09f91d4d38eb9cf149c569f3bea86573fb579db-e2cd62215e6725dd-01 outer:exit 2b-c09f91d4d38eb9cf149c569f3bea86573fb579db-f51b7632af43f770-01
2022-04-25T18:41:48.483Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:48.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-3af34f104dbe0b140d73905462842bf374a3ab4e-70d51f8ba5339e96-01 outer:exit 2b-3af34f104dbe0b140d73905462842bf374a3ab4e-ecb7ae6367153c1f-01
2022-04-25T18:41:48.486Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:48.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fc949f87303cbdc1b108c874f14a434a3ac55e6-ad29e81cf86cc85a-01 outer:exit 2b-1fc949f87303cbdc1b108c874f14a434a3ac55e6-8c178de925e6acf2-01
2022-04-25T18:41:48.488Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:48.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-893422ae51692b1ec574379285b56ef95f8c6f46-445216a95d95adf7-01 outer:exit 2b-893422ae51692b1ec574379285b56ef95f8c6f46-3fef29127439026b-01
2022-04-25T18:41:48.491Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:48.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-508da2ab5ff889dbced0bce4958c09c3e83871a7-f4a6424102f169e7-01 outer:exit 2b-508da2ab5ff889dbced0bce4958c09c3e83871a7-cca96367f06aab18-01
2022-04-25T18:41:48.498Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:48.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-2520e3efb76e91d70a12b05de696717f5a4d8858-b69e2915676e0e8c-01 outer:exit 2b-2520e3efb76e91d70a12b05de696717f5a4d8858-56699ba69f5e21a4-01
2022-04-25T18:41:48.505Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:48.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff5c9611db2e67f26e11a2f4abe881b1620c239f-391fd9040cdc4f34-01 outer:exit 2b-ff5c9611db2e67f26e11a2f4abe881b1620c239f-05f39cc4c209729f-01
2022-04-25T18:41:48.515Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:48.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-55a9076692122f35133bd6ea5a151f2e99a9c067-499fd98d76b23959-01 outer:exit 2b-55a9076692122f35133bd6ea5a151f2e99a9c067-7b199cd32847fe54-01
2022-04-25T18:41:48.523Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:48.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-aec787f56371883c4c6d774cfb80a01771db64f2-e51a44181f46053c-01 outer:exit 2b-aec787f56371883c4c6d774cfb80a01771db64f2-789c135af0835151-01
2022-04-25T18:41:48.525Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:48.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-5848edb40fdb1598ed62ba72844ad1d939df9e2c-6177be0f485b7a21-01 outer:exit 2b-5848edb40fdb1598ed62ba72844ad1d939df9e2c-eb5291b006dd9563-01
2022-04-25T18:41:48.530Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:48.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a829c8862d282280988f8cc3368040b00ab221c-810087f0463abce3-01 outer:exit 2b-7a829c8862d282280988f8cc3368040b00ab221c-87d931331366878b-01
2022-04-25T18:41:48.537Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:48.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d8fa66e8fa912ca76ee2f4dd2cab165611ebc61-c6539ba2634b748f-01 outer:exit 2b-6d8fa66e8fa912ca76ee2f4dd2cab165611ebc61-1dc21df80a647346-01
2022-04-25T18:41:48.540Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:48.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-c275f0653e60fd131023e6953b6d838cea2d08b9-a3fe8619550f3f51-01 outer:exit 2b-c275f0653e60fd131023e6953b6d838cea2d08b9-61dc0dabeb282730-01
2022-04-25T18:41:48.542Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:48.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-686b82b5956c8aa1848404a514e0124e76dd770b-f8943ba0c3ef3e1b-01 outer:exit 2b-686b82b5956c8aa1848404a514e0124e76dd770b-64ee1384ec3a9deb-01
2022-04-25T18:41:48.544Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:48.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-f49f66e49d4f5068fc6e9ad306e2c24eabd52539-f47457271a5c82d0-01 outer:exit 2b-f49f66e49d4f5068fc6e9ad306e2c24eabd52539-63cab4928cbd7b63-01
2022-04-25T18:41:48.546Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:48.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cbf8356987817c684dd57fb155296fb0f35de1a-9aef36c817877c98-01 outer:exit 2b-9cbf8356987817c684dd57fb155296fb0f35de1a-c2f36cf265010431-01
2022-04-25T18:41:48.548Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:48.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-cda9cfcbe61ac8a4989fa7335d01cdfb52ca6b4c-cad4d23b88cdfe6a-01 outer:exit 2b-cda9cfcbe61ac8a4989fa7335d01cdfb52ca6b4c-583aeee0a161102c-01
2022-04-25T18:41:48.558Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:48.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0ad5bfb223a4dadf8b08b4b7c254d6a499a519-b2fbdff6ab484302-01 outer:exit 2b-8d0ad5bfb223a4dadf8b08b4b7c254d6a499a519-39e26ae2207a54f5-01
2022-04-25T18:41:48.568Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:48.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c23825602f5ef3c67c3ffaca15d1bd52a2f001-da3b1f6e1fcbe41e-01 outer:exit 2b-69c23825602f5ef3c67c3ffaca15d1bd52a2f001-0b4d90ad121e9229-01
2022-04-25T18:41:48.571Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:48.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-54fa855d81893dc7ea8b2fd18286b38dcf5afc15-20c85d4c324dbd67-01 outer:exit 2b-54fa855d81893dc7ea8b2fd18286b38dcf5afc15-b1bd82813193f553-01
2022-04-25T18:41:48.574Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:48.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2c74055ef73ee4277382f1b6a9307c513eca9e3-f40ce31f6ce3b209-01 outer:exit 2b-e2c74055ef73ee4277382f1b6a9307c513eca9e3-fcdddd4281be6d7b-01
2022-04-25T18:41:48.577Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:48.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b02c5af14d2ae4348f982bcbc616f2b0ee9e9a6-8d8ee8a41f0adadf-01 outer:exit 2b-4b02c5af14d2ae4348f982bcbc616f2b0ee9e9a6-a25a1b296df10134-01
2022-04-25T18:41:48.608Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (354ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:55.684Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:55.685Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:55.685Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:55.685Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:55.753Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:55.881Z appoptics:patching patched crypto 
2022-04-25T18:41:55.903Z appoptics:patching patched https 
2022-04-25T18:41:55.904Z appoptics:patching patched http 
2022-04-25T18:41:55.969Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:55.969Z appoptics:patching patched fs 
2022-04-25T18:41:56.003Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v18.0.0)
2022-04-25T18:41:56.010Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-25T18:41:56.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d1eed6e35ef2186118871957eb53ff81150bfab-f08776498251e3be-01 outer:exit 2b-8d1eed6e35ef2186118871957eb53ff81150bfab-e0a66f00f3649239-01
2022-04-25T18:41:56.066Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:56.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc3d32cb4bfdc95dfb7ca52b8d907c3100f57398-f8117c4aa91a04db-01 outer:exit 2b-bc3d32cb4bfdc95dfb7ca52b8d907c3100f57398-9d6f085a5b93e0ef-01
2022-04-25T18:41:56.120Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:56.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-37d76780c58c5ce557a8d15be931b9e6be2245da-d5a97bc28f7b6f5c-01 outer:exit 2b-37d76780c58c5ce557a8d15be931b9e6be2245da-e49bb1fe40528b0d-01
2022-04-25T18:41:56.124Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:56.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cbd0586b49c4cba8704cf5fe5b0c5193de5fb4b-3c8ff4a475234b85-01 outer:exit 2b-6cbd0586b49c4cba8704cf5fe5b0c5193de5fb4b-df4c1326485940d0-01
2022-04-25T18:41:56.128Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:56.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c64d3266eb44f1ffc6c3cfb36632e6fb63cd5c5-4530b1b00fbaed41-01 outer:exit 2b-7c64d3266eb44f1ffc6c3cfb36632e6fb63cd5c5-8331ebaf37863a6c-01
2022-04-25T18:41:56.135Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:56.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-7055f69d41f6d586580f8973fba48386d9d0ce25-c768f42bfae9b7bd-01 outer:exit 2b-7055f69d41f6d586580f8973fba48386d9d0ce25-bc989feb1490beb1-01
2022-04-25T18:41:56.138Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:56.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-36786b646388212b19de795897873c1ab941a89c-a58b83a771a3f5ae-01 outer:exit 2b-36786b646388212b19de795897873c1ab941a89c-28876ed18abd42f7-01
2022-04-25T18:41:56.141Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:56.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-845b3f7209dbfd10b35996e0bbff6e60f0a4fc97-b60c8637d164b77e-01 outer:exit 2b-845b3f7209dbfd10b35996e0bbff6e60f0a4fc97-646d583ad6fbddf9-01
2022-04-25T18:41:56.145Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:56.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf2787dbe88d04f9a0fb710ba2ef60f0e1e5f84b-058d224383baf9de-01 outer:exit 2b-cf2787dbe88d04f9a0fb710ba2ef60f0e1e5f84b-40afdc5cf2bc32a9-01
2022-04-25T18:41:56.151Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:56.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-614edcb5f82846137adc435afa2a06a05fc1fff6-558b76f214974d71-01 outer:exit 2b-614edcb5f82846137adc435afa2a06a05fc1fff6-00bbd4597131c28c-01
2022-04-25T18:41:56.155Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:56.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-b223c01d404ab305c8a9423f6cd787fd0ad45e47-01d32abc897b11c5-01 outer:exit 2b-b223c01d404ab305c8a9423f6cd787fd0ad45e47-43939b8fcd38ad9c-01
2022-04-25T18:41:56.159Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:56.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-a29e2e4d7598f51ce977898d9b85cf263086a615-d0efb9e34a461945-01 outer:exit 2b-a29e2e4d7598f51ce977898d9b85cf263086a615-64cdb47d300d0f99-01
2022-04-25T18:41:56.166Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:56.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-d16a3eaccbc97dd73cfe995b89a3e03532552c9d-1844e9b491e3df3b-01 outer:exit 2b-d16a3eaccbc97dd73cfe995b89a3e03532552c9d-2bfa5c7398014c4a-01
2022-04-25T18:41:56.186Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:56.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44b4187228fc102edabdbc84406a0c9abdfb127-7925143dd8a1528e-01 outer:exit 2b-e44b4187228fc102edabdbc84406a0c9abdfb127-9c233c893ccbb0f0-01
2022-04-25T18:41:56.235Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:56.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f4a701711ee7c9820d5d5accd357d4d2d7de321-64f824e517ca5c7d-01 outer:exit 2b-9f4a701711ee7c9820d5d5accd357d4d2d7de321-edcb20d4e3a66004-01
2022-04-25T18:41:56.238Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:56.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-71a460d5fffb3a5081914624cde8619c766f5d01-e55d8ae1852342d5-01 outer:exit 2b-71a460d5fffb3a5081914624cde8619c766f5d01-713627dbfd236704-01
2022-04-25T18:41:56.241Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:56.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d9760de434bd8ca375442117ebe2c91ebbbd50a-1dda4ab8f4063418-01 outer:exit 2b-7d9760de434bd8ca375442117ebe2c91ebbbd50a-458fb84c72926294-01
2022-04-25T18:41:56.247Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:56.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-46a338401a82282bc632912b27f715bde18f54f3-ea9ff984007573f6-01 outer:exit 2b-46a338401a82282bc632912b27f715bde18f54f3-c985756fc10b3363-01
2022-04-25T18:41:56.249Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:56.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7f0909d7a29e20ea33a87e3d8c43601e3446603-b9dab2d75dd5a8f9-01 outer:exit 2b-b7f0909d7a29e20ea33a87e3d8c43601e3446603-7c555b93765d95fe-01
2022-04-25T18:41:56.252Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:56.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-9271462e5433c15246ef18f4d36c5fc08f4c21b0-da5e12eb8f0a4e9f-01 outer:exit 2b-9271462e5433c15246ef18f4d36c5fc08f4c21b0-c6c51839dd5dd5d0-01
2022-04-25T18:41:56.258Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:56.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-0647069a7c2378454a2652e4c69ade5863e8cd5f-8b0df806551a9687-01 outer:exit 2b-0647069a7c2378454a2652e4c69ade5863e8cd5f-2e559dee2fba7a5c-01
2022-04-25T18:41:56.266Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:56.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bf76bb1653ccd4dd6c5ceef46ad343b7fa633cb-ec4af9ec2996af5c-01 outer:exit 2b-5bf76bb1653ccd4dd6c5ceef46ad343b7fa633cb-98351a71b4d92648-01
2022-04-25T18:41:56.269Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:56.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-967be7b8f44a77013f0a387b1b086e6c81e21eab-261e23d0a4e3175a-01 outer:exit 2b-967be7b8f44a77013f0a387b1b086e6c81e21eab-771a31c314e0cb19-01
2022-04-25T18:41:56.273Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:56.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa697b5b6d148b51f206d40a782b2a20ba89c803-50cd2bb7402c43c1-01 outer:exit 2b-fa697b5b6d148b51f206d40a782b2a20ba89c803-d89603d31289a305-01
2022-04-25T18:41:56.277Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:56.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e7185179f0757d2cd51419d2beb10c04023e887-30d8ea139056bac9-01 outer:exit 2b-9e7185179f0757d2cd51419d2beb10c04023e887-7c8ba0ab6f1da7bf-01
2022-04-25T18:41:56.279Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:56.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e4e2da2a2cc9efec22826f0117005058a5c2fb6-bb2366e1d8228e3b-01 outer:exit 2b-6e4e2da2a2cc9efec22826f0117005058a5c2fb6-dafdd228671a4098-01
2022-04-25T18:41:56.282Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:56.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f2e7bd3bea51f739ab519783313614ecb0512c0-6a1dc51ea89f2ecd-01 outer:exit 2b-3f2e7bd3bea51f739ab519783313614ecb0512c0-fa3c3bc59485fd90-01
2022-04-25T18:41:56.291Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:56.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba517b84b7f22a4862af1c66c61f764b0e81294f-db271458f89f8f11-01 outer:exit 2b-ba517b84b7f22a4862af1c66c61f764b0e81294f-a0352c76ae568273-01
2022-04-25T18:41:56.298Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:56.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-1542f8924a353734a1481639adbd4543ec15eaa2-4c7c7b2564ba8ada-01 outer:exit 2b-1542f8924a353734a1481639adbd4543ec15eaa2-70fca0b36dfd7947-01
2022-04-25T18:41:56.309Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:56.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c2aac286cbf6fd0d3bb7fcde13e482198d4d2f4-fdf3ffdc81b6cb1f-01 outer:exit 2b-5c2aac286cbf6fd0d3bb7fcde13e482198d4d2f4-311cb6d7f4254bf4-01
2022-04-25T18:41:56.319Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:56.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-313f6cb629d401cf6aafa000e5daa66d95005648-305b28f5118c6c0b-01 outer:exit 2b-313f6cb629d401cf6aafa000e5daa66d95005648-40b6ffaa3558486e-01
2022-04-25T18:41:56.321Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:56.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-290373a3061433398f6d47390143425cb27d3e39-71de6fff5e71841c-01 outer:exit 2b-290373a3061433398f6d47390143425cb27d3e39-021f1e414c830def-01
2022-04-25T18:41:56.325Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:56.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-83c9eb1205ff1bc0e0b73da6bc3a6d88ba921fac-0374108583036a4c-01 outer:exit 2b-83c9eb1205ff1bc0e0b73da6bc3a6d88ba921fac-f63bc3b352dc44a5-01
2022-04-25T18:41:56.341Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:56.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbd778407e1def60eb484db8bb73297b5070696-191b45b291ca9028-01 outer:exit 2b-5fbd778407e1def60eb484db8bb73297b5070696-80141819097fa8d1-01
2022-04-25T18:41:56.343Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:56.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6fb415c99af523881ff3bbf39bd9ac97b052154-bcdee5019dfe8752-01 outer:exit 2b-b6fb415c99af523881ff3bbf39bd9ac97b052154-5aecff1800d8d15a-01
2022-04-25T18:41:56.346Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:56.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-634f26797f23c19303032cea202a039bd8145981-13f691ebec803a96-01 outer:exit 2b-634f26797f23c19303032cea202a039bd8145981-270631e15b9888c6-01
2022-04-25T18:41:56.348Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:56.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-57a85964ac647dcc011900fe5cb5fb31a21f04a3-c02a4227d0f689b5-01 outer:exit 2b-57a85964ac647dcc011900fe5cb5fb31a21f04a3-fc1e6434d2b5843a-01
2022-04-25T18:41:56.350Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:56.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-58a20ccf1af2cf5ee8800a3b276a7c6360c60dff-be3144326c0da8d0-01 outer:exit 2b-58a20ccf1af2cf5ee8800a3b276a7c6360c60dff-56a69d36b7169d3b-01
2022-04-25T18:41:56.352Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:56.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-69ef69001ce26147ee493b8b66dd2b0876b3c0d7-cf6fbfd3f3998c37-01 outer:exit 2b-69ef69001ce26147ee493b8b66dd2b0876b3c0d7-c44a9e5346a38f4e-01
2022-04-25T18:41:56.370Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:56.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7219745d9550b712248b1d5adc2099fddef74ed-b349cff5d2e304dc-01 outer:exit 2b-d7219745d9550b712248b1d5adc2099fddef74ed-e8b6dad08229d1d1-01
2022-04-25T18:41:56.385Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:56.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc356b8f65677e6c78e7f26418436f7b24ac593d-8dfbe4c5d0d38443-01 outer:exit 2b-bc356b8f65677e6c78e7f26418436f7b24ac593d-ef69b27dcd89ff17-01
2022-04-25T18:41:56.388Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:56.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6aa44875323e1e09fa71bd43e82b522c08075e2-dbe53264f04ec38f-01 outer:exit 2b-b6aa44875323e1e09fa71bd43e82b522c08075e2-b5c45f65b21a0cd8-01
2022-04-25T18:41:56.391Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:56.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-80f57e4a2806e9d98e8061feb06ecd13c0ff7904-13764e9e6b1e016c-01 outer:exit 2b-80f57e4a2806e9d98e8061feb06ecd13c0ff7904-cd667aee6eac7e2b-01
2022-04-25T18:41:56.394Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:56.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-a51e6c4cbeeb52177645b865cef700a1683e7c77-9ae2c99a18803b89-01 outer:exit 2b-a51e6c4cbeeb52177645b865cef700a1683e7c77-fc32a32699987587-01
2022-04-25T18:41:56.442Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (426ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:04.050Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:04.051Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:04.051Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:04.052Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:04.119Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:04.249Z appoptics:patching patched crypto 
2022-04-25T18:42:04.270Z appoptics:patching patched https 
2022-04-25T18:42:04.270Z appoptics:patching patched http 
2022-04-25T18:42:04.322Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:04.322Z appoptics:patching patched fs 
2022-04-25T18:42:04.349Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v18.0.0)
2022-04-25T18:42:04.355Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-25T18:42:04.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf26c7ce788bf5ca37c67ea73c7f3c16aa450039-02af632dba714cdc-01 outer:exit 2b-cf26c7ce788bf5ca37c67ea73c7f3c16aa450039-a44293050d363962-01
2022-04-25T18:42:04.411Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:04.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-880f00442a20e9d287b6071289d1eb8ef15737b6-da994bab4d956a06-01 outer:exit 2b-880f00442a20e9d287b6071289d1eb8ef15737b6-f4e3432f01dc1801-01
2022-04-25T18:42:04.466Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:04.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-a065ee14eafc88ed3917c1d8539b57f077b07bc0-caeaf2cf7a57fcef-01 outer:exit 2b-a065ee14eafc88ed3917c1d8539b57f077b07bc0-b0afd824062c4644-01
2022-04-25T18:42:04.470Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:04.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-274c30b281ef07822cb31f2d86aa9d4c61fd75b7-7de71aecba939173-01 outer:exit 2b-274c30b281ef07822cb31f2d86aa9d4c61fd75b7-d521f3542e46ef34-01
2022-04-25T18:42:04.473Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:04.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7f2cd408802613b09259de46d9e054b922e0379-57394b59aee03a68-01 outer:exit 2b-c7f2cd408802613b09259de46d9e054b922e0379-3f4c2f1578c831d4-01
2022-04-25T18:42:04.480Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:04.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-2317f8b5912d9316720704fcbedceaad3a6b644e-ea489169220a0db3-01 outer:exit 2b-2317f8b5912d9316720704fcbedceaad3a6b644e-675a66cd2ff4c6c0-01
2022-04-25T18:42:04.483Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:04.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-4044a23d4c4d30632362d776a2fab5700b12db23-48cbda651788a004-01 outer:exit 2b-4044a23d4c4d30632362d776a2fab5700b12db23-384c1f295924e444-01
2022-04-25T18:42:04.486Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:04.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-974348a49daaa8601d25870843a59f5c670f507d-5208ac668dc5c726-01 outer:exit 2b-974348a49daaa8601d25870843a59f5c670f507d-d76825a78f8c133a-01
2022-04-25T18:42:04.489Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:04.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5257aa83503aaaf3ebe9d9e019621cc4cd1dc98-600f4c099aa99e91-01 outer:exit 2b-b5257aa83503aaaf3ebe9d9e019621cc4cd1dc98-43bb5628ba6afc0d-01
2022-04-25T18:42:04.492Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:04.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-63db2bce86c55fa43bd9506fd3abbd0f9f9f148a-9c5d6dde34e690e4-01 outer:exit 2b-63db2bce86c55fa43bd9506fd3abbd0f9f9f148a-048fdfb52e40ff37-01
2022-04-25T18:42:04.496Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:04.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a4e0c04a672190fb0843287de4d0a051f7a117a-f0a0f0778bde69a2-01 outer:exit 2b-3a4e0c04a672190fb0843287de4d0a051f7a117a-3e479e24557ec3c8-01
2022-04-25T18:42:04.500Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:04.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a09615684701925f2c560b4ddb5abd57980c5be-651a11a3b4ccbee7-01 outer:exit 2b-9a09615684701925f2c560b4ddb5abd57980c5be-e9e0c5ec469132c9-01
2022-04-25T18:42:04.510Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:04.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-c419d85c53f4d9f3dadaa5ff27ef61e4f6696661-4d0a4e3f4058d5e9-01 outer:exit 2b-c419d85c53f4d9f3dadaa5ff27ef61e4f6696661-b98fc98f166341e8-01
2022-04-25T18:42:04.529Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:04.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e1c75c6252cb7b67475a7cb6fa2a05a52833097-cd18cd36397e5af4-01 outer:exit 2b-4e1c75c6252cb7b67475a7cb6fa2a05a52833097-df3048bcf0ba3505-01
2022-04-25T18:42:04.572Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:04.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fa4a1947a5821ad4cbcaf825e65c29b8b0a3840-625cddf47becc132-01 outer:exit 2b-8fa4a1947a5821ad4cbcaf825e65c29b8b0a3840-5436d43824fa4e69-01
2022-04-25T18:42:04.575Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:04.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-03e4dd84695369216892ccbedadb9768dba9658b-de1eb4af8116df80-01 outer:exit 2b-03e4dd84695369216892ccbedadb9768dba9658b-e78c17aa3eb52de0-01
2022-04-25T18:42:04.580Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:04.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-14983608ffa4c6fe6aea840e595784569bf35550-51ead5c4fe40c144-01 outer:exit 2b-14983608ffa4c6fe6aea840e595784569bf35550-2af498186b623cc9-01
2022-04-25T18:42:04.583Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:04.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-80b12e06d71c941642e15796e2aebbba94617dd8-2b611b75987a47fe-01 outer:exit 2b-80b12e06d71c941642e15796e2aebbba94617dd8-7fa72b43e3406ba9-01
2022-04-25T18:42:04.586Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:04.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa3ca6ca2622222c42900932438df389b66d41de-24094a3b86a1db9a-01 outer:exit 2b-aa3ca6ca2622222c42900932438df389b66d41de-f14fc677f5e65886-01
2022-04-25T18:42:04.588Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:04.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-8453a7c9231065822c32f91625d9bac6698ad625-c32e35c0454b038b-01 outer:exit 2b-8453a7c9231065822c32f91625d9bac6698ad625-9b68958457501852-01
2022-04-25T18:42:04.590Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:04.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9ae77bdf806fd3294922a87e0c58638679c5c45-f6adec12a9734758-01 outer:exit 2b-b9ae77bdf806fd3294922a87e0c58638679c5c45-93b8a2e31bbf3a4f-01
2022-04-25T18:42:04.592Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:04.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-937b8292371b9ac1f4ef2a2882053e86a6634c60-5f6f84889e784137-01 outer:exit 2b-937b8292371b9ac1f4ef2a2882053e86a6634c60-4c1208a6a6d15e7b-01
2022-04-25T18:42:04.594Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:04.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-e28b2f6d5a7a40ec20fce99de673e460980e18f9-c07ae6e14b2cc74d-01 outer:exit 2b-e28b2f6d5a7a40ec20fce99de673e460980e18f9-0bff9ff7df2a13c8-01
2022-04-25T18:42:04.597Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:04.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b6f8da68c04df67627131b6725a26a1f09d1cbf-557ae7190805e25a-01 outer:exit 2b-3b6f8da68c04df67627131b6725a26a1f09d1cbf-c651cb983db1130e-01
2022-04-25T18:42:04.601Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:04.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-f35dd75894a84bf25e134faa6946cfd45d1a0d25-b063f0d3b7f9fa35-01 outer:exit 2b-f35dd75894a84bf25e134faa6946cfd45d1a0d25-fe6361a0b6e8db6b-01
2022-04-25T18:42:04.603Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:04.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba95b9e576a89a4243d305aec0a30477009cc77e-e16e371ef2165a5c-01 outer:exit 2b-ba95b9e576a89a4243d305aec0a30477009cc77e-50f5cd51fc20d859-01
2022-04-25T18:42:04.605Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:04.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ce73b1b0d337168b04150f4998c634ad16c233e-40c1107b2d7d90b7-01 outer:exit 2b-4ce73b1b0d337168b04150f4998c634ad16c233e-665a4bff0906753a-01
2022-04-25T18:42:04.612Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:04.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-562e796615951a333b0aec021c473d299298c9f5-4eb2efd893257a00-01 outer:exit 2b-562e796615951a333b0aec021c473d299298c9f5-753859ccd2a110a1-01
2022-04-25T18:42:04.621Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:04.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3b9c41bc4aeeaf5eb55d4611c238828ec5b5a05-965ea415375fa6c1-01 outer:exit 2b-a3b9c41bc4aeeaf5eb55d4611c238828ec5b5a05-f9193bf652256418-01
2022-04-25T18:42:04.631Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:04.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-da1dc834c52fc754f1c2a05e3cce77040bd55ec1-c30a6d404ce31210-01 outer:exit 2b-da1dc834c52fc754f1c2a05e3cce77040bd55ec1-13e7af0724cbc151-01
2022-04-25T18:42:04.639Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:04.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaf80dccde4a56e13a0f57887800b0f329b740ae-130709df4ccfa41e-01 outer:exit 2b-aaf80dccde4a56e13a0f57887800b0f329b740ae-1d513d8e3258fb17-01
2022-04-25T18:42:04.641Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:04.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-a59714e179a2cf76630fd4df1dbe57a9d798fb90-18452d25dea85234-01 outer:exit 2b-a59714e179a2cf76630fd4df1dbe57a9d798fb90-3859734866a36601-01
2022-04-25T18:42:04.645Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:04.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-e806d0a6fa691f463e4b096f17ee0cd24aae2635-2e4fc3bbe4645584-01 outer:exit 2b-e806d0a6fa691f463e4b096f17ee0cd24aae2635-6fa6a6e92e6e6ba9-01
2022-04-25T18:42:04.655Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:04.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-4104fdd8bf4601bbd3f8eab909cd5b2369c9bab4-48f66b9750e13fa5-01 outer:exit 2b-4104fdd8bf4601bbd3f8eab909cd5b2369c9bab4-8d9f5517a7695318-01
2022-04-25T18:42:04.657Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:04.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-7edff15f2700cb29958186fca1df987a3014f2a1-b1da5f55e4cb571c-01 outer:exit 2b-7edff15f2700cb29958186fca1df987a3014f2a1-1f8423fb1f80b8b0-01
2022-04-25T18:42:04.659Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:04.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fa1613280264ee5922f2e81e0a076b778bcd44a-c8d9543f9cb94844-01 outer:exit 2b-1fa1613280264ee5922f2e81e0a076b778bcd44a-152ec0fbecadcab1-01
2022-04-25T18:42:04.661Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:04.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-6facda7b2e82ff381e766df51e1327893c5df1b9-692517253c6ad776-01 outer:exit 2b-6facda7b2e82ff381e766df51e1327893c5df1b9-37836c86f44164c5-01
2022-04-25T18:42:04.663Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:04.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-bde5711dcc65b4338eda7eadb5c75b30de59df43-2796d0aca95b056b-01 outer:exit 2b-bde5711dcc65b4338eda7eadb5c75b30de59df43-e05242a5ea84ae3e-01
2022-04-25T18:42:04.665Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:04.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e13d781ef3964ea8be27bae8041a24629734e62-8e6015d9d663571c-01 outer:exit 2b-2e13d781ef3964ea8be27bae8041a24629734e62-060abde4b3624269-01
2022-04-25T18:42:04.676Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:04.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-3395f90468b0c957d08b6d69c86d71abc03913a2-a80de0876741988f-01 outer:exit 2b-3395f90468b0c957d08b6d69c86d71abc03913a2-33759bea1a0ea22f-01
2022-04-25T18:42:04.691Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:04.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-7954092f75dd8abcde767caf4076e27432054c37-e4c2d178268352c5-01 outer:exit 2b-7954092f75dd8abcde767caf4076e27432054c37-2d89125d953ef30f-01
2022-04-25T18:42:04.695Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:04.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-af78d8bfac5b2164c6ad09d8ad4115e4501f95fb-955f17c39e23d10a-01 outer:exit 2b-af78d8bfac5b2164c6ad09d8ad4115e4501f95fb-2bc4890c219541b2-01
2022-04-25T18:42:04.699Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:04.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-aae851fe8f031428865790265a31043dd6d773d2-7c9d9649bf135671-01 outer:exit 2b-aae851fe8f031428865790265a31043dd6d773d2-237b1065a5c314c7-01
2022-04-25T18:42:04.704Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:04.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5da961f510ef11d2c58fd5d370397f60b1ac0f5-0d5bcc8ae6d36b99-01 outer:exit 2b-b5da961f510ef11d2c58fd5d370397f60b1ac0f5-560ed5ce24681085-01
2022-04-25T18:42:04.766Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (405ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:12.313Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:12.314Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:12.314Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:12.315Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:12.387Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:12.523Z appoptics:patching patched crypto 
2022-04-25T18:42:12.544Z appoptics:patching patched https 
2022-04-25T18:42:12.544Z appoptics:patching patched http 
2022-04-25T18:42:12.595Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:12.596Z appoptics:patching patched fs 
2022-04-25T18:42:12.623Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v18.0.0)
2022-04-25T18:42:12.630Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-25T18:42:12.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-babcb1298e1cd427eae70e05b6fa24cf6ef65ea7-523d1a2c1af5defb-01 outer:exit 2b-babcb1298e1cd427eae70e05b6fa24cf6ef65ea7-260736f566e38b3d-01
2022-04-25T18:42:12.685Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:12.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ffe3cda29e4367c0362bbe5d457e32ca3c27d88-ea44f07c76b892b0-01 outer:exit 2b-9ffe3cda29e4367c0362bbe5d457e32ca3c27d88-55e57c535e56d910-01
2022-04-25T18:42:12.733Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:12.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-20fecede78da7da936a789adf4a2dce03e9d43c3-6ae57498591b998a-01 outer:exit 2b-20fecede78da7da936a789adf4a2dce03e9d43c3-b786cd84c0d848ee-01
2022-04-25T18:42:12.737Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:12.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-712007d6d0e76531a476bbffcbecc11650a35f4a-34a60988b79bc738-01 outer:exit 2b-712007d6d0e76531a476bbffcbecc11650a35f4a-0a35b922918a2819-01
2022-04-25T18:42:12.740Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:12.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-e97cfd51903f1f1c6df1451ba984bd6ca0504196-bb1393494d2ab55c-01 outer:exit 2b-e97cfd51903f1f1c6df1451ba984bd6ca0504196-e8404048088fb17e-01
2022-04-25T18:42:12.746Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:12.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c75aa5b7ff988cf11d3c68f891980f0e963303-8a7c1b898e1798d5-01 outer:exit 2b-69c75aa5b7ff988cf11d3c68f891980f0e963303-4736bf95e4265d16-01
2022-04-25T18:42:12.749Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:12.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bde68f1da7362af66028734d96017fe5efd274a-5b3b1475fc366ffd-01 outer:exit 2b-3bde68f1da7362af66028734d96017fe5efd274a-c48bcbc3d0edc117-01
2022-04-25T18:42:12.753Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:12.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-57dd3b6755fb1d2b22010d98b1265a0ef346b4f9-1a93ac5b5166f91d-01 outer:exit 2b-57dd3b6755fb1d2b22010d98b1265a0ef346b4f9-d4214249e87da4c4-01
2022-04-25T18:42:12.755Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:12.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-16320cc5223e5155115e122bbe992114fd47fce9-95c122fc9b18fdaf-01 outer:exit 2b-16320cc5223e5155115e122bbe992114fd47fce9-6b3d9b0521617285-01
2022-04-25T18:42:12.759Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:12.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b5a1724934d241567762c75c42089c138cd1adf-d2f2654353fdad39-01 outer:exit 2b-4b5a1724934d241567762c75c42089c138cd1adf-b50c242ad9c83508-01
2022-04-25T18:42:12.763Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:12.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b6dbc6594c8502e74af2b199e7bb79a8d2ce31-29cae7fa859ca16c-01 outer:exit 2b-06b6dbc6594c8502e74af2b199e7bb79a8d2ce31-1c924d56289c1797-01
2022-04-25T18:42:12.768Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:12.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d19ef5d24b29419a6debe7fc9e0d1886c33d5bd-dcb82dce0cea9b48-01 outer:exit 2b-3d19ef5d24b29419a6debe7fc9e0d1886c33d5bd-5c7fc5f3d3910e7c-01
2022-04-25T18:42:12.777Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:12.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-39d332438846c729b465734dad644c6dbb127ee8-367e83bf62c7283b-01 outer:exit 2b-39d332438846c729b465734dad644c6dbb127ee8-33e3dea0579f9caa-01
2022-04-25T18:42:12.795Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:12.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-5724a932994065db1f1107993e5ffea3c54aab1c-8fd023e5499324a1-01 outer:exit 2b-5724a932994065db1f1107993e5ffea3c54aab1c-166e00661adbc36b-01
2022-04-25T18:42:12.843Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:12.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-d43816b6aeaebb3c41aba6e998443d9231f661c7-7e8f1c786b2d294c-01 outer:exit 2b-d43816b6aeaebb3c41aba6e998443d9231f661c7-6a64f03a92b3bac0-01
2022-04-25T18:42:12.846Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:12.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-f16fa7b49909a3591061f281b7a786a05c09ce76-b7d11bd33282a80a-01 outer:exit 2b-f16fa7b49909a3591061f281b7a786a05c09ce76-9daa22519b7df0f0-01
2022-04-25T18:42:12.848Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:12.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-200220f07994c9e5c3a13d96f09e7c8a6ab7eff6-3dade1abdc28dd35-01 outer:exit 2b-200220f07994c9e5c3a13d96f09e7c8a6ab7eff6-ff9ef333c9b45383-01
2022-04-25T18:42:12.855Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:12.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-56bd992258a6a9a9a8fc198b16fb1bb392e4d4e9-3d2133896899f069-01 outer:exit 2b-56bd992258a6a9a9a8fc198b16fb1bb392e4d4e9-3d2962c125a14772-01
2022-04-25T18:42:12.858Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:12.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-88468f132616ed0c73b6e26d93824d0891c2aaa2-3766df9bc671d010-01 outer:exit 2b-88468f132616ed0c73b6e26d93824d0891c2aaa2-74a84aac58eba379-01
2022-04-25T18:42:12.860Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:12.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8bf1c8948908c4c8814b94c6bd7c665f7bc02e4-309f6d3e101ee612-01 outer:exit 2b-b8bf1c8948908c4c8814b94c6bd7c665f7bc02e4-034e08a33aeb9711-01
2022-04-25T18:42:12.862Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:12.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-37a0f3bf3bf51d6f0c96da0c694f3cd2fc2c9ed7-78bea7d93240d5bc-01 outer:exit 2b-37a0f3bf3bf51d6f0c96da0c694f3cd2fc2c9ed7-4586d77b9b421672-01
2022-04-25T18:42:12.865Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:12.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-8024f836e57c2366cbab06baa2758f0cbb659519-b94a60d217febfc5-01 outer:exit 2b-8024f836e57c2366cbab06baa2758f0cbb659519-b4b81ade5b2b7607-01
2022-04-25T18:42:12.867Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:12.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-cccf946945139e3e28edbbcdfb35584f096c5632-15fa42bafbf17285-01 outer:exit 2b-cccf946945139e3e28edbbcdfb35584f096c5632-6eb7264d01026a70-01
2022-04-25T18:42:12.870Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:12.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-91d8cce28dd5bfc0d1132ad8bacca4d044264a92-19076f5dae8494c1-01 outer:exit 2b-91d8cce28dd5bfc0d1132ad8bacca4d044264a92-c72ff566f953d63d-01
2022-04-25T18:42:12.873Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:12.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-7240c94c44cb4f4c51e17d702ab7f86fd6fca97e-26c2d575b475b903-01 outer:exit 2b-7240c94c44cb4f4c51e17d702ab7f86fd6fca97e-85da62e5d1b98bf1-01
2022-04-25T18:42:12.876Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:12.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-52a779d08714e0414b563fa0583c4f7984930da8-5a53b91f5f6916c3-01 outer:exit 2b-52a779d08714e0414b563fa0583c4f7984930da8-a3c2fa11caba3038-01
2022-04-25T18:42:12.879Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:12.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-2074180204e807a269030ea85515154b3690a992-cbeff13e1bcff3e5-01 outer:exit 2b-2074180204e807a269030ea85515154b3690a992-6c751bb85bc175d9-01
2022-04-25T18:42:12.888Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:12.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-c171b01c18d3b89a56dc1622a3a15a7386c0180c-357321337ecb8e89-01 outer:exit 2b-c171b01c18d3b89a56dc1622a3a15a7386c0180c-0ea7a47e2dda8fac-01
2022-04-25T18:42:12.896Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:12.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c6282dd0a6d49ac859dc96409d2c04f3ea5cf2b-88b2cbed34560cad-01 outer:exit 2b-8c6282dd0a6d49ac859dc96409d2c04f3ea5cf2b-bce3ad8cbd92103a-01
2022-04-25T18:42:12.906Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:12.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-74a9a2fd37b322164d2327488c0416637d9c8c3e-530914d9122e18b3-01 outer:exit 2b-74a9a2fd37b322164d2327488c0416637d9c8c3e-641b39eccaccd067-01
2022-04-25T18:42:12.915Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:12.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fcc3e874733bd76d3968c90294ad81a1a5e69a4-17437eab573c523a-01 outer:exit 2b-8fcc3e874733bd76d3968c90294ad81a1a5e69a4-04212a4da80580ee-01
2022-04-25T18:42:12.917Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:12.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a77a2c22fa14dd6ed3d980012aef199d525fb40-bb0569357c82f75b-01 outer:exit 2b-4a77a2c22fa14dd6ed3d980012aef199d525fb40-97e54a5b7b34d23b-01
2022-04-25T18:42:12.920Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:12.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-212593e9771704c377e88a6215c51b4cb1e861ea-e197c1e1adffa37e-01 outer:exit 2b-212593e9771704c377e88a6215c51b4cb1e861ea-2764d5e2a9ebd216-01
2022-04-25T18:42:12.929Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:12.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfdbd9ec124d744d2179e26b1650f01aab698ca9-2ab1aef6011a803c-01 outer:exit 2b-bfdbd9ec124d744d2179e26b1650f01aab698ca9-6b2f8eda1aa6e215-01
2022-04-25T18:42:12.932Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:12.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-78f0a8cd716c7be813f5ba204410c033bd7f9246-2f5ddb25965be5e2-01 outer:exit 2b-78f0a8cd716c7be813f5ba204410c033bd7f9246-bed598f101f9fb18-01
2022-04-25T18:42:12.934Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:12.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e35cb0a1532ab3f94ef7b86d2efcb6eba0640a3-0b19db8788d45bc8-01 outer:exit 2b-6e35cb0a1532ab3f94ef7b86d2efcb6eba0640a3-6263837a2e55482d-01
2022-04-25T18:42:12.940Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:12.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd69f00a08490cff4f82db97e9267e804eb73cb-d879ca5a5aac97d7-01 outer:exit 2b-bfd69f00a08490cff4f82db97e9267e804eb73cb-94039da2eb16d827-01
2022-04-25T18:42:12.941Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:12.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1983ce52f1e1413e356689be0631474f75c0a0b-b8a5299149364d2b-01 outer:exit 2b-b1983ce52f1e1413e356689be0631474f75c0a0b-76c6a7e714816361-01
2022-04-25T18:42:12.944Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:12.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b90b405bdec3362a299ef982565e7d3333967e-0dfb6feabddcd58f-01 outer:exit 2b-a1b90b405bdec3362a299ef982565e7d3333967e-cd27d65a65373249-01
2022-04-25T18:42:12.962Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:12.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ecc7582433abe962e5f16f8c53a4457d709f2f2-08dde31111606270-01 outer:exit 2b-6ecc7582433abe962e5f16f8c53a4457d709f2f2-a818040e5d14aa36-01
2022-04-25T18:42:12.972Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:12.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72170411e187a24b5a19b460535b6d1f9b2a291-9bf57853ac759c2d-01 outer:exit 2b-a72170411e187a24b5a19b460535b6d1f9b2a291-7b23e8f26d6070f6-01
2022-04-25T18:42:12.975Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:12.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-111cda5f75e755d55d8b4c8cc304098d4760bb2d-92ab0540dcc57c6e-01 outer:exit 2b-111cda5f75e755d55d8b4c8cc304098d4760bb2d-aba2961406554cde-01
2022-04-25T18:42:12.978Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:12.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-f51dff27a207f945928736ef70b5a819339fd2b9-4303bc7b366aeeac-01 outer:exit 2b-f51dff27a207f945928736ef70b5a819339fd2b9-b41cb471daa2b587-01
2022-04-25T18:42:12.982Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:13.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-dec343431589f668c0d34cbdac196c436c5d8738-234f491a3b59c684-01 outer:exit 2b-dec343431589f668c0d34cbdac196c436c5d8738-74f1eb5a6537f8a2-01
2022-04-25T18:42:13.014Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (377ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:20.078Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:20.079Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:20.079Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:20.080Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:20.153Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:20.296Z appoptics:patching patched crypto 
2022-04-25T18:42:20.318Z appoptics:patching patched https 
2022-04-25T18:42:20.345Z appoptics:patching patched http 
2022-04-25T18:42:20.399Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:20.400Z appoptics:patching patched fs 
2022-04-25T18:42:20.427Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v18.0.0)
2022-04-25T18:42:20.434Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-25T18:42:20.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-87695704b4f1c6ab2363e52e73894566d56093eb-6c6e79fe1afe6631-01 outer:exit 2b-87695704b4f1c6ab2363e52e73894566d56093eb-e94ebe47a67f3cf1-01
2022-04-25T18:42:20.486Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:20.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bfba8c545da1aad6b28f4481a2890af5bb962f7-5b6820ea65389f6a-01 outer:exit 2b-7bfba8c545da1aad6b28f4481a2890af5bb962f7-43899f34fd0fa237-01
2022-04-25T18:42:20.538Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:20.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f246cc62e9d7fde2b2b9b8ae2dadf13e2eebf9d-91354906e16e83a7-01 outer:exit 2b-0f246cc62e9d7fde2b2b9b8ae2dadf13e2eebf9d-bb6a35089d65420d-01
2022-04-25T18:42:20.542Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:20.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-656e2b8bce980041302a38a8d4c909d40b150cc0-06ec6ada2010102b-01 outer:exit 2b-656e2b8bce980041302a38a8d4c909d40b150cc0-14ccb21edf0194aa-01
2022-04-25T18:42:20.546Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:20.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-566c451e44db3c3d137eab83a09f6dcd5a1a6841-e4bfe6785d067db5-01 outer:exit 2b-566c451e44db3c3d137eab83a09f6dcd5a1a6841-cde96968c312af89-01
2022-04-25T18:42:20.553Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:20.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa73a1ccaeca18a754713b5cfee309f78df98a2d-5c7183bdb23815ab-01 outer:exit 2b-aa73a1ccaeca18a754713b5cfee309f78df98a2d-aea311383378bd74-01
2022-04-25T18:42:20.557Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:20.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-c40e6e64acc6a1f522212effa9dffab5a1c700a6-89c335b5a5743e3a-01 outer:exit 2b-c40e6e64acc6a1f522212effa9dffab5a1c700a6-436dbf691a5d68b6-01
2022-04-25T18:42:20.559Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:20.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc55307ef426e8b6a024f4d59546a5a9989aae8e-9f8cdc3024154887-01 outer:exit 2b-bc55307ef426e8b6a024f4d59546a5a9989aae8e-10a3511a89429e12-01
2022-04-25T18:42:20.562Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:20.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-369772a526acc245ea75c1a92c1c9a726d1bf37e-63eea9fa816fdaa3-01 outer:exit 2b-369772a526acc245ea75c1a92c1c9a726d1bf37e-496bf051c846300b-01
2022-04-25T18:42:20.567Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:20.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-acf8c9de45ade5765231d10ab79abe8bee795275-4c4a0620ea6f3c3e-01 outer:exit 2b-acf8c9de45ade5765231d10ab79abe8bee795275-ddbebbb3b98eece0-01
2022-04-25T18:42:20.570Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:20.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1fbcde378d9eef7a021c8375833e6f77732ec33-128e2d6d23446392-01 outer:exit 2b-f1fbcde378d9eef7a021c8375833e6f77732ec33-2e2d7afc387e0d1a-01
2022-04-25T18:42:20.574Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:20.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dffb88c24459fd890a63a56a93e442db2823f91-5a884bedaa421037-01 outer:exit 2b-4dffb88c24459fd890a63a56a93e442db2823f91-f67bda22e08366a8-01
2022-04-25T18:42:20.594Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:20.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-640182e0497dfe9cafb63c4142826ca685512c4e-741f6e57456180b0-01 outer:exit 2b-640182e0497dfe9cafb63c4142826ca685512c4e-2c831da6a3c4bea2-01
2022-04-25T18:42:20.613Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:20.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-be5446d24406e853770082a8ced4fb819f9b9fae-044e1a66cf75fb7b-01 outer:exit 2b-be5446d24406e853770082a8ced4fb819f9b9fae-944966b645d077af-01
2022-04-25T18:42:20.656Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:20.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1471051be3e4f3a5bd6a8cf7901fd8fe9eb86dc-e1583ffc73536a58-01 outer:exit 2b-c1471051be3e4f3a5bd6a8cf7901fd8fe9eb86dc-a251a1afeaca95ed-01
2022-04-25T18:42:20.659Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:20.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-e605a71369b6848fa34aaeeb12e4c412b136bff5-040cf6f67d98f56e-01 outer:exit 2b-e605a71369b6848fa34aaeeb12e4c412b136bff5-911091d4d81cd355-01
2022-04-25T18:42:20.662Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:20.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5c92c23ebd4cf1be89e9b460c662e67fa79049a-63f8342bacd088ae-01 outer:exit 2b-e5c92c23ebd4cf1be89e9b460c662e67fa79049a-c4568f6972300877-01
2022-04-25T18:42:20.665Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:20.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0b73ed5018e0b1a09912e04c17261754153eaf0-073e57184e8dfeec-01 outer:exit 2b-e0b73ed5018e0b1a09912e04c17261754153eaf0-260c593a8b3aafc1-01
2022-04-25T18:42:20.669Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:20.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-e49978c65c3bb8c2ff3452cf06f63ff443c79780-0a06c8b917403aab-01 outer:exit 2b-e49978c65c3bb8c2ff3452cf06f63ff443c79780-3b62031564c8c12a-01
2022-04-25T18:42:20.672Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:20.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-648fb054e068ef9e812e4479fbc14f68da25e4de-706ef5267b4db099-01 outer:exit 2b-648fb054e068ef9e812e4479fbc14f68da25e4de-86a9fd5a9368f729-01
2022-04-25T18:42:20.674Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:20.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-aef72c95482c058746d358825485ad42970e4dce-f6c0dee7ac592b7c-01 outer:exit 2b-aef72c95482c058746d358825485ad42970e4dce-080e2c9cd379004b-01
2022-04-25T18:42:20.676Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:20.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e4e400c683f31af48130e41a6f3eacd6df1ebc-18bff9df9aaa3504-01 outer:exit 2b-23e4e400c683f31af48130e41a6f3eacd6df1ebc-2c3cba1e1ceb6940-01
2022-04-25T18:42:20.678Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:20.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-f014ff3f5ca3fb5ce37a4b193956f919962ffa83-cfe2a09dc2b511e9-01 outer:exit 2b-f014ff3f5ca3fb5ce37a4b193956f919962ffa83-834b462706792664-01
2022-04-25T18:42:20.681Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:20.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-be4e1fa13591f4d9e90e1df82efb7ee34bc09c35-6f72aceadf4b8baa-01 outer:exit 2b-be4e1fa13591f4d9e90e1df82efb7ee34bc09c35-dee841529f131ddc-01
2022-04-25T18:42:20.684Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:20.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f6b7372715ed182da6fb456ccbfe88382f2ddcb-7d269a51f00c3ad3-01 outer:exit 2b-0f6b7372715ed182da6fb456ccbfe88382f2ddcb-4dd581104f4fd2d1-01
2022-04-25T18:42:20.687Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:20.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3de1b23477eb684ab26ca47f43ad386e5347357-7cccbf5c0b04e0c0-01 outer:exit 2b-f3de1b23477eb684ab26ca47f43ad386e5347357-c9f98a45e4294564-01
2022-04-25T18:42:20.689Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:20.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-af7e739d96809853a65364afcf149c294db6c7f4-576a80a2faca560e-01 outer:exit 2b-af7e739d96809853a65364afcf149c294db6c7f4-800a355551188692-01
2022-04-25T18:42:20.709Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:20.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a67659e0325d5d9b9e8fa742cec77c90b8b99dc-510ee73b3498bd9d-01 outer:exit 2b-8a67659e0325d5d9b9e8fa742cec77c90b8b99dc-b9fdd7a8c6f9b00d-01
2022-04-25T18:42:20.727Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:20.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-732d5405dfc4fc58b27b9df1da3ce642e4946cba-c8051de97ac1e65a-01 outer:exit 2b-732d5405dfc4fc58b27b9df1da3ce642e4946cba-fb9d6aac795f48b0-01
2022-04-25T18:42:20.737Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:20.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbf2e854ffcee4cfde4589dd858683ed4bd31e64-8cc70dbf6d3466dd-01 outer:exit 2b-dbf2e854ffcee4cfde4589dd858683ed4bd31e64-59004dbb17a90953-01
2022-04-25T18:42:20.745Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:20.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-30430af0f9c9874e59a16068bf8f4e6ee86f32b8-13f70979afee57e5-01 outer:exit 2b-30430af0f9c9874e59a16068bf8f4e6ee86f32b8-a7602847ccac7be9-01
2022-04-25T18:42:20.747Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:20.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-5561ae524d56f96a5357eca0b50452e0d49058c2-728c6c235879d5fe-01 outer:exit 2b-5561ae524d56f96a5357eca0b50452e0d49058c2-f7dee32cb9ae3dec-01
2022-04-25T18:42:20.751Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:20.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec30b825abbf71ac1592a8329cb6ff9876b69467-314c3890fd741717-01 outer:exit 2b-ec30b825abbf71ac1592a8329cb6ff9876b69467-2dbc65b64586eb29-01
2022-04-25T18:42:20.758Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:20.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-9916917dbc1b91af88cbc5c2f00df8894efe049d-b5bb08ed9347f3c8-01 outer:exit 2b-9916917dbc1b91af88cbc5c2f00df8894efe049d-634956321342c9fa-01
2022-04-25T18:42:20.760Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:20.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-23180d01102f7db7dbee493969e99b9360866000-27a943898549da0f-01 outer:exit 2b-23180d01102f7db7dbee493969e99b9360866000-8a0e1d29fef62605-01
2022-04-25T18:42:20.762Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:20.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bd694840b79a1f8dffd29fe2ac1b9b0328620e8-e7f8c88cd0a67a05-01 outer:exit 2b-5bd694840b79a1f8dffd29fe2ac1b9b0328620e8-fea5bbedf3156f47-01
2022-04-25T18:42:20.764Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:20.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-001bb3e96a75e9b3eae19fc3f7f4c3b6efe1d44a-58b09176f5916b12-01 outer:exit 2b-001bb3e96a75e9b3eae19fc3f7f4c3b6efe1d44a-4138065f2a34c7ae-01
2022-04-25T18:42:20.766Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:20.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-3623f0a08e125d63357bd99395c0c47e09bda720-8ac8619d2108b6a6-01 outer:exit 2b-3623f0a08e125d63357bd99395c0c47e09bda720-8f672bc88e305ff7-01
2022-04-25T18:42:20.768Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:20.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-b066b90d1b4134961dbf3cffca46786eb0226f7c-e8b9388294eec988-01 outer:exit 2b-b066b90d1b4134961dbf3cffca46786eb0226f7c-a68fbebc0661f12d-01
2022-04-25T18:42:20.788Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:20.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-b88e9b2d1a1194234836d89951466cf939fa3efa-27b2bb1c7e629dda-01 outer:exit 2b-b88e9b2d1a1194234836d89951466cf939fa3efa-ddf8fd180899fb26-01
2022-04-25T18:42:20.798Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:20.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-41aa1c890cc8871918bbc287048b911e14f5ec46-3c99f35d03c4ef4a-01 outer:exit 2b-41aa1c890cc8871918bbc287048b911e14f5ec46-608ab586e2c2c5b2-01
2022-04-25T18:42:20.802Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:20.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-dffcd8e8694fccd94abefd816662f3121528576f-5283872abf3778a6-01 outer:exit 2b-dffcd8e8694fccd94abefd816662f3121528576f-e4e631cf487a6108-01
2022-04-25T18:42:20.805Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:20.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e7de10311677e8cb60128b2a4b1f445cf45f157-20d5ae7748af0b43-01 outer:exit 2b-3e7de10311677e8cb60128b2a4b1f445cf45f157-c39535f9753aff0c-01
2022-04-25T18:42:20.832Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:20.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-aae491327e418ca01a00b23512e3b43ca3478041-4874b0fe13fee151-01 outer:exit 2b-aae491327e418ca01a00b23512e3b43ca3478041-d9a77b6322aa814d-01
2022-04-25T18:42:20.869Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (428ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:28.485Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:28.486Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:28.486Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:28.487Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:28.555Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:28.681Z appoptics:patching patched crypto 
2022-04-25T18:42:28.702Z appoptics:patching patched https 
2022-04-25T18:42:28.702Z appoptics:patching patched http 
2022-04-25T18:42:28.750Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:28.751Z appoptics:patching patched fs 
2022-04-25T18:42:28.777Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v18.0.0)
2022-04-25T18:42:28.783Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-25T18:42:28.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c138be11f81123676cb391852a2b82c1dc007af-c77cad62060efb8a-01 outer:exit 2b-9c138be11f81123676cb391852a2b82c1dc007af-a668973d7ee93439-01
2022-04-25T18:42:28.840Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:28.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ec77aa4956f95f6b8ea438a64c921fecd419ae0-9c5d1ba5caff99d3-01 outer:exit 2b-7ec77aa4956f95f6b8ea438a64c921fecd419ae0-d68edfb98a175390-01
2022-04-25T18:42:28.888Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:28.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-84b5dab15c5f07b1bf282b41a86c2b453ec094c5-7bd2dbc2a5e8bf5b-01 outer:exit 2b-84b5dab15c5f07b1bf282b41a86c2b453ec094c5-b870baa04385c0bc-01
2022-04-25T18:42:28.892Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:28.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8238a7c4c16a9d40743eaad56efd294728b452e-de06e8c69f21a0a9-01 outer:exit 2b-e8238a7c4c16a9d40743eaad56efd294728b452e-74ec41bf36f3f703-01
2022-04-25T18:42:28.896Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:28.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e080e80b0e3704b5305ac01c1a08e51a80f1afd-7e45f4fc4481d63d-01 outer:exit 2b-7e080e80b0e3704b5305ac01c1a08e51a80f1afd-642709c7339ba2fe-01
2022-04-25T18:42:28.901Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:28.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bea32f9e0b9b1941b947035f119bc1dcbb72e1e-ab01e0289170e9e1-01 outer:exit 2b-2bea32f9e0b9b1941b947035f119bc1dcbb72e1e-9050f55a56b789d9-01
2022-04-25T18:42:28.905Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:28.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce6246f87712cf9eb022ef07a20fcc35c099536c-7b1d86643b53122f-01 outer:exit 2b-ce6246f87712cf9eb022ef07a20fcc35c099536c-8a5fd7a13d5cd9bc-01
2022-04-25T18:42:28.908Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:28.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fe808d51431e2994a6306b754e26e2e4a29d03c-8e00e89f9dadf1f2-01 outer:exit 2b-3fe808d51431e2994a6306b754e26e2e4a29d03c-c188c9b8279d45a2-01
2022-04-25T18:42:28.911Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:28.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a7e670e7c789e143bc51e0131c43fa27361609b-b778a0cba289818f-01 outer:exit 2b-9a7e670e7c789e143bc51e0131c43fa27361609b-580d5b01d1dfaf23-01
2022-04-25T18:42:28.914Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:28.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0f615629b7352759770e687cf531b9bff2f0054-30ceb97b0e3de09c-01 outer:exit 2b-e0f615629b7352759770e687cf531b9bff2f0054-2c4339f983d21a1b-01
2022-04-25T18:42:28.918Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:28.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-2780c6092c8e56ac6153bd53d290c190e855e630-4be29025a12dff0a-01 outer:exit 2b-2780c6092c8e56ac6153bd53d290c190e855e630-e8f61daa55d42e48-01
2022-04-25T18:42:28.924Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:28.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aad509418b634487df28578fc05cc336eb8c023-d3d5b802e55f20bf-01 outer:exit 2b-0aad509418b634487df28578fc05cc336eb8c023-f2912df2b8e54f30-01
2022-04-25T18:42:28.931Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:28.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d07970c6b9b6c273472797f251997805226d85d-d264ca1ff0e6229a-01 outer:exit 2b-8d07970c6b9b6c273472797f251997805226d85d-5781bac7a43c0538-01
2022-04-25T18:42:28.950Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:28.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7d7388571e3941e20ae753a34d85ec3775e0ac3-cab5cacdbe5dd95b-01 outer:exit 2b-d7d7388571e3941e20ae753a34d85ec3775e0ac3-ab058fe9d7c259d7-01
2022-04-25T18:42:28.992Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:28.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-f13f082e4202420c0bb75cd344bb57d0ee64f642-ac5b913bad741a01-01 outer:exit 2b-f13f082e4202420c0bb75cd344bb57d0ee64f642-8cf4b0a5e89ec4aa-01
2022-04-25T18:42:28.995Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:28.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-68362414cd33b6b6a5ffd0f7052eb4fe4e11528a-4fb1d53d4acd5745-01 outer:exit 2b-68362414cd33b6b6a5ffd0f7052eb4fe4e11528a-0893dfb28ace38a1-01
2022-04-25T18:42:28.998Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:29.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-3402a698036ebbb670e1568fdc5ee66f5bd44b55-dda5e7854753523a-01 outer:exit 2b-3402a698036ebbb670e1568fdc5ee66f5bd44b55-e0484710e79652f7-01
2022-04-25T18:42:29.001Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:29.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba2ba697355d46406d13b527aee8e300757dc398-1c7917e0e13bc26b-01 outer:exit 2b-ba2ba697355d46406d13b527aee8e300757dc398-49abbfa2c4c388ac-01
2022-04-25T18:42:29.004Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:29.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-d82176cdf4204ba363f4ac289b05f7ea1b772280-46f00d61cc868cb3-01 outer:exit 2b-d82176cdf4204ba363f4ac289b05f7ea1b772280-c4f2d9dca6ace50e-01
2022-04-25T18:42:29.007Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:29.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf8576ab1a9dc9cdc9f2664932efc8cb8c0d2f16-3264668e4e942fa7-01 outer:exit 2b-cf8576ab1a9dc9cdc9f2664932efc8cb8c0d2f16-4e3800bd2b163fe2-01
2022-04-25T18:42:29.009Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:29.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-62ab0c659976d457b22048db3560103aa3634843-d092b6799e961035-01 outer:exit 2b-62ab0c659976d457b22048db3560103aa3634843-8547f7c7742d24b5-01
2022-04-25T18:42:29.011Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:29.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91a36f9715090312423a7f7ecdb7ef4377eef57-72a71e1c098318ce-01 outer:exit 2b-b91a36f9715090312423a7f7ecdb7ef4377eef57-0849eebda98077ba-01
2022-04-25T18:42:29.014Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:29.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-650a21a206f3a0bb2cb80f6bc876b0b1cdf6a8fd-4cbf643881cc5976-01 outer:exit 2b-650a21a206f3a0bb2cb80f6bc876b0b1cdf6a8fd-8fc8dd127b81ac9b-01
2022-04-25T18:42:29.017Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:29.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cf8246a89ab042fe7ff3d839b0381312aaf8966-a304165d46fc332f-01 outer:exit 2b-6cf8246a89ab042fe7ff3d839b0381312aaf8966-633b534cbe54d00c-01
2022-04-25T18:42:29.020Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:29.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e7b77a9857751bd9534ba98b0239bf14ca73b23-e0ff5a1535ad1172-01 outer:exit 2b-7e7b77a9857751bd9534ba98b0239bf14ca73b23-3457dacdffd885cb-01
2022-04-25T18:42:29.022Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:29.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-26dcad0f1cc041b9f4e7c72eb3de3fb30d59b7c8-0703160aba4714ea-01 outer:exit 2b-26dcad0f1cc041b9f4e7c72eb3de3fb30d59b7c8-1184571b18a0f697-01
2022-04-25T18:42:29.025Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:29.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4499d7424d86c263bb51d99f2a631b139675ce-84079b777a9d2183-01 outer:exit 2b-de4499d7424d86c263bb51d99f2a631b139675ce-b5c0fca21a285cd4-01
2022-04-25T18:42:29.032Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:29.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-abf3229bd4afd2853b65ebffbcb9579d588f013f-2e51e71b89f09fa0-01 outer:exit 2b-abf3229bd4afd2853b65ebffbcb9579d588f013f-06b5f96dcc704140-01
2022-04-25T18:42:29.039Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:29.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ccee67bb8181d6a0ed12399507c716e68e5e9ff-e6b90ac7ce3347e8-01 outer:exit 2b-8ccee67bb8181d6a0ed12399507c716e68e5e9ff-3de1396df0a3235e-01
2022-04-25T18:42:29.048Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:29.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-403251a7eedfd561bc3be84a909876ff87555855-5c4d93d0b80c030d-01 outer:exit 2b-403251a7eedfd561bc3be84a909876ff87555855-cc9bd7c30c81e4ec-01
2022-04-25T18:42:29.056Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:29.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-82dfc9282f3c60867abf6ed9b539d2087485768b-f3c9d2ab76a52667-01 outer:exit 2b-82dfc9282f3c60867abf6ed9b539d2087485768b-b569b106543e0224-01
2022-04-25T18:42:29.058Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:29.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8dababbf033e96be70d012b10bc0cbfa2e9a1ca-fa79e101c819ce57-01 outer:exit 2b-e8dababbf033e96be70d012b10bc0cbfa2e9a1ca-900a48c671d4fef5-01
2022-04-25T18:42:29.062Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:29.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e8c4c93063a588e393a623eaa4f8a0ec5820859-38ce50974e963101-01 outer:exit 2b-4e8c4c93063a588e393a623eaa4f8a0ec5820859-b5c885b341899a9c-01
2022-04-25T18:42:29.069Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:29.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c08eb2c6089d456b1e6bfc14770cf354bb3e3ee-a89a06ee1593a866-01 outer:exit 2b-4c08eb2c6089d456b1e6bfc14770cf354bb3e3ee-347d435fbefcc994-01
2022-04-25T18:42:29.072Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:29.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-2acfda437fd67220bc604cc808fab1bc25321137-cf5bf5fb336ef65c-01 outer:exit 2b-2acfda437fd67220bc604cc808fab1bc25321137-99cc3d563f2f17aa-01
2022-04-25T18:42:29.074Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:29.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7760d1dcfbd7960c6270cd0b8f7011d385a625d-dd22babc1fdd3ced-01 outer:exit 2b-d7760d1dcfbd7960c6270cd0b8f7011d385a625d-99b371a16a1f2425-01
2022-04-25T18:42:29.076Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:29.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-115b57481dac5bd546477cafb6121ee8dc6de4da-f4f8a8e98d9a9653-01 outer:exit 2b-115b57481dac5bd546477cafb6121ee8dc6de4da-daff85e80d16fce8-01
2022-04-25T18:42:29.080Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:29.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fe984f1868eb70a192981b37ba2faa4eac6d544-341b3d85b9fc779a-01 outer:exit 2b-3fe984f1868eb70a192981b37ba2faa4eac6d544-cd97b2129cc64c08-01
2022-04-25T18:42:29.082Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:29.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-5df64d7120240e52f2b8569478bcd84e3f8d06b9-2e09e53be4bc8c64-01 outer:exit 2b-5df64d7120240e52f2b8569478bcd84e3f8d06b9-a1d4c1df88b8a047-01
2022-04-25T18:42:29.093Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:29.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d0ece60dda1490209dee8e38909eb36b4dfb7cc-c1ee349b8d48f5f8-01 outer:exit 2b-7d0ece60dda1490209dee8e38909eb36b4dfb7cc-1dcc5c84b34cedd4-01
2022-04-25T18:42:29.106Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:29.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5464ff971cc300aa86a2d3a5992e23954f1e32c-f0638a1da448f749-01 outer:exit 2b-a5464ff971cc300aa86a2d3a5992e23954f1e32c-179be9cf85ce5614-01
2022-04-25T18:42:29.109Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:29.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a34e044197ee0935484f66e0fe4be90198731b0-4a1d7b0ed1dfa6e4-01 outer:exit 2b-9a34e044197ee0935484f66e0fe4be90198731b0-5b4f5b7e18a0e090-01
2022-04-25T18:42:29.112Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:29.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-e698a9f84b08ec8197826d48623a259ebbb547e7-e87f6af17a885e16-01 outer:exit 2b-e698a9f84b08ec8197826d48623a259ebbb547e7-3900a786d061bd92-01
2022-04-25T18:42:29.115Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:29.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-774d310ba9bf4e09dd30c71d9e100cb483593937-38728e15fa939522-01 outer:exit 2b-774d310ba9bf4e09dd30c71d9e100cb483593937-2031edea767af273-01
2022-04-25T18:42:29.149Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (359ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:37.131Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:37.132Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:37.132Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:37.132Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:37.201Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:37.331Z appoptics:patching patched crypto 
2022-04-25T18:42:37.353Z appoptics:patching patched https 
2022-04-25T18:42:37.353Z appoptics:patching patched http 
2022-04-25T18:42:37.407Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:37.408Z appoptics:patching patched fs 
2022-04-25T18:42:37.434Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v18.0.0)
2022-04-25T18:42:37.440Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-25T18:42:37.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d10fe0d80517bc9d3e30e05c830b2b9984c79d-0d920818e5171f7b-01 outer:exit 2b-d8d10fe0d80517bc9d3e30e05c830b2b9984c79d-1befdb83442c0505-01
2022-04-25T18:42:37.490Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:37.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ffb5b9026a1a1278730bd365cfa5ff02fd18fe5-9c8cd754fafd1d8c-01 outer:exit 2b-1ffb5b9026a1a1278730bd365cfa5ff02fd18fe5-103d924358d2083a-01
2022-04-25T18:42:37.542Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:37.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-651951c72aa309c2fc9e1980d9fad17e4bf60790-7bb6bcccd7d1a9fd-01 outer:exit 2b-651951c72aa309c2fc9e1980d9fad17e4bf60790-6bae25556b88d8a5-01
2022-04-25T18:42:37.547Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:37.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-07075a6e5077e5ef6f22ec264be5ba0a7b16ac3a-6fb8abfcd6315c96-01 outer:exit 2b-07075a6e5077e5ef6f22ec264be5ba0a7b16ac3a-f2c57d08930b180a-01
2022-04-25T18:42:37.550Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:37.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f516d03ea62e08b5ddcff8dda2080fe03ba1523-4b61a51a2c005839-01 outer:exit 2b-2f516d03ea62e08b5ddcff8dda2080fe03ba1523-493022e44431aff7-01
2022-04-25T18:42:37.555Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:37.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-683edefd224b4122195889457831188514ff8600-40be7e88b8647ddd-01 outer:exit 2b-683edefd224b4122195889457831188514ff8600-44e2b6a6009123a1-01
2022-04-25T18:42:37.559Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:37.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-855f3341fc3856eb2c066e31467995f34c8b3c55-ac985b4403d9a493-01 outer:exit 2b-855f3341fc3856eb2c066e31467995f34c8b3c55-919ccc96a1d7737a-01
2022-04-25T18:42:37.562Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:37.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-a478d527ce352769e84aed7b4e8ba67af0c263c4-b12de95533a3ea84-01 outer:exit 2b-a478d527ce352769e84aed7b4e8ba67af0c263c4-a376501043114e34-01
2022-04-25T18:42:37.564Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:37.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7c61d58659ec406f7fc5bbf3accb4fd2985588e-dfb25be89730aa87-01 outer:exit 2b-b7c61d58659ec406f7fc5bbf3accb4fd2985588e-7f9eb57778948674-01
2022-04-25T18:42:37.568Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:37.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-c93428d9358d756fb9fde1504fe7460231015665-296d266770d84898-01 outer:exit 2b-c93428d9358d756fb9fde1504fe7460231015665-9606da10b9c4d09e-01
2022-04-25T18:42:37.571Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:37.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-38ba3ff7d54f514d1cd4c667b64aeca9c820ec1c-1755d774d272a9c1-01 outer:exit 2b-38ba3ff7d54f514d1cd4c667b64aeca9c820ec1c-86eccf34f9b92e2c-01
2022-04-25T18:42:37.575Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:37.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e1ef6735180401ce44c6402366f15c099c49185-f45c6e792aec6354-01 outer:exit 2b-2e1ef6735180401ce44c6402366f15c099c49185-1bf849276727499c-01
2022-04-25T18:42:37.582Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:37.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-50d9bd143b71f6472b5bf6e9b7a887c0bb4ee3ee-3abd62591df9b3f9-01 outer:exit 2b-50d9bd143b71f6472b5bf6e9b7a887c0bb4ee3ee-5adfa554735bcf3b-01
2022-04-25T18:42:37.601Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:37.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-83343f132c6c16591adc83eb41a53dd698452939-27b83fbca47613b4-01 outer:exit 2b-83343f132c6c16591adc83eb41a53dd698452939-f1127d49c55e2a75-01
2022-04-25T18:42:37.644Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:37.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e77f4d999cb69467d254dd84af3fc7da82ca687-265e299fd7a1fcf8-01 outer:exit 2b-5e77f4d999cb69467d254dd84af3fc7da82ca687-2da3eae827d33aac-01
2022-04-25T18:42:37.648Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:37.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-3247ba3855f7e61b5a929db3caff97167407cffa-49fec076a67665c7-01 outer:exit 2b-3247ba3855f7e61b5a929db3caff97167407cffa-811d4e92bec3e71b-01
2022-04-25T18:42:37.652Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:37.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a6fbcac78df372ead6fa88441a5fc0f4b7de9cd-1dad985ea43498bc-01 outer:exit 2b-3a6fbcac78df372ead6fa88441a5fc0f4b7de9cd-fd2f43887da0c864-01
2022-04-25T18:42:37.655Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:37.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-434a8360ded40912c688a62c25b4410b149ad8a8-d7caa02baa4d459e-01 outer:exit 2b-434a8360ded40912c688a62c25b4410b149ad8a8-4953240d9e06c674-01
2022-04-25T18:42:37.658Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:37.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8b3466ebcd5e2b04c1610b2bdda87ec04c955d4-75fa3312b0045d6b-01 outer:exit 2b-b8b3466ebcd5e2b04c1610b2bdda87ec04c955d4-03f005fa25a42256-01
2022-04-25T18:42:37.661Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:37.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1fc326798a6de6583e2a91592b67036f4fa241f-9815d4903c0ccbd8-01 outer:exit 2b-d1fc326798a6de6583e2a91592b67036f4fa241f-9c5fa6ae8235212b-01
2022-04-25T18:42:37.663Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:37.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9c570cbd3a3ea9b2ecc5c131f580a679210b6db-91f059be8c9c10f7-01 outer:exit 2b-c9c570cbd3a3ea9b2ecc5c131f580a679210b6db-78b794d4d9e3dc72-01
2022-04-25T18:42:37.665Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:37.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-348821ebe68e552e92ebebcef6948fe889a26768-11dd14786b602b5f-01 outer:exit 2b-348821ebe68e552e92ebebcef6948fe889a26768-647512aff288e085-01
2022-04-25T18:42:37.668Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:37.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-904482d1eb809658b55a520d235b8610f505cdfe-bbabcbe9a13c4180-01 outer:exit 2b-904482d1eb809658b55a520d235b8610f505cdfe-7a1570f18f8b0951-01
2022-04-25T18:42:37.671Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:37.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-f219b6c5c0f05414dc70b6b8ae0697f78e3d87d7-c6c8cdf2b5064a0e-01 outer:exit 2b-f219b6c5c0f05414dc70b6b8ae0697f78e3d87d7-918c87104637195f-01
2022-04-25T18:42:37.674Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:37.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-16aa9a366a2e39d055d25eddd5f7f2aca41a2b5e-3aa73313255070b4-01 outer:exit 2b-16aa9a366a2e39d055d25eddd5f7f2aca41a2b5e-943e3e986e9fd921-01
2022-04-25T18:42:37.677Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:37.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae52cad827b1fecf20fe2fbc076245abcf3a7921-03be6ba26091594a-01 outer:exit 2b-ae52cad827b1fecf20fe2fbc076245abcf3a7921-9620b91fc3c64694-01
2022-04-25T18:42:37.679Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:37.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f1f91e55017f17a0952553f6863a0e055ee6a53-c3959da279e3e7dc-01 outer:exit 2b-2f1f91e55017f17a0952553f6863a0e055ee6a53-015fae7b5376f4d6-01
2022-04-25T18:42:37.686Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:37.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-eef9c9d4c172ed1bf8f3073c469a09060b2bc93c-1068bdfcc2eaf70a-01 outer:exit 2b-eef9c9d4c172ed1bf8f3073c469a09060b2bc93c-d9050f6371193c6a-01
2022-04-25T18:42:37.693Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:37.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-e94348ec2eeb9aac195e609310a1f4be4623b1b3-21cd183807b7149e-01 outer:exit 2b-e94348ec2eeb9aac195e609310a1f4be4623b1b3-53e91f1a8f7b7177-01
2022-04-25T18:42:37.703Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:37.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c25ab317d79d9ec5e06ce7926e2d6cfcfea9235-9564e2255045b8b7-01 outer:exit 2b-8c25ab317d79d9ec5e06ce7926e2d6cfcfea9235-16ac4d2c77511ec0-01
2022-04-25T18:42:37.712Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:37.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-bee4d783a73c6ea536139ca7e6243dcee3f49d4e-3117b055f199d5a5-01 outer:exit 2b-bee4d783a73c6ea536139ca7e6243dcee3f49d4e-d3bd4f6cb9097ec8-01
2022-04-25T18:42:37.714Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:37.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb1de840efb6b4ad997e4f8e8eac0a0590793930-79b93919d0ebd9f8-01 outer:exit 2b-cb1de840efb6b4ad997e4f8e8eac0a0590793930-f2127ebadc0cb6d9-01
2022-04-25T18:42:37.717Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:37.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-6938ee02eb7eaf9f10d325db480e22bb753244db-3ca0c9f2f686a3ea-01 outer:exit 2b-6938ee02eb7eaf9f10d325db480e22bb753244db-6237c374c52cfac9-01
2022-04-25T18:42:37.725Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:37.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-48f1d7375d643141df3f7c7304dd7ee2bb8e75a9-e20c43c24112ed57-01 outer:exit 2b-48f1d7375d643141df3f7c7304dd7ee2bb8e75a9-71e649617481b55b-01
2022-04-25T18:42:37.727Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:37.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5cd99e3d99426be7b866aa75cbc578c268d1c4c-f153013f51b9637e-01 outer:exit 2b-f5cd99e3d99426be7b866aa75cbc578c268d1c4c-d24e542b1d85d171-01
2022-04-25T18:42:37.730Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:37.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-c64c285671e2eeac340f9884a011148520cc129a-6feecc671df241fd-01 outer:exit 2b-c64c285671e2eeac340f9884a011148520cc129a-d8343305e6b44704-01
2022-04-25T18:42:37.732Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:37.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-394cb3a57b5dad23cac5138cccb9939ca3361deb-0226b8b0315fe98e-01 outer:exit 2b-394cb3a57b5dad23cac5138cccb9939ca3361deb-b6d1c00a9d54e639-01
2022-04-25T18:42:37.734Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:37.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed9dc7b63d32a686f47546a6c0b3a81223197cae-a63cb35627b221d9-01 outer:exit 2b-ed9dc7b63d32a686f47546a6c0b3a81223197cae-57519ef415a49d2e-01
2022-04-25T18:42:37.736Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:37.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-42903fbb94558071716dd17815565eb4ca72e088-e313f5c984e1ad4a-01 outer:exit 2b-42903fbb94558071716dd17815565eb4ca72e088-5e1476106df2fa70-01
2022-04-25T18:42:37.749Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:37.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e4aa4dc5c33f64cc3c1233506caf4a277036a60-fe70339609b4d79e-01 outer:exit 2b-3e4aa4dc5c33f64cc3c1233506caf4a277036a60-7cb913bcc902bad0-01
2022-04-25T18:42:37.763Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:37.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-01b81b225751a775e8eca234cfa691e7d77b260b-4b10136f5f8a8d4f-01 outer:exit 2b-01b81b225751a775e8eca234cfa691e7d77b260b-9f7bb68dd05573c3-01
2022-04-25T18:42:37.766Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:37.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-64a12fcbdd129f7e81fcce057b33283fc8d1137c-8bd0b6cdf1c21733-01 outer:exit 2b-64a12fcbdd129f7e81fcce057b33283fc8d1137c-350e8306744234b7-01
2022-04-25T18:42:37.769Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:37.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-63f5de1af3ea1e515c21aa8faa82f93cf590f98b-13d09bb442ed3b56-01 outer:exit 2b-63f5de1af3ea1e515c21aa8faa82f93cf590f98b-3e5508d3a22a87ef-01
2022-04-25T18:42:37.771Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:37.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d7ca01b454b06374b00eb2193f3906b7047af6d-cea77ee99e5280c7-01 outer:exit 2b-2d7ca01b454b06374b00eb2193f3906b7047af6d-9f0a13c11651223a-01
2022-04-25T18:42:37.807Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (360ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 9s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:48.087Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:48.087Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:48.088Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:48.088Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:48.196Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:48.382Z appoptics:patching patched crypto 
2022-04-25T18:42:48.440Z appoptics:patching patched https 
2022-04-25T18:42:48.441Z appoptics:patching patched http 
2022-04-25T18:42:48.501Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:48.501Z appoptics:patching patched fs 
2022-04-25T18:42:48.544Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v18.0.0)
2022-04-25T18:42:48.553Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-25T18:42:48.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c80bba8756d230f2340d2e54a54e93c6dacb433-dade9db95941c31f-01 outer:exit 2b-3c80bba8756d230f2340d2e54a54e93c6dacb433-152ea56124211229-01
2022-04-25T18:42:48.618Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:48.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba9cdfefa4a6996dd6515b448543588dd9086408-4d1713d419d914df-01 outer:exit 2b-ba9cdfefa4a6996dd6515b448543588dd9086408-0c200f4c22ada53d-01
2022-04-25T18:42:48.668Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:48.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3236ef00ee8519e982252883581afa9dff41087-c880c5d4747db4a9-01 outer:exit 2b-a3236ef00ee8519e982252883581afa9dff41087-9e7a2f550c06ca7f-01
2022-04-25T18:42:48.672Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:48.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9b866c64183bbeededa66f11167bcf607246e10-54ee90f6113f8304-01 outer:exit 2b-d9b866c64183bbeededa66f11167bcf607246e10-6f689ddc6dd69171-01
2022-04-25T18:42:48.678Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:48.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-718fdba7a52e773d9dea0e0758b8ee3881a21b3f-ec28b3406d94bd7a-01 outer:exit 2b-718fdba7a52e773d9dea0e0758b8ee3881a21b3f-5346c3cae7d099c6-01
2022-04-25T18:42:48.683Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:48.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ac0d888635d0339f06c127db3ddc78a2ed5d01d-e1b6c23a33f88fa9-01 outer:exit 2b-9ac0d888635d0339f06c127db3ddc78a2ed5d01d-ac2aa75d505d45fe-01
2022-04-25T18:42:48.687Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:48.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e6be35cfc4844715d1620b45d1e6cc63bfbf094-c7a156f6bc49964e-01 outer:exit 2b-5e6be35cfc4844715d1620b45d1e6cc63bfbf094-bfa352b4fdb14790-01
2022-04-25T18:42:48.690Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:48.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f1ccfaf8b763188910511589796a16d11a6e12b-96f1d827bac6cc3b-01 outer:exit 2b-1f1ccfaf8b763188910511589796a16d11a6e12b-3dec041376144c36-01
2022-04-25T18:42:48.694Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:48.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-84515f95588d6e1d51e64e41cdbeb7d819157f30-b0b0aeb6ea17ca70-01 outer:exit 2b-84515f95588d6e1d51e64e41cdbeb7d819157f30-8665e3377a26e24e-01
2022-04-25T18:42:48.697Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:48.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-47911fb0f2ef8d8cdc034a7e5bda35896762c424-404cfa18c249b7b8-01 outer:exit 2b-47911fb0f2ef8d8cdc034a7e5bda35896762c424-46692f8232790381-01
2022-04-25T18:42:48.701Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:48.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d6de0970737f9a7b927cf0eb21f17b22b4ac78e-c4c42498af51e04f-01 outer:exit 2b-9d6de0970737f9a7b927cf0eb21f17b22b4ac78e-37d672dcd176b198-01
2022-04-25T18:42:48.705Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:48.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-16f15c20531162d192df988b15927554247dc408-3f5e8e3581db5d5f-01 outer:exit 2b-16f15c20531162d192df988b15927554247dc408-041eb1c945c33002-01
2022-04-25T18:42:48.713Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:48.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-e50be11c0a909a19931022f5be378daad00dc80b-bf33d40df674d90e-01 outer:exit 2b-e50be11c0a909a19931022f5be378daad00dc80b-e4853ff367de8c6e-01
2022-04-25T18:42:48.729Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:48.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a5740845df8586e36304e3c1ae0376e5f3f2256-08fa3582e927f790-01 outer:exit 2b-1a5740845df8586e36304e3c1ae0376e5f3f2256-64d3b6bbf0233d15-01
2022-04-25T18:42:48.771Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:48.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7d73cb0b32489ccada382a2ca703321e050b65b-1ab07f34d19a2f69-01 outer:exit 2b-d7d73cb0b32489ccada382a2ca703321e050b65b-20e1a259c99f26b1-01
2022-04-25T18:42:48.775Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:48.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-73bcae5572f4dab0811f9c5254ac9f09b51e72e3-998aca33d28e9a48-01 outer:exit 2b-73bcae5572f4dab0811f9c5254ac9f09b51e72e3-e02dceec1ae91c6d-01
2022-04-25T18:42:48.777Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:48.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3af1aae2244ba24c5d55ab930483f408bac8aa4-3b09baba2d6aa323-01 outer:exit 2b-c3af1aae2244ba24c5d55ab930483f408bac8aa4-be019cde87228b83-01
2022-04-25T18:42:48.780Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:48.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bdbfa8b618588385d469fef9e9f3c3bef3998f8-28ae2aeb96bd0815-01 outer:exit 2b-4bdbfa8b618588385d469fef9e9f3c3bef3998f8-058a877a43855af4-01
2022-04-25T18:42:48.783Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:48.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e7bde9b0ed881ebec589ead22cc816b96d20bc6-c6cdcbd8deaf573f-01 outer:exit 2b-2e7bde9b0ed881ebec589ead22cc816b96d20bc6-23b3c54de83c2e89-01
2022-04-25T18:42:48.785Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:48.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0499b596ad594a51b62d7d185107bbdaa73baa1-3b84af81918a27a4-01 outer:exit 2b-f0499b596ad594a51b62d7d185107bbdaa73baa1-7d508b567f4f7e01-01
2022-04-25T18:42:48.787Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:48.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b617ec83a7230d623fc6847440e4642b93d2909-307df10c60f856d3-01 outer:exit 2b-5b617ec83a7230d623fc6847440e4642b93d2909-78bdb7e6762a988c-01
2022-04-25T18:42:48.789Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:48.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a1dd99be457fda1476f2adde75ecdea4277b063-5cdc6345954f555d-01 outer:exit 2b-7a1dd99be457fda1476f2adde75ecdea4277b063-1b6bd7dc5dcba611-01
2022-04-25T18:42:48.791Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:48.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-89c6d6b727fd59aef8d43e91adb5538b2b55c965-1e2152361331fd54-01 outer:exit 2b-89c6d6b727fd59aef8d43e91adb5538b2b55c965-9b30de56c82d02f1-01
2022-04-25T18:42:48.794Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:48.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-602d62d442f41bd18cf50a9ab129bc8fcd5bb8e2-47f143530331cb49-01 outer:exit 2b-602d62d442f41bd18cf50a9ab129bc8fcd5bb8e2-d1c22a275124c690-01
2022-04-25T18:42:48.797Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:48.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-43a762fc457016c396072360dd5a052d8682369c-d336aa28c2a80643-01 outer:exit 2b-43a762fc457016c396072360dd5a052d8682369c-249671d2fc2871d8-01
2022-04-25T18:42:48.799Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:48.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb10fa00fa4c3cc1c255246dfc2885ef84b8ed96-8e94115929a1a40d-01 outer:exit 2b-bb10fa00fa4c3cc1c255246dfc2885ef84b8ed96-458005ce5b36d098-01
2022-04-25T18:42:48.803Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:48.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d28b0cb039007bab63409ba0d2ab956f076ce3-07ec189d0daced52-01 outer:exit 2b-e8d28b0cb039007bab63409ba0d2ab956f076ce3-c7b3e79332c639e3-01
2022-04-25T18:42:48.810Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:48.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b3c59fda384d4220d1ee9ce55a7e96715651f63-3f6ca96589e87bc1-01 outer:exit 2b-9b3c59fda384d4220d1ee9ce55a7e96715651f63-1d68c80ecf620753-01
2022-04-25T18:42:48.817Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:48.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc80de828efe265f3d466deeb48479d93a4fadba-597c024233aaaa42-01 outer:exit 2b-bc80de828efe265f3d466deeb48479d93a4fadba-ced910c17c651a85-01
2022-04-25T18:42:48.826Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:48.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-54d8b46b012f4af7270d10a455e2b96605d1118e-630c8a5f190ed534-01 outer:exit 2b-54d8b46b012f4af7270d10a455e2b96605d1118e-9df8233c955929f2-01
2022-04-25T18:42:48.833Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:48.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-76e306c1936501af5125d9ea5abb0bbd406ec21f-c6d599ba03906f52-01 outer:exit 2b-76e306c1936501af5125d9ea5abb0bbd406ec21f-8110a787b74612ad-01
2022-04-25T18:42:48.835Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:48.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-3acda73eda0fae45f303b0d4da31519b6099804e-085b83adee1a2804-01 outer:exit 2b-3acda73eda0fae45f303b0d4da31519b6099804e-7b1f3d6cff180990-01
2022-04-25T18:42:48.839Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:48.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-e236d0fdc1c4dec2b180bc77e98a62d59bcdfead-8ea9b8932532647b-01 outer:exit 2b-e236d0fdc1c4dec2b180bc77e98a62d59bcdfead-eb32195ce155d278-01
2022-04-25T18:42:48.846Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:48.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c7ee549d7f1cd8fad2af48b1c367996930f07d4-ad295ec509315427-01 outer:exit 2b-3c7ee549d7f1cd8fad2af48b1c367996930f07d4-99e591258b68f5ba-01
2022-04-25T18:42:48.848Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:48.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec4c9c1ff931fbcab1377280f5b59afd4b7e5b60-dec7f277029a7eec-01 outer:exit 2b-ec4c9c1ff931fbcab1377280f5b59afd4b7e5b60-7e05e7001a27f992-01
2022-04-25T18:42:48.850Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:48.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-0774696ebb46c08ac221ea36defcc6247399023e-da03e46985f79ddd-01 outer:exit 2b-0774696ebb46c08ac221ea36defcc6247399023e-f836e6eab10a3b0c-01
2022-04-25T18:42:48.852Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:48.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-95f3b189ec1838b2372762e9887533c21b104801-fd169745abe7090a-01 outer:exit 2b-95f3b189ec1838b2372762e9887533c21b104801-abe70dfb70caed63-01
2022-04-25T18:42:48.854Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:48.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-4014bc5f7d46debc3bb313171333c698dd70d473-4ced87a410f66b86-01 outer:exit 2b-4014bc5f7d46debc3bb313171333c698dd70d473-d6395f85e1afd3d5-01
2022-04-25T18:42:48.856Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:48.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-be012834f62f61a4ddd474b84f925742b0026688-9f3fcc045573bc33-01 outer:exit 2b-be012834f62f61a4ddd474b84f925742b0026688-72b099eaf9c22f99-01
2022-04-25T18:42:48.867Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:48.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-4647ca901286bfcd5d165c51037f6c534ef5c780-6bf2a5558ac4215f-01 outer:exit 2b-4647ca901286bfcd5d165c51037f6c534ef5c780-4d098e9d3cddbda9-01
2022-04-25T18:42:48.876Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:48.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb7014f9090dac3d04c1c0c24f296c68f6f35bd4-e38a5c41df8b0570-01 outer:exit 2b-cb7014f9090dac3d04c1c0c24f296c68f6f35bd4-d7749654c579ac55-01
2022-04-25T18:42:48.881Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:48.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fb9bf6c13c954bf437ca5233151591bfd047992-71c6616f3297a517-01 outer:exit 2b-4fb9bf6c13c954bf437ca5233151591bfd047992-b3aa445dcc6f7d74-01
2022-04-25T18:42:48.884Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:48.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaafb0c0e4593b762cb29e6be5d25359e0aa5fd6-a6e3976f60be3923-01 outer:exit 2b-eaafb0c0e4593b762cb29e6be5d25359e0aa5fd6-b5f718e79db5b8cf-01
2022-04-25T18:42:48.892Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:48.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-af4c8b5fe8668340e4c5d04406957187c62ba81b-e10589f52d76cd32-01 outer:exit 2b-af4c8b5fe8668340e4c5d04406957187c62ba81b-7d3efaf6781cadda-01
2022-04-25T18:42:48.926Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (364ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 13s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:02.145Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:02.145Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:02.146Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:02.146Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:02.215Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:02.343Z appoptics:patching patched crypto 
2022-04-25T18:43:02.364Z appoptics:patching patched https 
2022-04-25T18:43:02.364Z appoptics:patching patched http 
2022-04-25T18:43:02.414Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:02.414Z appoptics:patching patched fs 
2022-04-25T18:43:02.443Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v18.0.0)
2022-04-25T18:43:02.449Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-25T18:43:02.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-05b902f71f2cd1b6f74b4f50cf55ae65640ff991-a5c67b87c875b44b-01 outer:exit 2b-05b902f71f2cd1b6f74b4f50cf55ae65640ff991-03c7e19ecb166889-01
2022-04-25T18:43:02.500Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:02.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cf59ce12cef8761b82807797e813b9e7841339a-a805918ef568bbed-01 outer:exit 2b-4cf59ce12cef8761b82807797e813b9e7841339a-1b176610cbb5048c-01
2022-04-25T18:43:02.551Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:02.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ad050a4bca0654e1a2a3b585429780e7ac0360f-4fecd371d1019c87-01 outer:exit 2b-5ad050a4bca0654e1a2a3b585429780e7ac0360f-3c1e414218531ab3-01
2022-04-25T18:43:02.555Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:02.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc4249039aa168b6fec4fe8485b3ed65daf94e24-e5d1e8bd4895e452-01 outer:exit 2b-dc4249039aa168b6fec4fe8485b3ed65daf94e24-24b8644874655e61-01
2022-04-25T18:43:02.559Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:02.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5f0928330ac37d99a70cb98018d90893cb29b46-35d4e33214532d6d-01 outer:exit 2b-e5f0928330ac37d99a70cb98018d90893cb29b46-d9f8fe2c7895a68a-01
2022-04-25T18:43:02.564Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:02.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-70c8d445d30dedc0a38db0c1dfefb54419b90494-6e06039f17ee8dab-01 outer:exit 2b-70c8d445d30dedc0a38db0c1dfefb54419b90494-812b780e00ad9e13-01
2022-04-25T18:43:02.568Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:02.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e9578fe568125856cdb76f919f7503acc8ded35-c4dede4b1ca33b8a-01 outer:exit 2b-7e9578fe568125856cdb76f919f7503acc8ded35-ffe2f350dc75b904-01
2022-04-25T18:43:02.572Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:02.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-451941d0952a8f93ccfd2e81df1e1e6939c1672f-506688895c4206c6-01 outer:exit 2b-451941d0952a8f93ccfd2e81df1e1e6939c1672f-fee1b66677f95c19-01
2022-04-25T18:43:02.575Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:02.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f31889ae84643e34f7378a18477ee4681dba6d5-b10f2775cca38494-01 outer:exit 2b-1f31889ae84643e34f7378a18477ee4681dba6d5-a19373cd9de0b86e-01
2022-04-25T18:43:02.578Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:02.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-29ee4ac99e20d9fbbfd3bf8598d1d02e5fd10369-9e5c44710e9738c2-01 outer:exit 2b-29ee4ac99e20d9fbbfd3bf8598d1d02e5fd10369-ba3027fa6c4f5d28-01
2022-04-25T18:43:02.582Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:02.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-7399927d395418f191ce3a973b42e0c851953e17-93fc699aeea87db2-01 outer:exit 2b-7399927d395418f191ce3a973b42e0c851953e17-5d2aa2244d87ff26-01
2022-04-25T18:43:02.586Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:02.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-4657642b58852dfabbd879269168282b4adf7115-33e57590a19b436f-01 outer:exit 2b-4657642b58852dfabbd879269168282b4adf7115-97c744423a73c114-01
2022-04-25T18:43:02.594Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:02.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c957ac7e96cd4a0dc604b9379746f7cbbfcac16-3130a4cbd17e9465-01 outer:exit 2b-4c957ac7e96cd4a0dc604b9379746f7cbbfcac16-8309940ac90cc9de-01
2022-04-25T18:43:02.614Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:02.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-470c4a85509e6f47e32cd1640eb8ed2f6ae8ac93-ace46c1113ad04f7-01 outer:exit 2b-470c4a85509e6f47e32cd1640eb8ed2f6ae8ac93-964b766012c99c95-01
2022-04-25T18:43:02.659Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:02.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa409ef9c288956cc04fc6408e6cbad8b5a00b30-cddc59599bf13a7c-01 outer:exit 2b-fa409ef9c288956cc04fc6408e6cbad8b5a00b30-e0467df132d3c887-01
2022-04-25T18:43:02.663Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:02.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a2e542ff87d24833bb99cb5826d06b5e13550c4-33f0d782448b92da-01 outer:exit 2b-6a2e542ff87d24833bb99cb5826d06b5e13550c4-ac3178dc12dbad13-01
2022-04-25T18:43:02.665Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:02.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b28155d861d348759c6399ddce9c84af749aa64-7e8d920ac9d34069-01 outer:exit 2b-7b28155d861d348759c6399ddce9c84af749aa64-530d9049b67570bb-01
2022-04-25T18:43:02.669Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:02.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-75c4dc17fd5a8e0f07e850fc2f1a47613fc71f9c-cfefc3127ab5b9df-01 outer:exit 2b-75c4dc17fd5a8e0f07e850fc2f1a47613fc71f9c-3b15b1ccfa15e8b7-01
2022-04-25T18:43:02.672Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:02.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffc4484a3dad946150ca814926dc8d9ffec56356-6705ca0a76249566-01 outer:exit 2b-ffc4484a3dad946150ca814926dc8d9ffec56356-efd2a158fbbd09db-01
2022-04-25T18:43:02.674Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:02.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e33cc7c0135a7ee296981ecfc2384c53293de3a-ba7bd0c78b5d22aa-01 outer:exit 2b-3e33cc7c0135a7ee296981ecfc2384c53293de3a-84c37ee0e39211c3-01
2022-04-25T18:43:02.676Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:02.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-e92f12523a2627ecea627893d51a9e6ec549976b-a76b6c2f61aa2796-01 outer:exit 2b-e92f12523a2627ecea627893d51a9e6ec549976b-96715af8eb74b5fa-01
2022-04-25T18:43:02.679Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:02.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-595ac42da4d6d48fbd1bd6f9d7a3ed313eba5678-28573a83dff78249-01 outer:exit 2b-595ac42da4d6d48fbd1bd6f9d7a3ed313eba5678-82032c1982c3f9a4-01
2022-04-25T18:43:02.681Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:02.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-be7a53cec1516562966c223af51edf32c0940063-6ca6af5716b7d098-01 outer:exit 2b-be7a53cec1516562966c223af51edf32c0940063-af4374df265e7f33-01
2022-04-25T18:43:02.685Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:02.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-83900cd50038c7a96e54691e561f94291834f4aa-cf3fa408ba0cc43b-01 outer:exit 2b-83900cd50038c7a96e54691e561f94291834f4aa-bfe1ea93b17bb6ec-01
2022-04-25T18:43:02.688Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:02.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dd9d7cafe853c1a85260131742e92d4b12bd527-a518b05b3152b236-01 outer:exit 2b-3dd9d7cafe853c1a85260131742e92d4b12bd527-6a0d4673c358ea70-01
2022-04-25T18:43:02.691Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:02.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-705d976740db25a06f090d93ca7fca38a58034ea-339f09d4e43f56e3-01 outer:exit 2b-705d976740db25a06f090d93ca7fca38a58034ea-31e695d64d02391b-01
2022-04-25T18:43:02.693Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:02.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-59ee9ce9c7c019ad1a183954ba498635b814c742-524022164b3115db-01 outer:exit 2b-59ee9ce9c7c019ad1a183954ba498635b814c742-504a4d0f16297f28-01
2022-04-25T18:43:02.700Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:02.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-26cfa6c5ae003ffcebdacf113a264b98ed6ac2c9-6cf35773b5d367fc-01 outer:exit 2b-26cfa6c5ae003ffcebdacf113a264b98ed6ac2c9-75b227329035b5b1-01
2022-04-25T18:43:02.707Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:02.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3c6db998e5b4a5497b7fe8dc681b8487806b7d3-454db696d8d2a6d6-01 outer:exit 2b-e3c6db998e5b4a5497b7fe8dc681b8487806b7d3-1ab435a896d587ef-01
2022-04-25T18:43:02.717Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:02.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b34370b42a2b43f6f120bc369c78e91c13d4693-eb53f3965bc9538e-01 outer:exit 2b-2b34370b42a2b43f6f120bc369c78e91c13d4693-adc939cf18984158-01
2022-04-25T18:43:02.725Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:02.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-320bc4eda2835e39943d51572d270f3fe4eba1a4-e4d073528430cd81-01 outer:exit 2b-320bc4eda2835e39943d51572d270f3fe4eba1a4-09cdf1fca2a05865-01
2022-04-25T18:43:02.728Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:02.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-87ff3cc1041862fe4d15f2ad1153c491f2c4f19a-53e97c75c5af9aa8-01 outer:exit 2b-87ff3cc1041862fe4d15f2ad1153c491f2c4f19a-f3838bbade44535c-01
2022-04-25T18:43:02.731Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:02.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e269fb4e2c7023b8ad7f6e5b4e3b37fd6a28829-82cb14b936f12adf-01 outer:exit 2b-1e269fb4e2c7023b8ad7f6e5b4e3b37fd6a28829-98e21fa46aebf8b6-01
2022-04-25T18:43:02.740Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:02.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-df836460e32e06df384896782e4b39dec2afbf37-edb2c02c8636f292-01 outer:exit 2b-df836460e32e06df384896782e4b39dec2afbf37-28d0941479e98283-01
2022-04-25T18:43:02.742Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:02.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-c94bdb2bcd17f59bcec86e6d4967d77e12d095e7-7f22b1d8be955e54-01 outer:exit 2b-c94bdb2bcd17f59bcec86e6d4967d77e12d095e7-4b4bbb43e5402615-01
2022-04-25T18:43:02.745Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:02.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1b39fbd986b7445414ef913971d3b5e475e45a2-e3d2ed16bd19bd4b-01 outer:exit 2b-c1b39fbd986b7445414ef913971d3b5e475e45a2-b23ce27852b30448-01
2022-04-25T18:43:02.747Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:02.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-14e470e92c6dd734f55809d187c9666e54108251-31cbd4664000508c-01 outer:exit 2b-14e470e92c6dd734f55809d187c9666e54108251-54553e56537ec954-01
2022-04-25T18:43:02.749Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:02.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-b650e99f25ed38de55409d8247ea0f9a5049fd7e-4ee175244c8bc47c-01 outer:exit 2b-b650e99f25ed38de55409d8247ea0f9a5049fd7e-38fdcf9d99a59415-01
2022-04-25T18:43:02.751Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:02.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bde423ef938acf7e740681715d209a0bd23e1a6-5247206f3bcb23cd-01 outer:exit 2b-3bde423ef938acf7e740681715d209a0bd23e1a6-49a761516fe13bae-01
2022-04-25T18:43:02.764Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:02.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0acb0cd6c0405ff1488769bbf0fce8cc9b37e80-a1c38217f11ed073-01 outer:exit 2b-a0acb0cd6c0405ff1488769bbf0fce8cc9b37e80-ad1e9468053d7648-01
2022-04-25T18:43:02.781Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:02.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e1f891d45ee3a6f19f539caa218f6ddbb7233fe-ef9d9d41d000c31a-01 outer:exit 2b-5e1f891d45ee3a6f19f539caa218f6ddbb7233fe-618605f942d3077a-01
2022-04-25T18:43:02.785Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:02.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdf7ed84c7c8cc53a7bdc655f0c185742a5af10c-34b8cfa293043921-01 outer:exit 2b-bdf7ed84c7c8cc53a7bdc655f0c185742a5af10c-6760364dc36ea6d1-01
2022-04-25T18:43:02.789Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:02.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdfbbcc1459c4b19a65bb7e23c3fd48296afafe7-223ec2a1b00809ab-01 outer:exit 2b-bdfbbcc1459c4b19a65bb7e23c3fd48296afafe7-71b3270e41586562-01
2022-04-25T18:43:02.792Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:02.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1acaab28e460145895a90139be835fa2781dd3b-221880663c7e78bf-01 outer:exit 2b-f1acaab28e460145895a90139be835fa2781dd3b-6bbdf818eed96e3d-01
2022-04-25T18:43:02.826Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (371ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:10.126Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:10.127Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:10.127Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:10.128Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:10.203Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:10.407Z appoptics:patching patched crypto 
2022-04-25T18:43:10.430Z appoptics:patching patched https 
2022-04-25T18:43:10.430Z appoptics:patching patched http 
2022-04-25T18:43:10.528Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:10.528Z appoptics:patching patched fs 
2022-04-25T18:43:10.602Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v18.0.0)
2022-04-25T18:43:10.614Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-25T18:43:10.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-185c02b2c2a605cc0e9a5ff6fd0e1099aad1c3dd-463da56979958bb2-01 outer:exit 2b-185c02b2c2a605cc0e9a5ff6fd0e1099aad1c3dd-1c75469701b40e4b-01
2022-04-25T18:43:10.670Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:10.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6b2d59a7dd05a590e697d68fac9aced02546153-6219fab0469b0acb-01 outer:exit 2b-f6b2d59a7dd05a590e697d68fac9aced02546153-245f15bdead148f6-01
2022-04-25T18:43:10.720Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:10.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d4ca633c21038b87512658fec44d840a21c1d14-30adecc7a3fe5b16-01 outer:exit 2b-4d4ca633c21038b87512658fec44d840a21c1d14-c0b0d9cfba4063fe-01
2022-04-25T18:43:10.726Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:10.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-34ff2969c805e46564563cd11c2b8afec551f17e-df59d4649134daf8-01 outer:exit 2b-34ff2969c805e46564563cd11c2b8afec551f17e-fce6744cccf127a4-01
2022-04-25T18:43:10.734Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:10.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-29d5fdf0e370bf872df43517c04fb5a1d6126061-0599fd72993ba552-01 outer:exit 2b-29d5fdf0e370bf872df43517c04fb5a1d6126061-322969bb8886bcc7-01
2022-04-25T18:43:10.739Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:10.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-561e851f1f89c3563ca54b265a80549fe8fa6c4b-1328b64bd5bb06e8-01 outer:exit 2b-561e851f1f89c3563ca54b265a80549fe8fa6c4b-b143df0bfcf1ba78-01
2022-04-25T18:43:10.743Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:10.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-9197a54750e61808f47e84ca92ee29b419786e6b-1bf10c8b39b17901-01 outer:exit 2b-9197a54750e61808f47e84ca92ee29b419786e6b-f60f8761c3cb583f-01
2022-04-25T18:43:10.746Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:10.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5a843a64514b6f8aafe79f8ffff6eb1913f1432-37a1a4c3f6242cf7-01 outer:exit 2b-e5a843a64514b6f8aafe79f8ffff6eb1913f1432-b3b2d13c6c690f3d-01
2022-04-25T18:43:10.749Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:10.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed6ba06b0deb48b5b0ea317429cec1c979df0d1b-0a1e93ba47ea7c35-01 outer:exit 2b-ed6ba06b0deb48b5b0ea317429cec1c979df0d1b-16deea1b8866bc09-01
2022-04-25T18:43:10.753Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:10.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a19613fd9d208db1fb5cac24204ca742adb1ef6-f967f4bb43679f40-01 outer:exit 2b-0a19613fd9d208db1fb5cac24204ca742adb1ef6-78c0bf86b92baa66-01
2022-04-25T18:43:10.756Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:10.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-739972ff5e86092d593c671a51b5291ec9335937-3ef62f9d5d35ffb7-01 outer:exit 2b-739972ff5e86092d593c671a51b5291ec9335937-f9000ae94845a2b7-01
2022-04-25T18:43:10.761Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:10.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbdb94ee6816dc055f8018409d5c6721044bb306-002ce16d8a381304-01 outer:exit 2b-dbdb94ee6816dc055f8018409d5c6721044bb306-a9caaaa9a3e09a25-01
2022-04-25T18:43:10.770Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:10.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-10fba143b620f3bddd2b4041231459b96f4352f3-9a1e3ab40d7a7e34-01 outer:exit 2b-10fba143b620f3bddd2b4041231459b96f4352f3-b9c91207692ab713-01
2022-04-25T18:43:10.793Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:10.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d74c2e78fa1546b07e2b899551c3c1221bbeae6-46fed2ce00a9c095-01 outer:exit 2b-5d74c2e78fa1546b07e2b899551c3c1221bbeae6-245c3cd54d4e3800-01
2022-04-25T18:43:10.839Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:10.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-506ffd187cd3b4650091faabbbc0ddf6cf6dd9aa-f59338ae54bab802-01 outer:exit 2b-506ffd187cd3b4650091faabbbc0ddf6cf6dd9aa-080ff3cdbd208879-01
2022-04-25T18:43:10.843Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:10.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-b522f2e5dbf3818605835a807a0d81ecd9652529-a9ce82d0e40507c0-01 outer:exit 2b-b522f2e5dbf3818605835a807a0d81ecd9652529-9a8857e71fa5212b-01
2022-04-25T18:43:10.846Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:10.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7b1a0adbaa1172fa5addecf60c2e0f0c222a0e8-5eca26513c4d19f3-01 outer:exit 2b-e7b1a0adbaa1172fa5addecf60c2e0f0c222a0e8-b734ad41346bcefa-01
2022-04-25T18:43:10.849Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:10.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fadd8bf5b2985606bcaba3d1e7ebc9bd530ee56-323dd3f9b31b5d7d-01 outer:exit 2b-8fadd8bf5b2985606bcaba3d1e7ebc9bd530ee56-dbbbe3a4ec108e9b-01
2022-04-25T18:43:10.852Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:10.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-616c404edae52e22fd1acd321018c0928807078f-b54ae2970721631c-01 outer:exit 2b-616c404edae52e22fd1acd321018c0928807078f-c77f9135880b3fd1-01
2022-04-25T18:43:10.855Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:10.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-79c3f540620b8e4f50684f058570ac5d25482b06-4c14b64c43c5861f-01 outer:exit 2b-79c3f540620b8e4f50684f058570ac5d25482b06-00644346aed3babc-01
2022-04-25T18:43:10.857Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:10.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea032781b3f27d819697b98245318d8fd420f4a6-af72ea0972c777a4-01 outer:exit 2b-ea032781b3f27d819697b98245318d8fd420f4a6-1c6801b96dd44c72-01
2022-04-25T18:43:10.860Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:10.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a9c4a0fdcad20ab1308d03e3ce3ac9e15a236a5-927ca52a21478ebf-01 outer:exit 2b-6a9c4a0fdcad20ab1308d03e3ce3ac9e15a236a5-2286b3a5d467e95f-01
2022-04-25T18:43:10.862Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:10.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-31aefd99cff6f2c42c51e4ed6f26116f7699cc9c-68ef9177cde55447-01 outer:exit 2b-31aefd99cff6f2c42c51e4ed6f26116f7699cc9c-757de518a2c53b38-01
2022-04-25T18:43:10.867Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:10.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c7510e8d67b9e93d96bf56b1b577c2b75f86f01-fa0d0110518fd52d-01 outer:exit 2b-5c7510e8d67b9e93d96bf56b1b577c2b75f86f01-1f8c55447a2dd79b-01
2022-04-25T18:43:10.871Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:10.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2de8a3bb2a53683b72a0f891ccd46b88d671721-3164668fa59e7207-01 outer:exit 2b-b2de8a3bb2a53683b72a0f891ccd46b88d671721-76429fb7f8d21a27-01
2022-04-25T18:43:10.873Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:10.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d015b46caa33259189ad4196a0193fed9d9c108-0db5ddf67830f8fd-01 outer:exit 2b-5d015b46caa33259189ad4196a0193fed9d9c108-eab30e0e96913187-01
2022-04-25T18:43:10.876Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:10.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f5f6dfe4fae004cc3b3977a3391724eaf9c5d38-f3fc9bc46ca39231-01 outer:exit 2b-8f5f6dfe4fae004cc3b3977a3391724eaf9c5d38-f41564f0d1f565d9-01
2022-04-25T18:43:10.883Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:10.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-55d347d407ea54c76ad455b35262094bf518f1ae-e1a675a3a597b677-01 outer:exit 2b-55d347d407ea54c76ad455b35262094bf518f1ae-c902b610030ac14a-01
2022-04-25T18:43:10.889Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:10.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-50ebc33dcefac3dd15bf94e2799c952789d7e1a5-20b94334f633c711-01 outer:exit 2b-50ebc33dcefac3dd15bf94e2799c952789d7e1a5-22f2ccb2d21a1731-01
2022-04-25T18:43:10.899Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:10.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f814f894d8aaff163f671a9080c638fc953aade-c1aeebb52163248e-01 outer:exit 2b-0f814f894d8aaff163f671a9080c638fc953aade-8a0b31c73215d9fd-01
2022-04-25T18:43:10.909Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:10.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-57a2e0141454e63824fd8759d6bca53d6caf8954-7a12e444df1b3ecd-01 outer:exit 2b-57a2e0141454e63824fd8759d6bca53d6caf8954-4a64d489ec627434-01
2022-04-25T18:43:10.912Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:10.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3040c99dacde457de3b79656a9ca3f8e950e7d1-ae4d55eb6dd294b1-01 outer:exit 2b-a3040c99dacde457de3b79656a9ca3f8e950e7d1-adabd41d3eb3d889-01
2022-04-25T18:43:10.916Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:10.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14b8273b2f473e59c5736f74230750e429b1ec4-594d0f35c7207673-01 outer:exit 2b-f14b8273b2f473e59c5736f74230750e429b1ec4-e10acb4a3124943f-01
2022-04-25T18:43:10.925Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:10.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-926a94a1d1273e1cfe882c4e9f8d89324c7d9c39-8c8094d1e67d08a0-01 outer:exit 2b-926a94a1d1273e1cfe882c4e9f8d89324c7d9c39-48cf4be1f08ad4ff-01
2022-04-25T18:43:10.927Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:10.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-197c9c66001fe350f61bd7055d9ce92cf7a37134-ffcd31df016df7a1-01 outer:exit 2b-197c9c66001fe350f61bd7055d9ce92cf7a37134-0d3b8a3f9add6ef4-01
2022-04-25T18:43:10.929Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:10.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-d34169d14e691e95dea38970c6b2d07ff1a65b97-b1926258ed11eaf9-01 outer:exit 2b-d34169d14e691e95dea38970c6b2d07ff1a65b97-b40cef5f433d829e-01
2022-04-25T18:43:10.932Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:10.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a78b92f5351f8fbefb13e9b85057b934f6d0ed5-04fccf520e172fe7-01 outer:exit 2b-9a78b92f5351f8fbefb13e9b85057b934f6d0ed5-e255202c45e379fb-01
2022-04-25T18:43:10.936Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:10.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bee5f33ab105ad623b7885863c187da1209dd35-dc4a388914160346-01 outer:exit 2b-4bee5f33ab105ad623b7885863c187da1209dd35-1b61470a7a75b8ba-01
2022-04-25T18:43:10.942Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:10.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-e457fb28f04598333df9ead5bb57db3633fb685e-b64847872363f101-01 outer:exit 2b-e457fb28f04598333df9ead5bb57db3633fb685e-f9d4638b2476e295-01
2022-04-25T18:43:10.954Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:10.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-9be68acb430e27a5ea9da0b3217c9f75e0d05354-804c4978f78ab227-01 outer:exit 2b-9be68acb430e27a5ea9da0b3217c9f75e0d05354-9f5356423cebd1e7-01
2022-04-25T18:43:10.966Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:10.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-42b939623084e88c4ec33a68f40f1c2230b16ef0-e26fd962562783b6-01 outer:exit 2b-42b939623084e88c4ec33a68f40f1c2230b16ef0-b4d2d86bc57f0057-01
2022-04-25T18:43:10.970Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:10.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad3bf1c20649c933e19d0dd97fca424a48685a7-777758d227cd1005-01 outer:exit 2b-8ad3bf1c20649c933e19d0dd97fca424a48685a7-78c1b39249a0268c-01
2022-04-25T18:43:10.978Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:10.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa08cd741a33e98b9b69ceaaa2d7140e61751d1c-9579bae34efbfc8b-01 outer:exit 2b-fa08cd741a33e98b9b69ceaaa2d7140e61751d1c-aca6ac808c9f3f38-01
2022-04-25T18:43:10.985Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:11.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c894b713032c9a29841152b8ddd960fc1d40fff-9f6cbc74d99f3577-01 outer:exit 2b-1c894b713032c9a29841152b8ddd960fc1d40fff-de703d2ddfe2a773-01
2022-04-25T18:43:11.045Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (423ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:18.294Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:18.295Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:18.295Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:18.296Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:18.369Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:18.510Z appoptics:patching patched crypto 
2022-04-25T18:43:18.530Z appoptics:patching patched https 
2022-04-25T18:43:18.531Z appoptics:patching patched http 
2022-04-25T18:43:18.579Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:18.579Z appoptics:patching patched fs 
2022-04-25T18:43:18.608Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v18.0.0)
2022-04-25T18:43:18.614Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-25T18:43:18.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e983af2eca177b0e0dc65bf07355e689717f560-dce9b1b2b930237a-01 outer:exit 2b-6e983af2eca177b0e0dc65bf07355e689717f560-054e44781fdd1ea1-01
2022-04-25T18:43:18.667Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:18.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-e175d717d440f0ca32dc05e01d9a1fa2f3328b5f-5186abd2921800b4-01 outer:exit 2b-e175d717d440f0ca32dc05e01d9a1fa2f3328b5f-99fee39093a354c8-01
2022-04-25T18:43:18.716Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:18.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-df4f100be9828d7d73d6faa3e5f3eaa93f1227cf-bd0a07926b0cbb43-01 outer:exit 2b-df4f100be9828d7d73d6faa3e5f3eaa93f1227cf-95643903deac2650-01
2022-04-25T18:43:18.720Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:18.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a56ab1399d68520d802342046db7ab81664dcf8-0bd17ed6633fee76-01 outer:exit 2b-8a56ab1399d68520d802342046db7ab81664dcf8-15f1fa540d550803-01
2022-04-25T18:43:18.723Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:18.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-752007ec7692f618554564172a1578d5ed774ba6-189b4378fc3f53fa-01 outer:exit 2b-752007ec7692f618554564172a1578d5ed774ba6-417e50b00f3c471e-01
2022-04-25T18:43:18.728Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:18.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-756c30a42297c4d489a1d0882b475fc6b6f98db8-497cfe21fac82963-01 outer:exit 2b-756c30a42297c4d489a1d0882b475fc6b6f98db8-43184a2a00997ae8-01
2022-04-25T18:43:18.732Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:18.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e86c5b4b5254d0701329f93786f1dc44378a74d-010cc7bd15a15bb8-01 outer:exit 2b-7e86c5b4b5254d0701329f93786f1dc44378a74d-f6c7a043a3fd6891-01
2022-04-25T18:43:18.735Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:18.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc45892b8d0c90bce8ee318ba7ef73439e3ef897-d6ecd45fbf3a2b34-01 outer:exit 2b-fc45892b8d0c90bce8ee318ba7ef73439e3ef897-bb33d26e254b319a-01
2022-04-25T18:43:18.738Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:18.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-9046a464c087ecd05c8a9616220d3bb674136a76-5276c14a42f3a395-01 outer:exit 2b-9046a464c087ecd05c8a9616220d3bb674136a76-f5a02a25826d69d3-01
2022-04-25T18:43:18.741Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:18.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1e54bd14c4852573bc009cc198a3e35c73af679-630e51c304a4b7cf-01 outer:exit 2b-e1e54bd14c4852573bc009cc198a3e35c73af679-67d07a5c36f350c0-01
2022-04-25T18:43:18.747Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:18.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-afa2bf38262b618b250bc69b72a1eeb39dcf6a02-a3b75bea42483f92-01 outer:exit 2b-afa2bf38262b618b250bc69b72a1eeb39dcf6a02-504c4638ce50087e-01
2022-04-25T18:43:18.753Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:18.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-956aa2ab6011ad5d16b960ff6f8a9aaca464ffaf-d4713d7d907405e6-01 outer:exit 2b-956aa2ab6011ad5d16b960ff6f8a9aaca464ffaf-052eea8bd4156f5f-01
2022-04-25T18:43:18.760Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:18.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-4af52e893d60c21ff74bf664b288a55514465bb9-0c1aa2bb818b7062-01 outer:exit 2b-4af52e893d60c21ff74bf664b288a55514465bb9-a4b1e6404bb17b30-01
2022-04-25T18:43:18.778Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:18.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-37b2a03755e476a41628f3d7a430b4f422a38e01-b217767ba38b5349-01 outer:exit 2b-37b2a03755e476a41628f3d7a430b4f422a38e01-fc6c4dcbdfb456e1-01
2022-04-25T18:43:18.822Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:18.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-b543ff67b4f69b70f53eeba706256a2403d56411-dc6643017feda903-01 outer:exit 2b-b543ff67b4f69b70f53eeba706256a2403d56411-9d6235700721618f-01
2022-04-25T18:43:18.825Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:18.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-923a64d2512717437dae52f7d660dc424bd61d9b-9c873e076b6c87eb-01 outer:exit 2b-923a64d2512717437dae52f7d660dc424bd61d9b-f80ce368e0f78304-01
2022-04-25T18:43:18.828Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:18.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f090106f5d2e7aaf6e206dc22a9a8f0b765a9b5-900c644f068595ed-01 outer:exit 2b-8f090106f5d2e7aaf6e206dc22a9a8f0b765a9b5-c050c1cc6e500a1d-01
2022-04-25T18:43:18.832Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:18.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-9123b5731804b7066907aef5b1c664a151e7ec07-684b96428260aa5d-01 outer:exit 2b-9123b5731804b7066907aef5b1c664a151e7ec07-5c9929d6b47c310b-01
2022-04-25T18:43:18.834Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:18.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-71b56f637feb5f1a45fe26ab61e59e1557468898-e4c25e9afbf0ec11-01 outer:exit 2b-71b56f637feb5f1a45fe26ab61e59e1557468898-5eae325544f02aee-01
2022-04-25T18:43:18.837Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:18.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbab3a2f31b408ef8be0a2e8310eb85e76f8a2bc-27e101ea08f9317b-01 outer:exit 2b-dbab3a2f31b408ef8be0a2e8310eb85e76f8a2bc-0de351e47bfb093c-01
2022-04-25T18:43:18.839Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:18.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e0b345eae37b39ce108e985eeaf0a538f356cf8-14ae4b1fd14b5584-01 outer:exit 2b-6e0b345eae37b39ce108e985eeaf0a538f356cf8-925c1e6254091453-01
2022-04-25T18:43:18.842Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:18.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ec7c234b6c933e07cac1d5544d95cf906de7509-234285ac27ad93d4-01 outer:exit 2b-2ec7c234b6c933e07cac1d5544d95cf906de7509-c32fa96c7c15828c-01
2022-04-25T18:43:18.844Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:18.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa658928ffa0ec9591e3039ad844308d0e0c619b-b4219c5e2eb2b722-01 outer:exit 2b-aa658928ffa0ec9591e3039ad844308d0e0c619b-60913f3575d2a8d4-01
2022-04-25T18:43:18.847Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:18.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc36e87c78358d57fee73fefa50373b52ad04b75-41f409eba2e98b27-01 outer:exit 2b-cc36e87c78358d57fee73fefa50373b52ad04b75-5c965d76976197ba-01
2022-04-25T18:43:18.851Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:18.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd49c12d9d9895fb1dbc29bec54bbc35262edeea-1c466b4c5ac2a704-01 outer:exit 2b-fd49c12d9d9895fb1dbc29bec54bbc35262edeea-0d8b8b1fd37ac419-01
2022-04-25T18:43:18.854Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:18.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fdb291a225b5e18d1ab5fffc27613f47f1e3ac1-c1830e93cf30a4e5-01 outer:exit 2b-1fdb291a225b5e18d1ab5fffc27613f47f1e3ac1-7c8d751ce22b91f8-01
2022-04-25T18:43:18.857Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:18.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-c29c2fd74099aa9637ed84169c54b33088557012-b5259e2b4cd6f018-01 outer:exit 2b-c29c2fd74099aa9637ed84169c54b33088557012-2ee709a85d9023f3-01
2022-04-25T18:43:18.864Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:18.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd90fc7ad5bbd7004172556b5f675b6b0dfa391d-25cda11ebe850896-01 outer:exit 2b-bd90fc7ad5bbd7004172556b5f675b6b0dfa391d-324f46c3bc76c892-01
2022-04-25T18:43:18.870Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:18.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-8168d1ce31f51be2b7abd4d5911f27b51cc86de5-1447c6a6243f3dae-01 outer:exit 2b-8168d1ce31f51be2b7abd4d5911f27b51cc86de5-f1e2aacab707d307-01
2022-04-25T18:43:18.880Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:18.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-29ddd3d663eb124af1cdd6f25ed7118e817a0485-46d37478c2201708-01 outer:exit 2b-29ddd3d663eb124af1cdd6f25ed7118e817a0485-c3ef6f65c4e9ce16-01
2022-04-25T18:43:18.889Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:18.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-49fa0f43bd0215ebc99284c1e9ae6b530803982d-2eb0f8a30b0ea723-01 outer:exit 2b-49fa0f43bd0215ebc99284c1e9ae6b530803982d-7932ee575194a71e-01
2022-04-25T18:43:18.891Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:18.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee6b58455bc70ff14e061898058570ecc61254b9-788f7adbdbb19c22-01 outer:exit 2b-ee6b58455bc70ff14e061898058570ecc61254b9-be14ee651b1a81a7-01
2022-04-25T18:43:18.895Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:18.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-d73c05d387fb69f4ba2bf417c493386ef1ac2e5e-b64afeb8ed8a8ca1-01 outer:exit 2b-d73c05d387fb69f4ba2bf417c493386ef1ac2e5e-44e2ca97a6f7450b-01
2022-04-25T18:43:18.903Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:18.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-73013bf71cf1b9607372f5e9df53481c28efde11-6f405815fed3f34d-01 outer:exit 2b-73013bf71cf1b9607372f5e9df53481c28efde11-5528e2181fda49fc-01
2022-04-25T18:43:18.906Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:18.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-63429ef6e9f8164ccfa1450ce32f26b3cd4ea630-db007576354b8793-01 outer:exit 2b-63429ef6e9f8164ccfa1450ce32f26b3cd4ea630-0d314b94036300b0-01
2022-04-25T18:43:18.908Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:18.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-4978c0a0ccaca33a404948263def86b20ad70fbf-b7983e59612260c3-01 outer:exit 2b-4978c0a0ccaca33a404948263def86b20ad70fbf-0a786cd354d0503e-01
2022-04-25T18:43:18.911Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:18.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-142a685d6819abe06fdbf69ba00a8f23ff404738-35f44fa63c1f8810-01 outer:exit 2b-142a685d6819abe06fdbf69ba00a8f23ff404738-fac5832cbb2879d8-01
2022-04-25T18:43:18.913Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:18.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-3967369321b22a25a15f3d889932747cb576a512-477072272788239c-01 outer:exit 2b-3967369321b22a25a15f3d889932747cb576a512-27f56ae6aaca411c-01
2022-04-25T18:43:18.915Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:18.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-24592a371b6236b3914793f54aa2e1e8b3877ba1-a89ea8fcdef6e1f8-01 outer:exit 2b-24592a371b6236b3914793f54aa2e1e8b3877ba1-d218e443f54380ed-01
2022-04-25T18:43:18.927Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:18.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec86a0f40080aa3d4a601b2282cc233a2bb4204a-35e632cd4ea0f398-01 outer:exit 2b-ec86a0f40080aa3d4a601b2282cc233a2bb4204a-9fb654d47e016030-01
2022-04-25T18:43:18.940Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:18.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-697e35b8f8d28ced0422877029845f5c8fac036d-8189471451d6801d-01 outer:exit 2b-697e35b8f8d28ced0422877029845f5c8fac036d-5b3b2f0909e24b6e-01
2022-04-25T18:43:18.943Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:18.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-14a1fe449622e70e2e72e8551c7d1ab63cef491f-ea71ab1a8601e53f-01 outer:exit 2b-14a1fe449622e70e2e72e8551c7d1ab63cef491f-f982583a2d891aee-01
2022-04-25T18:43:18.946Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:18.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-e01888cd3b9e20d2850f6de0859990ca0c33d699-5f3e8437130e2201-01 outer:exit 2b-e01888cd3b9e20d2850f6de0859990ca0c33d699-a4f66cccbc929bf6-01
2022-04-25T18:43:18.949Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:18.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e161184619156068105bdf098d12b3686de6b86-b501ca1568a2e82b-01 outer:exit 2b-2e161184619156068105bdf098d12b3686de6b86-83cb9beb4f75734a-01
2022-04-25T18:43:18.981Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (360ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:26.940Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:26.941Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:26.941Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:26.942Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:27.017Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:27.157Z appoptics:patching patched crypto 
2022-04-25T18:43:27.178Z appoptics:patching patched https 
2022-04-25T18:43:27.179Z appoptics:patching patched http 
2022-04-25T18:43:27.228Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:27.228Z appoptics:patching patched fs 
2022-04-25T18:43:27.257Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v18.0.0)
2022-04-25T18:43:27.263Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-25T18:43:27.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd381b7f6bf3425ae818ae34e1a03a251a04b01f-0d56161b2cf3b5ae-01 outer:exit 2b-cd381b7f6bf3425ae818ae34e1a03a251a04b01f-d3fb02fd964e7988-01
2022-04-25T18:43:27.318Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:27.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcb362d71a795561e581104edfabdefb8cebb956-5b06a85b5105ac77-01 outer:exit 2b-fcb362d71a795561e581104edfabdefb8cebb956-a6b98142eb32afb2-01
2022-04-25T18:43:27.367Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:27.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a732adccdc621832971217e6d6a95fd941fc7c8-55a878aeba56c6be-01 outer:exit 2b-8a732adccdc621832971217e6d6a95fd941fc7c8-4baa44f9f45c503c-01
2022-04-25T18:43:27.371Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:27.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2972f1f8c19430b1f4e67f40f72c75950b7dfed-2ce38ce964232eb7-01 outer:exit 2b-d2972f1f8c19430b1f4e67f40f72c75950b7dfed-e20b7be4d8e8f19d-01
2022-04-25T18:43:27.375Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:27.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-90c99b091629c815820a89ca37c72d44a5707cc6-ef00653966254b48-01 outer:exit 2b-90c99b091629c815820a89ca37c72d44a5707cc6-5e0047d82b9fe5e0-01
2022-04-25T18:43:27.380Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:27.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-585c15afa7b293b5b0673f182a496ea7b7a386cb-1fc055cc8f4d1254-01 outer:exit 2b-585c15afa7b293b5b0673f182a496ea7b7a386cb-be1111a9ba7c099a-01
2022-04-25T18:43:27.383Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:27.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c5a7edce56943fdc566e7ada44ef29540e950cd-7bb1a380958e0e82-01 outer:exit 2b-9c5a7edce56943fdc566e7ada44ef29540e950cd-e1b5dcbd1a90a5c0-01
2022-04-25T18:43:27.386Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:27.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-15f40d804b7f925479c734f2d20a2b2502854b6e-f5a022be9480091a-01 outer:exit 2b-15f40d804b7f925479c734f2d20a2b2502854b6e-15de8c084ddab076-01
2022-04-25T18:43:27.389Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:27.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd336b681b8b0cc786cd461214720f9c4e1f98fa-aed84b5ca363dc9f-01 outer:exit 2b-bd336b681b8b0cc786cd461214720f9c4e1f98fa-fa83452246527e60-01
2022-04-25T18:43:27.392Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:27.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-39eae882135f15a0f7f5ab2cfbcd2413b3677518-93f6dd3c60d5a8a2-01 outer:exit 2b-39eae882135f15a0f7f5ab2cfbcd2413b3677518-256906daa3b7ce7c-01
2022-04-25T18:43:27.396Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:27.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-64a359d984bcdd444a2649a5a323121ab8cc7346-ae855aecfebec32d-01 outer:exit 2b-64a359d984bcdd444a2649a5a323121ab8cc7346-5fa538c4b73105c9-01
2022-04-25T18:43:27.404Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:27.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-002a43ae401ee6ec24fe16073def0db2e7afa6d2-4d2e95ed8adea939-01 outer:exit 2b-002a43ae401ee6ec24fe16073def0db2e7afa6d2-e910dcae72b13e99-01
2022-04-25T18:43:27.411Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:27.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-df4fd491ffbe1e09eb9b9fda55051aa891e570ba-8a8d730872fefbfe-01 outer:exit 2b-df4fd491ffbe1e09eb9b9fda55051aa891e570ba-6c77023e0c887b71-01
2022-04-25T18:43:27.431Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:27.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-d604a44feec4ba341146bcb1b6c89992dd908689-59eaad8357c1a006-01 outer:exit 2b-d604a44feec4ba341146bcb1b6c89992dd908689-a35b92f9f55eb9d6-01
2022-04-25T18:43:27.476Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:27.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6b816e95de154fc3b03f839a7947a5b1fab7960-18c6860044b7c495-01 outer:exit 2b-a6b816e95de154fc3b03f839a7947a5b1fab7960-b654ee0a68b90789-01
2022-04-25T18:43:27.479Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:27.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-7135726d2b2eadb49021953fc18c26dd639f8274-6d445d72d7fdf614-01 outer:exit 2b-7135726d2b2eadb49021953fc18c26dd639f8274-9ed9ae46d3f158fd-01
2022-04-25T18:43:27.482Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:27.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-838fdf377ebc60fa05632dcebdfe58164a50376e-feacc4f7dd40615a-01 outer:exit 2b-838fdf377ebc60fa05632dcebdfe58164a50376e-f4a0607207decc15-01
2022-04-25T18:43:27.485Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:27.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-dff1929d515260266673888a7a482c15b6196e95-5424b006fa140855-01 outer:exit 2b-dff1929d515260266673888a7a482c15b6196e95-b15f949b84f5903f-01
2022-04-25T18:43:27.488Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:27.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-af5c95ba8fca6cee3124d57611d3bec28f8c9558-d67cc79acf4636c1-01 outer:exit 2b-af5c95ba8fca6cee3124d57611d3bec28f8c9558-356cf7e8fa06a3e6-01
2022-04-25T18:43:27.490Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:27.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-59c5433d2bd0c15f2bd7671b9a66fbb651025c81-0531f8cbd86f98e5-01 outer:exit 2b-59c5433d2bd0c15f2bd7671b9a66fbb651025c81-2a785db1c7226fec-01
2022-04-25T18:43:27.493Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:27.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-caa7af7c0b230d79102f0b9d722d5fe6f9d1f34f-eca7c1c270176963-01 outer:exit 2b-caa7af7c0b230d79102f0b9d722d5fe6f9d1f34f-ee7ecbb02e128348-01
2022-04-25T18:43:27.495Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:27.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-c522d8ae0eac5eec56067ca10b7473ace20956f6-39c25477c5cddc95-01 outer:exit 2b-c522d8ae0eac5eec56067ca10b7473ace20956f6-ab9914261380a8e5-01
2022-04-25T18:43:27.497Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:27.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c1b555bc0b7e00a81027569544ac55568e1a91e-1c87e098ebb81133-01 outer:exit 2b-7c1b555bc0b7e00a81027569544ac55568e1a91e-3bf08004fdc27dc8-01
2022-04-25T18:43:27.500Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:27.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-5378ad79d02a23f08a39a84ecf2ca518ca757b08-4c74d4ea0e6f0f71-01 outer:exit 2b-5378ad79d02a23f08a39a84ecf2ca518ca757b08-4959c061d7bad3f3-01
2022-04-25T18:43:27.504Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:27.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a14e504ba1312e9fb309134c65bf8d3f93f1b6f-21a358c7618cb7f4-01 outer:exit 2b-2a14e504ba1312e9fb309134c65bf8d3f93f1b6f-2e46768025085318-01
2022-04-25T18:43:27.506Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:27.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-c49f8cfc3f323ef11f6f5542bc3af16dae94b527-61fc8e2ddf3f3667-01 outer:exit 2b-c49f8cfc3f323ef11f6f5542bc3af16dae94b527-c844c7978e0ae55f-01
2022-04-25T18:43:27.509Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:27.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca22275bf1d10a9fcb30ba3c6ded19ca35c44874-fb2de6a54855a9cc-01 outer:exit 2b-ca22275bf1d10a9fcb30ba3c6ded19ca35c44874-d1a0630cd889c5a9-01
2022-04-25T18:43:27.516Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:27.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-396178d22950d44403c1ece2d0fafec87eecaec9-e892bdd2198b27d4-01 outer:exit 2b-396178d22950d44403c1ece2d0fafec87eecaec9-61052b2a79ac484c-01
2022-04-25T18:43:27.527Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:27.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc46e7b53b8c1c62c0459eee79dc0f897af95904-b4160df7e4df135c-01 outer:exit 2b-fc46e7b53b8c1c62c0459eee79dc0f897af95904-a8e58a8068799dbd-01
2022-04-25T18:43:27.536Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:27.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-b96655d8c544823f4271d8dee0a2114fd9fac425-081907bf2fb74e9e-01 outer:exit 2b-b96655d8c544823f4271d8dee0a2114fd9fac425-7d48d7fd5f46064d-01
2022-04-25T18:43:27.548Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:27.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1ac854ac7bce5661ef9f043c523433eaf89c996-2c7fc2cd541e75ee-01 outer:exit 2b-f1ac854ac7bce5661ef9f043c523433eaf89c996-7c3e71a7e6e01af7-01
2022-04-25T18:43:27.550Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:27.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e7ac7eaa3449e9147ff73a10311bb0080ce3a4f-a8a1d73431fe2516-01 outer:exit 2b-9e7ac7eaa3449e9147ff73a10311bb0080ce3a4f-5d2a91a0e26581f3-01
2022-04-25T18:43:27.553Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:27.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-da3ec00ca97911e8f8db131303ab6c4524ffccc1-bf5fa21714a28119-01 outer:exit 2b-da3ec00ca97911e8f8db131303ab6c4524ffccc1-ace84a47f0818e67-01
2022-04-25T18:43:27.560Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:27.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-27701e0db1449b2c42cabb47d1e75b187c37af85-2be028a874aa8e32-01 outer:exit 2b-27701e0db1449b2c42cabb47d1e75b187c37af85-4189fdcad6330ec3-01
2022-04-25T18:43:27.562Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:27.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-a50fac696832ef642baa5abefb11b418e06348ab-70da655209644b95-01 outer:exit 2b-a50fac696832ef642baa5abefb11b418e06348ab-3d505c60e25fe3b4-01
2022-04-25T18:43:27.565Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:27.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f0094a8891fd6f2bd2bbd49c022871da35b3814-082d899a9fce2cd5-01 outer:exit 2b-3f0094a8891fd6f2bd2bbd49c022871da35b3814-3e0a6847a376fa94-01
2022-04-25T18:43:27.567Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:27.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-b484abf3dc8e41c788269ca2292be34f433be312-42b74b37ebe027d4-01 outer:exit 2b-b484abf3dc8e41c788269ca2292be34f433be312-bbf1160e8424fd7e-01
2022-04-25T18:43:27.569Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:27.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-f290bfc1a8b825ce80294405a1273412a6be1fd6-70686f8430700384-01 outer:exit 2b-f290bfc1a8b825ce80294405a1273412a6be1fd6-f2be9c5b442c4a55-01
2022-04-25T18:43:27.571Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:27.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b6281df41c17e5f4eb620332006ff499d9a0b00-5e34b8b73810b5ba-01 outer:exit 2b-4b6281df41c17e5f4eb620332006ff499d9a0b00-818a4dd9d0d64533-01
2022-04-25T18:43:27.587Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:27.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e60c2af200a413cf5b6a8454544135e7e957a70-8d8e5a7f69a505fb-01 outer:exit 2b-4e60c2af200a413cf5b6a8454544135e7e957a70-7cbfba08ebdf6f00-01
2022-04-25T18:43:27.597Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:27.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff20f49e49c8454767200e36a0f2459f9f6eec5a-afa4d2c7b2e8f44d-01 outer:exit 2b-ff20f49e49c8454767200e36a0f2459f9f6eec5a-d37be9050cbd50e0-01
2022-04-25T18:43:27.600Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:27.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-356e4cf2e34f9eefbd1f597b31e9ccccd608f633-e028afeb87469635-01 outer:exit 2b-356e4cf2e34f9eefbd1f597b31e9ccccd608f633-694c8ba141dd9374-01
2022-04-25T18:43:27.603Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:27.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8644415578cd01a6d9f6252284c4537b0cb4424-4da5b93954e63c57-01 outer:exit 2b-f8644415578cd01a6d9f6252284c4537b0cb4424-33815371bac5e14b-01
2022-04-25T18:43:27.606Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:27.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-901a0c48ba5876ff839d9928deb20dcc581bcd35-4bb98ffcc1521257-01 outer:exit 2b-901a0c48ba5876ff839d9928deb20dcc581bcd35-7870b30e1c57ddfd-01
2022-04-25T18:43:27.640Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (371ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:34.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:34.691Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:34.691Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:34.692Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:34.760Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:34.898Z appoptics:patching patched crypto 
2022-04-25T18:43:34.920Z appoptics:patching patched https 
2022-04-25T18:43:34.921Z appoptics:patching patched http 
2022-04-25T18:43:34.969Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:34.969Z appoptics:patching patched fs 
2022-04-25T18:43:34.999Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v18.0.0)
2022-04-25T18:43:35.005Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-25T18:43:35.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-e90056e014f645ac1d16361e6b5c94085e95f22e-09ef8e3d75bee7a7-01 outer:exit 2b-e90056e014f645ac1d16361e6b5c94085e95f22e-75bdd19076878a28-01
2022-04-25T18:43:35.057Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:35.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-67561dbe59494f9de499ca0ccc77c7cbda7568f3-12cf9ab4d1c4c823-01 outer:exit 2b-67561dbe59494f9de499ca0ccc77c7cbda7568f3-a38949d385921510-01
2022-04-25T18:43:35.110Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:35.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-5264d24f388ad385f7dd93043ff8ca2c3c364768-e10c124d8cd1b921-01 outer:exit 2b-5264d24f388ad385f7dd93043ff8ca2c3c364768-fe2abb58271baa86-01
2022-04-25T18:43:35.114Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:35.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2168429e491fea0b1e7ae7a1f6bca917a39189c-6a92a187f299cfc6-01 outer:exit 2b-b2168429e491fea0b1e7ae7a1f6bca917a39189c-3f2f7f53e124b9f6-01
2022-04-25T18:43:35.118Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:35.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-c762ce805943ebab6ec838c4932b4982c82791dc-4db4edbbc7c52721-01 outer:exit 2b-c762ce805943ebab6ec838c4932b4982c82791dc-4a9f7e7b7396a82c-01
2022-04-25T18:43:35.123Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:35.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-236e4b2f8ba4104707f6027524e4e0c6fae64b94-fef39ff3a398ed21-01 outer:exit 2b-236e4b2f8ba4104707f6027524e4e0c6fae64b94-3459c9a1cd9d4913-01
2022-04-25T18:43:35.127Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:35.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-16e53dc2dd93926519546755ce4c2fe476aa9df3-041097cdbb3dc232-01 outer:exit 2b-16e53dc2dd93926519546755ce4c2fe476aa9df3-3c3a0069fdc12966-01
2022-04-25T18:43:35.130Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:35.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-78cd806dc263533831b0ea75ecc4cac1d56fe5a0-0119d6eb70c051d3-01 outer:exit 2b-78cd806dc263533831b0ea75ecc4cac1d56fe5a0-3fcfc371eabf1892-01
2022-04-25T18:43:35.135Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:35.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-936a7280e7b768f7b78779953e5f5fb11a9cf8fe-04a3217f292d2dee-01 outer:exit 2b-936a7280e7b768f7b78779953e5f5fb11a9cf8fe-6ddf158aae9fbcf1-01
2022-04-25T18:43:35.138Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:35.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cad726a4a582946a19e940f925ae7499a04c09d-43805ea97ce2d99a-01 outer:exit 2b-8cad726a4a582946a19e940f925ae7499a04c09d-01927ee4a9696466-01
2022-04-25T18:43:35.142Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:35.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-3024e19924d1a174e0a7da71616bce2d97b84c5d-55a5447e947cc728-01 outer:exit 2b-3024e19924d1a174e0a7da71616bce2d97b84c5d-08d1162a973ee018-01
2022-04-25T18:43:35.147Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:35.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-2203153cfe4310d0edbbacb7539a31f6261b9afe-a690963e2d274dd3-01 outer:exit 2b-2203153cfe4310d0edbbacb7539a31f6261b9afe-f1e0317b2ce09432-01
2022-04-25T18:43:35.154Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:35.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d29ee34856ff9d74965e824eb6f517ed36c8928-0d210151b3d47b39-01 outer:exit 2b-0d29ee34856ff9d74965e824eb6f517ed36c8928-6740d6c94bdbb3c0-01
2022-04-25T18:43:35.174Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:35.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cca98d1d135974de5563306d7ea4b989d6dfbcc-3cda6881a2b9c7dd-01 outer:exit 2b-1cca98d1d135974de5563306d7ea4b989d6dfbcc-f421731c7c598d31-01
2022-04-25T18:43:35.216Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:35.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f7aa82c97aa4e8a394a18ace97dfc20909b7b19-42dbb9e2c782f6ce-01 outer:exit 2b-9f7aa82c97aa4e8a394a18ace97dfc20909b7b19-4e28f1f4f8d30c1b-01
2022-04-25T18:43:35.220Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:35.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c632938ede29af565709de461091b8bdeb51dc9-f14d88a0ef4da0eb-01 outer:exit 2b-4c632938ede29af565709de461091b8bdeb51dc9-07ee7c7b417cfafc-01
2022-04-25T18:43:35.222Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:35.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ef7fa1d90411d6a9ae7995f2357b47ecfee0464-791f3e1d8a41321d-01 outer:exit 2b-7ef7fa1d90411d6a9ae7995f2357b47ecfee0464-d3c4fcf429889292-01
2022-04-25T18:43:35.225Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:35.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d09b8d16a8d4821ee70786bacdd4f401a494618-1f3070e76b1cef6e-01 outer:exit 2b-5d09b8d16a8d4821ee70786bacdd4f401a494618-e7f051ac9bd40085-01
2022-04-25T18:43:35.228Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:35.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4ca5cd0a7114b7b5521c36e41edb5ae7b469e6f-6723b6318dc50c7c-01 outer:exit 2b-b4ca5cd0a7114b7b5521c36e41edb5ae7b469e6f-af1d050f9d5a651b-01
2022-04-25T18:43:35.230Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:35.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-0da9ea8cd320283ac19770dc6fdb0780efdd80c1-ded35c75fee79a3a-01 outer:exit 2b-0da9ea8cd320283ac19770dc6fdb0780efdd80c1-c33765dfd0b1e22b-01
2022-04-25T18:43:35.233Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:35.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcdfbfca7090411e4060cdab8eceb863bf389f93-9dcce3e37c5f7431-01 outer:exit 2b-bcdfbfca7090411e4060cdab8eceb863bf389f93-3ecec4df1f51491e-01
2022-04-25T18:43:35.235Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:35.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f0a574c51e8c9c9c9061ad992d5948acf3b701-c5355bcb8da94019-01 outer:exit 2b-87f0a574c51e8c9c9c9061ad992d5948acf3b701-15b2c26fd163eeed-01
2022-04-25T18:43:35.237Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:35.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-12c12e13ecc86703f301ac03993db3509ced6faf-7223f8ed66abd4a9-01 outer:exit 2b-12c12e13ecc86703f301ac03993db3509ced6faf-d812eb2ddd2ab155-01
2022-04-25T18:43:35.240Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:35.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-113967a3f7688f85f16eeade6c076427d630a13a-80f9dd42d621e5ce-01 outer:exit 2b-113967a3f7688f85f16eeade6c076427d630a13a-5f3646a31f52a9d2-01
2022-04-25T18:43:35.244Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:35.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-99f6867c1f7e15df3d6f63156f82849dd3cebf22-8d04967d92d19cc9-01 outer:exit 2b-99f6867c1f7e15df3d6f63156f82849dd3cebf22-17e4fb68ae8e299f-01
2022-04-25T18:43:35.246Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:35.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a56476fcf0a1194ef108f1b2d4d7708184c48de-5512848006281fc0-01 outer:exit 2b-1a56476fcf0a1194ef108f1b2d4d7708184c48de-096359a8a02ad705-01
2022-04-25T18:43:35.249Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:35.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-9444d705dce8c22a8eba6adb8c96ebc2195fcee9-2972359cdf4bad61-01 outer:exit 2b-9444d705dce8c22a8eba6adb8c96ebc2195fcee9-6c6dcfd414a80c35-01
2022-04-25T18:43:35.256Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:35.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cb51f2a2b1e2a027e0f7a975e7fa738250e2a00-4161cf1ed36fc39d-01 outer:exit 2b-8cb51f2a2b1e2a027e0f7a975e7fa738250e2a00-c5d714ce77bfdbf4-01
2022-04-25T18:43:35.263Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:35.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf248d467eec1a0d45f1ced6daeeaa0b025d67fa-67611af48395d305-01 outer:exit 2b-cf248d467eec1a0d45f1ced6daeeaa0b025d67fa-df6dcec01198695f-01
2022-04-25T18:43:35.272Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:35.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-975ecf1ed4ca6e0c90c36f1921e1d6582424397b-c20bcdaba5869a61-01 outer:exit 2b-975ecf1ed4ca6e0c90c36f1921e1d6582424397b-f064b2360aed9a42-01
2022-04-25T18:43:35.280Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:35.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cfa174caab70eccfd5a30fd5e89a8c22e8dfe3a-f1ba0f4143ffa717-01 outer:exit 2b-0cfa174caab70eccfd5a30fd5e89a8c22e8dfe3a-59577df133612076-01
2022-04-25T18:43:35.282Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:35.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-684a9dc5cb1f3eda168dd92a90eeab5747d6e27d-02b8853f10bacc93-01 outer:exit 2b-684a9dc5cb1f3eda168dd92a90eeab5747d6e27d-212512a2f3fe2a91-01
2022-04-25T18:43:35.287Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:35.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-50bf105bf37dd53ba4cddcf1a793fd051b1a9a88-e3fef76e38fe39af-01 outer:exit 2b-50bf105bf37dd53ba4cddcf1a793fd051b1a9a88-a5af22e63c193a56-01
2022-04-25T18:43:35.294Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:35.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-10c53cc65e97ad65d084b5b343081b3971a21658-0f0476ae75cd97bb-01 outer:exit 2b-10c53cc65e97ad65d084b5b343081b3971a21658-17a79dbe791836b4-01
2022-04-25T18:43:35.296Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:35.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-99d9f87e21505ab9812b69d215218470d74683c6-3ccd54f0afd3236d-01 outer:exit 2b-99d9f87e21505ab9812b69d215218470d74683c6-ede10e244276b619-01
2022-04-25T18:43:35.298Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:35.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab7318139066061d95ee21f0f2b9f4bc94b235b3-a544fe788df7d839-01 outer:exit 2b-ab7318139066061d95ee21f0f2b9f4bc94b235b3-d0ab220c49e201ac-01
2022-04-25T18:43:35.300Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:35.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9acd4a2ed5cc8e382ef715909fe1354886b5fbc-6c14cb582f71994d-01 outer:exit 2b-f9acd4a2ed5cc8e382ef715909fe1354886b5fbc-c6925ece23700790-01
2022-04-25T18:43:35.303Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:35.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a70b8d9010b815474d7db7527a9105b76c71033-da1fa80231740dda-01 outer:exit 2b-5a70b8d9010b815474d7db7527a9105b76c71033-96e1fa6e8abbc0e2-01
2022-04-25T18:43:35.305Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:35.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-28837c3bfbb4239816660e14d1c2ce83d0744938-4f36480bd11c8288-01 outer:exit 2b-28837c3bfbb4239816660e14d1c2ce83d0744938-fce4f1277a206f12-01
2022-04-25T18:43:35.316Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:35.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac2dc6cab9760257a796397e2994f28860c657e2-19755561f7b6d699-01 outer:exit 2b-ac2dc6cab9760257a796397e2994f28860c657e2-5aa77363acec8eb0-01
2022-04-25T18:43:35.325Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:35.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6d5634798c38f137f07b51e004202f9b8cf026e-f00186c536a74edf-01 outer:exit 2b-e6d5634798c38f137f07b51e004202f9b8cf026e-add12f9be853f053-01
2022-04-25T18:43:35.329Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:35.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-4be2903738f614beec54b80ad91bfeb5e33a83ed-9d5b5ab3dbedc67b-01 outer:exit 2b-4be2903738f614beec54b80ad91bfeb5e33a83ed-743b9e8761a1a73d-01
2022-04-25T18:43:35.332Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:35.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccd09a07e8a64c33282f5d990ee1df53ee1312bf-199485fe16e2e5de-01 outer:exit 2b-ccd09a07e8a64c33282f5d990ee1df53ee1312bf-cfa77691dcd580cc-01
2022-04-25T18:43:35.334Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:35.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5cf1ed531ee4a1a64810826c0af18376a701b98-2133e8d054f1a512-01 outer:exit 2b-d5cf1ed531ee4a1a64810826c0af18376a701b98-e5f54897cb8b1bf4-01
2022-04-25T18:43:35.367Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (355ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:43.016Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:43.017Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:43.017Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:43.018Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:43.086Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:43.212Z appoptics:patching patched crypto 
2022-04-25T18:43:43.232Z appoptics:patching patched https 
2022-04-25T18:43:43.233Z appoptics:patching patched http 
2022-04-25T18:43:43.279Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:43.279Z appoptics:patching patched fs 
2022-04-25T18:43:43.307Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v18.0.0)
2022-04-25T18:43:43.313Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-25T18:43:43.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-095ea267d332fc5ec53b27875b8ed328cd627697-f62eaace19245311-01 outer:exit 2b-095ea267d332fc5ec53b27875b8ed328cd627697-d250198e12106e70-01
2022-04-25T18:43:43.363Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:43.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f9cbc41151ee2c6b6dc975e1a7c7757cbc21cb3-1ae755047d5d7e49-01 outer:exit 2b-7f9cbc41151ee2c6b6dc975e1a7c7757cbc21cb3-edbb143505450769-01
2022-04-25T18:43:43.413Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:43.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-d122ade7822a75589d9736f86379e6a0af4a24cb-5167b2411d52e114-01 outer:exit 2b-d122ade7822a75589d9736f86379e6a0af4a24cb-0564ca736f0e06b7-01
2022-04-25T18:43:43.417Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:43.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-357673cbe259e15dec11ef0229a454b88e641aa6-0faeca5d44a641c8-01 outer:exit 2b-357673cbe259e15dec11ef0229a454b88e641aa6-0d8d290df8ea1292-01
2022-04-25T18:43:43.421Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:43.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef681db4ca92201267f9d1e3d7fd15c24def09b1-8497bc17e7f3c45c-01 outer:exit 2b-ef681db4ca92201267f9d1e3d7fd15c24def09b1-3484175e80bc55fd-01
2022-04-25T18:43:43.426Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:43.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-79ca56e4d53d7f69c429536b99bf64f604a1423d-db2f2f0095dcae2d-01 outer:exit 2b-79ca56e4d53d7f69c429536b99bf64f604a1423d-49b43964dbcc046f-01
2022-04-25T18:43:43.430Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:43.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-9de4faa40ab83491249d2e69acffb46884943caf-0bb584fd9b774779-01 outer:exit 2b-9de4faa40ab83491249d2e69acffb46884943caf-0936144cdfa67695-01
2022-04-25T18:43:43.432Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:43.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-47f13d29b4d202a85847b67859c7e9b826389c0b-b97058d699bc4059-01 outer:exit 2b-47f13d29b4d202a85847b67859c7e9b826389c0b-94b13b3491cef0ad-01
2022-04-25T18:43:43.435Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:43.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f119d652bcd707f2f16f6e3583246465d1739cc-8ede6fbae36ae830-01 outer:exit 2b-1f119d652bcd707f2f16f6e3583246465d1739cc-dad3314623018094-01
2022-04-25T18:43:43.439Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:43.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-608282a7cd5d62c5097d20a9d8c9d2b24cf1f4ab-9a952b2873b5892c-01 outer:exit 2b-608282a7cd5d62c5097d20a9d8c9d2b24cf1f4ab-eb7a3908c9b15bab-01
2022-04-25T18:43:43.442Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:43.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-048aa11f5663ac1155a8ac93f757091dc7cde286-bf759091ae91667b-01 outer:exit 2b-048aa11f5663ac1155a8ac93f757091dc7cde286-20fa78d667eecea8-01
2022-04-25T18:43:43.449Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:43.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a88575d8ea7fb338b481df75b39ddd83edb0618-75a67e277db4b938-01 outer:exit 2b-9a88575d8ea7fb338b481df75b39ddd83edb0618-5d7c8c0782565daf-01
2022-04-25T18:43:43.456Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:43.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-84086f58f26da8e1dff578f9c262550ba74093d9-26af0249597a4a3a-01 outer:exit 2b-84086f58f26da8e1dff578f9c262550ba74093d9-f037d6be9987c458-01
2022-04-25T18:43:43.474Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:43.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-34bd23b8b12c0b72fca9c13fb3f506c47bcd8636-41c80685deea9169-01 outer:exit 2b-34bd23b8b12c0b72fca9c13fb3f506c47bcd8636-3d40b32f91ce7909-01
2022-04-25T18:43:43.518Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:43.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bdc9fd126271ee6af539efaa301598e74221608-2000de1d63485515-01 outer:exit 2b-3bdc9fd126271ee6af539efaa301598e74221608-fea0ce1af92de7e1-01
2022-04-25T18:43:43.521Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:43.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f28d0b7023e9b55cdce15b29285b4c55bfec7a0-4fd338e5ef4e09d0-01 outer:exit 2b-3f28d0b7023e9b55cdce15b29285b4c55bfec7a0-2f3f9bee857b6e05-01
2022-04-25T18:43:43.524Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:43.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-b02ee6528ffe98eb91dd760ade0ae241e2e8f004-a07a465752ba54a3-01 outer:exit 2b-b02ee6528ffe98eb91dd760ade0ae241e2e8f004-f605b0a6a3e85a81-01
2022-04-25T18:43:43.527Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:43.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-527768f936bfc92fcbb3c6c8cd1140b2e2b3c995-c79fbec78a245c88-01 outer:exit 2b-527768f936bfc92fcbb3c6c8cd1140b2e2b3c995-ba0b73042cb904db-01
2022-04-25T18:43:43.530Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:43.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3f8b1b29e384b83abd7ece70d04bccad7ad4584-41192ff5a045302b-01 outer:exit 2b-e3f8b1b29e384b83abd7ece70d04bccad7ad4584-5173d83b8444058b-01
2022-04-25T18:43:43.532Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:43.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-8003a77c905f8c40a32d546f966d7f464fec66a5-96c77c95a6a9d373-01 outer:exit 2b-8003a77c905f8c40a32d546f966d7f464fec66a5-f9df3d15f7d91039-01
2022-04-25T18:43:43.535Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:43.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-e18fced06afd19edfe67020a1df076af2909c407-6a9dc5d912944c99-01 outer:exit 2b-e18fced06afd19edfe67020a1df076af2909c407-360819d232566b1f-01
2022-04-25T18:43:43.537Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:43.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd4576eaad64e65eeccff337edbb51d8d0e0c47d-18ece4df5b6e7d51-01 outer:exit 2b-bd4576eaad64e65eeccff337edbb51d8d0e0c47d-baf5b44732f3087f-01
2022-04-25T18:43:43.539Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:43.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f1d37b7f6216813438aef3a825341ce4ce2a870-86eef071f4a3a8f5-01 outer:exit 2b-0f1d37b7f6216813438aef3a825341ce4ce2a870-658d1ef09a919dc6-01
2022-04-25T18:43:43.543Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:43.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0ec7939926e5966b3c0c6c66e4ae78ac9ba4611-5280a4002890ced3-01 outer:exit 2b-e0ec7939926e5966b3c0c6c66e4ae78ac9ba4611-e8bef3a201327f86-01
2022-04-25T18:43:43.546Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:43.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d6325534d1146630acf562247ca9ac086f4168d-2c2ad060e42e9d5a-01 outer:exit 2b-5d6325534d1146630acf562247ca9ac086f4168d-7de1e95e86f99f74-01
2022-04-25T18:43:43.549Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:43.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-95cdf56af8f1103e3301175e7b4540824b0987f5-f3eb00eb9b3d97a8-01 outer:exit 2b-95cdf56af8f1103e3301175e7b4540824b0987f5-a14504e216913899-01
2022-04-25T18:43:43.551Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:43.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-52437720bb5fccfec0496b0e6726466842a489ba-58cfe1f578cdd5c6-01 outer:exit 2b-52437720bb5fccfec0496b0e6726466842a489ba-688fdcf83354a54c-01
2022-04-25T18:43:43.558Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:43.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-1597c1499947fc066087fd6289df2694b705338a-6e5022496d8191b0-01 outer:exit 2b-1597c1499947fc066087fd6289df2694b705338a-5c92e2208df0f279-01
2022-04-25T18:43:43.565Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:43.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-e10339d2971893f532a45d5571c81bee03edc0a4-636f2c3db88c86c3-01 outer:exit 2b-e10339d2971893f532a45d5571c81bee03edc0a4-cf865dca860b205d-01
2022-04-25T18:43:43.575Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:43.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-feb2bc8f7128a2277b1978b9bef48edbf6da4736-ae91430924552500-01 outer:exit 2b-feb2bc8f7128a2277b1978b9bef48edbf6da4736-40680b07e8ed5d31-01
2022-04-25T18:43:43.583Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:43.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-28acb21750af20e857796b44e4416557b85199e7-640fc3a2e1ff9600-01 outer:exit 2b-28acb21750af20e857796b44e4416557b85199e7-fc751ab77f8ab3f6-01
2022-04-25T18:43:43.585Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:43.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0da224b7afacc48099ffc0d9d91a59eb26cc9bf-4fac6f7aa22e94e6-01 outer:exit 2b-e0da224b7afacc48099ffc0d9d91a59eb26cc9bf-eb1deb7e97e6afc8-01
2022-04-25T18:43:43.588Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:43.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-035c92976b6d1d9d420a442b5b364d6f418f5fed-21371739ca105a19-01 outer:exit 2b-035c92976b6d1d9d420a442b5b364d6f418f5fed-42f315c64b81e45c-01
2022-04-25T18:43:43.596Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:43.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3e2efb856863133de0ca9061c7d5137a20520f2-e3202ff421381629-01 outer:exit 2b-f3e2efb856863133de0ca9061c7d5137a20520f2-38d3fff3772ff322-01
2022-04-25T18:43:43.598Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:43.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-18aa452fce3d7004b7965bb718e43eff887d899c-e23adb4a91603dca-01 outer:exit 2b-18aa452fce3d7004b7965bb718e43eff887d899c-a9ba5d23b5210eaf-01
2022-04-25T18:43:43.600Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:43.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-e18834200518c20e6120792d65f42fbdf27b5530-59863e142ee1ab01-01 outer:exit 2b-e18834200518c20e6120792d65f42fbdf27b5530-4f99a28112794a29-01
2022-04-25T18:43:43.603Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:43.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa1faedb9ebcb8a0de8ee97c52c37c6af4fe4fd5-42f24b9e587d5977-01 outer:exit 2b-aa1faedb9ebcb8a0de8ee97c52c37c6af4fe4fd5-e5f0bdb4e0d9962c-01
2022-04-25T18:43:43.605Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:43.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e4f60401f23b6e374d42c0d236b1a1d58648967-cd0d512bec3ce3ee-01 outer:exit 2b-6e4f60401f23b6e374d42c0d236b1a1d58648967-8afdeff67b10c72e-01
2022-04-25T18:43:43.607Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:43.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-dad92fce7925111ac5d0ee9cb5f171475ecfef9f-43475817d62acc57-01 outer:exit 2b-dad92fce7925111ac5d0ee9cb5f171475ecfef9f-29d1b54ea4053317-01
2022-04-25T18:43:43.621Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:43.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cf6a4658a992f0194b511231e4a7221fa70ca0e-16e9d5f586ff9b66-01 outer:exit 2b-2cf6a4658a992f0194b511231e4a7221fa70ca0e-1aa85b7abcefd4d3-01
2022-04-25T18:43:43.631Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:43.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-72e0fea6d7ada82cefe944c9f2dbafff92432d95-175746955c7e7689-01 outer:exit 2b-72e0fea6d7ada82cefe944c9f2dbafff92432d95-4596fcb7ba56dabb-01
2022-04-25T18:43:43.634Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:43.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d81d26aaad659a1af8d794c62eecba18a442554-a3cc8f3daed9bcdf-01 outer:exit 2b-0d81d26aaad659a1af8d794c62eecba18a442554-702616cf0d1ade46-01
2022-04-25T18:43:43.637Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:43.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-affb5d2e1fdba4224c7267577097c525505cf220-ce1df7f32cd7cc9e-01 outer:exit 2b-affb5d2e1fdba4224c7267577097c525505cf220-36c88a83e2e67e62-01
2022-04-25T18:43:43.640Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:43.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-56a34a4193d4a8b82399b427b97509aa270ee675-57584fc7c8559fad-01 outer:exit 2b-56a34a4193d4a8b82399b427b97509aa270ee675-d1c7cad847315da4-01
2022-04-25T18:43:43.671Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (352ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:51.025Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:51.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:51.026Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:51.026Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:51.133Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:51.311Z appoptics:patching patched crypto 
2022-04-25T18:43:51.332Z appoptics:patching patched https 
2022-04-25T18:43:51.333Z appoptics:patching patched http 
2022-04-25T18:43:51.385Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:51.385Z appoptics:patching patched fs 
2022-04-25T18:43:51.415Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v18.0.0)
2022-04-25T18:43:51.422Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-25T18:43:51.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a3f51bbb39f16a95d299e01b135d2b358c01b16-0f00ace26d51778f-01 outer:exit 2b-9a3f51bbb39f16a95d299e01b135d2b358c01b16-85e7e71027458374-01
2022-04-25T18:43:51.474Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:51.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-86475ccf119a57b72d12c0a2602b1b0458074dbc-bdf519e97117c218-01 outer:exit 2b-86475ccf119a57b72d12c0a2602b1b0458074dbc-00cd424d441980a3-01
2022-04-25T18:43:51.535Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:51.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-0de0f21677df4aa3ff4d64a2d7d30d55bd587964-a071a2716c20c5c9-01 outer:exit 2b-0de0f21677df4aa3ff4d64a2d7d30d55bd587964-7527ceaef87175d0-01
2022-04-25T18:43:51.539Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:51.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb8434a6e9978d605a356a0a1b1df6871524679e-e95cee9e9774913e-01 outer:exit 2b-eb8434a6e9978d605a356a0a1b1df6871524679e-90802d2b46b40856-01
2022-04-25T18:43:51.543Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:51.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-135c6b3bfe76a00e5d30fd9895b424aefdf6d818-1a219571c08ca8bd-01 outer:exit 2b-135c6b3bfe76a00e5d30fd9895b424aefdf6d818-670ef7c34446ed22-01
2022-04-25T18:43:51.548Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:51.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6fb95260c1b2acd7e2050f07ff068b74fa8724a-ca4998af76a0425f-01 outer:exit 2b-e6fb95260c1b2acd7e2050f07ff068b74fa8724a-2c077ad2a864d4c3-01
2022-04-25T18:43:51.553Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:51.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ff6f43c8bf2a0dea3a55d664b812cbe3d82ccab-f33a21df3f12e8d5-01 outer:exit 2b-0ff6f43c8bf2a0dea3a55d664b812cbe3d82ccab-b0f602a571de4bfc-01
2022-04-25T18:43:51.556Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:51.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff56ba801c35ebf8705d771306cbffb4d2bb9a73-0c91b113babd2e4c-01 outer:exit 2b-ff56ba801c35ebf8705d771306cbffb4d2bb9a73-21888f3f63f29fea-01
2022-04-25T18:43:51.559Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:51.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-4262c0e11920dd1adc3e7ee71b468509e995d25a-9697c89a6ca07fda-01 outer:exit 2b-4262c0e11920dd1adc3e7ee71b468509e995d25a-5ccbcd045ff185d1-01
2022-04-25T18:43:51.562Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:51.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdae60ee1bd02a12c5b857721af8642267df9a7b-86c0bbf38a719fff-01 outer:exit 2b-cdae60ee1bd02a12c5b857721af8642267df9a7b-e295672dfebdcf68-01
2022-04-25T18:43:51.565Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:51.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-c202e0162b3909cc33c6ea7f8c8f00ac161ee103-a30bb9dfd3b4d7b5-01 outer:exit 2b-c202e0162b3909cc33c6ea7f8c8f00ac161ee103-5f965d4c06dc8db9-01
2022-04-25T18:43:51.572Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:51.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-3379dabfe62fb9846f4969ca5f91874ace4e4dbd-c7a334a46500dcbd-01 outer:exit 2b-3379dabfe62fb9846f4969ca5f91874ace4e4dbd-d878d5ec6a7a7532-01
2022-04-25T18:43:51.581Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:51.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-516d5e729d47dc7a5e54b423ccea4c3af7e4ad58-cf71d77d30dacf3e-01 outer:exit 2b-516d5e729d47dc7a5e54b423ccea4c3af7e4ad58-36debc447b71b5db-01
2022-04-25T18:43:51.603Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:51.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-14b418888c7222c742f73fef0f0a7e44a907e815-a3bbeabf8bc32828-01 outer:exit 2b-14b418888c7222c742f73fef0f0a7e44a907e815-fdc1fddee54fd1d2-01
2022-04-25T18:43:51.646Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:51.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dcb4f75d37d88442e68f06634a53aafff39fdb9-f04c0211f5640044-01 outer:exit 2b-1dcb4f75d37d88442e68f06634a53aafff39fdb9-b0dfa65e51b4c265-01
2022-04-25T18:43:51.649Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:51.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-575893951caab8cf835ddf753ffba53f72062f86-4951d6b48db34496-01 outer:exit 2b-575893951caab8cf835ddf753ffba53f72062f86-b3026ae3b198b3a2-01
2022-04-25T18:43:51.653Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:51.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ed6f191353c68f89d50d28bf6f9c9aaabb55ae-d8457f65ede9fde4-01 outer:exit 2b-e5ed6f191353c68f89d50d28bf6f9c9aaabb55ae-adff47d7241b6893-01
2022-04-25T18:43:51.656Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:51.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f4c6b68afd278634281f49217d7f172f33f6281-1b5facbebafd9f17-01 outer:exit 2b-3f4c6b68afd278634281f49217d7f172f33f6281-950ea12c877f0a97-01
2022-04-25T18:43:51.659Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:51.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-a53ced16f9534ed42e33fc7183baef7224411bae-363b2e8220baf8aa-01 outer:exit 2b-a53ced16f9534ed42e33fc7183baef7224411bae-c726bef24f941f03-01
2022-04-25T18:43:51.661Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:51.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-d71e8fdbae5fa82572c2023cb4bf4289796a74b5-de141e2b3bb453db-01 outer:exit 2b-d71e8fdbae5fa82572c2023cb4bf4289796a74b5-423f5e010c8762d0-01
2022-04-25T18:43:51.664Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:51.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-47dd138005670511f25bedac62ac1d3d00dd2714-1b084127d1e27394-01 outer:exit 2b-47dd138005670511f25bedac62ac1d3d00dd2714-2d8c3b0a69fbd910-01
2022-04-25T18:43:51.666Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:51.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-22261051f6edafa2be1e7cb04852ac5c2c962b3b-896d693a19ea2432-01 outer:exit 2b-22261051f6edafa2be1e7cb04852ac5c2c962b3b-19875f08e72e7003-01
2022-04-25T18:43:51.670Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:51.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-4896a6b357197dae65f6cefde5c7cdff34c273fb-62f782f847e0791e-01 outer:exit 2b-4896a6b357197dae65f6cefde5c7cdff34c273fb-1ccb3ced2eca4253-01
2022-04-25T18:43:51.673Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:51.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-45c19da716baa5b7a7f8bd91079b3c7d5eb4b66f-43560a7de1ed6e55-01 outer:exit 2b-45c19da716baa5b7a7f8bd91079b3c7d5eb4b66f-f73a4d2e3a22e0dc-01
2022-04-25T18:43:51.676Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:51.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd6eaec1a418cc97643e098f37ca90ba95f836dd-450985d11646c1a1-01 outer:exit 2b-bd6eaec1a418cc97643e098f37ca90ba95f836dd-7581df3443cd00c8-01
2022-04-25T18:43:51.679Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:51.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-894ec397a1a65d31282388a5a93d31486162b4ae-2dc6bb674f3ebb0a-01 outer:exit 2b-894ec397a1a65d31282388a5a93d31486162b4ae-467fadc013cce832-01
2022-04-25T18:43:51.681Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:51.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d5217e940a15573a45402f2cae20effa5453971-dbc7401321722c15-01 outer:exit 2b-3d5217e940a15573a45402f2cae20effa5453971-e5af7febcd4d9040-01
2022-04-25T18:43:51.688Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:51.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-f971bb82239ecc4dbdd0b505661ae8acd35d7d7c-c3fd835cadc996e8-01 outer:exit 2b-f971bb82239ecc4dbdd0b505661ae8acd35d7d7c-34d635031c987ca6-01
2022-04-25T18:43:51.694Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:51.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-68db9f874efb5028b9de46492384ed46b092291f-2148a7fca6643222-01 outer:exit 2b-68db9f874efb5028b9de46492384ed46b092291f-4ff619c5efc1bd0f-01
2022-04-25T18:43:51.704Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:51.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8f2195282b03f330b2350dde2c78c908bcae6c0-8b1b66c6525ad187-01 outer:exit 2b-a8f2195282b03f330b2350dde2c78c908bcae6c0-0b1689ca823fb740-01
2022-04-25T18:43:51.713Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:51.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-703c9117f5af29a4c96fa03d776848a6bc455633-ad9292c904f33647-01 outer:exit 2b-703c9117f5af29a4c96fa03d776848a6bc455633-45ee29bf331e6623-01
2022-04-25T18:43:51.715Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:51.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-122cc5c50fbe38c670482027995e7be566a59fb7-374cc76890366f5b-01 outer:exit 2b-122cc5c50fbe38c670482027995e7be566a59fb7-77b6f83ed43eb58d-01
2022-04-25T18:43:51.720Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:51.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0efd7b587e83d6b0ee88d024ea0a617d5a74737-91a32115e5f9f156-01 outer:exit 2b-c0efd7b587e83d6b0ee88d024ea0a617d5a74737-5dc66a039bb50927-01
2022-04-25T18:43:51.730Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:51.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-de6922d9a717a27bf780be21f4903f26d3424771-e765066b40744e73-01 outer:exit 2b-de6922d9a717a27bf780be21f4903f26d3424771-a20e84395966e312-01
2022-04-25T18:43:51.732Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:51.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f0b9d8c0af6badcbca8628cf66931bde443455b-4a321ad6b4776aca-01 outer:exit 2b-6f0b9d8c0af6badcbca8628cf66931bde443455b-8c6b2c64e8516d5c-01
2022-04-25T18:43:51.734Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:51.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-035a3978d75c0f79b84762236f8b2d3810371164-d50a50171049d39c-01 outer:exit 2b-035a3978d75c0f79b84762236f8b2d3810371164-ced54c6eb7471096-01
2022-04-25T18:43:51.737Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:51.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e9d2ff1342c22d81b07ffedbd10e54f1ed4a83d-3b89354363dc7478-01 outer:exit 2b-7e9d2ff1342c22d81b07ffedbd10e54f1ed4a83d-3701d1439bd88ab7-01
2022-04-25T18:43:51.739Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:51.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-651dbe708fb52052b9972e9fc47d655c97fa78df-46b44d56d010d49b-01 outer:exit 2b-651dbe708fb52052b9972e9fc47d655c97fa78df-6533e59122ecd332-01
2022-04-25T18:43:51.741Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:51.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9cb664002959d168c54ba164eb6ab1e89a2f395-e5a22e55c71fab37-01 outer:exit 2b-b9cb664002959d168c54ba164eb6ab1e89a2f395-cefa37f9de277d64-01
2022-04-25T18:43:51.759Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:51.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-b50a1626f17937d68b0c11318f7c17d44a78bdae-85cae30484d0bf83-01 outer:exit 2b-b50a1626f17937d68b0c11318f7c17d44a78bdae-69b2df065734078f-01
2022-04-25T18:43:51.771Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:51.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec6c70320de0d3683c6ff6fa25c0da5a34a8f64c-994aafead3916f3e-01 outer:exit 2b-ec6c70320de0d3683c6ff6fa25c0da5a34a8f64c-4133f28ed3e59333-01
2022-04-25T18:43:51.775Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:51.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-efd83553babfa0f5ad77252af4a09a374b218e85-94f259dcc3a9b323-01 outer:exit 2b-efd83553babfa0f5ad77252af4a09a374b218e85-e846732ab0cf625e-01
2022-04-25T18:43:51.778Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:51.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c7019c5c064006c895db6a7f09c69fff630cc3b-42fc338b8d134376-01 outer:exit 2b-8c7019c5c064006c895db6a7f09c69fff630cc3b-4f4de3bb0f945940-01
2022-04-25T18:43:51.781Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:51.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-582cbf90fbd000bc3601e26e922577532c6e63b8-3951deb59ea6d7e9-01 outer:exit 2b-582cbf90fbd000bc3601e26e922577532c6e63b8-025af97be6aacb48-01
2022-04-25T18:43:51.816Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (387ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:58.967Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:58.968Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:58.968Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:58.969Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:59.049Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:59.183Z appoptics:patching patched crypto 
2022-04-25T18:43:59.204Z appoptics:patching patched https 
2022-04-25T18:43:59.205Z appoptics:patching patched http 
2022-04-25T18:43:59.253Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:59.253Z appoptics:patching patched fs 
2022-04-25T18:43:59.282Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v18.0.0)
2022-04-25T18:43:59.288Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-25T18:43:59.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-7527f652fe9c4c363e0578a18e4124c42599da95-de37bb1cbbc88efa-01 outer:exit 2b-7527f652fe9c4c363e0578a18e4124c42599da95-129979f6eb91297d-01
2022-04-25T18:43:59.344Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:59.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-36f3c243ee43ce6cf01482471b4146b2bceddff9-0204e7631f22c60b-01 outer:exit 2b-36f3c243ee43ce6cf01482471b4146b2bceddff9-f3f104a59b8b5d8b-01
2022-04-25T18:43:59.395Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:59.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-fefd1ac49ae2e8de8e34faa66581293d7019571e-31c5cc117bf5c3ae-01 outer:exit 2b-fefd1ac49ae2e8de8e34faa66581293d7019571e-8f91d1788b717bff-01
2022-04-25T18:43:59.399Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:59.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-43dd09af5ff361359a89f4b703a019b778b99cbb-1f386d09e1f44b76-01 outer:exit 2b-43dd09af5ff361359a89f4b703a019b778b99cbb-913bf490b20635cc-01
2022-04-25T18:43:59.402Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:59.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-235a4d3cfb0313483cf5af89ea04b149699b48ce-062b50337f3a0b14-01 outer:exit 2b-235a4d3cfb0313483cf5af89ea04b149699b48ce-6644b68a4fa0a3d5-01
2022-04-25T18:43:59.410Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:59.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e6c9cc24160621c168cd8fac748ce641fd033e0-c67b84c5b2250de4-01 outer:exit 2b-2e6c9cc24160621c168cd8fac748ce641fd033e0-e5a0dec4cf2f3f84-01
2022-04-25T18:43:59.416Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:59.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cbbc40d6d4b52e2cfada6d99a3173416e5a6ac9-b43c4be93d0354f3-01 outer:exit 2b-1cbbc40d6d4b52e2cfada6d99a3173416e5a6ac9-2a11c5fc5108908c-01
2022-04-25T18:43:59.419Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:59.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-6421f67a9a9c8ee3659c3404c8fb3f607ffe3e17-3d7019b9ff6462a8-01 outer:exit 2b-6421f67a9a9c8ee3659c3404c8fb3f607ffe3e17-50a2638fbf32ceab-01
2022-04-25T18:43:59.424Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:59.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1cee8613393b5179ae114f1c7906cce65859417-a4ba6c40c41f1fbd-01 outer:exit 2b-a1cee8613393b5179ae114f1c7906cce65859417-fdf50dda7a2e352a-01
2022-04-25T18:43:59.427Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:59.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-29ac5770de3f926abd294dd0cecdaa8750c40e24-5403dd3c054ce751-01 outer:exit 2b-29ac5770de3f926abd294dd0cecdaa8750c40e24-18931032501f4efb-01
2022-04-25T18:43:59.431Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:59.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-2921cd3e86de65865e86927feb9cb75c5adba452-a928b4c2754df804-01 outer:exit 2b-2921cd3e86de65865e86927feb9cb75c5adba452-1e9ca1f5b2073559-01
2022-04-25T18:43:59.435Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:59.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb4af45ab809651ba1d80a1410430f22077b5ccf-b9d7886fe7d2ed2b-01 outer:exit 2b-eb4af45ab809651ba1d80a1410430f22077b5ccf-79a233ea2741a425-01
2022-04-25T18:43:59.443Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:59.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1f44ed15938a1bb43b53636221d009c21cd5ab1-4c9b2be7b4249544-01 outer:exit 2b-b1f44ed15938a1bb43b53636221d009c21cd5ab1-31a9bfd6285e1013-01
2022-04-25T18:43:59.460Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:59.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-301f5a21cc08cd6e0c89dba3f0a44214fccb1f70-ab16e1bfc6410daf-01 outer:exit 2b-301f5a21cc08cd6e0c89dba3f0a44214fccb1f70-b79ab5babc350bc7-01
2022-04-25T18:43:59.506Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:59.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-04167a7720dd14a1e473c10724403a591cc1965c-85a3113362fbea8e-01 outer:exit 2b-04167a7720dd14a1e473c10724403a591cc1965c-820bed647cf7d087-01
2022-04-25T18:43:59.509Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:59.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-15b99d6cd9267ba23cc7c0ebe3905824425e71b3-45b97d17fe05a74a-01 outer:exit 2b-15b99d6cd9267ba23cc7c0ebe3905824425e71b3-64e933f5eaff40bd-01
2022-04-25T18:43:59.512Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:59.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-8115e571efcf6503c950d128ac16107fed7c4fa2-086b620633f64021-01 outer:exit 2b-8115e571efcf6503c950d128ac16107fed7c4fa2-ba89aa40f4b5ac4b-01
2022-04-25T18:43:59.515Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:59.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-63ff56f49257b0da3345c9a0e1590e87b64b00da-e5b30fc135c7248e-01 outer:exit 2b-63ff56f49257b0da3345c9a0e1590e87b64b00da-e7b6da47e42fc59c-01
2022-04-25T18:43:59.517Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:59.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ea2ae18f477eb691cba9ce3452f9ddc7208d070-1ed17e16cf878fec-01 outer:exit 2b-4ea2ae18f477eb691cba9ce3452f9ddc7208d070-7aad4ddcf2880be0-01
2022-04-25T18:43:59.520Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:59.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-0887995645660e50907a1995b33bd5fceee44a08-f32ef532203736a5-01 outer:exit 2b-0887995645660e50907a1995b33bd5fceee44a08-1b6d05b10bd5450d-01
2022-04-25T18:43:59.522Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:59.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-96b7761abfab14b5f660876d38c9068bfaef07a7-fbe6855e6a670a73-01 outer:exit 2b-96b7761abfab14b5f660876d38c9068bfaef07a7-22d714bdc2a2d777-01
2022-04-25T18:43:59.524Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:59.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-6283dc7297097f2299a4d2aae0e1647f1d757829-f4a2f58f233edc19-01 outer:exit 2b-6283dc7297097f2299a4d2aae0e1647f1d757829-81f468e484a0bf23-01
2022-04-25T18:43:59.526Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:59.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-187bf8f71bd2218289b6387e04e950056f104fee-77b8bf8f291291c7-01 outer:exit 2b-187bf8f71bd2218289b6387e04e950056f104fee-b389d3e7fbf5c9d3-01
2022-04-25T18:43:59.530Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:59.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4d0c995a2ce5fe554ca16219b8e375ecb3adad4-686afc75493992ed-01 outer:exit 2b-d4d0c995a2ce5fe554ca16219b8e375ecb3adad4-c3a9dd13300c7196-01
2022-04-25T18:43:59.533Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:59.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-888e8114c1f81fa890d818cac3b2f92cce92261b-d5abd38f38f0beab-01 outer:exit 2b-888e8114c1f81fa890d818cac3b2f92cce92261b-3d25db263194f144-01
2022-04-25T18:43:59.536Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:59.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf14e0cb6deedc6b44f88aa8883249dab45f5a3e-bc1a8e1a6b5917b7-01 outer:exit 2b-cf14e0cb6deedc6b44f88aa8883249dab45f5a3e-81eaac67cd3b44c1-01
2022-04-25T18:43:59.538Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:59.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6e35fe32df62e5bb71f3c0e045eb118d1bb2269-86d8264a519c75c3-01 outer:exit 2b-d6e35fe32df62e5bb71f3c0e045eb118d1bb2269-a296487722facf39-01
2022-04-25T18:43:59.545Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:59.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4c1ee85e9294c6a91d570301d74529ed5ff21c6-0fb83dc7b3799bc4-01 outer:exit 2b-c4c1ee85e9294c6a91d570301d74529ed5ff21c6-fb07fdb192b0a105-01
2022-04-25T18:43:59.552Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:59.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28f0f52a8c89e5d5f5eeb121e9eeeadb29ff770-fd2b5f0082d83dff-01 outer:exit 2b-d28f0f52a8c89e5d5f5eeb121e9eeeadb29ff770-4dd7b8f2c264336d-01
2022-04-25T18:43:59.562Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:59.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-9836c043bd5dbdd46494b7357ddab55456cafb95-951420274ea0fc60-01 outer:exit 2b-9836c043bd5dbdd46494b7357ddab55456cafb95-fe89f47731236792-01
2022-04-25T18:43:59.569Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:59.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-984d600edc69b884233042e1e49ba56d1c171add-b038948f77720550-01 outer:exit 2b-984d600edc69b884233042e1e49ba56d1c171add-af838b4c2898376a-01
2022-04-25T18:43:59.571Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:59.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-60a90aeb90f213eba5940a76e8cfb29931d82ecc-2aa0fd3e7a5fe8d2-01 outer:exit 2b-60a90aeb90f213eba5940a76e8cfb29931d82ecc-ccd1ae649f01c7ae-01
2022-04-25T18:43:59.574Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:59.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5cf71d30b6ea0fb0a2664c639fb8fe96c188702-e113a079d0ef52fd-01 outer:exit 2b-a5cf71d30b6ea0fb0a2664c639fb8fe96c188702-58ce883aadb4a166-01
2022-04-25T18:43:59.582Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:59.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ad95657c1d9704603ee6fd6f4fd78596843d1a9-fa5c569a140d27af-01 outer:exit 2b-0ad95657c1d9704603ee6fd6f4fd78596843d1a9-0cd1b2bbe146b829-01
2022-04-25T18:43:59.584Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:59.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-74a47771c86ff323b45dccd39e944320e635b3ff-0fb6a66263c8d23a-01 outer:exit 2b-74a47771c86ff323b45dccd39e944320e635b3ff-99f8792a0df6b52c-01
2022-04-25T18:43:59.587Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:59.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-897c4077d334ca1cfe5debbe904d2378994876f7-eb23ffd5a2404f09-01 outer:exit 2b-897c4077d334ca1cfe5debbe904d2378994876f7-74506bb146ed1920-01
2022-04-25T18:43:59.589Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:59.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-74f06dcefa2052d2235625809404b5740edd9466-ac95ec61cf8a6aca-01 outer:exit 2b-74f06dcefa2052d2235625809404b5740edd9466-5d351f0e64b06e15-01
2022-04-25T18:43:59.591Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:59.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9ecd5882e00d0b93f66e070dd985b9f3e83a2dc-153485b308902a7e-01 outer:exit 2b-c9ecd5882e00d0b93f66e070dd985b9f3e83a2dc-04ac0cb465da68bd-01
2022-04-25T18:43:59.593Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:59.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-f38b5fac26b3b358a61796a12c51973e76222ad5-e7b7a24f26e310aa-01 outer:exit 2b-f38b5fac26b3b358a61796a12c51973e76222ad5-f3de7f9d950bc8fe-01
2022-04-25T18:43:59.603Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:59.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa2245f7eeb4b2ca372a9d0f80f70bde5df9e2b7-d4a976531c5c6812-01 outer:exit 2b-fa2245f7eeb4b2ca372a9d0f80f70bde5df9e2b7-e716e2543c675d6b-01
2022-04-25T18:43:59.613Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:59.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-7168c7139bf1d81da131f88e47cff7aebd897de4-acb9353e717809c9-01 outer:exit 2b-7168c7139bf1d81da131f88e47cff7aebd897de4-57acabc58f91dc11-01
2022-04-25T18:43:59.616Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:59.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0807553cd511bb20a916e06e6c4fe87d6d2b9c8-86bb3504d9b8c1ba-01 outer:exit 2b-c0807553cd511bb20a916e06e6c4fe87d6d2b9c8-96e320c2a66cf991-01
2022-04-25T18:43:59.619Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:59.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb091a70c98fabdf857646e1f52798cb83686aa3-f7a1ef6f103a2f38-01 outer:exit 2b-bb091a70c98fabdf857646e1f52798cb83686aa3-bc3febdc17f2e94b-01
2022-04-25T18:43:59.623Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:59.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-949ca8bbcc170eb7b44cb5c788b570141c0ac675-f14bb957377a9335-01 outer:exit 2b-949ca8bbcc170eb7b44cb5c788b570141c0ac675-8b70e8b62e765373-01
2022-04-25T18:43:59.656Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (360ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:07.815Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:07.815Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:07.816Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:07.816Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:07.890Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:08.029Z appoptics:patching patched crypto 
2022-04-25T18:44:08.051Z appoptics:patching patched https 
2022-04-25T18:44:08.051Z appoptics:patching patched http 
2022-04-25T18:44:08.099Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:08.099Z appoptics:patching patched fs 
2022-04-25T18:44:08.112Z appoptics:patching patched zlib 
2022-04-25T18:44:08.139Z appoptics:patching patched mongodb-core 3.0.0
2022-04-25T18:44:08.145Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (355ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:16.426Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:16.427Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:16.427Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:16.428Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:16.496Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:16.622Z appoptics:patching patched crypto 
2022-04-25T18:44:16.642Z appoptics:patching patched https 
2022-04-25T18:44:16.643Z appoptics:patching patched http 
2022-04-25T18:44:16.691Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:16.691Z appoptics:patching patched fs 
2022-04-25T18:44:16.701Z appoptics:patching patched zlib 
2022-04-25T18:44:16.724Z appoptics:patching patched mongodb-core 3.0.1
2022-04-25T18:44:16.730Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (308ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:23.825Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:23.826Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:23.826Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:23.826Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:23.895Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:24.023Z appoptics:patching patched crypto 
2022-04-25T18:44:24.043Z appoptics:patching patched https 
2022-04-25T18:44:24.044Z appoptics:patching patched http 
2022-04-25T18:44:24.091Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:24.091Z appoptics:patching patched fs 
2022-04-25T18:44:24.102Z appoptics:patching patched zlib 
2022-04-25T18:44:24.126Z appoptics:patching patched mongodb-core 3.0.2
2022-04-25T18:44:24.132Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (308ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:32.559Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:32.559Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:32.559Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:32.560Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:32.646Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:32.791Z appoptics:patching patched crypto 
2022-04-25T18:44:32.813Z appoptics:patching patched https 
2022-04-25T18:44:32.813Z appoptics:patching patched http 
2022-04-25T18:44:32.887Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:32.887Z appoptics:patching patched fs 
2022-04-25T18:44:32.898Z appoptics:patching patched zlib 
2022-04-25T18:44:32.932Z appoptics:patching patched mongodb-core 3.0.3
2022-04-25T18:44:32.938Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (322ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:41.043Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:41.044Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:41.044Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:41.044Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:41.113Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:41.243Z appoptics:patching patched crypto 
2022-04-25T18:44:41.264Z appoptics:patching patched https 
2022-04-25T18:44:41.265Z appoptics:patching patched http 
2022-04-25T18:44:41.322Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:41.323Z appoptics:patching patched fs 
2022-04-25T18:44:41.333Z appoptics:patching patched zlib 
2022-04-25T18:44:41.359Z appoptics:patching patched mongodb-core 3.0.4
2022-04-25T18:44:41.364Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (46ms)


  33 passing (330ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:48.711Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:48.711Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:48.711Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:48.712Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:48.781Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:48.910Z appoptics:patching patched crypto 
2022-04-25T18:44:48.931Z appoptics:patching patched https 
2022-04-25T18:44:48.931Z appoptics:patching patched http 
2022-04-25T18:44:49.008Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:49.009Z appoptics:patching patched fs 
2022-04-25T18:44:49.019Z appoptics:patching patched zlib 
2022-04-25T18:44:49.048Z appoptics:patching patched mongodb-core 3.0.5
2022-04-25T18:44:49.054Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (340ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:56.981Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:56.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:56.982Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:56.983Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:57.053Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:57.184Z appoptics:patching patched crypto 
2022-04-25T18:44:57.205Z appoptics:patching patched https 
2022-04-25T18:44:57.205Z appoptics:patching patched http 
2022-04-25T18:44:57.253Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:57.253Z appoptics:patching patched fs 
2022-04-25T18:44:57.263Z appoptics:patching patched zlib 
2022-04-25T18:44:57.291Z appoptics:patching patched mongodb-core 3.0.6
2022-04-25T18:44:57.297Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (339ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:05.422Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:05.427Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:05.427Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:05.429Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:05.618Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:05.780Z appoptics:patching patched crypto 
2022-04-25T18:45:05.825Z appoptics:patching patched https 
2022-04-25T18:45:05.826Z appoptics:patching patched http 
2022-04-25T18:45:05.867Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:05.868Z appoptics:patching patched fs 
2022-04-25T18:45:05.878Z appoptics:patching patched zlib 
2022-04-25T18:45:05.912Z appoptics:patching patched mongodb-core 3.0.7
2022-04-25T18:45:05.919Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (365ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:13.186Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:13.187Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:13.187Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:13.187Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:13.254Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:13.391Z appoptics:patching patched crypto 
2022-04-25T18:45:13.445Z appoptics:patching patched https 
2022-04-25T18:45:13.446Z appoptics:patching patched http 
2022-04-25T18:45:13.499Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:13.499Z appoptics:patching patched fs 
2022-04-25T18:45:13.511Z appoptics:patching patched zlib 
2022-04-25T18:45:13.544Z appoptics:patching patched mongodb-core 3.0.8
2022-04-25T18:45:13.550Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (315ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:21.410Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:21.411Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:21.411Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:21.412Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:21.481Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:21.608Z appoptics:patching patched crypto 
2022-04-25T18:45:21.628Z appoptics:patching patched https 
2022-04-25T18:45:21.629Z appoptics:patching patched http 
2022-04-25T18:45:21.676Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:21.677Z appoptics:patching patched fs 
2022-04-25T18:45:21.687Z appoptics:patching patched zlib 
2022-04-25T18:45:21.713Z appoptics:patching patched mongodb-core 3.0.9
2022-04-25T18:45:21.719Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (345ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:29.692Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:29.693Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:29.693Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:29.694Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:29.783Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:29.960Z appoptics:patching patched crypto 
2022-04-25T18:45:29.998Z appoptics:patching patched https 
2022-04-25T18:45:30.003Z appoptics:patching patched http 
2022-04-25T18:45:30.049Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:30.049Z appoptics:patching patched fs 
2022-04-25T18:45:30.066Z appoptics:patching patched zlib 
2022-04-25T18:45:30.100Z appoptics:patching patched mongodb-core 3.0.11
2022-04-25T18:45:30.108Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (380ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:37.594Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:37.595Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:37.595Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:37.596Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:37.668Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:37.799Z appoptics:patching patched crypto 
2022-04-25T18:45:37.822Z appoptics:patching patched https 
2022-04-25T18:45:37.823Z appoptics:patching patched http 
2022-04-25T18:45:37.871Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:37.871Z appoptics:patching patched fs 
2022-04-25T18:45:37.882Z appoptics:patching patched zlib 
2022-04-25T18:45:37.913Z appoptics:patching patched mongodb-core 3.1.0
2022-04-25T18:45:37.919Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (373ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:46.644Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:46.645Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:46.645Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:46.646Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:46.758Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:46.894Z appoptics:patching patched crypto 
2022-04-25T18:45:46.915Z appoptics:patching patched https 
2022-04-25T18:45:46.916Z appoptics:patching patched http 
2022-04-25T18:45:46.964Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:46.964Z appoptics:patching patched fs 
2022-04-25T18:45:46.974Z appoptics:patching patched zlib 
2022-04-25T18:45:47.006Z appoptics:patching patched mongodb-core 3.1.1
2022-04-25T18:45:47.011Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (343ms)


changed 2 packages, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:54.741Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:54.742Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:54.742Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:54.743Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:54.820Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:54.984Z appoptics:patching patched crypto 
2022-04-25T18:45:55.036Z appoptics:patching patched https 
2022-04-25T18:45:55.070Z appoptics:patching patched http 
2022-04-25T18:45:55.144Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:55.144Z appoptics:patching patched fs 
2022-04-25T18:45:55.167Z appoptics:patching patched zlib 
2022-04-25T18:45:55.241Z appoptics:patching patched mongodb-core 3.1.2
2022-04-25T18:45:55.253Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (360ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:02.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:02.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:02.565Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:02.566Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:02.638Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:02.771Z appoptics:patching patched crypto 
2022-04-25T18:46:02.794Z appoptics:patching patched https 
2022-04-25T18:46:02.795Z appoptics:patching patched http 
2022-04-25T18:46:02.844Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:02.844Z appoptics:patching patched fs 
2022-04-25T18:46:02.856Z appoptics:patching patched zlib 
2022-04-25T18:46:02.886Z appoptics:patching patched mongodb-core 3.1.3
2022-04-25T18:46:02.894Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (380ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:11.661Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:11.661Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:11.661Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:11.662Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:11.732Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:11.876Z appoptics:patching patched crypto 
2022-04-25T18:46:11.898Z appoptics:patching patched https 
2022-04-25T18:46:11.898Z appoptics:patching patched http 
2022-04-25T18:46:11.950Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:11.950Z appoptics:patching patched fs 
2022-04-25T18:46:11.966Z appoptics:patching patched zlib 
2022-04-25T18:46:12.002Z appoptics:patching patched mongodb-core 3.1.4
2022-04-25T18:46:12.008Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (791ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:20.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:20.492Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:20.492Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:20.493Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:20.593Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:20.815Z appoptics:patching patched crypto 
2022-04-25T18:46:20.862Z appoptics:patching patched https 
2022-04-25T18:46:20.863Z appoptics:patching patched http 
2022-04-25T18:46:20.907Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:20.907Z appoptics:patching patched fs 
2022-04-25T18:46:20.919Z appoptics:patching patched zlib 
2022-04-25T18:46:20.950Z appoptics:patching patched mongodb-core 3.1.5
2022-04-25T18:46:20.956Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (355ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:28.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:28.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:28.637Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:28.638Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:28.708Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:28.840Z appoptics:patching patched crypto 
2022-04-25T18:46:28.860Z appoptics:patching patched https 
2022-04-25T18:46:28.861Z appoptics:patching patched http 
2022-04-25T18:46:28.909Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:28.910Z appoptics:patching patched fs 
2022-04-25T18:46:28.922Z appoptics:patching patched zlib 
2022-04-25T18:46:28.952Z appoptics:patching patched mongodb-core 3.1.6
2022-04-25T18:46:28.958Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (416ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:37.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:37.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:37.042Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:37.043Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:37.110Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:37.240Z appoptics:patching patched crypto 
2022-04-25T18:46:37.288Z appoptics:patching patched https 
2022-04-25T18:46:37.288Z appoptics:patching patched http 
2022-04-25T18:46:37.331Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:37.331Z appoptics:patching patched fs 
2022-04-25T18:46:37.343Z appoptics:patching patched zlib 
2022-04-25T18:46:37.377Z appoptics:patching patched mongodb-core 3.1.7
2022-04-25T18:46:37.384Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (365ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:45.229Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:45.230Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:45.230Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:45.239Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:45.359Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:45.550Z appoptics:patching patched crypto 
2022-04-25T18:46:45.603Z appoptics:patching patched https 
2022-04-25T18:46:45.604Z appoptics:patching patched http 
2022-04-25T18:46:45.658Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:45.659Z appoptics:patching patched fs 
2022-04-25T18:46:45.674Z appoptics:patching patched zlib 
2022-04-25T18:46:45.714Z appoptics:patching patched mongodb-core 3.1.8
2022-04-25T18:46:45.720Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (381ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:53.092Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:53.092Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:53.093Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:53.093Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:53.161Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:53.289Z appoptics:patching patched crypto 
2022-04-25T18:46:53.310Z appoptics:patching patched https 
2022-04-25T18:46:53.310Z appoptics:patching patched http 
2022-04-25T18:46:53.354Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:53.355Z appoptics:patching patched fs 
2022-04-25T18:46:53.366Z appoptics:patching patched zlib 
2022-04-25T18:46:53.396Z appoptics:patching patched mongodb-core 3.1.9
2022-04-25T18:46:53.401Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (309ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:01.398Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:01.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:01.399Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:01.400Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:01.469Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:01.596Z appoptics:patching patched crypto 
2022-04-25T18:47:01.616Z appoptics:patching patched https 
2022-04-25T18:47:01.617Z appoptics:patching patched http 
2022-04-25T18:47:01.661Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:01.661Z appoptics:patching patched fs 
2022-04-25T18:47:01.673Z appoptics:patching patched zlib 
2022-04-25T18:47:01.702Z appoptics:patching patched mongodb-core 3.1.10
2022-04-25T18:47:01.708Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (393ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:09.725Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:09.726Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:09.726Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:09.727Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:09.819Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:09.969Z appoptics:patching patched crypto 
2022-04-25T18:47:10.019Z appoptics:patching patched https 
2022-04-25T18:47:10.020Z appoptics:patching patched http 
2022-04-25T18:47:10.066Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:10.067Z appoptics:patching patched fs 
2022-04-25T18:47:10.078Z appoptics:patching patched zlib 
2022-04-25T18:47:10.118Z appoptics:patching patched mongodb-core 3.1.11
2022-04-25T18:47:10.125Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (474ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:17.558Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:17.559Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:17.559Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:17.560Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:17.629Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:17.760Z appoptics:patching patched crypto 
2022-04-25T18:47:17.780Z appoptics:patching patched https 
2022-04-25T18:47:17.780Z appoptics:patching patched http 
2022-04-25T18:47:17.826Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:17.827Z appoptics:patching patched fs 
2022-04-25T18:47:17.839Z appoptics:patching patched zlib 
2022-04-25T18:47:17.874Z appoptics:patching patched mongodb-core 3.2.0
2022-04-25T18:47:17.880Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (389ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:26.550Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:26.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:26.551Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:26.552Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:26.621Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:26.750Z appoptics:patching patched crypto 
2022-04-25T18:47:26.770Z appoptics:patching patched https 
2022-04-25T18:47:26.770Z appoptics:patching patched http 
2022-04-25T18:47:26.817Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:26.817Z appoptics:patching patched fs 
2022-04-25T18:47:26.830Z appoptics:patching patched zlib 
2022-04-25T18:47:26.865Z appoptics:patching patched mongodb-core 3.2.1
2022-04-25T18:47:26.870Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (359ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:34.189Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:34.190Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:34.190Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:34.191Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:34.280Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:34.499Z appoptics:patching patched crypto 
2022-04-25T18:47:34.547Z appoptics:patching patched https 
2022-04-25T18:47:34.548Z appoptics:patching patched http 
2022-04-25T18:47:34.594Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:34.594Z appoptics:patching patched fs 
2022-04-25T18:47:34.607Z appoptics:patching patched zlib 
2022-04-25T18:47:34.652Z appoptics:patching patched mongodb-core 3.2.2
2022-04-25T18:47:34.658Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (44ms)


  33 passing (540ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:42.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:42.225Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:42.225Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:42.226Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:42.295Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:42.423Z appoptics:patching patched crypto 
2022-04-25T18:47:42.443Z appoptics:patching patched https 
2022-04-25T18:47:42.444Z appoptics:patching patched http 
2022-04-25T18:47:42.488Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:42.488Z appoptics:patching patched fs 
2022-04-25T18:47:42.501Z appoptics:patching patched zlib 
2022-04-25T18:47:42.535Z appoptics:patching patched mongodb-core 3.2.3
2022-04-25T18:47:42.541Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (371ms)


changed 1 package, and audited 927 packages in 10s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:53.315Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:53.316Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:53.316Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:53.317Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:53.386Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:53.514Z appoptics:patching patched crypto 
2022-04-25T18:47:53.535Z appoptics:patching patched https 
2022-04-25T18:47:53.535Z appoptics:patching patched http 
2022-04-25T18:47:53.579Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:53.580Z appoptics:patching patched fs 
2022-04-25T18:47:53.592Z appoptics:patching patched zlib 
2022-04-25T18:47:53.627Z appoptics:patching patched mongodb-core 3.2.4
2022-04-25T18:47:53.633Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (335ms)


changed 1 package, and audited 927 packages in 19s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:13.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:13.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:13.648Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:13.649Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:13.717Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:13.845Z appoptics:patching patched crypto 
2022-04-25T18:48:13.866Z appoptics:patching patched https 
2022-04-25T18:48:13.866Z appoptics:patching patched http 
2022-04-25T18:48:13.912Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:13.912Z appoptics:patching patched fs 
2022-04-25T18:48:13.925Z appoptics:patching patched zlib 
2022-04-25T18:48:13.961Z appoptics:patching patched mongodb-core 3.2.5
2022-04-25T18:48:13.966Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (381ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:21.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:21.664Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:21.664Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:21.664Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:21.795Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:22.009Z appoptics:patching patched crypto 
2022-04-25T18:48:22.056Z appoptics:patching patched https 
2022-04-25T18:48:22.057Z appoptics:patching patched http 
2022-04-25T18:48:22.102Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:22.102Z appoptics:patching patched fs 
2022-04-25T18:48:22.115Z appoptics:patching patched zlib 
2022-04-25T18:48:22.158Z appoptics:patching patched mongodb-core 3.2.6
2022-04-25T18:48:22.165Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (418ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:29.784Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:29.785Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:29.785Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:29.786Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:29.858Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:29.994Z appoptics:patching patched crypto 
2022-04-25T18:48:30.016Z appoptics:patching patched https 
2022-04-25T18:48:30.016Z appoptics:patching patched http 
2022-04-25T18:48:30.064Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:30.065Z appoptics:patching patched fs 
2022-04-25T18:48:30.086Z appoptics:patching patched zlib 
2022-04-25T18:48:30.134Z appoptics:patching patched mongodb-core 3.2.7
2022-04-25T18:48:30.140Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (334ms)


up to date, audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
