npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.1.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.

added 2 packages, removed 77 packages, changed 3 packages, and audited 847 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:13.134Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:13.135Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:13.135Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:13.135Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:13.135Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:13.221Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:13.590Z appoptics:patching patched crypto 
2022-03-30T16:03:13.614Z appoptics:patching patched https 
2022-03-30T16:03:13.615Z appoptics:patching patched http 
2022-03-30T16:03:13.707Z appoptics:patching patched tedious 0.1.5
2022-03-30T16:03:13.712Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.1.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 0.1.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.1.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.1.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.1.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.1.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.1.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.1.5
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.1.5
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 0.1.5
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 0.1.5
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 0.1.5
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emit (node:events:520:28)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 2 packages, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:26.532Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:26.533Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:26.534Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:26.534Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:26.534Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:26.626Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:26.823Z appoptics:patching patched crypto 
2022-03-30T16:03:26.851Z appoptics:patching patched https 
2022-03-30T16:03:26.877Z appoptics:patching patched http 
2022-03-30T16:03:26.984Z appoptics:patching patched tedious 0.2.1
2022-03-30T16:03:26.991Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 0.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.2.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.2.1
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:38.326Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:38.327Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:38.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:38.327Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:38.327Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:38.465Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:38.735Z appoptics:patching patched crypto 
2022-03-30T16:03:38.763Z appoptics:patching patched https 
2022-03-30T16:03:38.764Z appoptics:patching patched http 
2022-03-30T16:03:38.854Z appoptics:patching patched tedious 0.2.2
2022-03-30T16:03:38.861Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 0.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.2.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.2.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.2.2
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

removed 1 package, changed 2 packages, and audited 846 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:50.704Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:50.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:50.705Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:50.705Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:50.706Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:50.822Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:51.059Z appoptics:patching patched crypto 
2022-03-30T16:03:51.085Z appoptics:patching patched https 
2022-03-30T16:03:51.085Z appoptics:patching patched http 
2022-03-30T16:03:51.173Z appoptics:patching patched tedious 0.2.3
2022-03-30T16:03:51.178Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 0.2.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.2.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.2.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.2.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 0.2.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 0.2.3
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 0.2.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 0.2.3
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 2 packages, and audited 846 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:04:04.322Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:04.324Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:04.324Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:04.324Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:04.324Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:04.499Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:04.860Z appoptics:patching patched crypto 
2022-03-30T16:04:04.889Z appoptics:patching patched https 
2022-03-30T16:04:04.890Z appoptics:patching patched http 
2022-03-30T16:04:04.986Z appoptics:patching patched tedious 0.2.4
2022-03-30T16:04:04.993Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 0.2.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.2.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.2.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.2.4
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 0.2.4
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 0.2.4
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.3.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 846 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:04:17.415Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:17.416Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:17.416Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:17.416Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:17.416Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:17.494Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:17.676Z appoptics:patching patched crypto 
2022-03-30T16:04:17.698Z appoptics:patching patched https 
2022-03-30T16:04:17.699Z appoptics:patching patched http 
2022-03-30T16:04:17.778Z appoptics:patching patched tedious 0.3.0
2022-03-30T16:04:17.782Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) "before each" hook for "should do nothing when disabled with no database name"


  3 passing (4s)
  12 failing

  1) probes.tedious 0.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.3.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.3.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.3.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 0.3.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 0.3.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 0.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 0.3.0
       "before each" hook for "should do nothing when disabled with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.0.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 846 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:04:33.028Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:33.030Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:33.030Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:33.030Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:33.030Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:33.125Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:33.325Z appoptics:patching patched crypto 
2022-03-30T16:04:33.350Z appoptics:patching patched https 
2022-03-30T16:04:33.351Z appoptics:patching patched http 
2022-03-30T16:04:33.403Z appoptics:patching patched tedious 1.0.0
2022-03-30T16:04:33.409Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.0.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.1.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

added 1 package, changed 1 package, and audited 847 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:04:45.925Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:45.926Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:45.926Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:45.926Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:45.927Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:46.020Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:46.205Z appoptics:patching patched crypto 
2022-03-30T16:04:46.228Z appoptics:patching patched https 
2022-03-30T16:04:46.229Z appoptics:patching patched http 
2022-03-30T16:04:46.294Z appoptics:patching patched tedious 1.1.0
2022-03-30T16:04:46.300Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.1.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:04:58.417Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:58.418Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:58.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:58.418Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:58.418Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:58.500Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:58.692Z appoptics:patching patched crypto 
2022-03-30T16:04:58.717Z appoptics:patching patched https 
2022-03-30T16:04:58.718Z appoptics:patching patched http 
2022-03-30T16:04:58.775Z appoptics:patching patched tedious 1.2.0
2022-03-30T16:04:58.780Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.2.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.2.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.2.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.2.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.2.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:05:12.799Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:12.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:12.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:12.800Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:12.801Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:12.882Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:13.067Z appoptics:patching patched crypto 
2022-03-30T16:05:13.093Z appoptics:patching patched https 
2022-03-30T16:05:13.093Z appoptics:patching patched http 
2022-03-30T16:05:13.147Z appoptics:patching patched tedious 1.2.1
2022-03-30T16:05:13.153Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.2.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.2.1
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:05:27.599Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:27.600Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:27.600Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:27.600Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:27.600Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:27.681Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:27.874Z appoptics:patching patched crypto 
2022-03-30T16:05:27.897Z appoptics:patching patched https 
2022-03-30T16:05:27.897Z appoptics:patching patched http 
2022-03-30T16:05:27.948Z appoptics:patching patched tedious 1.2.2
2022-03-30T16:05:27.953Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.2.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.2.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.2.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.2.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.2.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.2.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.2.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:05:41.407Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:41.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:41.408Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:41.408Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:41.408Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:41.513Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:41.720Z appoptics:patching patched crypto 
2022-03-30T16:05:41.745Z appoptics:patching patched https 
2022-03-30T16:05:41.745Z appoptics:patching patched http 
2022-03-30T16:05:41.804Z appoptics:patching patched tedious 1.3.0
2022-03-30T16:05:41.810Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:05:52.845Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:52.846Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:52.846Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:52.846Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:52.846Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:52.934Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:53.125Z appoptics:patching patched crypto 
2022-03-30T16:05:53.148Z appoptics:patching patched https 
2022-03-30T16:05:53.149Z appoptics:patching patched http 
2022-03-30T16:05:53.202Z appoptics:patching patched tedious 1.3.1
2022-03-30T16:05:53.208Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:06:07.255Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:07.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:07.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:07.256Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:07.256Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:07.343Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:07.522Z appoptics:patching patched crypto 
2022-03-30T16:06:07.543Z appoptics:patching patched https 
2022-03-30T16:06:07.544Z appoptics:patching patched http 
2022-03-30T16:06:07.592Z appoptics:patching patched tedious 1.3.2
2022-03-30T16:06:07.597Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) "before each" hook for "should do nothing when disabled with a database name"


  3 passing (2s)
  6 failing

  1) probes.tedious 1.3.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.2
       "before each" hook for "should do nothing when disabled with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 20s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:06:30.401Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:30.402Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:30.402Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:30.403Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:30.403Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:30.486Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:30.732Z appoptics:patching patched crypto 
2022-03-30T16:06:30.755Z appoptics:patching patched https 
2022-03-30T16:06:30.755Z appoptics:patching patched http 
2022-03-30T16:06:30.814Z appoptics:patching patched tedious 1.3.3
2022-03-30T16:06:30.820Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.3
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.3
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:06:45.575Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:45.576Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:45.576Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:45.576Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:45.576Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:45.725Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:45.936Z appoptics:patching patched crypto 
2022-03-30T16:06:45.965Z appoptics:patching patched https 
2022-03-30T16:06:45.966Z appoptics:patching patched http 
2022-03-30T16:06:46.017Z appoptics:patching patched tedious 1.3.4
2022-03-30T16:06:46.022Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.4
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.4
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.4
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.4
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:07:00.855Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:00.857Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:00.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:00.857Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:00.857Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:00.946Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:01.128Z appoptics:patching patched crypto 
2022-03-30T16:07:01.150Z appoptics:patching patched https 
2022-03-30T16:07:01.150Z appoptics:patching patched http 
2022-03-30T16:07:01.201Z appoptics:patching patched tedious 1.3.5
2022-03-30T16:07:01.206Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.3.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.5
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:07:14.770Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:14.773Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:14.773Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:14.773Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:14.773Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:14.868Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:15.087Z appoptics:patching patched crypto 
2022-03-30T16:07:15.115Z appoptics:patching patched https 
2022-03-30T16:07:15.115Z appoptics:patching patched http 
2022-03-30T16:07:15.171Z appoptics:patching patched tedious 1.4.0
2022-03-30T16:07:15.176Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.4.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.4.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.4.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.4.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.4.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.4.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.4.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.4.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.4.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:07:30.058Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:30.059Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:30.059Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:30.059Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:30.059Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:30.138Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:30.316Z appoptics:patching patched crypto 
2022-03-30T16:07:30.338Z appoptics:patching patched https 
2022-03-30T16:07:30.338Z appoptics:patching patched http 
2022-03-30T16:07:30.389Z appoptics:patching patched tedious 1.4.1
2022-03-30T16:07:30.395Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.4.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.4.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.4.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.4.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.4.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.4.1
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:07:43.307Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:43.309Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:43.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:43.309Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:43.309Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:43.402Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:43.638Z appoptics:patching patched crypto 
2022-03-30T16:07:43.660Z appoptics:patching patched https 
2022-03-30T16:07:43.661Z appoptics:patching patched http 
2022-03-30T16:07:43.731Z appoptics:patching patched tedious 1.4.2
2022-03-30T16:07:43.737Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.4.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:07:55.460Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:55.461Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:55.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:55.461Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:55.462Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:55.549Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:55.750Z appoptics:patching patched crypto 
2022-03-30T16:07:55.772Z appoptics:patching patched https 
2022-03-30T16:07:55.773Z appoptics:patching patched http 
2022-03-30T16:07:55.826Z appoptics:patching patched tedious 1.4.3
2022-03-30T16:07:55.832Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.4.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:08:08.343Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:08.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:08.344Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:08.344Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:08.344Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:08.428Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:08.616Z appoptics:patching patched crypto 
2022-03-30T16:08:08.638Z appoptics:patching patched https 
2022-03-30T16:08:08.638Z appoptics:patching patched http 
2022-03-30T16:08:08.689Z appoptics:patching patched tedious 1.5.1
2022-03-30T16:08:08.694Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.5.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.5.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:08:22.473Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:22.474Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:22.474Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:22.474Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:22.474Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:22.582Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:22.784Z appoptics:patching patched crypto 
2022-03-30T16:08:22.810Z appoptics:patching patched https 
2022-03-30T16:08:22.810Z appoptics:patching patched http 
2022-03-30T16:08:22.863Z appoptics:patching patched tedious 1.5.2
2022-03-30T16:08:22.869Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.5.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.5.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:08:36.682Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:36.683Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:36.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:36.683Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:36.683Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:36.765Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:36.946Z appoptics:patching patched crypto 
2022-03-30T16:08:36.968Z appoptics:patching patched https 
2022-03-30T16:08:36.969Z appoptics:patching patched http 
2022-03-30T16:08:37.020Z appoptics:patching patched tedious 1.5.3
2022-03-30T16:08:37.025Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 1.5.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.3
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:08:49.988Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:49.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:49.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:49.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:49.989Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:50.080Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:50.277Z appoptics:patching patched crypto 
2022-03-30T16:08:50.299Z appoptics:patching patched https 
2022-03-30T16:08:50.299Z appoptics:patching patched http 
2022-03-30T16:08:50.357Z appoptics:patching patched tedious 1.5.4
2022-03-30T16:08:50.362Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.4
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:09:02.045Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:02.046Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:02.046Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:02.046Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:02.046Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:02.133Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:02.346Z appoptics:patching patched crypto 
2022-03-30T16:09:02.372Z appoptics:patching patched https 
2022-03-30T16:09:02.372Z appoptics:patching patched http 
2022-03-30T16:09:02.432Z appoptics:patching patched tedious 1.5.5
2022-03-30T16:09:02.438Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.5.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.5
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.6',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:09:13.857Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:13.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:13.858Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:13.858Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:13.858Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:13.940Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:14.127Z appoptics:patching patched crypto 
2022-03-30T16:09:14.150Z appoptics:patching patched https 
2022-03-30T16:09:14.150Z appoptics:patching patched http 
2022-03-30T16:09:14.206Z appoptics:patching patched tedious 1.5.6
2022-03-30T16:09:14.212Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.6
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.6
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.6
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.7',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:09:25.823Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:25.824Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:25.824Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:25.824Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:25.824Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:25.913Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:26.150Z appoptics:patching patched crypto 
2022-03-30T16:09:26.177Z appoptics:patching patched https 
2022-03-30T16:09:26.177Z appoptics:patching patched http 
2022-03-30T16:09:26.231Z appoptics:patching patched tedious 1.5.7
2022-03-30T16:09:26.236Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.7
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.5.7
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.7
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.7
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.7
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.7
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.7
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.7
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.7
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.7
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.7
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.7
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.8',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:09:39.377Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:39.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:39.378Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:39.378Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:39.378Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:39.460Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:39.634Z appoptics:patching patched crypto 
2022-03-30T16:09:39.656Z appoptics:patching patched https 
2022-03-30T16:09:39.656Z appoptics:patching patched http 
2022-03-30T16:09:39.707Z appoptics:patching patched tedious 1.5.8
2022-03-30T16:09:39.713Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.8
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.5.8
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.8
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.8
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.8
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.8
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.8
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.8
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.8
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.8
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.8
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.8
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.6.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:09:52.869Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:52.870Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:52.870Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:52.870Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:52.870Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:52.954Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:53.135Z appoptics:patching patched crypto 
2022-03-30T16:09:53.158Z appoptics:patching patched https 
2022-03-30T16:09:53.158Z appoptics:patching patched http 
2022-03-30T16:09:53.211Z appoptics:patching patched tedious 1.6.0
2022-03-30T16:09:53.216Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.6.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.7.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:10:04.613Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:04.614Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:04.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:04.614Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:04.615Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:04.697Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:04.902Z appoptics:patching patched crypto 
2022-03-30T16:10:04.924Z appoptics:patching patched https 
2022-03-30T16:10:04.925Z appoptics:patching patched http 
2022-03-30T16:10:04.977Z appoptics:patching patched tedious 1.7.0
2022-03-30T16:10:04.983Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.7.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.7.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.8.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:10:16.513Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:16.514Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:16.514Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:16.514Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:16.514Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:16.646Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:16.890Z appoptics:patching patched crypto 
2022-03-30T16:10:16.925Z appoptics:patching patched https 
2022-03-30T16:10:16.925Z appoptics:patching patched http 
2022-03-30T16:10:17.018Z appoptics:patching patched tedious 1.8.0
2022-03-30T16:10:17.024Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.8.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.8.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.8.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.8.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.8.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.8.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.8.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.8.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.8.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.8.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.8.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.8.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.8.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.8.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:10:30.225Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:30.226Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:30.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:30.226Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:30.226Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:30.306Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:30.485Z appoptics:patching patched crypto 
2022-03-30T16:10:30.508Z appoptics:patching patched https 
2022-03-30T16:10:30.508Z appoptics:patching patched http 
2022-03-30T16:10:30.558Z appoptics:patching patched tedious 1.8.1
2022-03-30T16:10:30.564Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.8.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) "before each" hook for "should sanitize query with no database name"


  3 passing (3s)
  9 failing

  1) probes.tedious 1.8.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.8.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.8.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.8.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.8.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.8.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.8.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.8.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.8.1
       "before each" hook for "should sanitize query with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.9.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:10:42.984Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:42.986Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:42.986Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:42.986Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:42.986Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:43.064Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:43.249Z appoptics:patching patched crypto 
2022-03-30T16:10:43.270Z appoptics:patching patched https 
2022-03-30T16:10:43.271Z appoptics:patching patched http 
2022-03-30T16:10:43.320Z appoptics:patching patched tedious 1.9.0
2022-03-30T16:10:43.324Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.9.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.9.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.9.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.9.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.

changed 4 packages, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:10:54.314Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:54.315Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:54.315Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:54.315Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:54.315Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:54.393Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:54.575Z appoptics:patching patched crypto 
2022-03-30T16:10:54.597Z appoptics:patching patched https 
2022-03-30T16:10:54.597Z appoptics:patching patched http 
2022-03-30T16:10:54.650Z appoptics:patching patched tedious 1.10.0
2022-03-30T16:10:54.655Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.10.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.10.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.10.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.10.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.10.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.10.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.10.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.10.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.10.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.10.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.10.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.10.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:11:07.270Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:07.272Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:07.272Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:07.272Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:07.272Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:07.352Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:07.522Z appoptics:patching patched crypto 
2022-03-30T16:11:07.542Z appoptics:patching patched https 
2022-03-30T16:11:07.542Z appoptics:patching patched http 
2022-03-30T16:11:07.589Z appoptics:patching patched tedious 1.11.0
2022-03-30T16:11:07.593Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.11.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 847 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:11:18.296Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:18.297Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:18.297Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:18.297Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:18.297Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:18.502Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:18.691Z appoptics:patching patched crypto 
2022-03-30T16:11:18.713Z appoptics:patching patched https 
2022-03-30T16:11:18.714Z appoptics:patching patched http 
2022-03-30T16:11:18.768Z appoptics:patching patched tedious 1.11.1
2022-03-30T16:11:18.775Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.11.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 847 packages in 20s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:11:40.493Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:40.494Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:40.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:40.494Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:40.494Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:40.575Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:40.755Z appoptics:patching patched crypto 
2022-03-30T16:11:40.777Z appoptics:patching patched https 
2022-03-30T16:11:40.778Z appoptics:patching patched http 
2022-03-30T16:11:40.833Z appoptics:patching patched tedious 1.11.2
2022-03-30T16:11:40.839Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.11.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 847 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:11:54.483Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:54.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:54.484Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:54.484Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:54.484Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:54.580Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:54.787Z appoptics:patching patched crypto 
2022-03-30T16:11:54.809Z appoptics:patching patched https 
2022-03-30T16:11:54.809Z appoptics:patching patched http 
2022-03-30T16:11:54.860Z appoptics:patching patched tedious 1.11.4
2022-03-30T16:11:54.865Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.11.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.4
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 847 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:12:07.206Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:07.207Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:07.207Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:07.207Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:07.207Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:07.311Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:07.492Z appoptics:patching patched crypto 
2022-03-30T16:12:07.514Z appoptics:patching patched https 
2022-03-30T16:12:07.514Z appoptics:patching patched http 
2022-03-30T16:12:07.566Z appoptics:patching patched tedious 1.11.5
2022-03-30T16:12:07.572Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) "before each" hook for "should sanitize query with no database name"


  3 passing (3s)
  9 failing

  1) probes.tedious 1.11.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.11.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.11.5
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.11.5
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.11.5
       "before each" hook for "should sanitize query with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.emit (node:events:520:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.emit (node:events:520:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at Socket.emit (node:events:520:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

added 6 packages, removed 1 package, changed 1 package, and audited 852 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:12:22.095Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:22.097Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:22.097Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:22.097Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:22.097Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:22.184Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:22.373Z appoptics:patching patched crypto 
2022-03-30T16:12:22.396Z appoptics:patching patched https 
2022-03-30T16:12:22.396Z appoptics:patching patched http 
2022-03-30T16:12:22.502Z appoptics:patching patched tedious 1.12.0
2022-03-30T16:12:22.507Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 1.12.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.12.0
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at MessageIO.emit (node:events:520:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)




changed 1 package, and audited 852 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:12:34.625Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:34.626Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:34.626Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:34.626Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:34.626Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:34.704Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:34.894Z appoptics:patching patched crypto 
2022-03-30T16:12:34.917Z appoptics:patching patched https 
2022-03-30T16:12:34.917Z appoptics:patching patched http 
2022-03-30T16:12:35.025Z appoptics:patching patched tedious 1.12.1
2022-03-30T16:12:35.031Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.12.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.12.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.12.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.12.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.12.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.12.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.12.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.12.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.12.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.12.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 852 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:12:48.902Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:48.903Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:48.903Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:48.903Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:48.903Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:48.989Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:49.171Z appoptics:patching patched crypto 
2022-03-30T16:12:49.193Z appoptics:patching patched https 
2022-03-30T16:12:49.193Z appoptics:patching patched http 
2022-03-30T16:12:49.339Z appoptics:patching patched tedious 1.12.2
2022-03-30T16:12:49.359Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.12.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.12.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.12.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.12.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.12.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.12.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.12.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.12.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.12.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.12.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 852 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:13:02.419Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:02.420Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:02.420Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:02.420Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:02.420Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:02.530Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:02.734Z appoptics:patching patched crypto 
2022-03-30T16:13:02.756Z appoptics:patching patched https 
2022-03-30T16:13:02.756Z appoptics:patching patched http 
2022-03-30T16:13:02.852Z appoptics:patching patched tedious 1.12.3
2022-03-30T16:13:02.857Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.12.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at MessageIO.emit (node:events:520:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)




changed 1 package, and audited 852 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:13:14.402Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:14.403Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:14.403Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:14.403Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:14.403Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:14.485Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:14.657Z appoptics:patching patched crypto 
2022-03-30T16:13:14.678Z appoptics:patching patched https 
2022-03-30T16:13:14.679Z appoptics:patching patched http 
2022-03-30T16:13:14.760Z appoptics:patching patched tedious 1.13.0
2022-03-30T16:13:14.765Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 1.13.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.13.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.13.0
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)




changed 1 package, and audited 852 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:13:25.879Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:25.880Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:25.880Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:25.880Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:25.880Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:25.964Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:26.161Z appoptics:patching patched crypto 
2022-03-30T16:13:26.189Z appoptics:patching patched https 
2022-03-30T16:13:26.189Z appoptics:patching patched http 
2022-03-30T16:13:26.277Z appoptics:patching patched tedious 1.13.1
2022-03-30T16:13:26.283Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.13.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.13.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.13.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.13.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.13.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.13.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.13.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.13.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.13.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.13.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.13.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 852 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:13:40.009Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:40.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:40.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:40.010Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:40.010Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:40.102Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:40.313Z appoptics:patching patched crypto 
2022-03-30T16:13:40.336Z appoptics:patching patched https 
2022-03-30T16:13:40.336Z appoptics:patching patched http 
2022-03-30T16:13:40.427Z appoptics:patching patched tedious 1.13.2
2022-03-30T16:13:40.436Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.13.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.13.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.13.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.13.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.13.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.13.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.13.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.13.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.13.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.13.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)




added 1 package, changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:13:54.317Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:54.318Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:54.318Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:54.318Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:54.319Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:54.397Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:54.575Z appoptics:patching patched crypto 
2022-03-30T16:13:54.596Z appoptics:patching patched https 
2022-03-30T16:13:54.596Z appoptics:patching patched http 
2022-03-30T16:13:54.674Z appoptics:patching patched tedious 1.14.0
2022-03-30T16:13:54.679Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.14.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.14.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.14.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.14.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.14.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.14.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.14.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.14.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:532:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.14.0
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

added 3 packages, removed 1 package, changed 3 packages, and audited 855 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:14:09.102Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:09.103Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:09.103Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:09.104Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:09.104Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:09.204Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:09.377Z appoptics:patching patched crypto 
2022-03-30T16:14:09.403Z appoptics:patching patched https 
2022-03-30T16:14:09.404Z appoptics:patching patched http 
2022-03-30T16:14:09.485Z appoptics:patching patched dns 
2022-03-30T16:14:09.524Z appoptics:patching patched tedious 1.15.0
2022-03-30T16:14:09.530Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.15.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.15.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:698:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:591:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.15.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




removed 2 packages, changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:14:21.362Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:21.363Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:21.363Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:21.363Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:21.363Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:21.445Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:21.624Z appoptics:patching patched crypto 
2022-03-30T16:14:21.647Z appoptics:patching patched https 
2022-03-30T16:14:21.648Z appoptics:patching patched http 
2022-03-30T16:14:21.730Z appoptics:patching patched dns 
2022-03-30T16:14:21.766Z appoptics:patching patched tedious 2.0.0
2022-03-30T16:14:21.772Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:689:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:713:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:606:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:14:33.883Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:33.884Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:33.884Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:33.884Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:33.885Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:33.970Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:34.192Z appoptics:patching patched crypto 
2022-03-30T16:14:34.215Z appoptics:patching patched https 
2022-03-30T16:14:34.215Z appoptics:patching patched http 
2022-03-30T16:14:34.293Z appoptics:patching patched dns 
2022-03-30T16:14:34.340Z appoptics:patching patched tedious 2.0.1
2022-03-30T16:14:34.346Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:689:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:713:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:606:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.0.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




added 2 packages, changed 1 package, and audited 855 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:14:47.210Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:47.211Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:47.211Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:47.211Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:47.211Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:47.313Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:47.523Z appoptics:patching patched crypto 
2022-03-30T16:14:47.547Z appoptics:patching patched https 
2022-03-30T16:14:47.547Z appoptics:patching patched http 
2022-03-30T16:14:47.627Z appoptics:patching patched dns 
2022-03-30T16:14:47.668Z appoptics:patching patched tedious 2.1.0
2022-03-30T16:14:47.672Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:872:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:896:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:768:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:519:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




removed 2 packages, changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:14:59.267Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:59.268Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:59.268Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:59.268Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:59.269Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:59.349Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:59.539Z appoptics:patching patched crypto 
2022-03-30T16:14:59.561Z appoptics:patching patched https 
2022-03-30T16:14:59.562Z appoptics:patching patched http 
2022-03-30T16:14:59.632Z appoptics:patching patched dns 
2022-03-30T16:14:59.672Z appoptics:patching patched tedious 2.1.1
2022-03-30T16:14:59.678Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.1.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:15:11.193Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:11.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:11.194Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:11.194Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:11.194Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:11.301Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:11.536Z appoptics:patching patched crypto 
2022-03-30T16:15:11.557Z appoptics:patching patched https 
2022-03-30T16:15:11.558Z appoptics:patching patched http 
2022-03-30T16:15:11.630Z appoptics:patching patched dns 
2022-03-30T16:15:11.675Z appoptics:patching patched tedious 2.1.2
2022-03-30T16:15:11.681Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.1.2
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:15:24.402Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:24.403Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:24.404Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:24.404Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:24.404Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:24.498Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:24.704Z appoptics:patching patched crypto 
2022-03-30T16:15:24.729Z appoptics:patching patched https 
2022-03-30T16:15:24.730Z appoptics:patching patched http 
2022-03-30T16:15:24.814Z appoptics:patching patched dns 
2022-03-30T16:15:24.871Z appoptics:patching patched tedious 2.1.3
2022-03-30T16:15:24.877Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.1.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.1.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:15:37.111Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:37.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:37.112Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:37.112Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:37.112Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:37.219Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:37.521Z appoptics:patching patched crypto 
2022-03-30T16:15:37.559Z appoptics:patching patched https 
2022-03-30T16:15:37.560Z appoptics:patching patched http 
2022-03-30T16:15:37.677Z appoptics:patching patched dns 
2022-03-30T16:15:37.746Z appoptics:patching patched tedious 2.1.4
2022-03-30T16:15:37.751Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:15:49.956Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:49.957Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:49.957Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:49.957Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:49.958Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:50.078Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:50.343Z appoptics:patching patched crypto 
2022-03-30T16:15:50.377Z appoptics:patching patched https 
2022-03-30T16:15:50.378Z appoptics:patching patched http 
2022-03-30T16:15:50.476Z appoptics:patching patched dns 
2022-03-30T16:15:50.546Z appoptics:patching patched tedious 2.1.5
2022-03-30T16:15:50.552Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.5
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:16:02.012Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:02.017Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:02.017Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:02.018Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:02.018Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:02.155Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:02.348Z appoptics:patching patched crypto 
2022-03-30T16:16:02.401Z appoptics:patching patched https 
2022-03-30T16:16:02.401Z appoptics:patching patched http 
2022-03-30T16:16:02.500Z appoptics:patching patched dns 
2022-03-30T16:16:02.551Z appoptics:patching patched tedious 2.2.0
2022-03-30T16:16:02.557Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.2.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:16:13.637Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:13.638Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:13.638Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:13.638Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:13.638Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:13.730Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:14.033Z appoptics:patching patched crypto 
2022-03-30T16:16:14.060Z appoptics:patching patched https 
2022-03-30T16:16:14.061Z appoptics:patching patched http 
2022-03-30T16:16:14.205Z appoptics:patching patched dns 
2022-03-30T16:16:14.310Z appoptics:patching patched tedious 2.2.1
2022-03-30T16:16:14.316Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.2.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:16:24.754Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:24.755Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:24.755Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:24.755Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:24.755Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:24.849Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:25.038Z appoptics:patching patched crypto 
2022-03-30T16:16:25.063Z appoptics:patching patched https 
2022-03-30T16:16:25.064Z appoptics:patching patched http 
2022-03-30T16:16:25.138Z appoptics:patching patched dns 
2022-03-30T16:16:25.187Z appoptics:patching patched tedious 2.2.2
2022-03-30T16:16:25.193Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.2.2
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 36s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:17:03.370Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:03.371Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:03.372Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:03.372Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:03.372Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:03.469Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:03.655Z appoptics:patching patched crypto 
2022-03-30T16:17:03.678Z appoptics:patching patched https 
2022-03-30T16:17:03.679Z appoptics:patching patched http 
2022-03-30T16:17:03.753Z appoptics:patching patched dns 
2022-03-30T16:17:03.791Z appoptics:patching patched tedious 2.2.3
2022-03-30T16:17:03.796Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.2.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:17:16.026Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:16.027Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:16.028Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:16.028Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:16.028Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:16.115Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:16.318Z appoptics:patching patched crypto 
2022-03-30T16:17:16.383Z appoptics:patching patched https 
2022-03-30T16:17:16.384Z appoptics:patching patched http 
2022-03-30T16:17:16.463Z appoptics:patching patched dns 
2022-03-30T16:17:16.528Z appoptics:patching patched tedious 2.2.4
2022-03-30T16:17:16.533Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:17:27.974Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:27.981Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:27.981Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:27.981Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:27.981Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:28.210Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:28.651Z appoptics:patching patched crypto 
2022-03-30T16:17:28.679Z appoptics:patching patched https 
2022-03-30T16:17:28.679Z appoptics:patching patched http 
2022-03-30T16:17:28.747Z appoptics:patching patched dns 
2022-03-30T16:17:28.811Z appoptics:patching patched tedious 2.3.0
2022-03-30T16:17:28.817Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.3.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:17:40.033Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:40.034Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:40.034Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:40.034Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:40.035Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:40.173Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:40.374Z appoptics:patching patched crypto 
2022-03-30T16:17:40.423Z appoptics:patching patched https 
2022-03-30T16:17:40.423Z appoptics:patching patched http 
2022-03-30T16:17:40.507Z appoptics:patching patched dns 
2022-03-30T16:17:40.579Z appoptics:patching patched tedious 2.3.1
2022-03-30T16:17:40.584Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.3.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.3.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




added 1 package, removed 1 package, changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:17:50.960Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:50.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:50.961Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:50.961Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:50.961Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:51.057Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:51.346Z appoptics:patching patched crypto 
2022-03-30T16:17:51.369Z appoptics:patching patched https 
2022-03-30T16:17:51.370Z appoptics:patching patched http 
2022-03-30T16:17:51.451Z appoptics:patching patched dns 
2022-03-30T16:17:51.524Z appoptics:patching patched tedious 2.4.0
2022-03-30T16:17:51.529Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.4.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:18:01.884Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:01.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:01.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:01.886Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:01.886Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:01.984Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:02.211Z appoptics:patching patched crypto 
2022-03-30T16:18:02.237Z appoptics:patching patched https 
2022-03-30T16:18:02.237Z appoptics:patching patched http 
2022-03-30T16:18:02.318Z appoptics:patching patched dns 
2022-03-30T16:18:02.385Z appoptics:patching patched tedious 2.5.0
2022-03-30T16:18:02.391Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.5.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.5.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.5.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:18:14.111Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:14.112Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:14.112Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:14.112Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:14.112Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:14.198Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:14.388Z appoptics:patching patched crypto 
2022-03-30T16:18:14.414Z appoptics:patching patched https 
2022-03-30T16:18:14.414Z appoptics:patching patched http 
2022-03-30T16:18:14.496Z appoptics:patching patched dns 
2022-03-30T16:18:14.561Z appoptics:patching patched tedious 2.5.1
2022-03-30T16:18:14.566Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.5.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.5.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.5.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:18:25.726Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:25.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:25.727Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:25.727Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:25.727Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:25.805Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:25.988Z appoptics:patching patched crypto 
2022-03-30T16:18:26.010Z appoptics:patching patched https 
2022-03-30T16:18:26.011Z appoptics:patching patched http 
2022-03-30T16:18:26.082Z appoptics:patching patched dns 
2022-03-30T16:18:26.144Z appoptics:patching patched tedious 2.6.0
2022-03-30T16:18:26.149Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:18:37.435Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:37.436Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:37.436Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:37.436Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:37.436Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:37.524Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:37.702Z appoptics:patching patched crypto 
2022-03-30T16:18:37.723Z appoptics:patching patched https 
2022-03-30T16:18:37.724Z appoptics:patching patched http 
2022-03-30T16:18:37.798Z appoptics:patching patched dns 
2022-03-30T16:18:37.854Z appoptics:patching patched tedious 2.6.1
2022-03-30T16:18:37.859Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:18:48.435Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:48.436Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:48.436Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:48.436Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:48.436Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:48.513Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:48.696Z appoptics:patching patched crypto 
2022-03-30T16:18:48.725Z appoptics:patching patched https 
2022-03-30T16:18:48.725Z appoptics:patching patched http 
2022-03-30T16:18:48.869Z appoptics:patching patched dns 
2022-03-30T16:18:48.960Z appoptics:patching patched tedious 2.6.2
2022-03-30T16:18:48.965Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 853 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:18:59.636Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:59.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:59.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:59.637Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:59.637Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:59.723Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:59.916Z appoptics:patching patched crypto 
2022-03-30T16:18:59.938Z appoptics:patching patched https 
2022-03-30T16:18:59.939Z appoptics:patching patched http 
2022-03-30T16:19:00.015Z appoptics:patching patched dns 
2022-03-30T16:19:00.077Z appoptics:patching patched tedious 2.6.3
2022-03-30T16:19:00.082Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 2.6.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.6.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 2.6.3
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




added 1 package, changed 1 package, and audited 854 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:19:11.908Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:11.909Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:11.909Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:11.909Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:11.910Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:11.998Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:12.197Z appoptics:patching patched crypto 
2022-03-30T16:19:12.222Z appoptics:patching patched https 
2022-03-30T16:19:12.222Z appoptics:patching patched http 
2022-03-30T16:19:12.299Z appoptics:patching patched dns 
2022-03-30T16:19:12.355Z appoptics:patching patched tedious 2.6.4
2022-03-30T16:19:12.360Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 854 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:19:23.421Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:23.422Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:23.422Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:23.422Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:23.423Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:23.511Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:23.684Z appoptics:patching patched crypto 
2022-03-30T16:19:23.705Z appoptics:patching patched https 
2022-03-30T16:19:23.705Z appoptics:patching patched http 
2022-03-30T16:19:23.776Z appoptics:patching patched dns 
2022-03-30T16:19:23.840Z appoptics:patching patched tedious 2.7.0
2022-03-30T16:19:23.845Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1014:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1038:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:897:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.7.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 854 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:19:35.650Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:35.651Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:35.651Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:35.651Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:35.651Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:35.733Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:35.915Z appoptics:patching patched crypto 
2022-03-30T16:19:35.939Z appoptics:patching patched https 
2022-03-30T16:19:35.939Z appoptics:patching patched http 
2022-03-30T16:19:36.008Z appoptics:patching patched dns 
2022-03-30T16:19:36.078Z appoptics:patching patched tedious 2.7.1
2022-03-30T16:19:36.084Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.7.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.7.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1014:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1038:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:897:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.7.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 854 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:19:48.198Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:48.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:48.200Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:48.200Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:48.200Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:48.285Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:48.477Z appoptics:patching patched crypto 
2022-03-30T16:19:48.498Z appoptics:patching patched https 
2022-03-30T16:19:48.499Z appoptics:patching patched http 
2022-03-30T16:19:48.547Z appoptics:patching patched dns 
2022-03-30T16:19:48.658Z appoptics:patching patched tedious 3.0.0
2022-03-30T16:19:48.667Z appoptics:debug starting runtimeMetrics


  probes.tedious 3.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 3.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:952:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:974:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:857:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:147:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 3.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:601:29)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:152:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:332:9
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:324:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:331:12
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:128:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)




removed 5 packages, changed 4 packages, and audited 849 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:20:00.118Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:00.119Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:00.119Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:00.120Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:00.120Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:00.214Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:00.397Z appoptics:patching patched crypto 
2022-03-30T16:20:00.419Z appoptics:patching patched https 
2022-03-30T16:20:00.420Z appoptics:patching patched http 
2022-03-30T16:20:00.453Z appoptics:patching patched dns 
2022-03-30T16:20:00.525Z appoptics:patching patched tedious 3.0.1
2022-03-30T16:20:00.531Z appoptics:debug starting runtimeMetrics


  probes.tedious 3.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 3.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:999:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1022:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:902:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 3.0.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:654:29)
      at Parser.emit (node:events:520:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at Parser.emit (node:events:520:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:48:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:153:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:322:9
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:314:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:321:12
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:129:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)




changed 1 package, and audited 849 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:20:12.563Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:12.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:12.564Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:12.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:12.565Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:12.643Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:12.817Z appoptics:patching patched crypto 
2022-03-30T16:20:12.852Z appoptics:patching patched https 
2022-03-30T16:20:12.852Z appoptics:patching patched http 
2022-03-30T16:20:12.894Z appoptics:patching patched dns 
2022-03-30T16:20:12.967Z appoptics:patching patched tedious 4.0.0
2022-03-30T16:20:12.972Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 4.0.0
       should support basic queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:99:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:98:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  2) probes.tedious 4.0.0
       should support parameters with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:121:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:120:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  3) probes.tedious 4.0.0
       should sanitize query with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:154:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:152:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  4) probes.tedious 4.0.0
       should truncate long queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:187:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_truncate (test/probes/tedious.test.js:186:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  5) probes.tedious 4.0.0
       should tag queries when feature is enabled:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:214:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_tag (test/probes/tedious.test.js:213:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  6) probes.tedious 4.0.0
       should do nothing when disabled with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:239:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_disabled (test/probes/tedious.test.js:238:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  7) probes.tedious 4.0.0
       should support basic queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:99:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:98:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  8) probes.tedious 4.0.0
       should support parameters with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:121:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:120:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  9) probes.tedious 4.0.0
       should sanitize query with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:154:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:152:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  10) probes.tedious 4.0.0
       should truncate long queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:187:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_truncate (test/probes/tedious.test.js:186:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  11) probes.tedious 4.0.0
       should tag queries when feature is enabled:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:214:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_tag (test/probes/tedious.test.js:213:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  12) probes.tedious 4.0.0
       should do nothing when disabled with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:239:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_disabled (test/probes/tedious.test.js:238:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)




changed 1 package, and audited 849 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:20:27.198Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:27.199Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:27.200Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:27.200Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:27.200Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:27.283Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:27.468Z appoptics:patching patched crypto 
2022-03-30T16:20:27.489Z appoptics:patching patched https 
2022-03-30T16:20:27.490Z appoptics:patching patched http 
2022-03-30T16:20:27.523Z appoptics:patching patched dns 
2022-03-30T16:20:27.585Z appoptics:patching patched tedious 4.0.1
2022-03-30T16:20:27.591Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:34:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'AC26B037293E0767',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6315,
  Timestamp_u: 1648657229943540,
  'X-Trace': '2B451FDA7AB6C4DA1AE3DBE2381FB899C7000000000081FD2EC4369C1001',
  _V: '1',
  'sw.parent_span_id': 'ac26b037293e0767',
  'sw.trace_context': '00-451fda7ab6c4da1ae3dbe2381fb899c7-0081fd2ec4369c10-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 849 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:20:40.387Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:40.388Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:40.388Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:40.389Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:40.389Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:40.476Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:40.649Z appoptics:patching patched crypto 
2022-03-30T16:20:40.672Z appoptics:patching patched https 
2022-03-30T16:20:40.672Z appoptics:patching patched http 
2022-03-30T16:20:40.709Z appoptics:patching patched dns 
2022-03-30T16:20:40.771Z appoptics:patching patched tedious 4.0.2
2022-03-30T16:20:40.776Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:34:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '9B462BD663002211',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6380,
  Timestamp_u: 1648657243137214,
  'X-Trace': '2B973FEAAD8C38267592F198C3EF32F44B000000004D41BE981E12E1AD01',
  _V: '1',
  'sw.parent_span_id': '9b462bd663002211',
  'sw.trace_context': '00-973feaad8c38267592f198c3ef32f44b-4d41be981e12e1ad-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 849 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:20:52.976Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:52.977Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:52.977Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:52.977Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:52.977Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:53.058Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:53.247Z appoptics:patching patched crypto 
2022-03-30T16:20:53.267Z appoptics:patching patched https 
2022-03-30T16:20:53.268Z appoptics:patching patched http 
2022-03-30T16:20:53.300Z appoptics:patching patched dns 
2022-03-30T16:20:53.368Z appoptics:patching patched tedious 4.0.3
2022-03-30T16:20:53.373Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'C03551ACF3652D7F',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6445,
  Timestamp_u: 1648657255742838,
  'X-Trace': '2BD0D67BB12B8BD426AF1FCADED9F22A3000000000FC48F734F3C40B6F01',
  _V: '1',
  'sw.parent_span_id': 'c03551acf3652d7f',
  'sw.trace_context': '00-d0d67bb12b8bd426af1fcaded9f22a30-fc48f734f3c40b6f-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 849 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:21:05.140Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:05.141Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:05.141Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:05.141Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:05.141Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:05.234Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:05.432Z appoptics:patching patched crypto 
2022-03-30T16:21:05.458Z appoptics:patching patched https 
2022-03-30T16:21:05.458Z appoptics:patching patched http 
2022-03-30T16:21:05.496Z appoptics:patching patched dns 
2022-03-30T16:21:05.558Z appoptics:patching patched tedious 4.0.4
2022-03-30T16:21:05.564Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  6 failing

  1) probes.tedious 4.0.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.4
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1085:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:944:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)



npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 28 packages, changed 1 package, and audited 877 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:21:18.271Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:18.272Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:18.272Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:18.272Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:18.272Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:18.355Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:18.564Z appoptics:patching patched crypto 
2022-03-30T16:21:18.585Z appoptics:patching patched https 
2022-03-30T16:21:18.585Z appoptics:patching patched http 
2022-03-30T16:21:18.647Z appoptics:patching patched zlib 
2022-03-30T16:21:18.727Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:21:18.727Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:21:18.728Z appoptics:patching patched fs 
2022-03-30T16:21:18.833Z appoptics:patching patched dns 
2022-03-30T16:21:18.891Z appoptics:patching patched tedious 4.1.0
2022-03-30T16:21:18.897Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1427:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1367:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2004:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1062:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:962:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '2FB85B62EA046A5F',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6575,
  Timestamp_u: 1648657281306048,
  'X-Trace': '2B4E1501AD00DFEF8922899AE7F3F39B07000000007A77BDD53292F47601',
  _V: '1',
  'sw.parent_span_id': '2fb85b62ea046a5f',
  'sw.trace_context': '00-4e1501ad00dfef8922899ae7f3f39b07-7a77bdd53292f476-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:21:32.854Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:32.855Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:32.855Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:32.856Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:32.856Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:32.954Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:33.162Z appoptics:patching patched crypto 
2022-03-30T16:21:33.185Z appoptics:patching patched https 
2022-03-30T16:21:33.186Z appoptics:patching patched http 
2022-03-30T16:21:33.244Z appoptics:patching patched zlib 
2022-03-30T16:21:33.299Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:21:33.299Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:21:33.299Z appoptics:patching patched fs 
2022-03-30T16:21:33.397Z appoptics:patching patched dns 
2022-03-30T16:21:33.457Z appoptics:patching patched tedious 4.1.1
2022-03-30T16:21:33.462Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 4.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.1.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 4.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 4.1.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 4.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 4.1.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 4.1.1
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 4.1.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 4.1.1
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 4.1.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 13s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:21:51.123Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:51.124Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:51.124Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:51.124Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:51.124Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:51.256Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:51.481Z appoptics:patching patched crypto 
2022-03-30T16:21:51.503Z appoptics:patching patched https 
2022-03-30T16:21:51.503Z appoptics:patching patched http 
2022-03-30T16:21:51.562Z appoptics:patching patched zlib 
2022-03-30T16:21:51.619Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:21:51.619Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:21:51.620Z appoptics:patching patched fs 
2022-03-30T16:21:51.714Z appoptics:patching patched dns 
2022-03-30T16:21:51.773Z appoptics:patching patched tedious 4.1.2
2022-03-30T16:21:51.778Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 4.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1118:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:977:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 877 packages in 17s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:22:11.327Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:11.328Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:11.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:11.328Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:11.329Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:11.421Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:11.720Z appoptics:patching patched crypto 
2022-03-30T16:22:11.828Z appoptics:patching patched https 
2022-03-30T16:22:11.828Z appoptics:patching patched http 
2022-03-30T16:22:11.948Z appoptics:patching patched zlib 
2022-03-30T16:22:12.008Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:12.009Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:12.009Z appoptics:patching patched fs 
2022-03-30T16:22:12.116Z appoptics:patching patched dns 
2022-03-30T16:22:12.217Z appoptics:patching patched tedious 4.1.3
2022-03-30T16:22:12.228Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 4.1.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.3
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1118:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:977:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 877 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:22:23.234Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:23.235Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:23.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:23.235Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:23.235Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:23.318Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:23.522Z appoptics:patching patched crypto 
2022-03-30T16:22:23.546Z appoptics:patching patched https 
2022-03-30T16:22:23.547Z appoptics:patching patched http 
2022-03-30T16:22:23.641Z appoptics:patching patched zlib 
2022-03-30T16:22:23.705Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:23.706Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:23.706Z appoptics:patching patched fs 
2022-03-30T16:22:23.809Z appoptics:patching patched dns 
2022-03-30T16:22:23.862Z appoptics:patching patched tedious 4.2.0
2022-03-30T16:22:23.868Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.2.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.2.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1449:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1389:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2050:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:984:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'D971A018066916DC',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6835,
  Timestamp_u: 1648657346316586,
  'X-Trace': '2BEA4A5F0AC611BEC16436B83CDC9E42DC00000000CAD34FA23B59BFEA01',
  _V: '1',
  'sw.parent_span_id': 'd971a018066916dc',
  'sw.trace_context': '00-ea4a5f0ac611bec16436b83cdc9e42dc-cad34fa23b59bfea-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.2.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:22:36.739Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:36.740Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:36.740Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:36.740Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:36.740Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:36.846Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:37.120Z appoptics:patching patched crypto 
2022-03-30T16:22:37.143Z appoptics:patching patched https 
2022-03-30T16:22:37.143Z appoptics:patching patched http 
2022-03-30T16:22:37.270Z appoptics:patching patched zlib 
2022-03-30T16:22:37.377Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:37.377Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:37.378Z appoptics:patching patched fs 
2022-03-30T16:22:37.677Z appoptics:patching patched dns 
2022-03-30T16:22:37.787Z appoptics:patching patched tedious 5.0.0
2022-03-30T16:22:37.798Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 5.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1149:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1168:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1002:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 877 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:22:48.982Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:48.983Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:48.983Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:48.983Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:48.983Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:49.086Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:49.307Z appoptics:patching patched crypto 
2022-03-30T16:22:49.333Z appoptics:patching patched https 
2022-03-30T16:22:49.333Z appoptics:patching patched http 
2022-03-30T16:22:49.407Z appoptics:patching patched zlib 
2022-03-30T16:22:49.472Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:49.472Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:49.473Z appoptics:patching patched fs 
2022-03-30T16:22:49.621Z appoptics:patching patched dns 
2022-03-30T16:22:49.683Z appoptics:patching patched tedious 5.0.1
2022-03-30T16:22:49.691Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2061:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '37D488864FE4E9D7',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6965,
  Timestamp_u: 1648657372143175,
  'X-Trace': '2B976B0831446BC6CE575C426123B5AA85000000001345B042DD48D87701',
  _V: '1',
  'sw.parent_span_id': '37d488864fe4e9d7',
  'sw.trace_context': '00-976b0831446bc6ce575c426123b5aa85-1345b042dd48d877-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:23:00.972Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:23:00.973Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:23:00.973Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:23:00.973Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:23:00.973Z appoptics:debug using context provider: ace-context
2022-03-30T16:23:01.074Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:23:01.364Z appoptics:patching patched crypto 
2022-03-30T16:23:01.403Z appoptics:patching patched https 
2022-03-30T16:23:01.404Z appoptics:patching patched http 
2022-03-30T16:23:01.520Z appoptics:patching patched zlib 
2022-03-30T16:23:01.601Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:23:01.602Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:23:01.602Z appoptics:patching patched fs 
2022-03-30T16:23:01.735Z appoptics:patching patched dns 
2022-03-30T16:23:01.808Z appoptics:patching patched tedious 5.0.2
2022-03-30T16:23:01.813Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 5.0.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 5.0.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 5.0.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 5.0.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 5.0.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 5.0.2
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 5.0.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 5.0.2
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 5.0.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:23:16.847Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:23:16.848Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:23:16.848Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:23:16.848Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:23:16.848Z appoptics:debug using context provider: ace-context
2022-03-30T16:23:16.934Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:23:17.125Z appoptics:patching patched crypto 
2022-03-30T16:23:17.150Z appoptics:patching patched https 
2022-03-30T16:23:17.151Z appoptics:patching patched http 
2022-03-30T16:23:17.232Z appoptics:patching patched zlib 
2022-03-30T16:23:17.291Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:23:17.291Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:23:17.292Z appoptics:patching patched fs 
2022-03-30T16:23:17.391Z appoptics:patching patched dns 
2022-03-30T16:23:17.454Z appoptics:patching patched tedious 5.0.3
2022-03-30T16:23:17.460Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2064:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '95D8DD275F340B02',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7095,
  Timestamp_u: 1648657399876788,
  'X-Trace': '2BBEF50144B0E998A29ECC3FEADE5796580000000095080C556531532B01',
  _V: '1',
  'sw.parent_span_id': '95d8dd275f340b02',
  'sw.trace_context': '00-bef50144b0e998a29ecc3feade579658-95080c556531532b-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:23:31.269Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:23:31.270Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:23:31.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:23:31.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:23:31.270Z appoptics:debug using context provider: ace-context
2022-03-30T16:23:31.348Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:23:31.538Z appoptics:patching patched crypto 
2022-03-30T16:23:31.561Z appoptics:patching patched https 
2022-03-30T16:23:31.562Z appoptics:patching patched http 
2022-03-30T16:23:31.635Z appoptics:patching patched zlib 
2022-03-30T16:23:31.705Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:23:31.705Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:23:31.706Z appoptics:patching patched fs 
2022-03-30T16:23:31.795Z appoptics:patching patched dns 
2022-03-30T16:23:31.843Z appoptics:patching patched tedious 6.0.0
2022-03-30T16:23:31.851Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1419:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2088:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1161:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1034:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '4F0BA6D9B6FC711F',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7160,
  Timestamp_u: 1648657414227071,
  'X-Trace': '2B9D7A0142B5CBE43D82B9FDDB0055BBE600000000796302266A60333401',
  _V: '1',
  'sw.parent_span_id': '4f0ba6d9b6fc711f',
  'sw.trace_context': '00-9d7a0142b5cbe43d82b9fddb0055bbe6-796302266a603334-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:23:45.264Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:23:45.265Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:23:45.266Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:23:45.266Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:23:45.266Z appoptics:debug using context provider: ace-context
2022-03-30T16:23:45.375Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:23:45.574Z appoptics:patching patched crypto 
2022-03-30T16:23:45.596Z appoptics:patching patched https 
2022-03-30T16:23:45.597Z appoptics:patching patched http 
2022-03-30T16:23:45.663Z appoptics:patching patched zlib 
2022-03-30T16:23:45.738Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:23:45.738Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:23:45.739Z appoptics:patching patched fs 
2022-03-30T16:23:45.876Z appoptics:patching patched dns 
2022-03-30T16:23:45.923Z appoptics:patching patched tedious 6.0.1
2022-03-30T16:23:45.928Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1419:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2076:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1161:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1034:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '281FAEFA38108651',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7225,
  Timestamp_u: 1648657428323548,
  'X-Trace': '2BA8E0327FE32A84122F781176423BCDCE00000000B1AB40CE493F8AD001',
  _V: '1',
  'sw.parent_span_id': '281faefa38108651',
  'sw.trace_context': '00-a8e0327fe32a84122f781176423bcdce-b1ab40ce493f8ad0-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:23:59.633Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:23:59.634Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:23:59.634Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:23:59.634Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:23:59.634Z appoptics:debug using context provider: ace-context
2022-03-30T16:23:59.721Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:23:59.912Z appoptics:patching patched crypto 
2022-03-30T16:23:59.936Z appoptics:patching patched https 
2022-03-30T16:23:59.937Z appoptics:patching patched http 
2022-03-30T16:24:00.004Z appoptics:patching patched zlib 
2022-03-30T16:24:00.064Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:24:00.065Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:24:00.065Z appoptics:patching patched fs 
2022-03-30T16:24:00.160Z appoptics:patching patched dns 
2022-03-30T16:24:00.209Z appoptics:patching patched tedious 6.1.0
2022-03-30T16:24:00.215Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1457:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2095:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '7DF367EDAC8279B2',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7290,
  Timestamp_u: 1648657442618474,
  'X-Trace': '2BB6C8B83CF3F2BBB0E31F8AFA04C6970000000000D7C1269064633DD001',
  _V: '1',
  'sw.parent_span_id': '7df367edac8279b2',
  'sw.trace_context': '00-b6c8b83cf3f2bbb0e31f8afa04c69700-d7c1269064633dd0-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:24:12.894Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:24:12.895Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:24:12.895Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:24:12.895Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:24:12.895Z appoptics:debug using context provider: ace-context
2022-03-30T16:24:12.978Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:24:13.167Z appoptics:patching patched crypto 
2022-03-30T16:24:13.188Z appoptics:patching patched https 
2022-03-30T16:24:13.189Z appoptics:patching patched http 
2022-03-30T16:24:13.255Z appoptics:patching patched zlib 
2022-03-30T16:24:13.322Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:24:13.323Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:24:13.323Z appoptics:patching patched fs 
2022-03-30T16:24:13.423Z appoptics:patching patched dns 
2022-03-30T16:24:13.475Z appoptics:patching patched tedious 6.1.1
2022-03-30T16:24:13.483Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 6.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1206:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1038:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 877 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:24:25.461Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:24:25.462Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:24:25.462Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:24:25.462Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:24:25.462Z appoptics:debug using context provider: ace-context
2022-03-30T16:24:25.544Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:24:25.766Z appoptics:patching patched crypto 
2022-03-30T16:24:25.793Z appoptics:patching patched https 
2022-03-30T16:24:25.794Z appoptics:patching patched http 
2022-03-30T16:24:25.864Z appoptics:patching patched zlib 
2022-03-30T16:24:25.924Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:24:25.925Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:24:25.925Z appoptics:patching patched fs 
2022-03-30T16:24:26.025Z appoptics:patching patched dns 
2022-03-30T16:24:26.073Z appoptics:patching patched tedious 6.1.2
2022-03-30T16:24:26.081Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.1.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.1.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1457:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2095:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '7E5EE95EADC85942',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7420,
  Timestamp_u: 1648657468475825,
  'X-Trace': '2BEE8CF615BBF299ACB97500CF1D29B58600000000115F109819643F0001',
  _V: '1',
  'sw.parent_span_id': '7e5ee95eadc85942',
  'sw.trace_context': '00-ee8cf615bbf299acb97500cf1d29b586-115f109819643f00-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.1.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 877 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:24:40.049Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:24:40.051Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:24:40.051Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:24:40.051Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:24:40.051Z appoptics:debug using context provider: ace-context
2022-03-30T16:24:40.138Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:24:40.336Z appoptics:patching patched crypto 
2022-03-30T16:24:40.359Z appoptics:patching patched https 
2022-03-30T16:24:40.360Z appoptics:patching patched http 
2022-03-30T16:24:40.432Z appoptics:patching patched zlib 
2022-03-30T16:24:40.486Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:24:40.487Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:24:40.487Z appoptics:patching patched fs 
2022-03-30T16:24:40.579Z appoptics:patching patched dns 
2022-03-30T16:24:40.629Z appoptics:patching patched tedious 6.2.0
2022-03-30T16:24:40.634Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.2.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.2.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1459:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1440:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2120:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'E641ECFAE6DFAE9B',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7485,
  Timestamp_u: 1648657483080531,
  'X-Trace': '2B912F928BC732FF8834A5AF6444D944AD00000000A8F70E4D191AC83601',
  _V: '1',
  'sw.parent_span_id': 'e641ecfae6dfae9b',
  'sw.trace_context': '00-912f928bc732ff8834a5af6444d944ad-a8f70e4d191ac836-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.2.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 2 packages, changed 1 package, and audited 879 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:24:53.482Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:24:53.487Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:24:53.488Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:24:53.488Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:24:53.488Z appoptics:debug using context provider: ace-context
2022-03-30T16:24:53.635Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:24:53.868Z appoptics:patching patched crypto 
2022-03-30T16:24:53.892Z appoptics:patching patched https 
2022-03-30T16:24:53.892Z appoptics:patching patched http 
2022-03-30T16:24:54.022Z appoptics:patching patched zlib 
2022-03-30T16:24:54.112Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:24:54.112Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:24:54.113Z appoptics:patching patched fs 
2022-03-30T16:24:54.235Z appoptics:patching patched dns 
2022-03-30T16:24:54.277Z appoptics:patching patched tedious 6.2.1
2022-03-30T16:24:54.286Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.2.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.2.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.2.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.2.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.2.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.2.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1459:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1440:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2120:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'F66ACC839E00E11B',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7550,
  Timestamp_u: 1648657496763416,
  'X-Trace': '2B234A4D00BD1B9BF8A5C98623CAAEFD6A00000000563D0B62B8714A2401',
  _V: '1',
  'sw.parent_span_id': 'f66acc839e00e11b',
  'sw.trace_context': '00-234a4d00bd1b9bf8a5c98623caaefd6a-563d0b62b8714a24-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.2.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 10 packages, changed 1 package, and audited 889 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:25:08.159Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:25:08.160Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:25:08.160Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:25:08.160Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:25:08.160Z appoptics:debug using context provider: ace-context
2022-03-30T16:25:08.243Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:25:08.421Z appoptics:patching patched crypto 
2022-03-30T16:25:08.445Z appoptics:patching patched https 
2022-03-30T16:25:08.446Z appoptics:patching patched http 
2022-03-30T16:25:08.516Z appoptics:patching patched zlib 
2022-03-30T16:25:08.525Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:25:08.525Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:25:08.525Z appoptics:patching patched fs 
2022-03-30T16:25:08.749Z appoptics:patching patched dns 
2022-03-30T16:25:08.789Z appoptics:patching patched tedious 6.3.0
2022-03-30T16:25:08.795Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.3.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.3.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.3.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.3.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.3.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.3.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.3.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1507:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1488:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2199:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1211:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '0F5475F68D760144',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7615,
  Timestamp_u: 1648657511170598,
  'X-Trace': '2B01E1EA01F766E0A93F4FA000FDFBDEDA0000000049D736E2597A61F501',
  _V: '1',
  'sw.parent_span_id': '0f5475f68d760144',
  'sw.trace_context': '00-01e1ea01f766e0a93f4fa000fdfbdeda-49d736e2597a61f5-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.3.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 890 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:25:22.564Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:25:22.565Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:25:22.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:25:22.565Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:25:22.565Z appoptics:debug using context provider: ace-context
2022-03-30T16:25:22.654Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:25:22.863Z appoptics:patching patched crypto 
2022-03-30T16:25:22.884Z appoptics:patching patched https 
2022-03-30T16:25:22.884Z appoptics:patching patched http 
2022-03-30T16:25:22.947Z appoptics:patching patched zlib 
2022-03-30T16:25:22.956Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:25:22.957Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:25:22.957Z appoptics:patching patched fs 
2022-03-30T16:25:23.161Z appoptics:patching patched dns 
2022-03-30T16:25:23.200Z appoptics:patching patched tedious 6.4.0
2022-03-30T16:25:23.211Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.4.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.4.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.4.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.4.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.4.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.4.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.4.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.4.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.4.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.4.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1516:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1497:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2208:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1220:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1093:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:33:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '7F9FF1549D9C438D',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7680,
  Timestamp_u: 1648657525634082,
  'X-Trace': '2B9F7ABFFACE366CC4B50CB5CC9EACFC5000000000B5FD50B3EA721E8701',
  _V: '1',
  'sw.parent_span_id': '7f9ff1549d9c438d',
  'sw.trace_context': '00-9f7abfface366cc4b50cb5cc9eacfc50-b5fd50b3ea721e87-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.4.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 2 packages, removed 1 package, changed 3 packages, and audited 891 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:25:36.735Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:25:36.737Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:25:36.737Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:25:36.737Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:25:36.737Z appoptics:debug using context provider: ace-context
2022-03-30T16:25:36.820Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:25:37.031Z appoptics:patching patched crypto 
2022-03-30T16:25:37.055Z appoptics:patching patched https 
2022-03-30T16:25:37.055Z appoptics:patching patched http 
2022-03-30T16:25:37.125Z appoptics:patching patched zlib 
2022-03-30T16:25:37.134Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:25:37.134Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:25:37.135Z appoptics:patching patched fs 
2022-03-30T16:25:37.392Z appoptics:patching patched dns 
2022-03-30T16:25:37.444Z appoptics:patching patched tedious 6.5.0
2022-03-30T16:25:37.449Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  12 failing

  1) probes.tedious 6.5.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.5.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.5.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.5.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.5.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.5.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.5.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.5.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.5.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.5.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1235:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1254:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1086:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 891 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:25:50.813Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:25:50.814Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:25:50.814Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:25:50.814Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:25:50.814Z appoptics:debug using context provider: ace-context
2022-03-30T16:25:50.928Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:25:51.150Z appoptics:patching patched crypto 
2022-03-30T16:25:51.173Z appoptics:patching patched https 
2022-03-30T16:25:51.174Z appoptics:patching patched http 
2022-03-30T16:25:51.239Z appoptics:patching patched zlib 
2022-03-30T16:25:51.246Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:25:51.247Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:25:51.247Z appoptics:patching patched fs 
2022-03-30T16:25:51.452Z appoptics:patching patched dns 
2022-03-30T16:25:51.495Z appoptics:patching patched tedious 6.6.0
2022-03-30T16:25:51.501Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should tag queries when feature is enabled
    9) should tag queries when feature is enabled
    10) should do nothing when disabled with a database name
    11) "before each" hook for "should support basic queries with no database name"
    12) should do nothing when disabled with a database name


  3 passing (2s)
  12 failing

  1) probes.tedious 6.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1539:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1520:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2235:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1242:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1115:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '86A8410080034277',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7810,
  Timestamp_u: 1648657553908981,
  'X-Trace': '2BD5017122BAAE9BB14FA50A7BE1844B720000000099EE29DC6A8819BB01',
  _V: '1',
  'sw.parent_span_id': '86a8410080034277',
  'sw.trace_context': '00-d5017122baae9bb14fa50a7be1844b72-99ee29dc6a8819bb-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 892 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-03-30T16:26:04.957Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:26:04.958Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:26:04.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:26:04.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:26:04.958Z appoptics:debug using context provider: ace-context
2022-03-30T16:26:05.038Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:26:05.219Z appoptics:patching patched crypto 
2022-03-30T16:26:05.240Z appoptics:patching patched https 
2022-03-30T16:26:05.241Z appoptics:patching patched http 
2022-03-30T16:26:05.305Z appoptics:patching patched zlib 
2022-03-30T16:26:05.313Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:26:05.314Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:26:05.314Z appoptics:patching patched fs 
2022-03-30T16:26:05.548Z appoptics:patching patched dns 
2022-03-30T16:26:05.596Z appoptics:patching patched tedious 6.6.1
2022-03-30T16:26:05.601Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1543:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1524:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2300:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1247:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1107:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:40:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '4613C256141CDD14',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7875,
  Timestamp_u: 1648657568012820,
  'X-Trace': '2BC1480D290825DFE5830E5BA7E64A51F5000000001E404E30489C5C7E01',
  _V: '1',
  'sw.parent_span_id': '4613c256141cdd14',
  'sw.trace_context': '00-c1480d290825dfe5830e5ba7e64a51f5-1e404e30489c5c7e-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:26:19.152Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:26:19.153Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:26:19.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:26:19.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:26:19.154Z appoptics:debug using context provider: ace-context
2022-03-30T16:26:19.238Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:26:19.430Z appoptics:patching patched crypto 
2022-03-30T16:26:19.453Z appoptics:patching patched https 
2022-03-30T16:26:19.453Z appoptics:patching patched http 
2022-03-30T16:26:19.516Z appoptics:patching patched zlib 
2022-03-30T16:26:19.524Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:26:19.524Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:26:19.525Z appoptics:patching patched fs 
2022-03-30T16:26:19.725Z appoptics:patching patched dns 
2022-03-30T16:26:19.777Z appoptics:patching patched tedious 6.6.2
2022-03-30T16:26:19.782Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1543:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1524:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2300:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1247:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1107:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:40:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '73A321BD0B0D016C',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7940,
  Timestamp_u: 1648657582211302,
  'X-Trace': '2B7E9C3492A398A7C425CCC25BC2470A46000000006BC6137B446E925901',
  _V: '1',
  'sw.parent_span_id': '73a321bd0b0d016c',
  'sw.trace_context': '00-7e9c3492a398a7c425ccc25bc2470a46-6bc6137b446e9259-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:26:32.221Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:26:32.222Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:26:32.222Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:26:32.222Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:26:32.223Z appoptics:debug using context provider: ace-context
2022-03-30T16:26:32.303Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:26:32.484Z appoptics:patching patched crypto 
2022-03-30T16:26:32.506Z appoptics:patching patched https 
2022-03-30T16:26:32.507Z appoptics:patching patched http 
2022-03-30T16:26:32.582Z appoptics:patching patched zlib 
2022-03-30T16:26:32.590Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:26:32.590Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:26:32.591Z appoptics:patching patched fs 
2022-03-30T16:26:32.809Z appoptics:patching patched dns 
2022-03-30T16:26:32.864Z appoptics:patching patched tedious 6.6.3
2022-03-30T16:26:32.869Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.6.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 6.6.3
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 6.6.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 6.6.3
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 6.6.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 6.6.3
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 6.6.3
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 6.6.3
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 6.6.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 6.6.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 6.6.3
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:26:47.499Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:26:47.500Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:26:47.500Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:26:47.500Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:26:47.500Z appoptics:debug using context provider: ace-context
2022-03-30T16:26:47.592Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:26:47.908Z appoptics:patching patched crypto 
2022-03-30T16:26:47.945Z appoptics:patching patched https 
2022-03-30T16:26:47.945Z appoptics:patching patched http 
2022-03-30T16:26:48.052Z appoptics:patching patched zlib 
2022-03-30T16:26:48.065Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:26:48.066Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:26:48.067Z appoptics:patching patched fs 
2022-03-30T16:26:48.373Z appoptics:patching patched dns 
2022-03-30T16:26:48.435Z appoptics:patching patched tedious 6.6.4
2022-03-30T16:26:48.457Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.4
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.4
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.4
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '28A51D5A2CB0FE50',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8070,
  Timestamp_u: 1648657610892171,
  'X-Trace': '2B6A5300559E66349685345D8E52ECF27B0000000068E1B826DBBFE0A601',
  _V: '1',
  'sw.parent_span_id': '28a51d5a2cb0fe50',
  'sw.trace_context': '00-6a5300559e66349685345d8e52ecf27b-68e1b826dbbfe0a6-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.4
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 23s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:27:14.716Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:27:14.717Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:27:14.717Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:27:14.717Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:27:14.717Z appoptics:debug using context provider: ace-context
2022-03-30T16:27:14.797Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:27:14.973Z appoptics:patching patched crypto 
2022-03-30T16:27:14.996Z appoptics:patching patched https 
2022-03-30T16:27:14.996Z appoptics:patching patched http 
2022-03-30T16:27:15.052Z appoptics:patching patched zlib 
2022-03-30T16:27:15.061Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:27:15.061Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:27:15.062Z appoptics:patching patched fs 
2022-03-30T16:27:15.254Z appoptics:patching patched dns 
2022-03-30T16:27:15.294Z appoptics:patching patched tedious 6.6.5
2022-03-30T16:27:15.299Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.5
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.5
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.5
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.5
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.5
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.5
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '6CA3947D74380829',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8135,
  Timestamp_u: 1648657637750440,
  'X-Trace': '2B32D1C019D548CE49D4010AD1BC3C523B00000000541015DE0E203C2501',
  _V: '1',
  'sw.parent_span_id': '6ca3947d74380829',
  'sw.trace_context': '00-32d1c019d548ce49d4010ad1bc3c523b-541015de0e203c25-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.5
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:27:29.573Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:27:29.574Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:27:29.574Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:27:29.574Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:27:29.574Z appoptics:debug using context provider: ace-context
2022-03-30T16:27:29.664Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:27:29.843Z appoptics:patching patched crypto 
2022-03-30T16:27:29.870Z appoptics:patching patched https 
2022-03-30T16:27:29.870Z appoptics:patching patched http 
2022-03-30T16:27:29.938Z appoptics:patching patched zlib 
2022-03-30T16:27:29.947Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:27:29.948Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:27:29.948Z appoptics:patching patched fs 
2022-03-30T16:27:30.171Z appoptics:patching patched dns 
2022-03-30T16:27:30.215Z appoptics:patching patched tedious 6.6.6
2022-03-30T16:27:30.220Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.6
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.6
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.6
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.6
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.6
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.6
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.6
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.6
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.6
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.6
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.6
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.6
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '10EFBD00FB75AF79',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8200,
  Timestamp_u: 1648657652589355,
  'X-Trace': '2B37DEB947D98F068A8B2C85D816AA60E30000000043F2B88092CA77F801',
  _V: '1',
  'sw.parent_span_id': '10efbd00fb75af79',
  'sw.trace_context': '00-37deb947d98f068a8b2c85d816aa60e3-43f2b88092ca77f8-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.6
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:27:43.660Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:27:43.661Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:27:43.661Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:27:43.661Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:27:43.661Z appoptics:debug using context provider: ace-context
2022-03-30T16:27:43.747Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:27:43.927Z appoptics:patching patched crypto 
2022-03-30T16:27:43.949Z appoptics:patching patched https 
2022-03-30T16:27:43.949Z appoptics:patching patched http 
2022-03-30T16:27:44.010Z appoptics:patching patched zlib 
2022-03-30T16:27:44.018Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:27:44.019Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:27:44.019Z appoptics:patching patched fs 
2022-03-30T16:27:44.228Z appoptics:patching patched dns 
2022-03-30T16:27:44.274Z appoptics:patching patched tedious 6.7.0
2022-03-30T16:27:44.279Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should tag queries when feature is enabled
    9) should tag queries when feature is enabled
    10) should do nothing when disabled with a database name
    11) "before each" hook for "should support basic queries with no database name"
    12) should do nothing when disabled with a database name


  3 passing (2s)
  12 failing

  1) probes.tedious 6.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.7.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.7.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.7.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.7.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.7.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.7.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.7.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.7.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.7.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.7.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1575:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1556:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2332:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1279:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1139:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '703EAA1FDBD8DB3E',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8265,
  Timestamp_u: 1648657666685657,
  'X-Trace': '2BEAAF155EEC90BC9EBB6251CC5A4B270800000000C594633F8870572B01',
  _V: '1',
  'sw.parent_span_id': '703eaa1fdbd8db3e',
  'sw.trace_context': '00-eaaf155eec90bc9ebb6251cc5a4b2708-c594633f8870572b-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.7.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 7 packages, removed 20 packages, changed 7 packages, and audited 879 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:27:58.416Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:27:58.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:27:58.417Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:27:58.417Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:27:58.417Z appoptics:debug using context provider: ace-context
2022-03-30T16:27:58.516Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:27:58.762Z appoptics:patching patched crypto 
2022-03-30T16:27:58.818Z appoptics:patching patched https 
2022-03-30T16:27:58.819Z appoptics:patching patched http 
2022-03-30T16:27:58.906Z appoptics:patching patched zlib 
2022-03-30T16:27:58.911Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:27:58.912Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:27:58.913Z appoptics:patching patched fs 
2022-03-30T16:27:59.035Z appoptics:patching patched dns 
2022-03-30T16:27:59.082Z appoptics:patching patched tedious 6.7.1
2022-03-30T16:27:59.091Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.7.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  12 failing

  1) probes.tedious 6.7.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.7.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.7.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.7.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.7.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.7.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.7.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.7.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.7.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.7.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.7.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.7.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1294:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1312:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1131:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)



npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 20 packages, removed 9 packages, changed 7 packages, and audited 890 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:28:12.660Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:28:12.661Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:28:12.661Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:28:12.661Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:28:12.661Z appoptics:debug using context provider: ace-context
2022-03-30T16:28:12.755Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:28:12.997Z appoptics:patching patched crypto 
2022-03-30T16:28:13.027Z appoptics:patching patched https 
2022-03-30T16:28:13.028Z appoptics:patching patched http 
2022-03-30T16:28:13.133Z appoptics:patching patched zlib 
2022-03-30T16:28:13.145Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:28:13.146Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:28:13.146Z appoptics:patching patched fs 
2022-03-30T16:28:13.423Z appoptics:patching patched dns 
2022-03-30T16:28:13.469Z appoptics:patching patched tedious 7.0.0
2022-03-30T16:28:13.474Z appoptics:debug starting runtimeMetrics


  probes.tedious 7.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 7.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 7.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 7.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 7.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 7.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 7.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 7.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 7.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 7.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 7.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 7.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 7.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1573:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1554:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2330:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1277:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1137:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '136517E11AF86EE2',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8395,
  Timestamp_u: 1648657695947370,
  'X-Trace': '2BE889CB2332F288C35F911D653EB1081A00000000244C17F6E12E848D01',
  _V: '1',
  'sw.parent_span_id': '136517e11af86ee2',
  'sw.trace_context': '00-e889cb2332f288c35f911d653eb1081a-244c17f6e12e848d-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 7.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 891 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:28:27.115Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:28:27.116Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:28:27.116Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:28:27.116Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:28:27.116Z appoptics:debug using context provider: ace-context
2022-03-30T16:28:27.218Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:28:27.497Z appoptics:patching patched crypto 
2022-03-30T16:28:27.524Z appoptics:patching patched https 
2022-03-30T16:28:27.525Z appoptics:patching patched http 
2022-03-30T16:28:27.605Z appoptics:patching patched zlib 
2022-03-30T16:28:27.627Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:28:27.627Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:28:27.628Z appoptics:patching patched fs 
2022-03-30T16:28:27.975Z appoptics:patching patched dns 
2022-03-30T16:28:28.055Z appoptics:patching patched tedious 8.0.0
2022-03-30T16:28:28.061Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 8.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.0.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1292:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1310:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1129:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 891 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:28:41.559Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:28:41.560Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:28:41.560Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:28:41.560Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:28:41.560Z appoptics:debug using context provider: ace-context
2022-03-30T16:28:41.648Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:28:41.833Z appoptics:patching patched crypto 
2022-03-30T16:28:41.855Z appoptics:patching patched https 
2022-03-30T16:28:41.855Z appoptics:patching patched http 
2022-03-30T16:28:41.917Z appoptics:patching patched zlib 
2022-03-30T16:28:41.925Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:28:41.925Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:28:41.925Z appoptics:patching patched fs 
2022-03-30T16:28:42.172Z appoptics:patching patched dns 
2022-03-30T16:28:42.262Z appoptics:patching patched tedious 8.0.1
2022-03-30T16:28:42.267Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1573:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1554:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2328:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1277:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1137:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'A7432CA8E3CE07A4',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8525,
  Timestamp_u: 1648657724674120,
  'X-Trace': '2BA94EBA6D7D0AE0AABF02F466605D147700000000DC347F397CAF470F01',
  _V: '1',
  'sw.parent_span_id': 'a7432ca8e3ce07a4',
  'sw.trace_context': '00-a94eba6d7d0ae0aabf02f466605d1477-dc347f397caf470f-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 891 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:28:56.525Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:28:56.526Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:28:56.526Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:28:56.526Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:28:56.526Z appoptics:debug using context provider: ace-context
2022-03-30T16:28:56.613Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:28:56.825Z appoptics:patching patched crypto 
2022-03-30T16:28:56.847Z appoptics:patching patched https 
2022-03-30T16:28:56.847Z appoptics:patching patched http 
2022-03-30T16:28:56.914Z appoptics:patching patched zlib 
2022-03-30T16:28:56.922Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:28:56.922Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:28:56.923Z appoptics:patching patched fs 
2022-03-30T16:28:57.146Z appoptics:patching patched dns 
2022-03-30T16:28:57.238Z appoptics:patching patched tedious 8.1.0
2022-03-30T16:28:57.243Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1581:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:520:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1562:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2328:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1282:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1142:14)\nat MessageIO.emit (node:events:520:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:47:14)\nat Message.emit (node:events:532:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '3476FB69EF85A1A5',
  Flavor: 'mssql',
  Hostname: '7b35aa600b7f',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8590,
  Timestamp_u: 1648657739703210,
  'X-Trace': '2B059A532CAB76C592C46FD79E16BC689500000000446C650281226ED201',
  _V: '1',
  'sw.parent_span_id': '3476fb69ef85a1a5',
  'sw.trace_context': '00-059a532cab76c592c46fd79e16bc6895-446c650281226ed2-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 891 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:29:10.958Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:29:10.958Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:29:10.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:29:10.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:29:10.959Z appoptics:debug using context provider: ace-context
2022-03-30T16:29:11.033Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:29:11.218Z appoptics:patching patched crypto 
2022-03-30T16:29:11.240Z appoptics:patching patched https 
2022-03-30T16:29:11.240Z appoptics:patching patched http 
2022-03-30T16:29:11.300Z appoptics:patching patched zlib 
2022-03-30T16:29:11.307Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:29:11.307Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:29:11.307Z appoptics:patching patched fs 
2022-03-30T16:29:11.503Z appoptics:patching patched dns 
2022-03-30T16:29:11.578Z appoptics:patching patched tedious 8.1.1
2022-03-30T16:29:11.584Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 8.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.1.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1295:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1313:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1132:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 891 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:29:24.628Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:29:24.629Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:29:24.629Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:29:24.629Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:29:24.629Z appoptics:debug using context provider: ace-context
2022-03-30T16:29:24.708Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:29:24.889Z appoptics:patching patched crypto 
2022-03-30T16:29:24.911Z appoptics:patching patched https 
2022-03-30T16:29:24.912Z appoptics:patching patched http 
2022-03-30T16:29:24.970Z appoptics:patching patched zlib 
2022-03-30T16:29:24.978Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:29:24.978Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:29:24.978Z appoptics:patching patched fs 
2022-03-30T16:29:25.191Z appoptics:patching patched dns 
2022-03-30T16:29:25.259Z appoptics:patching patched tedious 8.2.0
2022-03-30T16:29:25.264Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 8.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:520:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:520:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:520:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.2.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1315:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1134:14)
      at Socket.emit (node:events:532:35)
      at endReadableNT (node:internal/streams/readable:1346:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 891 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:29:38.100Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:29:38.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:29:38.101Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:29:38.101Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:29:38.101Z appoptics:debug using context provider: ace-context
2022-03-30T16:29:38.190Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:29:38.374Z appoptics:patching patched crypto 
2022-03-30T16:29:38.396Z appoptics:patching patched https 
2022-03-30T16:29:38.396Z appoptics:patching patched http 
2022-03-30T16:29:38.465Z appoptics:patching patched zlib 
2022-03-30T16:29:38.474Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:29:38.474Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:29:38.475Z appoptics:patching patched fs 
2022-03-30T16:29:38.681Z appoptics:patching patched dns 
2022-03-30T16:29:38.760Z appoptics:patching patched tedious 8.3.0
2022-03-30T16:29:38.765Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (54ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 891 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:29:53.378Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:29:53.380Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:29:53.380Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:29:53.380Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:29:53.380Z appoptics:debug using context provider: ace-context
2022-03-30T16:29:53.482Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:29:53.681Z appoptics:patching patched crypto 
2022-03-30T16:29:53.704Z appoptics:patching patched https 
2022-03-30T16:29:53.704Z appoptics:patching patched http 
2022-03-30T16:29:53.769Z appoptics:patching patched zlib 
2022-03-30T16:29:53.777Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:29:53.777Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:29:53.778Z appoptics:patching patched fs 
2022-03-30T16:29:53.997Z appoptics:patching patched dns 
2022-03-30T16:29:54.067Z appoptics:patching patched tedious 8.3.1
2022-03-30T16:29:54.072Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (50ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 891 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:30:09.555Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:30:09.556Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:30:09.556Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:30:09.556Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:30:09.556Z appoptics:debug using context provider: ace-context
2022-03-30T16:30:09.656Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:30:09.870Z appoptics:patching patched crypto 
2022-03-30T16:30:09.899Z appoptics:patching patched https 
2022-03-30T16:30:09.899Z appoptics:patching patched http 
2022-03-30T16:30:09.965Z appoptics:patching patched zlib 
2022-03-30T16:30:09.973Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:30:09.974Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:30:09.974Z appoptics:patching patched fs 
2022-03-30T16:30:10.206Z appoptics:patching patched dns 
2022-03-30T16:30:10.284Z appoptics:patching patched tedious 9.0.0
2022-03-30T16:30:10.289Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (49ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 891 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:30:24.866Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:30:24.867Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:30:24.867Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:30:24.867Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:30:24.867Z appoptics:debug using context provider: ace-context
2022-03-30T16:30:24.947Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:30:25.127Z appoptics:patching patched crypto 
2022-03-30T16:30:25.148Z appoptics:patching patched https 
2022-03-30T16:30:25.148Z appoptics:patching patched http 
2022-03-30T16:30:25.206Z appoptics:patching patched zlib 
2022-03-30T16:30:25.213Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:30:25.214Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:30:25.214Z appoptics:patching patched fs 
2022-03-30T16:30:25.405Z appoptics:patching patched dns 
2022-03-30T16:30:25.473Z appoptics:patching patched tedious 9.0.1
2022-03-30T16:30:25.497Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (54ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 891 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:30:41.256Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:30:41.257Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:30:41.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:30:41.258Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:30:41.258Z appoptics:debug using context provider: ace-context
2022-03-30T16:30:41.342Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:30:41.522Z appoptics:patching patched crypto 
2022-03-30T16:30:41.544Z appoptics:patching patched https 
2022-03-30T16:30:41.545Z appoptics:patching patched http 
2022-03-30T16:30:41.607Z appoptics:patching patched zlib 
2022-03-30T16:30:41.614Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:30:41.615Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:30:41.615Z appoptics:patching patched fs 
2022-03-30T16:30:41.808Z appoptics:patching patched dns 
2022-03-30T16:30:41.884Z appoptics:patching patched tedious 9.1.0
2022-03-30T16:30:41.889Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (48ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 3 packages, and audited 891 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:30:56.845Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:30:56.852Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:30:56.853Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:30:56.853Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:30:56.853Z appoptics:debug using context provider: ace-context
2022-03-30T16:30:56.948Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:30:57.189Z appoptics:patching patched crypto 
2022-03-30T16:30:57.226Z appoptics:patching patched https 
2022-03-30T16:30:57.227Z appoptics:patching patched http 
2022-03-30T16:30:57.301Z appoptics:patching patched zlib 
2022-03-30T16:30:57.312Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:30:57.313Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:30:57.313Z appoptics:patching patched fs 
2022-03-30T16:30:57.654Z appoptics:patching patched dns 
2022-03-30T16:30:57.747Z appoptics:patching patched tedious 9.1.1
2022-03-30T16:30:57.752Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (53ms)
    ✔ should support parameters with a database name (42ms)
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 891 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:31:12.755Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:31:12.756Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:31:12.756Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:31:12.756Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:31:12.756Z appoptics:debug using context provider: ace-context
2022-03-30T16:31:12.832Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:31:13.049Z appoptics:patching patched crypto 
2022-03-30T16:31:13.077Z appoptics:patching patched https 
2022-03-30T16:31:13.077Z appoptics:patching patched http 
2022-03-30T16:31:13.168Z appoptics:patching patched zlib 
2022-03-30T16:31:13.178Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:31:13.178Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:31:13.179Z appoptics:patching patched fs 
2022-03-30T16:31:13.367Z appoptics:patching patched dns 
2022-03-30T16:31:13.438Z appoptics:patching patched tedious 9.2.0
2022-03-30T16:31:13.443Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (50ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 891 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:31:29.185Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:31:29.187Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:31:29.187Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:31:29.187Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:31:29.187Z appoptics:debug using context provider: ace-context
2022-03-30T16:31:29.280Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:31:29.495Z appoptics:patching patched crypto 
2022-03-30T16:31:29.517Z appoptics:patching patched https 
2022-03-30T16:31:29.518Z appoptics:patching patched http 
2022-03-30T16:31:29.590Z appoptics:patching patched zlib 
2022-03-30T16:31:29.598Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:31:29.598Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:31:29.599Z appoptics:patching patched fs 
2022-03-30T16:31:29.807Z appoptics:patching patched dns 
2022-03-30T16:31:29.888Z appoptics:patching patched tedious 9.2.1
2022-03-30T16:31:29.894Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (68ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 7 packages, removed 20 packages, changed 7 packages, and audited 878 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:31:44.951Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:31:44.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:31:44.953Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:31:44.953Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:31:44.953Z appoptics:debug using context provider: ace-context
2022-03-30T16:31:45.039Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:31:45.236Z appoptics:patching patched crypto 
2022-03-30T16:31:45.270Z appoptics:patching patched https 
2022-03-30T16:31:45.271Z appoptics:patching patched http 
2022-03-30T16:31:45.354Z appoptics:patching patched zlib 
2022-03-30T16:31:45.359Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:31:45.359Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:31:45.359Z appoptics:patching patched fs 
2022-03-30T16:31:45.490Z appoptics:patching patched dns 
2022-03-30T16:31:45.576Z appoptics:patching patched tedious 9.2.2
2022-03-30T16:31:45.582Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (118ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 23 packages, removed 2 packages, changed 3 packages, and audited 899 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:32:01.153Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:32:01.155Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:32:01.155Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:32:01.156Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:32:01.156Z appoptics:debug using context provider: ace-context
2022-03-30T16:32:01.260Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:32:01.450Z appoptics:patching patched crypto 
2022-03-30T16:32:01.472Z appoptics:patching patched https 
2022-03-30T16:32:01.472Z appoptics:patching patched http 
2022-03-30T16:32:01.576Z appoptics:patching patched zlib 
2022-03-30T16:32:01.580Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:32:01.581Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:32:01.581Z appoptics:patching patched fs 
2022-03-30T16:32:01.694Z appoptics:patching patched dns 
2022-03-30T16:32:01.888Z appoptics:patching patched tedious 9.2.3
2022-03-30T16:32:01.893Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (52ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name (46ms)
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 899 packages in 26s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:32:32.723Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:32:32.724Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:32:32.724Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:32:32.725Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:32:32.725Z appoptics:debug using context provider: ace-context
2022-03-30T16:32:32.806Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:32:32.985Z appoptics:patching patched crypto 
2022-03-30T16:32:33.006Z appoptics:patching patched https 
2022-03-30T16:32:33.007Z appoptics:patching patched http 
2022-03-30T16:32:33.097Z appoptics:patching patched zlib 
2022-03-30T16:32:33.101Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:32:33.102Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:32:33.102Z appoptics:patching patched fs 
2022-03-30T16:32:33.215Z appoptics:patching patched dns 
2022-03-30T16:32:33.405Z appoptics:patching patched tedious 10.0.0
2022-03-30T16:32:33.410Z appoptics:debug starting runtimeMetrics


  probes.tedious 10.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (61ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 899 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:32:48.663Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:32:48.664Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:32:48.664Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:32:48.664Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:32:48.664Z appoptics:debug using context provider: ace-context
2022-03-30T16:32:48.765Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:32:48.996Z appoptics:patching patched crypto 
2022-03-30T16:32:49.055Z appoptics:patching patched https 
2022-03-30T16:32:49.056Z appoptics:patching patched http 
2022-03-30T16:32:49.157Z appoptics:patching patched zlib 
2022-03-30T16:32:49.163Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:32:49.164Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:32:49.164Z appoptics:patching patched fs 
2022-03-30T16:32:49.469Z appoptics:patching patched dns 
2022-03-30T16:32:49.843Z appoptics:patching patched tedious 11.0.0
2022-03-30T16:32:49.849Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (53ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 3 packages, removed 23 packages, changed 4 packages, and audited 879 packages in 12s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:33:06.595Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:33:06.596Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:33:06.596Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:33:06.596Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:33:06.596Z appoptics:debug using context provider: ace-context
2022-03-30T16:33:06.681Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:33:06.866Z appoptics:patching patched crypto 
2022-03-30T16:33:06.888Z appoptics:patching patched https 
2022-03-30T16:33:06.889Z appoptics:patching patched http 
2022-03-30T16:33:06.982Z appoptics:patching patched zlib 
2022-03-30T16:33:06.987Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:33:06.988Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:33:06.988Z appoptics:patching patched fs 
2022-03-30T16:33:07.108Z appoptics:patching patched dns 
2022-03-30T16:33:07.183Z appoptics:patching patched tedious 11.0.1
2022-03-30T16:33:07.189Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (52ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 1 package, changed 1 package, and audited 880 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:33:21.798Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:33:21.799Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:33:21.799Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:33:21.799Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:33:21.799Z appoptics:debug using context provider: ace-context
2022-03-30T16:33:21.888Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:33:22.103Z appoptics:patching patched crypto 
2022-03-30T16:33:22.127Z appoptics:patching patched https 
2022-03-30T16:33:22.127Z appoptics:patching patched http 
2022-03-30T16:33:22.229Z appoptics:patching patched zlib 
2022-03-30T16:33:22.234Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:33:22.234Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:33:22.234Z appoptics:patching patched fs 
2022-03-30T16:33:22.347Z appoptics:patching patched dns 
2022-03-30T16:33:22.424Z appoptics:patching patched tedious 11.0.2
2022-03-30T16:33:22.430Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (53ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled (64ms)
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 880 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:33:37.639Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:33:37.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:33:37.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:33:37.642Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:33:37.642Z appoptics:debug using context provider: ace-context
2022-03-30T16:33:37.743Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:33:37.961Z appoptics:patching patched crypto 
2022-03-30T16:33:37.986Z appoptics:patching patched https 
2022-03-30T16:33:37.987Z appoptics:patching patched http 
2022-03-30T16:33:38.095Z appoptics:patching patched zlib 
2022-03-30T16:33:38.100Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:33:38.101Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:33:38.101Z appoptics:patching patched fs 
2022-03-30T16:33:38.234Z appoptics:patching patched dns 
2022-03-30T16:33:38.327Z appoptics:patching patched tedious 11.0.3
2022-03-30T16:33:38.332Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (51ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 880 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:33:54.266Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:33:54.267Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:33:54.267Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:33:54.267Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:33:54.268Z appoptics:debug using context provider: ace-context
2022-03-30T16:33:54.360Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:33:54.566Z appoptics:patching patched crypto 
2022-03-30T16:33:54.589Z appoptics:patching patched https 
2022-03-30T16:33:54.589Z appoptics:patching patched http 
2022-03-30T16:33:54.688Z appoptics:patching patched zlib 
2022-03-30T16:33:54.692Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:33:54.693Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:33:54.693Z appoptics:patching patched fs 
2022-03-30T16:33:54.822Z appoptics:patching patched dns 
2022-03-30T16:33:54.910Z appoptics:patching patched tedious 11.0.4
2022-03-30T16:33:54.915Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (64ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 880 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:34:09.821Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:34:09.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:34:09.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:34:09.821Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:34:09.822Z appoptics:debug using context provider: ace-context
2022-03-30T16:34:09.898Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:34:10.079Z appoptics:patching patched crypto 
2022-03-30T16:34:10.101Z appoptics:patching patched https 
2022-03-30T16:34:10.101Z appoptics:patching patched http 
2022-03-30T16:34:10.189Z appoptics:patching patched zlib 
2022-03-30T16:34:10.194Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:34:10.194Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:34:10.194Z appoptics:patching patched fs 
2022-03-30T16:34:10.303Z appoptics:patching patched dns 
2022-03-30T16:34:10.378Z appoptics:patching patched tedious 11.0.5
2022-03-30T16:34:10.383Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (51ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 880 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:34:24.820Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:34:24.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:34:24.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:34:24.821Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:34:24.821Z appoptics:debug using context provider: ace-context
2022-03-30T16:34:24.901Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:34:25.082Z appoptics:patching patched crypto 
2022-03-30T16:34:25.104Z appoptics:patching patched https 
2022-03-30T16:34:25.104Z appoptics:patching patched http 
2022-03-30T16:34:25.193Z appoptics:patching patched zlib 
2022-03-30T16:34:25.197Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:34:25.198Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:34:25.198Z appoptics:patching patched fs 
2022-03-30T16:34:25.307Z appoptics:patching patched dns 
2022-03-30T16:34:25.389Z appoptics:patching patched tedious 11.0.6
2022-03-30T16:34:25.394Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (54ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name (42ms)
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 880 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:34:40.334Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:34:40.338Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:34:40.338Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:34:40.338Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:34:40.338Z appoptics:debug using context provider: ace-context
2022-03-30T16:34:40.522Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:34:40.897Z appoptics:patching patched crypto 
2022-03-30T16:34:40.939Z appoptics:patching patched https 
2022-03-30T16:34:40.940Z appoptics:patching patched http 
2022-03-30T16:34:41.115Z appoptics:patching patched zlib 
2022-03-30T16:34:41.120Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:34:41.124Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:34:41.125Z appoptics:patching patched fs 
2022-03-30T16:34:41.282Z appoptics:patching patched dns 
2022-03-30T16:34:41.363Z appoptics:patching patched tedious 11.0.7
2022-03-30T16:34:41.368Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.7
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (53ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 880 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:34:56.684Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:34:56.685Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:34:56.685Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:34:56.685Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:34:56.685Z appoptics:debug using context provider: ace-context
2022-03-30T16:34:56.761Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:34:56.943Z appoptics:patching patched crypto 
2022-03-30T16:34:56.965Z appoptics:patching patched https 
2022-03-30T16:34:56.965Z appoptics:patching patched http 
2022-03-30T16:34:57.049Z appoptics:patching patched zlib 
2022-03-30T16:34:57.053Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:34:57.054Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:34:57.054Z appoptics:patching patched fs 
2022-03-30T16:34:57.162Z appoptics:patching patched dns 
2022-03-30T16:34:57.236Z appoptics:patching patched tedious 11.0.8
2022-03-30T16:34:57.241Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.8
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (53ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name (40ms)
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 98 packages, removed 2 packages, changed 5 packages, and audited 976 packages in 15s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:35:16.493Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:35:16.494Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:35:16.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:35:16.494Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:35:16.494Z appoptics:debug using context provider: ace-context
2022-03-30T16:35:16.577Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:35:16.770Z appoptics:patching patched crypto 
2022-03-30T16:35:16.792Z appoptics:patching patched https 
2022-03-30T16:35:16.792Z appoptics:patching patched http 
2022-03-30T16:35:16.885Z appoptics:patching patched zlib 
2022-03-30T16:35:16.889Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:35:16.889Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:35:16.890Z appoptics:patching patched fs 
2022-03-30T16:35:17.004Z appoptics:patching patched dns 
2022-03-30T16:35:17.086Z appoptics:patching patched tedious 11.0.9
2022-03-30T16:35:17.091Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.9
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (65ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 976 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:35:32.584Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:35:32.585Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:35:32.585Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:35:32.585Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:35:32.585Z appoptics:debug using context provider: ace-context
2022-03-30T16:35:32.671Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:35:32.864Z appoptics:patching patched crypto 
2022-03-30T16:35:32.886Z appoptics:patching patched https 
2022-03-30T16:35:32.886Z appoptics:patching patched http 
2022-03-30T16:35:32.987Z appoptics:patching patched zlib 
2022-03-30T16:35:32.992Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:35:32.992Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:35:32.993Z appoptics:patching patched fs 
2022-03-30T16:35:33.107Z appoptics:patching patched dns 
2022-03-30T16:35:33.194Z appoptics:patching patched tedious 11.0.10
2022-03-30T16:35:33.199Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.10
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (56ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 976 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:35:49.304Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:35:49.305Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:35:49.305Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:35:49.305Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:35:49.305Z appoptics:debug using context provider: ace-context
2022-03-30T16:35:49.397Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:35:49.588Z appoptics:patching patched crypto 
2022-03-30T16:35:49.611Z appoptics:patching patched https 
2022-03-30T16:35:49.611Z appoptics:patching patched http 
2022-03-30T16:35:49.706Z appoptics:patching patched zlib 
2022-03-30T16:35:49.710Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:35:49.711Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:35:49.711Z appoptics:patching patched fs 
2022-03-30T16:35:49.828Z appoptics:patching patched dns 
2022-03-30T16:35:49.902Z appoptics:patching patched tedious 11.1.0
2022-03-30T16:35:49.907Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (56ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 976 packages in 10s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:36:04.930Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:36:04.932Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:36:04.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:36:04.932Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:36:04.932Z appoptics:debug using context provider: ace-context
2022-03-30T16:36:05.015Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:36:05.204Z appoptics:patching patched crypto 
2022-03-30T16:36:05.225Z appoptics:patching patched https 
2022-03-30T16:36:05.225Z appoptics:patching patched http 
2022-03-30T16:36:05.321Z appoptics:patching patched zlib 
2022-03-30T16:36:05.326Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:36:05.327Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:36:05.327Z appoptics:patching patched fs 
2022-03-30T16:36:05.483Z appoptics:patching patched dns 
2022-03-30T16:36:05.563Z appoptics:patching patched tedious 11.1.1
2022-03-30T16:36:05.568Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (56ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 976 packages in 10s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:36:20.557Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:36:20.558Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:36:20.558Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:36:20.558Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:36:20.558Z appoptics:debug using context provider: ace-context
2022-03-30T16:36:20.709Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:36:21.164Z appoptics:patching patched crypto 
2022-03-30T16:36:21.209Z appoptics:patching patched https 
2022-03-30T16:36:21.209Z appoptics:patching patched http 
2022-03-30T16:36:21.364Z appoptics:patching patched zlib 
2022-03-30T16:36:21.373Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:36:21.374Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:36:21.374Z appoptics:patching patched fs 
2022-03-30T16:36:21.519Z appoptics:patching patched dns 
2022-03-30T16:36:21.609Z appoptics:patching patched tedious 11.2.0
2022-03-30T16:36:21.613Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (56ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 1 package, changed 4 packages, and audited 977 packages in 12s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:36:38.347Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:36:38.348Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:36:38.348Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:36:38.348Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:36:38.348Z appoptics:debug using context provider: ace-context
2022-03-30T16:36:38.435Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:36:38.627Z appoptics:patching patched crypto 
2022-03-30T16:36:38.649Z appoptics:patching patched https 
2022-03-30T16:36:38.650Z appoptics:patching patched http 
2022-03-30T16:36:38.744Z appoptics:patching patched zlib 
2022-03-30T16:36:38.749Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:36:38.749Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:36:38.749Z appoptics:patching patched fs 
2022-03-30T16:36:38.874Z appoptics:patching patched dns 
2022-03-30T16:36:38.953Z appoptics:patching patched tedious 11.3.0
2022-03-30T16:36:38.960Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (61ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 10s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:36:54.031Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:36:54.032Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:36:54.032Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:36:54.032Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:36:54.033Z appoptics:debug using context provider: ace-context
2022-03-30T16:36:54.135Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:36:54.400Z appoptics:patching patched crypto 
2022-03-30T16:36:54.428Z appoptics:patching patched https 
2022-03-30T16:36:54.428Z appoptics:patching patched http 
2022-03-30T16:36:54.538Z appoptics:patching patched zlib 
2022-03-30T16:36:54.542Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:36:54.543Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:36:54.543Z appoptics:patching patched fs 
2022-03-30T16:36:54.668Z appoptics:patching patched dns 
2022-03-30T16:36:54.758Z appoptics:patching patched tedious 11.3.1
2022-03-30T16:36:54.763Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (57ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 10s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:37:09.713Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:37:09.715Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:37:09.715Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:37:09.715Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:37:09.715Z appoptics:debug using context provider: ace-context
2022-03-30T16:37:09.821Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:37:10.063Z appoptics:patching patched crypto 
2022-03-30T16:37:10.090Z appoptics:patching patched https 
2022-03-30T16:37:10.090Z appoptics:patching patched http 
2022-03-30T16:37:10.190Z appoptics:patching patched zlib 
2022-03-30T16:37:10.194Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:37:10.195Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:37:10.195Z appoptics:patching patched fs 
2022-03-30T16:37:10.331Z appoptics:patching patched dns 
2022-03-30T16:37:10.427Z appoptics:patching patched tedious 11.4.0
2022-03-30T16:37:10.432Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (81ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 21s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:37:35.717Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:37:35.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:37:35.719Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:37:35.719Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:37:35.719Z appoptics:debug using context provider: ace-context
2022-03-30T16:37:35.836Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:37:36.131Z appoptics:patching patched crypto 
2022-03-30T16:37:36.160Z appoptics:patching patched https 
2022-03-30T16:37:36.161Z appoptics:patching patched http 
2022-03-30T16:37:36.264Z appoptics:patching patched zlib 
2022-03-30T16:37:36.268Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:37:36.268Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:37:36.269Z appoptics:patching patched fs 
2022-03-30T16:37:36.386Z appoptics:patching patched dns 
2022-03-30T16:37:36.476Z appoptics:patching patched tedious 11.4.1
2022-03-30T16:37:36.481Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (105ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 12s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:37:52.872Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:37:52.873Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:37:52.873Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:37:52.873Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:37:52.873Z appoptics:debug using context provider: ace-context
2022-03-30T16:37:52.961Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:37:53.147Z appoptics:patching patched crypto 
2022-03-30T16:37:53.169Z appoptics:patching patched https 
2022-03-30T16:37:53.169Z appoptics:patching patched http 
2022-03-30T16:37:53.260Z appoptics:patching patched zlib 
2022-03-30T16:37:53.264Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:37:53.265Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:37:53.265Z appoptics:patching patched fs 
2022-03-30T16:37:53.377Z appoptics:patching patched dns 
2022-03-30T16:37:53.463Z appoptics:patching patched tedious 11.4.2
2022-03-30T16:37:53.469Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (64ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:38:09.014Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:38:09.015Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:38:09.015Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:38:09.015Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:38:09.015Z appoptics:debug using context provider: ace-context
2022-03-30T16:38:09.099Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:38:09.287Z appoptics:patching patched crypto 
2022-03-30T16:38:09.310Z appoptics:patching patched https 
2022-03-30T16:38:09.311Z appoptics:patching patched http 
2022-03-30T16:38:09.400Z appoptics:patching patched zlib 
2022-03-30T16:38:09.404Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:38:09.405Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:38:09.405Z appoptics:patching patched fs 
2022-03-30T16:38:09.517Z appoptics:patching patched dns 
2022-03-30T16:38:09.614Z appoptics:patching patched tedious 11.5.0
2022-03-30T16:38:09.620Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (50ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name (89ms)
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:38:24.992Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:38:24.993Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:38:24.993Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:38:24.993Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:38:24.993Z appoptics:debug using context provider: ace-context
2022-03-30T16:38:25.094Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:38:25.326Z appoptics:patching patched crypto 
2022-03-30T16:38:25.348Z appoptics:patching patched https 
2022-03-30T16:38:25.349Z appoptics:patching patched http 
2022-03-30T16:38:25.437Z appoptics:patching patched zlib 
2022-03-30T16:38:25.443Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:38:25.443Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:38:25.443Z appoptics:patching patched fs 
2022-03-30T16:38:25.637Z appoptics:patching patched dns 
2022-03-30T16:38:25.743Z appoptics:patching patched tedious 11.6.0
2022-03-30T16:38:25.749Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (52ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 12s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:38:41.916Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:38:41.917Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:38:41.918Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:38:41.918Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:38:41.918Z appoptics:debug using context provider: ace-context
2022-03-30T16:38:42.003Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:38:42.201Z appoptics:patching patched crypto 
2022-03-30T16:38:42.226Z appoptics:patching patched https 
2022-03-30T16:38:42.226Z appoptics:patching patched http 
2022-03-30T16:38:42.307Z appoptics:patching patched zlib 
2022-03-30T16:38:42.312Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:38:42.312Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:38:42.312Z appoptics:patching patched fs 
2022-03-30T16:38:42.428Z appoptics:patching patched dns 
2022-03-30T16:38:42.527Z appoptics:patching patched tedious 11.6.1
2022-03-30T16:38:42.532Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (59ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:38:57.817Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:38:57.818Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:38:57.818Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:38:57.818Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:38:57.818Z appoptics:debug using context provider: ace-context
2022-03-30T16:38:57.901Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:38:58.108Z appoptics:patching patched crypto 
2022-03-30T16:38:58.130Z appoptics:patching patched https 
2022-03-30T16:38:58.130Z appoptics:patching patched http 
2022-03-30T16:38:58.224Z appoptics:patching patched zlib 
2022-03-30T16:38:58.229Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:38:58.230Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:38:58.231Z appoptics:patching patched fs 
2022-03-30T16:38:58.359Z appoptics:patching patched dns 
2022-03-30T16:38:58.444Z appoptics:patching patched tedious 11.7.0
2022-03-30T16:38:58.449Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (52ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:39:13.746Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:39:13.747Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:39:13.747Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:39:13.747Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:39:13.747Z appoptics:debug using context provider: ace-context
2022-03-30T16:39:13.833Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:39:14.028Z appoptics:patching patched crypto 
2022-03-30T16:39:14.061Z appoptics:patching patched https 
2022-03-30T16:39:14.062Z appoptics:patching patched http 
2022-03-30T16:39:14.207Z appoptics:patching patched zlib 
2022-03-30T16:39:14.221Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:39:14.222Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:39:14.222Z appoptics:patching patched fs 
2022-03-30T16:39:14.419Z appoptics:patching patched dns 
2022-03-30T16:39:14.521Z appoptics:patching patched tedious 11.8.0
2022-03-30T16:39:14.526Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.8.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (67ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:39:30.594Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:39:30.595Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:39:30.595Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:39:30.595Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:39:30.596Z appoptics:debug using context provider: ace-context
2022-03-30T16:39:30.698Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:39:30.889Z appoptics:patching patched crypto 
2022-03-30T16:39:30.910Z appoptics:patching patched https 
2022-03-30T16:39:30.911Z appoptics:patching patched http 
2022-03-30T16:39:30.995Z appoptics:patching patched zlib 
2022-03-30T16:39:31.000Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:39:31.000Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:39:31.001Z appoptics:patching patched fs 
2022-03-30T16:39:31.122Z appoptics:patching patched dns 
2022-03-30T16:39:31.212Z appoptics:patching patched tedious 12.0.0
2022-03-30T16:39:31.217Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (53ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name (38ms)
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 12s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:39:47.483Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:39:47.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:39:47.484Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:39:47.484Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:39:47.484Z appoptics:debug using context provider: ace-context
2022-03-30T16:39:47.566Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:39:47.764Z appoptics:patching patched crypto 
2022-03-30T16:39:47.787Z appoptics:patching patched https 
2022-03-30T16:39:47.787Z appoptics:patching patched http 
2022-03-30T16:39:47.869Z appoptics:patching patched zlib 
2022-03-30T16:39:47.873Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:39:47.874Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:39:47.874Z appoptics:patching patched fs 
2022-03-30T16:39:47.986Z appoptics:patching patched dns 
2022-03-30T16:39:48.079Z appoptics:patching patched tedious 12.1.0
2022-03-30T16:39:48.085Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (49ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 977 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:40:03.254Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:40:03.255Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:40:03.255Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:40:03.255Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:40:03.255Z appoptics:debug using context provider: ace-context
2022-03-30T16:40:03.340Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:40:03.539Z appoptics:patching patched crypto 
2022-03-30T16:40:03.562Z appoptics:patching patched https 
2022-03-30T16:40:03.562Z appoptics:patching patched http 
2022-03-30T16:40:03.642Z appoptics:patching patched zlib 
2022-03-30T16:40:03.646Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:40:03.647Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:40:03.647Z appoptics:patching patched fs 
2022-03-30T16:40:03.750Z appoptics:patching patched dns 
2022-03-30T16:40:03.847Z appoptics:patching patched tedious 12.2.0
2022-03-30T16:40:03.852Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (103ms)
    ✔ should support parameters with a database name (58ms)
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 3 packages, and audited 977 packages in 18s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:40:26.646Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:40:26.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:40:26.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:40:26.647Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:40:26.648Z appoptics:debug using context provider: ace-context
2022-03-30T16:40:26.736Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:40:26.935Z appoptics:patching patched crypto 
2022-03-30T16:40:26.958Z appoptics:patching patched https 
2022-03-30T16:40:26.959Z appoptics:patching patched http 
2022-03-30T16:40:27.040Z appoptics:patching patched zlib 
2022-03-30T16:40:27.044Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:40:27.045Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:40:27.045Z appoptics:patching patched fs 
2022-03-30T16:40:27.175Z appoptics:patching patched dns 
2022-03-30T16:40:27.281Z appoptics:patching patched tedious 12.3.0
2022-03-30T16:40:27.286Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (55ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


removed 17 packages, changed 2 packages, and audited 960 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:40:42.909Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:40:42.910Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:40:42.910Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:40:42.910Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:40:42.910Z appoptics:debug using context provider: ace-context
2022-03-30T16:40:43.013Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:40:43.235Z appoptics:patching patched crypto 
2022-03-30T16:40:43.255Z appoptics:patching patched https 
2022-03-30T16:40:43.256Z appoptics:patching patched http 
2022-03-30T16:40:43.322Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:40:43.322Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:40:43.322Z appoptics:patching patched fs 
2022-03-30T16:40:43.361Z appoptics:patching patched zlib 
2022-03-30T16:40:43.448Z appoptics:patching patched dns 
2022-03-30T16:40:43.541Z appoptics:patching patched tedious 13.0.0
2022-03-30T16:40:43.545Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (49ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 960 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:40:58.692Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:40:58.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:40:58.693Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:40:58.693Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:40:58.693Z appoptics:debug using context provider: ace-context
2022-03-30T16:40:58.770Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:40:58.938Z appoptics:patching patched crypto 
2022-03-30T16:40:58.958Z appoptics:patching patched https 
2022-03-30T16:40:58.958Z appoptics:patching patched http 
2022-03-30T16:40:59.033Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:40:59.033Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:40:59.034Z appoptics:patching patched fs 
2022-03-30T16:40:59.063Z appoptics:patching patched zlib 
2022-03-30T16:40:59.173Z appoptics:patching patched dns 
2022-03-30T16:40:59.264Z appoptics:patching patched tedious 13.0.1
2022-03-30T16:40:59.269Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (51ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 960 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:41:14.406Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:41:14.407Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:41:14.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:41:14.407Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:41:14.407Z appoptics:debug using context provider: ace-context
2022-03-30T16:41:14.490Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:41:14.683Z appoptics:patching patched crypto 
2022-03-30T16:41:14.706Z appoptics:patching patched https 
2022-03-30T16:41:14.707Z appoptics:patching patched http 
2022-03-30T16:41:14.778Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:41:14.778Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:41:14.778Z appoptics:patching patched fs 
2022-03-30T16:41:14.811Z appoptics:patching patched zlib 
2022-03-30T16:41:14.914Z appoptics:patching patched dns 
2022-03-30T16:41:15.012Z appoptics:patching patched tedious 13.0.2
2022-03-30T16:41:15.017Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (60ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 960 packages in 10s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:41:30.232Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:41:30.233Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:41:30.233Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:41:30.233Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:41:30.233Z appoptics:debug using context provider: ace-context
2022-03-30T16:41:30.315Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:41:30.515Z appoptics:patching patched crypto 
2022-03-30T16:41:30.551Z appoptics:patching patched https 
2022-03-30T16:41:30.552Z appoptics:patching patched http 
2022-03-30T16:41:30.680Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:41:30.683Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:41:30.684Z appoptics:patching patched fs 
2022-03-30T16:41:30.762Z appoptics:patching patched zlib 
2022-03-30T16:41:30.941Z appoptics:patching patched dns 
2022-03-30T16:41:31.096Z appoptics:patching patched tedious 13.0.3
2022-03-30T16:41:31.110Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (79ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 960 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:41:46.731Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:41:46.732Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:41:46.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:41:46.732Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:41:46.732Z appoptics:debug using context provider: ace-context
2022-03-30T16:41:46.815Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:41:47.011Z appoptics:patching patched crypto 
2022-03-30T16:41:47.033Z appoptics:patching patched https 
2022-03-30T16:41:47.034Z appoptics:patching patched http 
2022-03-30T16:41:47.106Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:41:47.107Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:41:47.107Z appoptics:patching patched fs 
2022-03-30T16:41:47.142Z appoptics:patching patched zlib 
2022-03-30T16:41:47.249Z appoptics:patching patched dns 
2022-03-30T16:41:47.347Z appoptics:patching patched tedious 13.0.4
2022-03-30T16:41:47.353Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (52ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 960 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:42:02.665Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:42:02.667Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:42:02.667Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:42:02.667Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:42:02.667Z appoptics:debug using context provider: ace-context
2022-03-30T16:42:02.750Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:42:02.947Z appoptics:patching patched crypto 
2022-03-30T16:42:02.967Z appoptics:patching patched https 
2022-03-30T16:42:02.968Z appoptics:patching patched http 
2022-03-30T16:42:03.040Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:42:03.040Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:42:03.041Z appoptics:patching patched fs 
2022-03-30T16:42:03.074Z appoptics:patching patched zlib 
2022-03-30T16:42:03.185Z appoptics:patching patched dns 
2022-03-30T16:42:03.297Z appoptics:patching patched tedious 13.0.5
2022-03-30T16:42:03.302Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (53ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


removed 1 package, changed 1 package, and audited 959 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:42:18.557Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:42:18.558Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:42:18.558Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:42:18.558Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:42:18.558Z appoptics:debug using context provider: ace-context
2022-03-30T16:42:18.658Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:42:18.867Z appoptics:patching patched crypto 
2022-03-30T16:42:18.892Z appoptics:patching patched https 
2022-03-30T16:42:18.893Z appoptics:patching patched http 
2022-03-30T16:42:18.963Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:42:18.964Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:42:18.964Z appoptics:patching patched fs 
2022-03-30T16:42:18.997Z appoptics:patching patched zlib 
2022-03-30T16:42:19.101Z appoptics:patching patched dns 
2022-03-30T16:42:19.209Z appoptics:patching patched tedious 13.1.0
2022-03-30T16:42:19.214Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (57ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 959 packages in 22s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:42:45.731Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:42:45.732Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:42:45.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:42:45.732Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:42:45.732Z appoptics:debug using context provider: ace-context
2022-03-30T16:42:45.835Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:42:46.078Z appoptics:patching patched crypto 
2022-03-30T16:42:46.102Z appoptics:patching patched https 
2022-03-30T16:42:46.102Z appoptics:patching patched http 
2022-03-30T16:42:46.181Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:42:46.182Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:42:46.182Z appoptics:patching patched fs 
2022-03-30T16:42:46.224Z appoptics:patching patched zlib 
2022-03-30T16:42:46.370Z appoptics:patching patched dns 
2022-03-30T16:42:46.504Z appoptics:patching patched tedious 13.2.0
2022-03-30T16:42:46.510Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (67ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 959 packages in 12s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:43:03.463Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:43:03.464Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:43:03.464Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:43:03.464Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:43:03.464Z appoptics:debug using context provider: ace-context
2022-03-30T16:43:03.555Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:43:03.763Z appoptics:patching patched crypto 
2022-03-30T16:43:03.789Z appoptics:patching patched https 
2022-03-30T16:43:03.789Z appoptics:patching patched http 
2022-03-30T16:43:03.863Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:43:03.863Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:43:03.864Z appoptics:patching patched fs 
2022-03-30T16:43:03.900Z appoptics:patching patched zlib 
2022-03-30T16:43:04.026Z appoptics:patching patched dns 
2022-03-30T16:43:04.145Z appoptics:patching patched tedious 14.0.0
2022-03-30T16:43:04.150Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (56ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 959 packages in 10s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:43:18.884Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:43:18.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:43:18.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:43:18.886Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:43:18.886Z appoptics:debug using context provider: ace-context
2022-03-30T16:43:18.971Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:43:19.203Z appoptics:patching patched crypto 
2022-03-30T16:43:19.224Z appoptics:patching patched https 
2022-03-30T16:43:19.225Z appoptics:patching patched http 
2022-03-30T16:43:19.312Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:43:19.312Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:43:19.313Z appoptics:patching patched fs 
2022-03-30T16:43:19.346Z appoptics:patching patched zlib 
2022-03-30T16:43:19.459Z appoptics:patching patched dns 
2022-03-30T16:43:19.565Z appoptics:patching patched tedious 14.1.0
2022-03-30T16:43:19.570Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (54ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 959 packages in 11s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:43:35.105Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:43:35.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:43:35.106Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:43:35.106Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:43:35.106Z appoptics:debug using context provider: ace-context
2022-03-30T16:43:35.189Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:43:35.379Z appoptics:patching patched crypto 
2022-03-30T16:43:35.401Z appoptics:patching patched https 
2022-03-30T16:43:35.402Z appoptics:patching patched http 
2022-03-30T16:43:35.478Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:43:35.478Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:43:35.479Z appoptics:patching patched fs 
2022-03-30T16:43:35.511Z appoptics:patching patched zlib 
2022-03-30T16:43:35.619Z appoptics:patching patched dns 
2022-03-30T16:43:35.719Z appoptics:patching patched tedious 14.2.0
2022-03-30T16:43:35.724Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (78ms)
    ✔ should support parameters with a database name (41ms)
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 9 packages, removed 46 packages, changed 5 packages, and audited 922 packages in 12s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:43:52.458Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:43:52.459Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:43:52.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:43:52.459Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:43:52.459Z appoptics:debug using context provider: ace-context
2022-03-30T16:43:52.548Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:43:52.730Z appoptics:patching patched crypto 
2022-03-30T16:43:52.750Z appoptics:patching patched https 
2022-03-30T16:43:52.751Z appoptics:patching patched http 
2022-03-30T16:43:52.809Z appoptics:patching patched zlib 
2022-03-30T16:43:52.887Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:43:52.887Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:43:52.888Z appoptics:patching patched fs 
2022-03-30T16:43:52.940Z appoptics:patching patched dns 
2022-03-30T16:43:53.046Z appoptics:patching patched tedious 14.3.0
2022-03-30T16:43:53.051Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (76ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 922 packages in 10s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:44:08.119Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:44:08.120Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:44:08.120Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:44:08.120Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:44:08.120Z appoptics:debug using context provider: ace-context
2022-03-30T16:44:08.210Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:44:08.417Z appoptics:patching patched crypto 
2022-03-30T16:44:08.445Z appoptics:patching patched https 
2022-03-30T16:44:08.446Z appoptics:patching patched http 
2022-03-30T16:44:08.518Z appoptics:patching patched zlib 
2022-03-30T16:44:08.614Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:44:08.614Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:44:08.614Z appoptics:patching patched fs 
2022-03-30T16:44:08.670Z appoptics:patching patched dns 
2022-03-30T16:44:08.786Z appoptics:patching patched tedious 14.4.0
2022-03-30T16:44:08.793Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (55ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


up to date, audited 922 packages in 10s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
